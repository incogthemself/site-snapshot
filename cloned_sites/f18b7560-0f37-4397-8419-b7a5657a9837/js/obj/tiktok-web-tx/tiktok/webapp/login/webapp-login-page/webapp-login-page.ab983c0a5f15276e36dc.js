(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[208],{848:(e,t,o)=>{"use strict";o.d(t,{Zi:()=>c,$U:()=>s,BJ:()=>u,Bl:()=>a,D9:()=>d,yw:()=>l});var n=o(72516),i=o(92419);o(24643);const r="script-manager";function a(e){var t,o,n;let i={imports:{}};try{i=JSON.parse(null!==(o=null===(t=document.querySelector(`#${r}`))||void 0===t?void 0:t.innerHTML)&&void 0!==o?o:"")}catch(e){console.error("[Init failed]: sdk config is invalid")}return null!==(n=i.imports[e])&&void 0!==n?n:""}function s(e){return(0,n.sH)(this,void 0,void 0,function*(){const{moduleId:t}=e,o=a(t),n=document.createElement("script");return n.src=o,n.async=!0,new Promise((e,t)=>{var i;o?(n.parentNode&&(null===(i=document.parentNode)||void 0===i||i.removeChild(n)),document.body.appendChild(n),n.addEventListener("load",()=>{e(!0)}),n.addEventListener("error",()=>{t(new Error("load script failed"))})):t(new Error("empty script src"))})})}function l(e){const{moduleId:t}=e,o=a(t),n=document.querySelector(`script[src="${o}"]`);return Boolean(n)}function c(e="/node-webapp/api/importmap"){return(0,n.sH)(this,void 0,void 0,function*(){if(document.querySelector(`#${r}`))return;let t={imports:{}};const o=document.createElement("script");o.type="application/json",o.id=r;try{const o=yield window.fetch.call(null,e,{method:"Get",redirect:"error"}),{imports:n}=yield o.json();t={imports:n}}catch(e){t={imports:i.E}}o.innerText=JSON.stringify(t),document.head.appendChild(o)})}function d(e){let t="secsdk_sg";switch(e){case"MALI_VA":t="secsdk_va";break;case"TTP":t="secsdk_ttp";break;default:t="secsdk_sg"}return t}function u(){return"acrawler"}},5160:(e,t,o)=>{"use strict";o.d(t,{$:()=>r});var n=o(40099),i=o(99857);function r(e){return t=>(0,i.U)(e,()=>(0,n.createContext)(t))}},6041:(e,t,o)=>{"use strict";o.d(t,{S:()=>C});var n,i=o(35572),r=o(62564),a=o(20259),s=o(23999),l=o(53708),c=o(26324),d=o(64162),u=o(4126),p=o(15176),g=o(340),m=o(6791),h=o(33675),v=o(45866),_=o(30576),f=o(17592),b=o(60540);function y(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class w{getVideoPrivateSetting(){return this.fetch.get("/api/compliance/settings/",{baseUrlType:b.Z4.FixedWww})}constructor(e){this.fetch=e,this.postPrivateBannerAck=()=>this.fetch.post("/api/private_banner/ack/")}}function k(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function S(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}w=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,f._q)(),y("design:type",Function),y("design:paramtypes",[void 0===v.p?Object:v.p])],w);class C extends d.E{setIsRegisterWithPrivateOn(e,t){e.isRegisterWithPrivateOn=t}handlePrivateConfirm(e){return e.pipe((0,i.p)(()=>this.complianceService.postPrivateBannerAck()),(0,r.T)(()=>this.getActions().setIsRegisterWithPrivateOn(!1)),(0,a.W)(e=>(console.error(e),m.F.open({content:this.t("Sorry, something went wrong, please try again later"),duration:2e3}),(0,s.of)(this.noop()))))}getIsRegisterPrivateAccount(){return this.fetch.get("/api/user/detail/self/",{query:{tt_csrf_token:this.fetch.csrfToken}}).pipe((0,r.T)(({statusCode:e,userInfo:t})=>{var o,n;if(0!==e&&10222!==e)throw new Error(`getIsRegisterPrivateAccount error, error_code ${e}`);return null!==(o=null==t||null===(n=t.user)||void 0===n?void 0:n.showPrivateBanner)&&void 0!==o&&o}),(0,a.W)(e=>(console.error(e),(0,s.of)(!1))),(0,l.L)(1))}constructor(e,t,o){super(),this.fetch=e,this.complianceService=t,this.t=o,this.defaultState={isRegisterWithPrivateOn:!1}}}k([(0,u.uk)(),S("design:type",void 0===c.c?Object:c.c)],C.prototype,"dispose$",void 0),k([(0,u.h5)(),S("design:type",Function),S("design:paramtypes",["undefined"==typeof RegisterPrivateAccountState?Object:RegisterPrivateAccountState,Boolean]),S("design:returntype",void 0)],C.prototype,"setIsRegisterWithPrivateOn",null),k([(0,u.Mj)(),S("design:type",Function),S("design:paramtypes",[void 0===c.c?Object:c.c]),S("design:returntype",void 0)],C.prototype,"handlePrivateConfirm",null),C=k([(0,p.nV)("RegisterPrivateAccount"),(n=(0,g.y)(h.hp),function(e,t){n(e,t,2)}),S("design:type",Function),S("design:paramtypes",[void 0===v.p?Object:v.p,void 0===w?Object:w,void 0===_.I18NTranslate?Object:_.I18NTranslate])],C)},6791:(e,t,o)=>{"use strict";o.d(t,{F:()=>b});var n=o(24643),i=(o(57432),o(55932)),r=o(66283),a=o(75431),s=o(57363);const l=(0,a.i7)({"0%":{transform:"translateY(0%)",transformOrigin:"0 0",opacity:"1"},"100%":{transform:"translateY(-100%)",transformOrigin:"0 0",opacity:"0"}}),c=(0,a.i7)({"0%":{transform:"translateY(-100%)",transformOrigin:"0 0",opacity:"0"},"100%":{transform:"translateY(0%)",transformOrigin:"0 0",opacity:"1"}}),d=(0,r.AH)({"&-enter":{opacity:"0"},"&-enter-active":{animationName:c,animationDuration:"0.3s"},"&-leave-active":{animationName:l,animationDuration:"0.3s"}}),u=(0,r.AH)({fontFamily:"TikTokFont, PingFangSC, sans-serif",fontWeight:600,position:"fixed",top:"16px",left:"0px",color:"#fff",zIndex:3003,width:"100%",pointerEvents:"none",userSelect:"none","&-notice":{padding:"8px 0",textAlign:"center",":first-of-type":{marginTop:"-8px"}},"&-notice-content":{backgroundColor:"rgba(84, 84, 84, 0.92)",display:"inline-block",padding:"10px 8px",pointerEvents:"all",maxWidth:"100%",borderRadius:"2px"}}),p={auto:{},full:{width:"100vw",borderRadius:"0"},padding:{width:"calc(100vw - 40px)",margin:"0 auto"},half:{width:"50vw"}},g=(0,s.A)("div",{target:"e1wz89c90"})(({widthType:e="auto",isRTL:t})=>[p[e],{direction:t?"rtl":"ltr"}],"label:DivMessageContainer;");let m,h=[],v=1;const _={prefixCls:u,transitionName:d,style:{top:void 0},getContainer:void 0,maxCount:void 0,type:"default"},f={success:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3Ljg0MDQgNi44NTk4NkMxOC4wMzc3IDYuNjYyMDcgMTguMzU4NyA2LjY2NDI1IDE4LjU1MzMgNi44NjQ3MUwxOS40NTc0IDcuNzk2MjlDMTkuNjQ3NSA3Ljk5MjE3IDE5LjY0NTQgOC4zMDQzMiAxOS40NTI2IDguNDk3NTlMMTAuNTU4MiAxNy40MTYzQzEwLjEwNSAxNy44NzA3IDkuMzczMzMgMTcuODU5NiA4LjkzMzY2IDE3LjM5MTZMNC44MzY4MSAxMy4wMzA2QzQuNjQ5OTEgMTIuODMxNyA0LjY1NzExIDEyLjUxOTYgNC44NTI5OSAxMi4zMjk1TDUuNzgzNzQgMTEuNDI2MUM1Ljk4NDE4IDExLjIzMTUgNi4zMDUxNCAxMS4yMzg5IDYuNDk2MzkgMTEuNDQyNUw5Ljc4MjE0IDE0Ljk0MDFMMTcuODQwNCA2Ljg1OTg2WiIgZmlsbD0iIzBCRTA5QiIvPgo8L3N2Zz4K",fail:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMjYiIHZpZXdCb3g9IjAgMCAyNiAyNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuNDY4IDEzTDcuMjAwNCA4LjczMjM4QzYuOTg4ODYgOC41MjA4NSA2Ljk4ODg2IDguMTc3ODggNy4yMDA0IDcuOTY2MzVMNy45NjY0MyA3LjIwMDMyQzguMTc3OTcgNi45ODg3OCA4LjUyMDkzIDYuOTg4NzggOC43MzI0NiA3LjIwMDMyTDEzLjAwMDEgMTEuNDY3OUwxNy4yNjc3IDcuMjAwMzJDMTcuNDc5MiA2Ljk4ODc4IDE3LjgyMjIgNi45ODg3OCAxOC4wMzM3IDcuMjAwMzJMMTguNzk5OCA3Ljk2NjM1QzE5LjAxMTMgOC4xNzc4OCAxOS4wMTEzIDguNTIwODUgMTguNzk5OCA4LjczMjM4TDE0LjUzMjEgMTNMMTguNzk5OCAxNy4yNjc2QzE5LjAxMTMgMTcuNDc5MiAxOS4wMTEzIDE3LjgyMjEgMTguNzk5OCAxOC4wMzM3TDE4LjAzMzcgMTguNzk5N0MxNy44MjIyIDE5LjAxMTIgMTcuNDc5MiAxOS4wMTEyIDE3LjI2NzcgMTguNzk5N0wxMy4wMDAxIDE0LjUzMjFMOC43MzI0NiAxOC43OTk3QzguNTIwOTMgMTkuMDExMiA4LjE3Nzk3IDE5LjAxMTIgNy45NjY0MyAxOC43OTk3TDcuMjAwNCAxOC4wMzM3QzYuOTg4ODYgMTcuODIyMSA2Ljk4ODg2IDE3LjQ3OTIgNy4yMDA0IDE3LjI2NzZMMTEuNDY4IDEzWiIgZmlsbD0iI0ZGNEMzQSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwIj4KPHJlY3Qgd2lkdGg9IjI2IiBoZWlnaHQ9IjI2IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo="},b={open:function(e){const t=void 0!==e.duration?e.duration:3,o=e.key||v++,r=new Promise(r=>{var a,s;const l={key:o,duration:t,className:e.className,content:(0,n.jsxs)(g,Object.assign({isRTL:e.isRTL,widthType:e.widthType,"data-e2e":e.e2eTag,role:"alert",style:Object.assign({display:"flex",justifyContent:"center",alignItems:"center"},null!==(a=e.style)&&void 0!==a?a:{})},{children:[e.type&&"default"!==e.type&&(0,n.jsx)("img",{src:f[e.type],style:Object.assign({width:"24px",height:"24px"},e.isRTL?{marginLeft:"8px"}:{marginRight:"8px"}),"aria-hidden":"true"}),(0,n.jsx)("span",{children:e.content})]})),onClose:()=>("function"==typeof e.onClose&&e.onClose(),r(!0))};var c;e.getContainer?i.A.newInstance(Object.assign(Object.assign({},_),{style:{position:null!==(s=e.getContainerPosition)&&void 0!==s?s:"absolute",top:void 0},getContainer:e.getContainer}),e=>{e.notice(l),h.push(e)}):(c=e=>{e.notice(l)},m?c(m):i.A.newInstance(Object.assign({},_),e=>{m?c(m):(m=e,c(e),h.push(e))}))}),a=()=>{m&&m.removeNotice(o)};return a.then=(e,t)=>r.then(e,t),a.promise=r,a},destroy(){m&&(m.destroy(),m=null),h.length>0&&(h.forEach(e=>e.destroy()),h=[])}}},7300:(e,t,o)=>{"use strict";o.d(t,{AP:()=>m,SE:()=>d,Zl:()=>s,_S:()=>g,rS:()=>p,uh:()=>h,vG:()=>u});var n=o(49360),i=o(79386),r=o(16402),a=o(91939);const s=e=>{const t={};return Object.entries(e).forEach(([e,o])=>{const n=o.event_name;n&&(t[n]||(t[n]=[]),t[n].push(e))}),t},l=(e=0)=>{if(!e||0===e)return 0;const t=10===e.toString().length?1e3*e:e,o=(new Date).getTime()-new Date(t).getTime();return Math.floor(o/864e5)},c=(e,t)=>{var o,n,r,a,s,c,d,u,p,g,m;const h={[i.mD.OS]:null!==(o=null==(u=t.os)?void 0:u.toLowerCase())&&void 0!==o?o:"",[i.mD.BROWSER_BRAND]:"microsoft edge"===(null==(p=t.browser_brand)?void 0:p.toLowerCase())?"edge":null!==(n=null==(g=t.browser_brand)?void 0:g.toLowerCase())&&void 0!==n?n:"",[i.mD.SCREEN_RESOLUTION]:(null!==(r=t.width)&&void 0!==r?r:0)*(null!==(a=t.height)&&void 0!==a?a:0),[i.mD.SCREEN_ORIENTATION]:(null!==(s=t.width)&&void 0!==s?s:0)>(null!==(c=t.height)&&void 0!==c?c:0)?1:0,[i.mD.CPU_CORE_NUMBER]:t["header.custom"].cpu_core,[i.mD.NETWORK_DOWNLINK]:t["header.custom"].network_downlink,[i.mD.NETWORK_RTT]:t["header.custom"].network_rtt,[i.mD.NETWORK_SPEED_EFFECTIVE_TYPE]:t["header.custom"].network_speed_effective_type,[i.mD.REGION]:t.region,[i.mD.LAUNCH_MODE]:t["header.custom"].launch_mode,[i.mD.LANDING_PAGE]:t["header.custom"].landing_page,[i.mD.LANGUAGE_SYSTEM]:null!==(d=null==(m=t.language_sys)?void 0:m.toLowerCase())&&void 0!==d?d:"",[i.mD.LANGUAGE_APP]:t["header.custom"].app_language,[i.mD.TIMEZONE]:-(new Date).getTimezoneOffset()/60,[i.mD.TIME_OF_DAY_LANDING]:(new Date).getHours(),[i.mD.DAY_OF_WEEK]:(new Date).getDay(),[i.mD.IS_LOCAL_DAYTIME]:(new Date).getHours()>=6&&(new Date).getHours()<18?1:0,[i.mD.IS_LOGIN]:t["header.custom"].user_is_login,[i.mD.MAX_TOUCH_POINTS]:t["header.custom"].max_touch_points,[i.mD.RET_ACC]:1,[i.mD.TOTAL_SCORE]:t["header.custom"].total_score,[i.mD.HARDWARE_SCORE]:t["header.custom"].hardware_score};t.webIdCreatedTime&&0!==t.webIdCreatedTime&&(h[i.mD.FIRST_ACTIVE_DATE]=l(t.webIdCreatedTime),h[i.mD.IS_NEW_USER]=0===l(t.webIdCreatedTime)?1:0),t.user_is_login&&(h[i.mD.LOGIN_DAYS_COUNT]=1),e[(new Date).toLocaleDateString("en-US")][t.user_unique_id]=Object.assign(Object.assign({},e[(new Date).toLocaleDateString("en-US")][t.user_unique_id]),h)},d=e=>{var t,o,a,s,l,d,u,p,m,h,v,_,f,b,y;const w=g(n.ne)||"{}",k=JSON.parse(w),S=(new Date).toLocaleDateString("en-US");k[S]||(k[S]={[e]:{}}),k[S][e]||(k[S][e]={});const C=k[S][e];C[i.mD.SESSION_LAST_UPDATE_TIME]||(C[i.mD.SESSION_LAST_UPDATE_TIME]=(new Date).getTime()),C[i.mD.STAY_DURATION]||(C[i.mD.STAY_DURATION]=0),C[i.mD.SESSION_CNT]||(C[i.mD.SESSION_CNT]=1);const x=r.f.getInstance(),P=null==x||null==(a=x.getConfig)?void 0:a.call(x);if(!P)return console.error("Error. Tea config not found!"),k;const T=P.header,O={user_unique_id:e,user_is_login:null!==(t=null==(s=P.user)?void 0:s.user_is_login)&&void 0!==t?t:0,webIdCreatedTime:null==T||null==(l=T.custom)?void 0:l.webid_created_time,os:null==T?void 0:T.os_name,browser_brand:null==T?void 0:T.browser,width:null==T?void 0:T.screen_width,height:null==T?void 0:T.screen_height,region:null==T?void 0:T.region,language_sys:null==T?void 0:T.language,"header.custom":{cpu_core:null==T||null==(d=T.custom)?void 0:d.cpu_core,network_downlink:null==(u=navigator.connection)?void 0:u.downlink,network_rtt:null==(p=navigator.connection)?void 0:p.rtt,network_speed_effective_type:null==(m=navigator.connection)?void 0:m.effectiveType,launch_mode:null==T||null==(h=T.custom)?void 0:h.launch_mode,landing_page:0,app_language:null==T||null==(v=T.custom)?void 0:v.app_language,user_is_login:null!==(o=null==(_=P.user)?void 0:_.user_is_login)&&void 0!==o?o:0,max_touch_points:null==(f=navigator)?void 0:f.maxTouchPoints,total_score:null==T||null==(b=T.custom)?void 0:b.total_score,hardware_score:null==T||null==(y=T.custom)?void 0:y.hardware_score}};return c(k,O),k},u=e=>{const{video_freshness:t,video_like_history:o,video_vv_history:n,video_share_history:i,video_comment_history:r,video_favorite_history:a,video_resolution:s,video_is_portrait:l,video_100k_vv:c,video_creator_bluev:d,video_creator_1k_follower:u,video_creator_10k_follower:p,video_creator_100k_follower:g}=e;return function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["video_freshness","video_like_history","video_vv_history","video_share_history","video_comment_history","video_favorite_history","video_resolution","video_is_portrait","video_100k_vv","video_creator_bluev","video_creator_1k_follower","video_creator_10k_follower","video_creator_100k_follower"])},p=(e,t,o,r)=>{const{page_name:s,user_unique_id:l,enter_method:u,platform:p,play_mode:g,popup_type:h,previous_page:v,enter_from:_}=t,f=d(l),b=((e,t,o)=>{if(!e.event_name||!(null==o?void 0:o[e.event_name]))return[];const n=[],r=o[e.event_name]||[];return r&&0!==r.length?(r.forEach(o=>{const r=t[o];r&&!r.is_snapshot&&i.NX.every(t=>!r[t]||(Array.isArray(r[t])?r[t].includes(e[t]):r[t]===e[t]))&&n.push(o)}),n):[]})({event_name:e,page_name:s,enter_method:u,platform:p,play_mode:g,popup_type:h,previous_page:v,enter_from:_},o,r);0!==b.length&&(l&&(b.forEach(e=>{((e,t,o,n,i)=>{const r=(new Date).toLocaleDateString("en-US"),a=t[r][e],{aggregate_field:s,should_skip_updating:l,is_time_stamp:c}=n[o];if(!l&&(void 0!==a[o]?a[o]="time_stamp"===s?(new Date).getHours():parseFloat((a[o]+i).toFixed(2)):t[r][e]="time_stamp"===s?Object.assign(Object.assign({},a),{[o]:(new Date).getHours()}):Object.assign(Object.assign({},a),{[o]:parseFloat(i.toFixed(2))}),c)){const i=n[o].start_event_name;a[i]&&(void 0!==a[o]?a[o]+=(new Date).getTime()-a[i]:t[r][e]=Object.assign(Object.assign({},a),{[o]:(new Date).getTime()-a[i]}))}})(l,f,e,o,((e,t,o)=>{if(!e||!e[t])return console.error(`featureName: ${t} not found on feature def!`),0;const{aggregate_field:n}=e[t];var i,r,a;return"duration"===n?parseFloat(void 0===(i=o[n]/6e4)?void 0:i.toFixed(2)):"metric_duration"===n?parseFloat(void 0===(r=o[n]/1e3)?void 0:r.toFixed(2)):n?parseFloat(null==(a=o[n])?void 0:a.toFixed(2)):1})(o,e,t))}),c(f,t),((e,t)=>{var o;const r=(new Date).toLocaleDateString("en-US"),s=(0,a.Hd)(n.qZ),l=null==(o=e["header.custom"])?void 0:o.session_id,c=t[r][e.user_unique_id];s===l?c[i.mD.STAY_DURATION]+=parseFloat((((new Date).getTime()-c[i.mD.SESSION_LAST_UPDATE_TIME])/6e4).toFixed(2)):c[i.mD.SESSION_CNT]++,c[i.mD.SESSION_LAST_UPDATE_TIME]=(new Date).getTime()})(t,f)),m(n.ne,JSON.stringify(f)))};function g(e,t=""){var o;try{return null!==(o=localStorage.getItem(e))&&void 0!==o?o:t}catch(e){return t}}function m(e,t){try{localStorage.setItem(e,t)}catch(e){}}const h=(e="",t=!1)=>{if(t)return!0;const o="1"===g(n.Is,"0"),i=n.lG.includes(e);return o&&!i}},7378:(e,t,o)=>{"use strict";o.d(t,{g:()=>n});var n=function(e){return e[e.Unknown=999]="Unknown",e[e.Video=0]="Video",e[e.User=1]="User",e[e.Like=2]="Like",e[e.Challenge=3]="Challenge",e[e.Music=4]="Music",e[e.Trending=5]="Trending",e[e.Sticker=6]="Sticker",e[e.Inbox=7]="Inbox",e[e.Profile=8]="Profile",e[e.Analytics=9]="Analytics",e[e.UserRecommend=10]="UserRecommend",e[e.Following=11]="Following",e[e.LiveRoom=12]="LiveRoom",e[e.Messages=13]="Messages",e[e.GoLive=14]="GoLive",e[e.LiveDiscover=15]="LiveDiscover",e[e.Question=16]="Question",e[e.MusicPlaylist=17]="MusicPlaylist",e[e.Poi=18]="Poi",e[e.Explore=19]="Explore",e[e.Friends=20]="Friends",e[e.Home=101]="Home",e[e.Discover=103]="Discover",e[e.KeywordsExpansion=104]="KeywordsExpansion",e[e.SearchResult=105]="SearchResult",e[e.SearchUserResult=106]="SearchUserResult",e[e.SearchVideoResult=107]="SearchVideoResult",e[e.Playlist=108]="Playlist",e[e.ReflowLive=109]="ReflowLive",e[e.SearchReflow=111]="SearchReflow",e[e.Topic=113]="Topic",e[e.LiveEvent=114]="LiveEvent",e[e.DirectMessage=115]="DirectMessage",e[e.Recharge=116]="Recharge",e[e.HashtagAMP=117]="HashtagAMP",e[e.TopicAMP=118]="TopicAMP",e[e.VideoPlayerList=119]="VideoPlayerList",e[e.Setting=120]="Setting",e[e.Collection=121]="Collection",e[e.Channel=122]="Channel",e[e.SearchLiveResult=123]="SearchLiveResult",e[e.Find=124]="Find",e[e.PoiCategory=125]="PoiCategory",e[e.liveCategory=126]="liveCategory",e[e.liveSingleGameCategory=127]="liveSingleGameCategory",e[e.liveSingleLifestyleCategory=128]="liveSingleLifestyleCategory",e[e.Effect=129]="Effect",e[e.LiveStudioDownload=130]="LiveStudioDownload",e[e.LiveStudioFaq=131]="LiveStudioFaq",e[e.Product=132]="Product",e[e.TrendingDetail=133]="TrendingDetail",e[e.DownloadVideo=134]="DownloadVideo",e[e.CSI=135]="CSI",e[e.AdsSettings=901]="AdsSettings",e}({})},7452:(e,t,o)=>{"use strict";o.d(t,{S:()=>a});var n=o(78134),i=o(71111),r=o(74021);const a=e=>{const t=e||(0,i.createStore)();return Object.assign(Object.assign({},t),{get:e=>{if(e.rehydrationKey){const o=(0,n.YI)(e.rehydrationKey);if(o&&"init"in e){const n=e;(0,r.L)(t,n,o)}}return t.get(e)}})}},7512:(e,t,o)=>{"use strict";o.d(t,{o:()=>a,_:()=>r});var n=o(87102);const i="sms_code_count_down",r=(e,t,o)=>{(0,n.J2)(`${i}${o?"_email":""}_${e}`,`${Date.now()+1e3*t}`)},a=(e,t=!1)=>{const o=(0,n.Hd)(`${i}${t?"_email":""}_${e}`),r=Number(o)-Date.now();return"number"!=typeof r||r<0?{hasSent:Boolean(o),countDownSecond:0}:{hasSent:Boolean(o),countDownSecond:Math.round(r/1e3)}}},8801:(e,t,o)=>{"use strict";o.d(t,{Y:()=>a,w:()=>r});const n=(e,t)=>{try{return sessionStorage.getItem(e)||t}catch(e){return console.warn("sessionStorage get failed"),t}};function i(e,t=""){var o;try{return null!==(o=localStorage.getItem(e))&&void 0!==o?o:t}catch(e){return t}}const r=(e,t,o)=>{var r,a,s;const l=document.cookie.match(/s_v_web_id=(\w+)/);try{const c="v1"===(null===(s=null===(a=null===(r=e.abTestVersion)||void 0===r?void 0:r.parameters)||void 0===a?void 0:a.webapp_odin_id_fe_reverse)||void 0===s?void 0:s.vid),d=!!(e||{}).user,u=Object.assign(Object.assign({aid:"1988",app_name:"tiktok_web",channel:"tiktok_web",device_platform:(e||{}).isMobile?"web_mobile":"web_pc",device_id:(e||{}).wid,region:(e||{}).region,priority_region:((e||{}).user||{}).region||"",os:(e||{}).os,referer:document.referrer,root_referer:n("webapp-session-referer"),cookie_enabled:navigator.cookieEnabled,screen_width:screen.width,screen_height:screen.height,browser_language:navigator.language,browser_platform:navigator.platform,browser_name:navigator.appCodeName,browser_version:navigator.appVersion,browser_online:navigator.onLine,verifyFp:(l||"")[1],app_language:(e||{}).language,webcast_language:(e||{}).language,tz_name:Intl.DateTimeFormat().resolvedOptions().timeZone,is_page_visible:t,focus_state:o,is_fullscreen:window.matchMedia("(display-mode: fullscreen)").matches,history_len:window.history.length},c?{}:{user_is_login:d}),{data_collection_enabled:d||"1"===i("guest-mode-flag","0")});return"ageVerify"===n("enter_method")&&(u.security_verification_aid="1459"),u}catch(e){}return{}},a=()=>({cookie_enabled:navigator.cookieEnabled,screen_width:screen.width,screen_height:screen.height,browser_language:navigator.language,browser_platform:navigator.platform,browser_name:navigator.appCodeName,browser_version:navigator.appVersion,browser_online:navigator.onLine,timezone_name:Intl.DateTimeFormat().resolvedOptions().timeZone})},9059:(e,t,o)=>{"use strict";o.d(t,{s:()=>m,Y:()=>h});var n=o(40099),i=o(78618);const r=["JP","KR"],a=["ES","DE","PT"];var s=o(93991),l=o.n(s),c=o(50797),d=o(53548),u=o(80054);function p(e){let t=[];if(e){const o=e;t=l()(o)?o:[o]}return t.includes("473824")}var g=o(33675);const m=(e=i.i_.WebApp)=>{const{isSharing:t,isCoinLite:o,isCoinPro:s}=function(){const{region:e}=(0,c.L$)((0,d.W)(()=>["region"],[])),{coinLiteConfig:t,isIOS:o,queryData:n}=(0,c.L$)((0,u.U)(()=>["coinLiteConfig","isIOS","queryData"],[])),{share_app_id:i,_r:s}=null!=n?n:{},l="1"===s,g=function(e){var t,o;const{share_app_id:n,region:i,os:a="android",coinLiteConfig:s}=e,l=null!==(t=null==s||null==(o=s.coinLiteRegion)?void 0:o[a])&&void 0!==t?t:r,c=!!i&&l.map(e=>{var t;return null==e||null==(t=e.toUpperCase)?void 0:t.call(e)}).includes(i);return p(n)&&c}({share_app_id:i,region:e,os:o?"ios":"android",coinLiteConfig:t}),m=function(e){var t,o;const{share_app_id:n,region:i,os:r="android",coinLiteConfig:s}=e,l=null!==(t=null==s||null==(o=s.coinProRegion)?void 0:o[r])&&void 0!==t?t:a,c=!!i&&l.map(e=>{var t;return null==e||null==(t=e.toUpperCase)?void 0:t.call(e)}).includes(i);return p(n)&&c}({share_app_id:i,region:e,os:o?"ios":"android",coinLiteConfig:t});return{isSharing:l,isCoinLite:g,isCoinPro:m,isCoin:g||m}}(),{t:l}=(0,n.useContext)(g.Ss),m=(0,n.useMemo)(()=>t&&o?function(e,t=[]){return function(o,n,i){return t.includes(o)?e(o,n,i):e(o,n,i).replace(/(TikTok( Lite)?\b)/g,function(e,t,o){return o?e:`${t} Lite`})}}(l):t&&s?function(e,t=[]){return function(o,n,i){return t.includes(o)?e(o,n,i):e(o,n,i).replace(/(TikTok( Pro)?\b)/g,function(e,t,o){return o?e:`${t} Pro`})}}(l):l,[o,s,t,l]);return h([e],t),(0,n.useCallback)((t,o,n)=>void 0===t||"string"==typeof t&&!t.length?n:m(t,Object.assign({ns:e},o),n),[e,m])};function h(e,t=!1){t&&(0,i.qm)();const{loadStarling:o,hasLoaded:r}=(0,n.useContext)(g.Ss),[a,s]=(0,n.useState)((null!=e?e:[]).reduce((e,t)=>e&&r(t),!0));return(0,n.useEffect)(()=>{e&&Promise.all(e.map(e=>{if(r(e))return!0;const t=(0,i.qm)();return o(e,t)})).then(e=>{s(e.reduce((e,t)=>e&&t,!0))})},[]),a}},9469:(e,t,o)=>{"use strict";o.d(t,{W:()=>n});const n=e=>e?"0x203":"0x204"},9850:(e,t,o)=>{"use strict";o.d(t,{Gb:()=>n,Go:()=>d,Jw:()=>l,R2:()=>a,Rs:()=>u,Sk:()=>p,dd:()=>i,fN:()=>r,p$:()=>s,wT:()=>c});var n=function(e){return e.Main="webapp",e.TV="tv",e.AgeVerify="ageVerify",e.DataExport="dataExport",e.Seller="seller",e.Rechange="recharge",e.Search="search",e.LoginSearchMore="loginsearchmore",e.DataExportLogin="dataExportLogin",e.TT4DWebView="developer_webview",e.LoginM3="loginm3",e.SEOCardNonLogin="non_login",e}({});const i="1459",r="Login to TikTok",a="Create a profile, follow other accounts, make your own videos, and more.",s={scanQRDescKey:"ttWeb_loginPopup_scanQR_desc",scanQRDescDefault:"Scan QR code from your logged in device",phoneKey:"ttWeb_loginPopup_phone",phoneDefault:"Phone",qrCodeKey:"ttWeb_loginPopup_QRcode",qrCodeDefault:"QR code",otherKey:"ttWeb_loginPopup_other",otherDefault:"Other",otherOptionsKey:"ttWeb_loginPopup_otherOptions",otherOptionsDefault:"Other login options"},l={loginTitle:"common_login_panel_title",loginSlogan:"common_login_panel_copy",signUpTitle:"common_registration_panel_title",signUpSlogan:"common_registration_panel_copy",aid:"1459",disableSignup:!1,isSecurityVerification:!1,hideHomePage:!1},c={tv:{loginTitle:"tv_login_title",loginSlogan:"tv_login_tiktoktv-desc",signUpTitle:"tv_sign_up_title",signUpSlogan:"tv_login_tiktoktv-desc"},ageVerify:{loginTitle:"age_verify_login_title",loginSlogan:"age_verify_login_intro",disableSignup:!0,isSecurityVerification:!0},dataExport:{loginTitle:"data_export_login_title",loginSlogan:"data_export_login_intro",disableSignup:!0,isSecurityVerification:!0},seller:{aid:"4068"},recharge:{loginTitle:"webapp_coin_recharge_login",signUpTitle:"WebApp_coin_recharge_9"},search:{loginTitle:"login_to_search",signUpTitle:"login_to_search"},loginsearchmore:{loginTitle:"nonloggedinsearch_popup_header_v1",signUpTitle:"nonloggedinsearch_popup_header_v1"},developer_webview:{hideHomePage:!0},loginm3:{loginTitle:"common_login_panel_title",loginSlogan:"classifyV1AWeb_webAppDesktop_maskLayer_bodyDesc"},non_login:{loginTitle:"seo_pcweb_logIn_header"}};var d=function(e){return e.AccountNotExist="inexistent",e.InEligible="ineligible",e.TwoStepBlock="twoStepVerifyBlock",e.TwoStepBlockResetPwd="TwoStepBlockResetPwd",e.Null="",e}({}),u=function(e){return e[e.Login=1]="Login",e[e.Reactive=2]="Reactive",e}({}),p=function(e){return e.Phone="phone",e.Email="email",e}({})},10730:(e,t,o)=>{"use strict";o.d(t,{MX:()=>a});var n=o(72516);const i=1e4;var r;!function(e){e[e.Pass=0]="Pass",e[e.Reject=1]="Reject",e[e.Retry=2]="Retry"}(r||(r={}));const a=new class{constructor(){this.domId="tiktok-verify-ele",this.captcha=null,this.verifyElement=null,this.open=!1,this.rejectPass=!1,this.checkVerify=(e,t,o,r,a)=>(0,n.sH)(this,void 0,void 0,function*(){var n;if("object"!=typeof e)return e;const{statusCode:s,code:l}=null!=e?e:{};if(s===i||l===String(i)){const s=l===String(i)?e:e.verifyConfig,c=r&&o&&!s.region.startsWith("ttp")?"ttp":s.region,d=yield this.loadCaptcha(c,t);if(-1===s.fp){const e=yield null===(n=this.captcha)||void 0===n?void 0:n.getFp();s.fp=e}return d?this.open?(yield this.updateState(),this.rejectPass?1:2):yield this.goVerify(s,r,null==a?void 0:a.lang,null==a?void 0:a.userMode):1}return 0}),this.destroy=()=>{var e;null===(e=this.captcha)||void 0===e||e.close(),this.verifyElement&&(document.body.removeChild(this.verifyElement),this.verifyElement=null)}}init(){this.verifyElement||(this.verifyElement=document.createElement("div"),this.verifyElement.setAttribute("id",this.domId),document.body.appendChild(this.verifyElement))}goVerify(e,t,o,n){return this.init(),new Promise(i=>{this.openVerify(()=>{this.closeVerify(),i(2)},()=>{this.closeVerify(!0),i(1)},e,t,o,n)})}closeVerify(e=!1){var t;this.open=!1,this.rejectPass=e,null===(t=this.captcha)||void 0===t||t.close()}openVerify(e,t,o,n,i,r){var a;const s={ele:this.domId,lang:null!=i?i:"en",successCb:e,showMode:"mask",closeCb:t,errorCb:()=>{},fpCookieOption:{domain:".tiktok.com",sameSite:"None",secure:!0}};n&&(s.host=n),this.open=!0,this.rejectPass=!0,null===(a=this.captcha)||void 0===a||a.render({userMode:r,verify_data:o,captchaOptions:s})}updateState(){return new Promise(e=>{if(!this.open)return void e();const t=setInterval(()=>{this.open||(clearInterval(t),e())},800)})}loadCaptcha(e,t){return(0,n.sH)(this,void 0,void 0,function*(){if(!this.captcha){let n;switch(e){case"boe":case"sg":n=o.e(336).then(o.bind(o,41002));break;case"va":n=o.e(241).then(o.bind(o,24097));break;case"ie":n=o.e(392).then(o.bind(o,78494));break;case"no1a":n=o.e(181).then(o.bind(o,61521));break;case"gcp":case"in":n=o.e(427).then(o.bind(o,17819));break;case"ttp":n=o.e(318).then(o.bind(o,10906));break;case"ttp2":n=o.e(112).then(o.bind(o,40906));break;case"useastred":n=o.e(618).then(o.bind(o,13530));break;default:return!1}const i=yield n;this.captcha=i,i.init({commonOptions:{aid:1988,did:t||"0",iid:"0"},captchaOptions:{fpCookieOption:{domain:".tiktok.com",sameSite:"None",secure:!0}}})}return!0})}}},11128:(e,t,o)=>{"use strict";o.d(t,{g:()=>a});var n=o(48786),i=o(88806),r=o(40099),a=(0,i.r)(function(e){return r.createElement("svg",(0,n._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),r.createElement("path",{d:"M38.7 12.12a1 1 0 0 0 0-1.41l-1.4-1.42a1 1 0 0 0-1.42 0L24 21.17 12.12 9.3a1 1 0 0 0-1.41 0l-1.42 1.42a1 1 0 0 0 0 1.41L21.17 24 9.3 35.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0L24 26.83 35.88 38.7a1 1 0 0 0 1.41 0l1.42-1.42a1 1 0 0 0 0-1.41L26.83 24 38.7 12.12Z"}))})},11983:(e,t,o)=>{"use strict";o.d(t,{E:()=>g,d:()=>m});var n=o(69239),i=o(17592),r=o(78618),a=o(38919),s=o(57524),l=o(99108),c=o(61513),d=o(65631),u=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}const g="idv-modal-container";class m{withIdvVerify(e){return e().catch(t=>{if((0,c._e)(t)){const o=JSON.parse(t.idv_decision_conf);return this.verify(o).then(t=>{if("success"===t.type)return e(o.passport_ticket);throw new c.Qd({error_code:l.Kq.AccountSdkCloseCaptcha,error_msg:"",report_msg:"idv sdk cancel"})})}throw t})}verify(e){return u(this,void 0,void 0,function*(){const{AccountIDVSDK:t,lang:o,region:n,wid:i}=yield this._getSDK();return new Promise(r=>{var a;const s=new t({rootElement:`#${g}`,appId:1459,region:n,debugger:{userId:i},apiDomain:(null!==(a=this.userRegion.getRegionDomain())&&void 0!==a?a:"https://www.tiktok.com").replace("https://",""),locale:o,events:{verification_end:e=>{this.verificationShow$.next(!1),r(e)}}});this.verificationShow$.next(!0),s.render(e)})})}_getSDK(){return u(this,void 0,void 0,function*(){if(!this._sdkUnitsCache){const{AccountIDVSDK:e}=yield Promise.all([o.e(873),o.e(113),o.e(104),o.e(843),o.e(880)]).then(o.t.bind(o,98011,23)).catch(e=>{let t=`load idv sdk error with ${e}`;throw(0,c.u7)(e)&&(t=`load idv sdk error with error ${e.message}`),new c.Qd({error_code:l.Kq.AccountSdkImportError,report_msg:t})}),{wid:t}=(0,s.x)(),n=(0,r.qm)(),{vgeo:i,vregion:d}=(0,a.c)(),u="VGeo-US"===i?"oci":"VGeo-EU"===i?"eu":"US-EastRed"===d?"va":"sg";this._sdkUnitsCache={AccountIDVSDK:e,lang:n,region:u,wid:t}}return this._sdkUnitsCache})}constructor(e){this.userRegion=e,this._sdkUnitsCache=null,this.verificationShow$=new n.B}}m=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,i._q)({name:"IDVService@tiktok/login"}),p("design:type",Function),p("design:paramtypes",[void 0===d.d?Object:d.d])],m)},13687:(e,t,o)=>{"use strict";o.d(t,{W:()=>a});var n=o(17592),i=o(16402);const r="new_user_registration";class a{handleUniversalPopShow(e){i.f.event("tns_general_dialog_show",e)}handleUniversalPopClick(e){i.f.event("qa_tns_general_dialog_click",e)}handleKeywordfilteringShow(e){i.f.event("enter_video_filter_kw",{enter_from:e})}hanldeKRConsentShow(){i.f.event("register_terms_show",{enter_from:r})}hanldeKRConsentClick(e,t){i.f.event("register_terms_click",{enter_from:r,content:e,click_type:t?1:0})}hanldeKRConsentClickNext(e){i.f.event("register_terms_click_next",{enter_from:r,trending_on:e?1:0})}hanldeKRConsentClickSeeDetail(e){i.f.event("register_terms_see_details",{enter_method:"click",enter_from:r,page_detail_viewed:e})}constructor(){this.handlePolicyConfirmOnFYP=e=>{i.f.event("tns_web_trending_setting",e)},this.handleAgeGateResponse=(e,t)=>{i.f.event("age_gate_response",{enter_type:"click_sign_up",is_success:e?1:0,error_code:t})}}}a=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,n._q)({name:"PnSReport@tiktok/fe-shared"})],a)},13749:(e,t,o)=>{"use strict";o.d(t,{$L:()=>i,Ro:()=>r,lY:()=>n,nP:()=>a});const n=e=>{if(!e)return{};if(e.length>50)return{hasInvalid:!1,contentValid:!0,lengthValid:!1};const t=/[^\w~!@#$%^&*()+,.:;=<>?/|\-[\]\\]+/,o=/[_~!@#$%^&*()+,.:;=<>?/|\-[\]\\]+/.test(e)&&/[0-9]+/.test(e)&&/[A-Za-z]+/.test(e)&&!t.test(e),n=e.length>=8&&e.length<=20;return{hasInvalid:t.test(e),lengthValid:n,contentValid:o}},i=e=>Boolean(e&&(6!==e.length||/[^\d]+/.test(e))),r=e=>!(e.length>320)&&/^\w+([.\-+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,8})+\s*$/.test(e),a=e=>0<e.length&&e.length<=20&&/[^\d]+/.test(e)},13839:(e,t,o)=>{"use strict";o.d(t,{_:()=>s});var n=o(81085),i=o(68544),r=o(74021);const a=Symbol("REHYDRATED_FROM_SSR"),s=(e,{rehydrationKey:t})=>{if(!("init"in e))throw new Error("Only primitive atom can be hydrated");{e.rehydrationKey=t;const o=e.read.bind(e),s=function(){var e,t;if(!window[n.DA]){let o={};try{o=JSON.parse(null!==(t=null===(e=document.getElementById(n.xD))||void 0===e?void 0:e.textContent)&&void 0!==t?t:"{}"),window[n.DA]=o}catch(e){console.error("error while parsing rehydration data"),window[n.DA]={}}}return window[n.DA][n.LH]}();(null==s?void 0:s[e.rehydrationKey])&&(e[a]=!0),e.read=(t,n)=>{if(s){const t=s[e.rehydrationKey];if(t){const o=e;(0,r.L)((0,i.LM)(),o,t)}}return o(t,n)}}return e}},14118:(e,t,o)=>{"use strict";o.d(t,{$P:()=>u,$b:()=>s,HZ:()=>l,Pl:()=>d,QA:()=>c,dg:()=>a}),o(44471);var n=o(88062),i=o(5160),r=o(71183);(0,i.$)("SlardarControlContext@tiktok/fe-shared")(!1);const a={plugins:{ajax:{ignoreUrls:[".byteoversea.com",/mcs.*\.tiktok[vw]?\.(com|us|eu)/,".tiktokcdn.com",".tiktokcdn-us.com","mon.tiktokv.(com|us|eu)","ttwid/check","passport/token/beat/web",/.*-webapp-prime\.(.*\.)?tiktok\.com/]},fetch:{ignoreUrls:[".tiktokcdn.com",".tiktokcdn-us.com","mon.tiktokv.(com|us|eu)","policy/notice","feedback/v1/newest_reply","ba/business/suite/permission/list",/.*-webapp-prime\.(.*\.)?tiktok\.com/]},jsError:{ignoreErrors:["Blocked a frame with origin","__msg_type","vid_mate_check is not defined","ResizeObserver loop limit exceeded",'Video playback error: {"errorCode":',"Object Not Found Matching Id","The play method is not allowed by the user agent","The play() request was interrupted","Failed to load because no supported source was found","The request is not allowed by the user agent or the platform in the current context","Fetch is aborted","The operation was aborted"]},resource:{slowSessionThreshold:1e5},fmp:!1,tti:!1,pageview:{sendInit:!0,routeMode:"manual"}},sample:{sample_rate:1,sample_granularity:"session",include_users:[],rules:{resource:{enable:!0,sample_rate:.01,conditional_sample_rules:[]},resource_error:{enable:!0,sample_rate:.05,conditional_sample_rules:[]},performance_longtask:{enable:!0,sample_rate:.001,conditional_sample_rules:[]}}},env:"production",release:"2.0.0.928",slardarClient:"SlardarClient",manual:1,sdkUrl:n.Qn.row,pluginPathPrefix:n.tz.row};var s=function(e){return e.P0="fatal",e.P1="error",e.P2="warning",e.P3="info",e.P4="debug",e.P5="critical",e}({});const l=["lcp","fp","fid","ttfb","mpfid","fcp","actual_fmp"],c=new Set([r.ey.OneColumn,r.ey.ThreeColumn,r.ey.VideoDetail]);var d=function(e){return e.TTAPPluginInfo="ttapplugin_info",e.TTAPPluginFirstScreenRequest="ttapplugin_first_screen_request",e.TTAPPluginEffectiveOpenPage="ttapplugin_effective_open_page",e.TTAPPluginCustomRequest="ttapplugin_custom_request",e.actualFMP="actual_fmp",e.LoginClickToNotifyDuration="login_click_to_notify_duration",e.UiTrimmingEvent="ui_trimming_kep_event",e}({}),u=function(e){return e.PageRenderError="PageRenderError",e.ComponentRenderError="ComponentRenderError",e.OtherError="OtherError",e}({})},14912:(e,t,o)=>{"use strict";o.d(t,{fq:()=>a,uZ:()=>c});var n,i=o(78957);!function(e){e.channel="channel",e.expansion="expansion",e.find="find",e.product="product",e.productWithRegion="productWithRegion",e.downloadWithLang="downloadWithLang",e.download="download",e.downloadVideoWithLang="downloadVideoWithLang",e.downloadVideo="downloadVideo",e.trendingDetailWithinDiscover="trendingDetailWithinDiscover",e.trendingDetail="trendingDetail"}(n||(n={}));const r={channel:"/channel/:name",expansion:"/discover/:name",find:"/find/:name",product:"/product/:name",productWithRegion:"/shop/:region?/product/:name",downloadWithLang:["/download/az","/download/id-ID","/download/ms-MY","/download/jv-ID","/download/ca","/download/ceb-PH","/download/cs-CZ","/download/da","/download/de-DE","/download/et","/download/en-GB","/download/en","/download/es","/download/es-419","/download/fil-PH","/download/fr","/download/fr-CA","/download/ga","/download/hr","/download/is","/download/it-IT","/download/sw","/download/lv","/download/lt","/download/hu-HU","/download/nl-NL","/download/nb","/download/uz","/download/pl-PL","/download/pt","/download/pt-BR","/download/ro-RO","/download/sq","/download/sk","/download/sl","/download/fi-FI","/download/sv-SE","/download/vi-VN","/download/tr-TR","/download/el-GR","/download/bg","/download/kk","/download/ru-RU","/download/uk-UA","/download/he-IL","/download/ur","/download/ar","/download/hi-IN","/download/bn-IN","/download/th-TH","/download/my-MM","/download/km-KH","/download/ja-JP","/download/zh-Hant-TW","/download/zh-Hans","/download/ko-KR"],download:"/download",downloadVideoWithLang:["/download-video/az","/download-video/id-ID","/download-video/ms-MY","/download-video/jv-ID","/download-video/ca","/download-video/ceb-PH","/download-video/cs-CZ","/download-video/da","/download-video/de-DE","/download-video/et","/download-video/en-GB","/download-video/en","/download-video/es","/download-video/es-419","/download-video/fil-PH","/download-video/fr","/download-video/fr-CA","/download-video/ga","/download-video/hr","/download-video/is","/download-video/it-IT","/download-video/sw","/download-video/lv","/download-video/lt","/download-video/hu-HU","/download-video/nl-NL","/download-video/nb","/download-video/uz","/download-video/pl-PL","/download-video/pt","/download-video/pt-BR","/download-video/ro-RO","/download-video/sq","/download-video/sk","/download-video/sl","/download-video/fi-FI","/download-video/sv-SE","/download-video/vi-VN","/download-video/tr-TR","/download-video/el-GR","/download-video/bg","/download-video/kk","/download-video/ru-RU","/download-video/uk-UA","/download-video/he-IL","/download-video/ur","/download-video/ar","/download-video/hi-IN","/download-video/bn-IN","/download-video/th-TH","/download-video/my-MM","/download-video/km-KH","/download-video/ja-JP","/download-video/zh-Hant-TW","/download-video/zh-Hans","/download-video/ko-KR"],downloadVideo:"/download-video",trendingDetailWithinDiscover:"/discover/trending/detail/:name",trendingDetail:"/:lang/trending/detail/:name"},a=(0,i.r)(r);var s;!function(e){e.channel="channel",e.expansion="expansion",e.find="find",e.product="product",e.productWithRegion="productWithRegion",e.downloadWithLang="downloadWithLang",e.download="download",e.downloadVideoWithLang="downloadVideoWithLang",e.downloadVideo="downloadVideo",e.trendingDetailWithinDiscover="trendingDetailWithinDiscover",e.trendingDetail="trendingDetail"}(s||(s={}));const l={channel:"/channel/:name",expansion:"/discover/:name",find:"/find/:name",product:"/product/:name",productWithRegion:"/shop/:region?/product/:name",downloadWithLang:["/download/az","/download/id-ID","/download/ms-MY","/download/jv-ID","/download/ca","/download/ceb-PH","/download/cs-CZ","/download/da","/download/de-DE","/download/et","/download/en-GB","/download/en","/download/es","/download/es-419","/download/fil-PH","/download/fr","/download/fr-CA","/download/ga","/download/hr","/download/is","/download/it-IT","/download/sw","/download/lv","/download/lt","/download/hu-HU","/download/nl-NL","/download/nb","/download/uz","/download/pl-PL","/download/pt","/download/pt-BR","/download/ro-RO","/download/sq","/download/sk","/download/sl","/download/fi-FI","/download/sv-SE","/download/vi-VN","/download/tr-TR","/download/el-GR","/download/bg","/download/kk","/download/ru-RU","/download/uk-UA","/download/he-IL","/download/ur","/download/ar","/download/hi-IN","/download/bn-IN","/download/th-TH","/download/my-MM","/download/km-KH","/download/ja-JP","/download/zh-Hant-TW","/download/zh-Hans","/download/ko-KR"],download:"/download",downloadVideoWithLang:["/download-video/az","/download-video/id-ID","/download-video/ms-MY","/download-video/jv-ID","/download-video/ca","/download-video/ceb-PH","/download-video/cs-CZ","/download-video/da","/download-video/de-DE","/download-video/et","/download-video/en-GB","/download-video/en","/download-video/es","/download-video/es-419","/download-video/fil-PH","/download-video/fr","/download-video/fr-CA","/download-video/ga","/download-video/hr","/download-video/is","/download-video/it-IT","/download-video/sw","/download-video/lv","/download-video/lt","/download-video/hu-HU","/download-video/nl-NL","/download-video/nb","/download-video/uz","/download-video/pl-PL","/download-video/pt","/download-video/pt-BR","/download-video/ro-RO","/download-video/sq","/download-video/sk","/download-video/sl","/download-video/fi-FI","/download-video/sv-SE","/download-video/vi-VN","/download-video/tr-TR","/download-video/el-GR","/download-video/bg","/download-video/kk","/download-video/ru-RU","/download-video/uk-UA","/download-video/he-IL","/download-video/ur","/download-video/ar","/download-video/hi-IN","/download-video/bn-IN","/download-video/th-TH","/download-video/my-MM","/download-video/km-KH","/download-video/ja-JP","/download-video/zh-Hant-TW","/download-video/zh-Hans","/download-video/ko-KR"],downloadVideo:"/download-video",trendingDetailWithinDiscover:"/discover/trending/detail/:name",trendingDetail:"/:lang/trending/detail/:name"},c=(0,i.r)(l)},15176:(e,t,o)=>{"use strict";o.d(t,{nV:()=>a});var n=o(93995),i=o(99857),r=o(50269);const a=function(e){return(0,r.Sr)()?function(t){return(0,i.U)(`${e}_sigi_module@tiktok-fe/sigi-compat`,()=>(0,n.n)(e)(t))}:(0,n.n)(e)};a.removeModule=n.n.removeModule},15920:(e,t,o)=>{"use strict";o.d(t,{B9:()=>l,EA:()=>a,JI:()=>c});var n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const i=new Set,r=[];let a;const s=()=>{if(a&&r.length){for(const t of r){const{name:o,api:i}=t,r=n(t,["name","api"]);try{var e;null==a||null==(e=a.emitEvent)||e.call(a,"sdkLoad",r,{name:o,api:i})}catch(e){console.error("flushSdkLog error",e)}}r.splice(0,r.length)}},l=e=>{try{i.has(e.name)||(i.add(e.name),r.push(e)),s()}catch(e){console.error("sdkLogger error",e)}};function c(e){a=e,s()}},16168:(e,t,o)=>{"use strict";o.d(t,{TA:()=>p,U8:()=>a,VF:()=>v,kM:()=>_,sh:()=>u,zv:()=>r});var n=o(22113),i=o.n(n);const r=["/node/share/","/share/item/list","/discover/render/undefined","/share/item/explore/list","/api/comment/list/","/api/comment/list/reply/","/api/commit/follow/user/","/api/commit/item/digg/","/aweme/v1/upload/image2/","/api/notice/multi/","/api/notice/count/","/api/notice/digg/list/","/api/user/following/request/list/","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/comment/digg/","/api/comment/publish/","/api/comment/delete/","/api/sticker/item_list/","/api/user/contact/list/","/api/at/default/list/","/api/comment/search/user/","/web/aweme/v1/search/challengesug","/web/aweme/v1/discover/search/","/api/v1/item/create/","/api/ba/business/suite/permission/list","/api/search/user/full/","/api/search/user/preview/","/api/search/item/full/","/api/search/general/full/","/api/music/detail/","/api/challenge/detail/","/api/user/detail/","/api/user/list/","/api/item/detail/","/api/question/detail/","/api/question/item_list/","/api/discover/challenge/","/api/discover/user/","/api/discover/music/","/api/challenge/item_list/","/api/music/item_list/","/api/post/item_list/","/api/favorite/item_list/","/api/following/item_list/","/api/recommend/item_list/","api/preload/item_list","/api/recommend/user/","/api/recommend/embed_videos/","/api/live/detail/","/api/im/multi_user/","/api/user/get/animation/","/api/user/settings/","/aweme/v1/music/list/","/aweme/v1/adult/verify/get/accepted/id/types/","/api/mix/detail","/api/mix/item_list","/api/uniqueid/check/","/api/user/playlist/","/api/reflow/item/detail/","/api/reflow/user/detail/","/api/reflow/recommend/item_list/","/api/reflow/challenge/item_list/","/api/reflow/post/item_list/","/api/reflow/sticker/item_list/","/api/reflow/playlist/item_list/","/api/reflow/survey/detail/","/api/reflow/repost/item_list/","/api/impression/write/","/api/user/set/animation/","/api/aweme/set/react_duet_stitch/","/api/aweme/modify/visibility/","/api/aweme/delete/","/api/schedule/aweme/delete/","/api/update/profile/","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/commit/follow/user/","/tiktok/v1/username/save_async/","/api/ba/business/suite/account/off","/api/ba/business/suite/account/quitcheck","/api/playlist/create_with_items/","/api/playlist/update/","/api/playlist/modify_items/","/api/item/collect","/node/report/reasons","/aweme/v1/aweme/feedback/","/aweme/v2/aweme/feedback/","/webcast.*","/v1/message/send","/v2/conversation/create","/v1/voip/call","/v1/conversation/add_participants","/1/conversation/remove_participants","/v1/conversation/update_participant","/v1/conversation/set_setting_info","/v1/conversation/get_setting_info","/v1/conversation/upsert_core_ext_info","/v1/conversation/upsert_settings_ext","/v1/conversation/dissolve","/v1/message/mark","/v1/message/batch_unmark","/v1/message/set_property","/api-live/event/list","/api-live/event/related-videos","/api-live/event/detail","/api-live/share/live","/api-live/user/room","/node-a/send/download_link","/api/uniqueid/check/","/api/v3/register/user/info/sync/","/api/policy/notice/approve/","/api/private_banner/ack/","/api/privacy/agreement/record/agree/v1","/api/v3/register/verification/age/","/api/register/check/login/name/","/api/user/detail/self/","/passport/web/","/shorten/","/api/seo/kap/product_list/","/bi/notification/reporter/record","/api/repost/item_list","/feedback/2/post_message"],a=["/passport/web/account/info/"],s=[/^\/webcast\/diamond/,/^\/webcast\/wallet_api\/(?!fs\/)/,/^\/webcast\/recharge/,/^\/webcast\/wallet_api_tiktok\/notifycenter/,/^\/webcast\/wallet_api_tiktok\/payment/,/^\/webcast\/wallet_api_tiktok\/periodic_payout_onboarding/,/^\/webcast\/wallet_api_tiktok\/payout_onboarding_confirm/,/^\/webcast\/wallet_api_tiktok\/payment_instrument_bind_url/],l=["/webcast/api/money/kyc/v1/info/detail","/webcast/api/money/kyc/v1/upload_file","/webcast/api/compliance/kyc/v1/submission","/webcast/room/chat/","/webcast/room/create_info/","/webcast/room/enter/","/webcast/room/leave/","/webcast/room/live_podcast/","/webcast/room/ping/audience/","/webcast/user/relation/update/","/webcast/room/emote_chat/","/webcast/room/share/",...s,"/webcast/wallet_api_tiktok/payment/initialize_payment","/webcast/wallet_api_tiktok/payment/initialize_agreement","/webcast/wallet_api_tiktok/payment/payment_methods/primary/set","/webcast/wallet_api_tiktok/payment/payment_methods/delete","/webcast/wallet_api_tiktok/payment/payment_methods/link","/webcast/wallet_api_tiktok/income_plus/tax/get_tax/","/webcast/wallet_api_tiktok/income_plus/tax/create_tax/","/webcast/wallet_api_tiktok/income_plus/tax/update_tax/","/webcast/wallet_api_tiktok/income_plus/agreement/","/webcast/wallet_api_tiktok/payout_onboarding_confirm/"],c=[...s,"/webcast/wallet_api_tiktok/periodic_payout_onboarding/","/webcast/wallet_api_tiktok/payment_instrument_bind_url/","/webcast/wallet_api_tiktok/payment/payment_methods","/webcast/wallet_api_tiktok/notifycenter/notices/","/webcast/wallet_api_tiktok/income_plus/get_user_region_info/","/webcast/wallet_api_tiktok/income_plus/account_steps/","/webcast/wallet_api_tiktok/income_plus/user/"],d=["/api/private_banner/ack/","/cloudpush/update_sender_token/","/cloudpush/app_notice_status/","/api/user/set/settings/","/api/reddot/report","/api/comment/digg/","/api/comment/publish/","/api/comment/delete/","/api/aweme/delete/","/api/schedule/aweme/delete/","/api/privacy/user/private_account/update/v1","/api/privacy/user/settings/update/v1","/api/im_setting/update/v1","/api/privacy/agreement/record/agree/v1","/api/commit/follow/request/approve/","/api/commit/follow/request/reject/","/api/commit/follow/user/","/api/impression/write/","/api/user/set/animation/","/api/aweme/set/react_duet_stitch/","/api/aweme/modify/visibility/","/api/update/profile/","/tiktok/v1/username/save_async/","/api/commit/ads/action/","/tiktok/v1/kids/commit/item/digg/","/api/im/stranger/unlimit/"],u={"webcast.tiktok.com":{POST:l,GET:c},"webcast-t.tiktok.com":{POST:l,GET:c},"webcast-m.tiktok.com":{POST:l,GET:c},"webcast.us.tiktok.com":{POST:["/webcast/room/chat/","/webcast/room/create_info/","/webcast/room/enter/","/webcast/room/leave/","/webcast/room/live_podcast/","/webcast/room/ping/audience/","/webcast/user/relation/update/","/webcast/room/emote_chat/","/webcast/room/share/",...s],GET:c},"www.tiktok.com":{POST:d},"us.tiktok.com":{POST:d},"m.tiktok.com":{POST:d},"t.tiktok.com":{POST:d}},p=[{aid:1988,dfp:!1,boe:!1,intercept:!0,enablePathList:r,isHighRisk:!1,isSDK:!1},{aid:368462,dfp:!1,boe:!1,intercept:!0,enablePathList:["/payment/v1/"],isHighRisk:!1,isSDK:!1}],g=["/api/aweme/modify/visibility/","/api/ba/business/suite/account/off","/api/ba/business/suite/account/quitcheck","/api/playlist/create_with_items/","/api/schedule/aweme/delete/","/api/update/profile/","/api/user/set/settings/","/api/collection/create/","/api/collection/move_items/","/api/collection/modify_items/","/api/collection/modify_info/","/api/collection/delete/","/api/dislike/item/"],m=["/webcast/gift/send/"],h=["/webcast/gift/send/"],v=i()([...g,...m,...h]),_={"www.tiktok.com":{POST:g},"webcast.tiktok.com":{POST:m},"webcast-t.tiktok.com":{POST:m},"webcast-m.tiktok.com":{POST:m},"webcast.us.tiktok.com":{POST:h}}},16402:(e,t,o)=>{"use strict";o.d(t,{f:()=>y});var n=o(80249),i=o(67823),r=o(71510),a=o.n(r),s=o(99857),l=o(24527),c=o(49360),d=o(79386),u=o(91939),p=o(7300),g=o(43435),m=o(62514),h={"@dp/byted-tea-sdk-oversea":function(e){e.exports=n}},v={};function _(e){var t=v[e];if(void 0!==t)return t.exports;var o=v[e]={exports:{}};return h[e](o,o.exports,_),o.exports}function f(){try{return Math.floor(performance.now())}catch(e){}return Date.now()-(performance.timeOrigin||performance.timing.navigationStart)}class b{get commonParams(){return this.commonEventParams}get teaBaseConfig(){return this.baseConfig}get isOff(){return!1}get isDebugOn(){return!1}get initDimensionalData(){return this.dimensionalData||(this.dimensionalData=this.getDimensionalData()),this.dimensionalData}get dataCollectionEnabled(){return!!this.commonEventParams.data_collection_enabled}config(e){const{initConfig:t,commonHeaderConfig:o,commonEventParams:n,abTestVersion:i}=e;if(void 0!==i&&void 0===this.abTestVersion&&(this.abTestVersion=i),this.initialized||t&&this.init(t),o){const e=(0,u.$Z)();this.baseConfig=a()(this.baseConfig,o,{evtParams:{object_id:e.object_id}})}n&&(this.baseConfig=a()(this.baseConfig,{evtParams:{page_name:n.page_name,enter_from:n.enter_from}}),this.commonEventParams=Object.assign(Object.assign({},this.commonEventParams),n),this.isCommonParamsUpdated=!0),this.instance.config(this.baseConfig),this.initialized&&this.sendMissedCache()}beconEvent(e,t={}){if(this.initialized&&!this.isOff)try{this.instance.beconEvent(e,Object.assign(Object.assign({time_from_origin:f()},this.commonEventParams),t))}catch(e){}}event(e,t={},o=!0,n=!1){if(this.isOff)return;const i=f();let r=Object.assign(Object.assign({time_from_origin:i},this.commonEventParams),t);const a=Object.assign(Object.assign({},this.baseConfig),this.additionalConfig);let s=!1;try{var l,c,u;this.abTestVersion&&(s="v1"===(null==(u=this.abTestVersion)||null==(c=u.parameters)||null==(l=c.webapp_feature_expansion)?void 0:l.vid))}catch(e){console.error("Error: Unable to get AB info for feature collection status!",e)}if(s)try{(0,p.rS)(e,Object.assign(Object.assign({},a),r),d.gb,this.localEventMap),r=(0,p.vG)(r)}catch(e){console.log("Error updating feature store: ",e)}if(!this.initialized||o&&!this.isCommonParamsUpdated)this.missEventsCaches.push([e,Object.assign({time_from_origin:i},t)]);else try{this.isDebugOn&&(console.log(`[tea]: ${e}`),console.log(r)),this.createTeaEventHandler(e)(r,n),this.sendMissedCache()}catch(e){}}getInstance(){return this.instance}setDomain(e){this.instance.setDomain(e),this.instance.event("reactive_domain")}setDataCollectionEnabled(e){this.commonEventParams.data_collection_enabled=e?1:0}resetConfig(){this.isCommonParamsUpdated=!1,this.missEventsCaches.length=0}on(e,t){this.instance.on(e,t)}off(e,t){this.instance.off(e,t)}resetStayDuration(e,t,o){this.instance.resetStayDuration(e,t,o)}getDimensionalData(){var e;const t=(0,u.$Z)();"microsoft-store"!==t["app-install-source"]&&"app-info://platform/microsoft-store"!==document.referrer||(t.source="msft");const{traffic_type:o,referer_video_id:n,refer:i,source:r="",referer_url:a}=t,s=(null!==(e=new RegExp(`${location.origin}/(@?\\w+)`).exec(document.referrer))&&void 0!==e?e:[])[1],d=(0,l.Ny)(navigator.userAgent)?"mobile":"pc",p=(0,g.q)(a),h=(0,m.o7)(),v=(_=navigator.userAgent,/(Edge|Edg)\/([\w.]+)/i.test(_)?"edge":/Firefox|FxiOS/i.exec(_)?"firefox":/\s(opr)\/([\w.]+)/i.test(_)?"opera":/yabrowser\/([\w.]+)/i.test(_)?"yandex":/SamsungBrowser\/([\w.]+)/i.test(_)?"samsung":/(UCBrowser|UBrowser)\/([\w.]+)/i.test(_)?"uc":/Chrome|chromium|CriOS/i.test(_)?"google":/Safari/i.test(_)?"safari":"unknown");var _;const f=(()=>{if("undefined"==typeof window||"undefined"==typeof document)return!1;const e=window.navigator.userAgent;if(/iPad|iPhone|iPod/.test(e))try{const e=document.createElement("video");return[e.canPlayType('video/mp4; codecs="hvc1.1.L0.0"'),e.canPlayType('video/mp4;codecs="hev1.1.6.L120.90"'),e.canPlayType('video/mp4;codecs="hev1.2.4.L120.90"'),e.canPlayType('video/mp4;codecs="hev1.3.E.L120.90"'),e.canPlayType('video/mp4;codecs="hev1.4.10.L120.90"')].some(e=>"probably"===e||"maybe"===e)}catch(e){return!1}var t,o,n,i,r;return!!(null==(t=window)?void 0:t.MediaSource)&&((null==(o=window)?void 0:o.MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"'))||(null==(n=window)?void 0:n.MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"'))||(null==(i=window)?void 0:i.MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"'))||(null==(r=window)?void 0:r.MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')))})(),b=function(){var e;if("undefined"!=typeof navigator)return null==(e=navigator)?void 0:e.deviceMemory}();return(0,u._i)(t),this.dimensionalData={device:d,launch_mode:h,device_memory:b,traffic_type:null!=o?o:p,source:c.LN.test(r)?"":r,referer_video_id:n,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,embed_source:t.embed_source,referer_url:a?decodeURIComponent(a):(null==i?void 0:i.replace(c.wO,""))||s||document.referrer||c.oE,browserName:v,hevcSupported:f?1:0,cpu_core:navigator.hardwareConcurrency||0},this.dimensionalData}getSessionId(e){let t=(0,u.Hd)(c.qZ);return t||(t=e+Date.now().toString(),(0,u.J2)("webapp_session_id",t)),t}getLandingPage(e){const t=(0,u.Hd)(c.iJ);return t?(this.commonEventParams.is_landing_page=0,t):(this.commonEventParams.is_landing_page=1,(0,u.J2)(c.iJ,e),e)}getPreviousInfo(e){var t;let o={};try{o=JSON.parse(null!==(t=(0,u.Hd)(c.QI))&&void 0!==t?t:"null")||{}}catch(e){o={}}return location.href===o.href&&e===o.pageName?o.twoPrev:((0,u.J2)(c.QI,JSON.stringify({href:location.href,pageName:e,twoPrev:o.pageName,twoPrevHref:o.href})),o.pageName)}getVar(e,t){var o;const n=this.webExperimentExposeCallback.bind(null,e);return this.exposedExperiments.has(e)||this.instance.getVar(e,t,n),(null==(o=this.webExperiments)?void 0:o.values)&&this.webExperiments.values[e]||{}}getVarWithCb(e,t,o){this.instance.getVar(e,t,o)}initWebExperiments(){this.instance.getAllVars(e=>{this.webExperiments={values:e,isReady:!0}})}init(e){var t,o,n,r,a,s,l,c,u;this.instance.init({site_name:"",enable_ttwebid:!0,channel_domain:e.channel_domain,channel:e.channel,channel_type:null!==(t=e.channel_type)&&void 0!==t?t:"tcpy",app_id:e.id,need_zip:null!==(o=e.need_zip)&&void 0!==o?o:void 0,enable_stay_duration:null===(n=e.enable_stay_duration)||void 0===n||n,reportTime:null!==(r=e.reportTime)&&void 0!==r?r:void 0,enable_ab_test:!0,ab_channel_domain:e.ab_channel_domain||e.channel_domain,commonParams:{page_type:!0},enable_debug:!0,autotrack:e.autotrack}),this.initialized=!0;const g=i.A.get("tea_sid");var m;(m=g)&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(m)&&(console.log("use TEA_SID_KEY",g),this.instance.setSessionId(g)),this.instance.start(),this.initWebExperiments(),this.additionalConfig={os:null!==(a=this.instance.getConfig("os_name"))&&void 0!==a?a:"",browser_brand:null!==(s=this.instance.getConfig("browser"))&&void 0!==s?s:"",width:null!==(l=this.instance.getConfig("screen_width"))&&void 0!==l?l:0,height:null!==(c=this.instance.getConfig("screen_height"))&&void 0!==c?c:0,language_sys:null!==(u=this.instance.getConfig("language"))&&void 0!==u?u:""},this.localEventMap=(0,p.Zl)(d.gb)}sendMissedCache(){try{this.missEventsCaches.length&&(this.missEventsCaches.forEach(e=>{const t=Object.assign(Object.assign({},this.commonEventParams),e[1]);this.instance.event(e[0],t),this.isDebugOn&&(console.log("[tea]: send cached event",e),console.log(t))}),this.missEventsCaches.length=0)}catch(e){}}createTeaEventHandler(e){return(...[t])=>{this.instance.event(e,t)}}sendEvent(e,t={},o=!0,n=!0){this.event(e,t,o,n)}constructor(e=_("@dp/byted-tea-sdk-oversea").default,t=[],o=!1,n=!1,i={},r={},a={},s){this.instance=e,this.missEventsCaches=t,this.initialized=o,this.isCommonParamsUpdated=n,this.baseConfig=i,this.additionalConfig=r,this.localEventMap=a,this.abTestVersion=s,this.commonEventParams={},this.exposedExperiments=new Set,this.webExperimentExposeCallback=(e,t)=>{t&&this.exposedExperiments.add(e)}}}const y=(0,s.U)("Tea@tiktok/tea",()=>new b)},17592:(e,t,o)=>{"use strict";o.d(t,{_q:()=>s});var n=o(7672),i=o(99857),r=o(50269);function a(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}const s=function(e){if(!(0,r.Sr)()||!(null==e?void 0:e.name)){const t=null!=e?e:{},{name:o}=t,i=a(t,["name"]);return(0,n._)(i)}return function(t){return(0,i.U)(`${e.name}`,()=>{const{name:o}=e,i=a(e,["name"]);return(0,n._)(i)(t)})}}},18459:(e,t,o)=>{"use strict";o.d(t,{S:()=>h});var n=o(26324),i=o(23999),r=o(8536),a=o(24451),s=o(64162),l=o(4126),c=o(15176),d=o(21807),u=o(75427),p=o(30573);function g(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class h extends s.E{setErrorCode(e,t){e.errorCode=t}setShowInstagramCantLoginModal(e,t){e.showInstagramRisk=t}setShowRiskModal(e,t){e.showRiskModal=t}handleRiskError(e){return e.pipe((0,a.E)(this.bizContext.state$),(0,r.Z)(([{errorCode:e},{bizContext:t}])=>(null==t?void 0:t.isMobile)?(0,i.of)(this.getActions().setShowRiskModal(!0),this.getActions().setErrorCode(e)):(this.history.push(u.tH.loginDownloadApp),(0,i.of)(this.noop()))))}constructor(e,t){super(),this.bizContext=e,this.history=t,this.defaultState={}}}g([(0,l.uk)(),m("design:type",void 0===n.c?Object:n.c)],h.prototype,"dispose$",void 0),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof RiskErrorModuleState?Object:RiskErrorModuleState,Number]),m("design:returntype",void 0)],h.prototype,"setErrorCode",null),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof RiskErrorModuleState?Object:RiskErrorModuleState,Boolean]),m("design:returntype",void 0)],h.prototype,"setShowInstagramCantLoginModal",null),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof RiskErrorModuleState?Object:RiskErrorModuleState,Boolean]),m("design:returntype",void 0)],h.prototype,"setShowRiskModal",null),g([(0,l.Mj)(),m("design:type",Function),m("design:paramtypes",[void 0===n.c?Object:n.c]),m("design:returntype",void 0)],h.prototype,"handleRiskError",null),h=g([(0,c.nV)("RiskErrorModule"),m("design:type",Function),m("design:paramtypes",[void 0===d.$?Object:d.$,void 0===p.D?Object:p.D])],h)},18835:(e,t,o)=>{"use strict";var n;o.d(t,{s:()=>n}),function(e){e[e.Popup=1]="Popup",e[e.PopupOpt=2]="PopupOpt",e[e.LivePanel=1]="LivePanel",e[e.HeaderPopup=2]="HeaderPopup",e[e.CardCover=2]="CardCover",e[e.LiveCardCoverLink=3]="LiveCardCoverLink",e[e.LiveChatRoom=4]="LiveChatRoom",e[e.LiveChatRoomBottomSection=5]="LiveChatRoomBottomSection",e[e.FixedBottom=7]="FixedBottom",e[e.Header=3e3]="Header",e[e.HeaderHamburger=99]="HeaderHamburger",e[e.Banner=999]="Banner",e[e.CookieBanner=10001]="CookieBanner",e[e.SideNav=99]="SideNav",e[e.SideNavHint=100]="SideNavHint",e[e.BrowserMode=3e3]="BrowserMode",e[e.Overlay=3001]="Overlay",e[e.Modal=3001]="Modal",e[e.LoginPopup=401]="LoginPopup",e[e.SwiperOnboarding=10009]="SwiperOnboarding",e[e.ModalLogin=10010]="ModalLogin",e[e.ContextMenu=10500]="ContextMenu",e[e.ModalGoogleOneTap=100]="ModalGoogleOneTap"}(n||(n={}))},20013:(e,t,o)=>{"use strict";o.d(t,{zI:()=>l});var n=o(41353),i=o(67274),r=o(78134);const a="/node-webapp/api/common-app-context";let s;function l(e){const t=(0,r.YI)(i.Ow);return t?Promise.resolve(Object.assign(Object.assign({},t),{statusCode:0})):s||(s=fetch((0,n.stringifyUrl)({url:a,query:{lang:e}})).then(e=>e.json()),s)}},21807:(e,t,o)=>{"use strict";o.d(t,{$:()=>S,A:()=>C});var n=o(99857),i=o(64162),r=o(4126),a=o(15176),s=o(46657),l=o(63700),c=o(23999),d=o(26324),u=o(24451),p=o(35572),g=o(8536),m=o(74690),h=o(80339),v=o(17592),_=o(41353),f=o(68628);class b{getBizContext(e,t){return(0,f.H)(fetch((0,_.stringifyUrl)({url:"/node-webapp/api/biz-context",query:{lang:e,app_name:t}})).then(e=>e.json()))}}b=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,v._q)()],b);var y=o(94997);function w(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function k(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class S extends i.E{setBizContext(e,t){var{statusCode:o}=t,n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(t,["statusCode"]);return 0!==o?e:Object.assign(Object.assign({},e),{bizContext:n})}setInitialized(e,t){return Object.assign(Object.assign({},e),{initialized:t})}init(e){return e.pipe((0,u.E)(this.state$),(0,p.p)(([{lang:e,app_name:t},{initialized:o}])=>o?s.w:this.service.getBizContext(e,t).pipe((0,g.Z)(e=>(0,l.h)((0,c.of)(this.getActions().setBizContext(e)))),(0,m.Z)(this.getActions().setInitialized(!1)),(0,h.q)(this.getActions().setInitialized(!0),this.terminate()))))}constructor(e){super(),this.service=e,this.defaultState={bizContext:null,initialized:!1}}}w([(0,r.HI)(),k("design:type",Function),k("design:paramtypes",["undefined"==typeof BizContextModuleState?Object:BizContextModuleState,"undefined"==typeof BizContextResponse?Object:BizContextResponse]),k("design:returntype","undefined"==typeof BizContextModuleState?Object:BizContextModuleState)],S.prototype,"setBizContext",null),w([(0,r.HI)(),k("design:type",Function),k("design:paramtypes",["undefined"==typeof BizContextModuleState?Object:BizContextModuleState,Boolean]),k("design:returntype","undefined"==typeof BizContextModuleState?Object:BizContextModuleState)],S.prototype,"setInitialized",null),w([(0,r.Mj)({payloadGetter:1}),k("design:type",Function),k("design:paramtypes",[void 0===d.c?Object:d.c]),k("design:returntype",void 0)],S.prototype,"init",null),S=w([(0,a.nV)("BizContext"),k("design:type",Function),k("design:paramtypes",[void 0===b?Object:b])],S);const C=(0,n.U)("readBizContextModuleAtom@tiktok/webapp-common",()=>(0,y.y)(S))},22833:(e,t,o)=>{"use strict";o.d(t,{K:()=>i});var n=o(33482);const i={show:()=>n.W.show("#loginContainer"),hide:()=>n.W.hide()}},23377:()=>{},24527:(e,t,o)=>{"use strict";o.d(t,{KJ:()=>u,Ny:()=>p,R0:()=>c,qu:()=>d});const n=/\(i[^;]+;( U;)? CPU.+Mac OS X/,i=/Android|android|Adr/,r=/X11/,a=/\(Macintosh; Intel /,s=/Win\d{2}|Windows/,l=1e3;function c(e){return e.length>l?"unknown":i.test(e)?"android":r.test(e)?"linux":n.test(e)?"ios":a.test(e)?"mac":s.test(e)?"windows":"unknown"}function d(e){return!(e.length>l)&&n.test(e)}function u(e){return i.test(e)}function p(e){return d(e)||u(e)}},24754:(e,t,o)=>{"use strict";o.d(t,{s:()=>n});const n=["live_im_sdk_socket_link","live_www_host","live_room_container_upgrade","live_room_container_upgrade_gift_more","live_head_open_direct","webapp_live_desktop_gulux","live_room_switch_preset_stream","live_un_logged_in_definition","live_room_recharge","fyp_live_highlight_preview_opt","live_highlight_preview_expand","image_fetch_priority","user_bundle_opt","sharing_video_first","live_recharge_login_sdk","page_loading_tiny_changes","react_upgrade_experiment","kep_streaming","web_dm_heartbeat_optimize","user_ssg","organic_video_streaming","mobile_micro_frontend_all_pages","mobile_micro_frontends","seo_mobile_micro_frontends","live_react_v18","sharing_video_streaming","kep_cta_style","vanilla_js_kep","kep_inp_inspect","desktop_rspack","seo_page_csr","streaming_legacy_optimization","desktop_bundle_opt","tt_player_event_trigger","webmssdk_update","tt_player_event_trigger","ui_trimming_kep","ui_trimming_kep_device","ui_trimming_kep_network","ui_trimming_kep_region","login_vmok"]},24873:(e,t,o)=>{"use strict";o.d(t,{c:()=>n});var n=function(e){return e.ClickLike="click_like",e.ClickLikeTab="click_like_tab",e.ClickComment="click_comment",e.ClickShoot="click_shoot",e.BottomBar="bottom_bar",e.HeavyUserGuide="heavy_user_guide",e.Launch="app_launch",e.ClickBottomBar="click_bottom_tab",e.VideoBack="video_detail_click_back",e.Profile="profile",e.ProfileIcon="profile_icon",e.EnterProfile="enter_personal_homepage",e.EnterInbox="enter_homepage_message",e.EnterAdsSettings="enter_ads_settings",e.Notify="notification",e.NotificationPopup="notification_popup",e.NotificationPanel="notification_panel",e.Navigation="navigation_bar",e.FriendsSideNavigation="friends_side_navigation",e.ProfileSideNavigation="profile_side_navigation",e.BottomNav="bottom_navigation",e.SecondaryNav="right_top_navigation",e.ForceLogin="force_login",e.TopNavigation="top_navigation",e.Caption="click_caption",e.Duet="click_duet",e.Message="click_message",e.ClickProfile="click_mine",e.ClickFollow="click_follow",e.Keydown="keydown",e.Click="click",e.ClickTopBar="click_top_bar",e.ClickNavigation="click_navigation",e.ClickHomePageFollow="click_homepage_follow",e.ClickPanel="click_panel",e.ClickVideoFromForYou="click_video_from_for_you",e.ClickSeeMoreFromForYou="click_see_more_from_for_you",e.SeeMore="see_more",e.ClickOneColumnUser="click_main_btn",e.ClickDropcardUser="click_dropdown_card",e.ClickNormalFollow="click_direct_btn",e.ClickDropcardFollow="click_hover",e.ClickButton="click_button",e.ClickCancel="click_cancel",e.ClickVideoPeek="click_video_peek",e.ClickFollowTab="click_follow_tab",e.ClickHotTab="click_hot_tab",e.ClickEnter="click_enter",e.ClickIcon="click_icon",e.ClickViewAll="click_view_all",e.ClickName="click_name",e.ClickHead="click_head",e.FollowButton="follow_button",e.Scroll="scroll",e.ToTop="to_top",e.ClickSuggestedPanel="click_suggested_panel",e.ClickFollowingPanel="click_following_panel",e.TopBar="top_bar",e.ClickBanner="click_banner",e.Discover="discover",e.ClickCaption="click_caption",e.ClickDuet="click_duet",e.ClickAnchor="click_anchor",e.ClickNotify="click_noti",e.ClickInboxButton="click_inbox_button",e.ClickRelatedTopic="click_related_topic",e.Comment="comment",e.VideoDesc="video_desc",e.ClickBlank="click_blank",e.HoverBlank="hover_blank",e.HoverCover="hover_cover",e.UserPortrait="user_portrait",e.UserName="user_name",e.ClickSuggested="click_suggested",e.ClickSuggestedHover="click_suggested_hover",e.PopUpFollowing="pop_up_following",e.PopUpFollower="pop_up_follower",e.PopUpSuggest="pop_up_suggest",e.ClickBackFYP="back_fyp_click",e.VideoDetailExpandClick="video_detail_expand_click",e.VideoCoverClick="video_cover_click",e.VideoCoverClickAIGCDesc="video_cover_click_aigc_desc",e.VideoCoverExposeAIGCDesc="video_cover_expose_aigc_desc",e.VideoDetailPage="video_detail",e.HistoryJump="history_jump",e.VideoCoverExposeCreatorCard="video_cover_expose_creator_card",e.CreatorCardButton="creator_card_button",e.CreatorCardCountdown="creator_card_countdown",e.CreatorCard="creator_card",e.ClickToolTip="click_tooltip",e.DisCoverItem="click_discover_item",e.ExceedVV="exceed_vv",e.ClickCaptionUserName="click_caption_username",e.ClickCaptionDesc="click_caption_description",e.ClickCaptionDescMore="click_caption_more",e.ClickMusicName="click_music_name",e.ClickContextMenu="click_context_menu",e.JumpToPwa="jump_to_pwa",e.LaunchPopup="launch_popup",e.ClickToolbarAvatar="click_toolbar_avatar",e.ClickMusicDisc="click_music_disc",e.ClickToolbarShare="click_toolbar_share",e.NowVideo="now_video",e.ClickPartnershipTag="click_partnership_tag",e.ClickGetAppForPC="click_get_app_for_pc",e.ClickGetAppForMobile="click_get_app_for_mobile",e.SubOnlyVideo="shared_sub_only_video",e.ClickFavoriteTab="click_favourite_tab",e.ClickMyFavoriteEntrance="click_my_favourite_entrance",e.LoginPageRedirect="login_page_redirect",e.CreatorTab="creator_tab",e.SwipeSlide="swipe_slide",e.ClickFollowing="click_following",e.ClickFollowers="click_followers",e.ClickFollowPopUp="profile_popup",e.LiveEntrance="live_entrance",e.Story="story",e.Search="search",e.SearchHistory="search_history",e.NormalSearch="normal_search",e.SearchSug="search_sug",e.SearchRecom="recom_search_web",e.SearchTabs="search_tabs",e.SearchButton="search_button",e.SearchKeyword="search_keyword",e.ClickSearchResult="click_search_result",e.RecentVideo="recent_video",e.GeneralSearch="general_search",e.PoiAnchor="poi_anchor",e.ClickExploreTab="click_explore_tab",e.ClickCategoryUserName="click_category_video_user_name",e.ClickCategoryUserAvatar="click_category_video_user_icon",e.CategoryVideoDisplay="category_video_display",e.ClickExploreAllTrendingWord="explore_all",e.ClickLogoDoodle="logo_doodle",e.QRAutoPopup="qr_auto_popup",e.SSOAutoPopup="sso_auto_popup",e.DoubleTap="double_tap",e.AppLaunch="app_launch",e.ReturningPopup="returning_popup",e.TopicPageBottom="topic_page_bottom",e.ChallengePageBottom="challenge_page_bottom",e.MusicPageBottom="music_page_bottom",e.CreatorPageBottom="creator_page_bottom",e.ClickRelated="click_related",e.ClickSaveVideo="click_save_video",e.ClickLivePhoto="click_live_photo",e.ClickShareGif="click_share_gif",e.ClickQRCode="click_qr_code",e.NonLoginCommentPanel="non_login_comment_panel",e.PersonalFollower="personal_follower",e.PersonalFollowing="personal_following",e.PersonalSuggestedCard="personal_suggested_card",e.PersonalSuggestedList="personal_suggested_list",e.CreatorFloat="creator_float",e.DiscoverTopicFloat="discover_topic_float",e.DiscoverTopicBottom="discover_topic_bottom",e.AnswerTabQuestion="answer_tab_questioner",e.QuestionTabQuestions="question_tab_questions",e.MusicTabList="music_tab_list",e.VideoPopUp="video_popup",e.ClickSubtitle="click_subtitle",e.SharePanel="share_panel",e.Default="",e.PlayListTab="playlist_tab_click",e.LikeTab="liked_tab_click",e.QNATab="qa_tab_click",e.MusicListTab="music_list_tab_click",e.RelatedTab="related_tab_click",e.NewTab="new_tab_click",e.ChallengeFloat="challenge_float",e.MusicFloat="music_float",e.Simulated="simulated",e.RelatedListClick="related_list_click",e.MiniPlayerSwitch="mini_player_switch",e.PlayerSwitchBtnClick="player_switch_btn_click",e.RollingBack="rolling_back",e.RollingDown="rolling_down",e.ClickVideo="click_video",e.AutoNext="auto_next",e.RollingVideoCard="rolling_video_card",e.ReplayClick="replay_click",e.VideoErrorAutoReload="video_error_auto_reload",e.ExploreMoreButton="explore_more_button",e.ExploreCountdown="explore_countdown",e.ClickRelatedSearch="click_related_search",e.FloatButton="float_button",e.BottomBanner="bottom_banner",e.NavigationBottom="bottom_navigation",e.NonLogin="non_login",e.Breadcrumb="breadcrumb",e.ClickFollowingRecommendation="click_following_recommendation",e.InfoCard="info_card",e.Video="video",e.VideoUser="video_user",e.MoreRelatedVideo="more_related_videos",e.RelatedVideo="related_video",e.RelatedVideoUser="related_video_user",e.Repost="repost",e.ReflowSharerCard="reflow_sharer_card",e.SuggestedAccountsCard="suggested_account_card",e.FollowSuggestedAccountsCard="follow_suggested_account",e.Impression="impression",e.DownloadCTA="download_cta",e.GepCTA="click_gep_onelink",e.AddPWAPopup="add_pwa_popup",e.AddPWAScreen="add_pwa_screen",e.Silence="silence_awaken",e.RechargeLanding="recharge_landing",e.RechargePopupGuidance="recharge_popup_guidance",e.SPFCTAExplore="spf_cta_explore",e.SPFCTAProfile="spf_cta_profile",e.FootBar="foot_bar",e.DailyPopUp="daily_pop_up",e.VvPopUp="vv_pop_up",e.OthersHomePageWatchMore="others_homepage_watch_more",e.ClickUnfollow="click_unfollow",e.ClickHamburgerMenu="click_hamburger_menu",e.NonloggedIn="nonlogged_in",e.Hamburger="hamburger",e.ClickAvatarFollow="click_avatar_follow",e.OthersHomePage="others_homepage",e}({})},25948:(e,t,o)=>{"use strict";o.d(t,{W:()=>n});const n=[{label:"A",lists:[{name:"Afghanistan",shortname:"AF",code:93,key:"afghanistan"},{name:"land Islands",shortname:"AX",code:35818,key:"land_islands"},{name:"Albania",shortname:"AL",code:355,key:"albania"},{name:"Algeria",shortname:"DZ",code:213,key:"algeria"},{name:"American Samoa",shortname:"AS",code:1684,key:"american_samoa"},{name:"Andorra",shortname:"AD",code:376,key:"andorra"},{name:"Angola",shortname:"AO",code:244,key:"angola"},{name:"Anguilla",shortname:"AI",code:1264,key:"anguilla"},{name:"Antigua & Barbuda",shortname:"AG",code:1268,key:"antigua_and_barbuda"},{name:"Argentina",shortname:"AR",code:54,key:"argentina"},{name:"Armenia",shortname:"AM",code:374,key:"armenia"},{name:"Aruba",shortname:"AW",code:297,key:"aruba"},{name:"Ascension Island",shortname:"SH",code:247,key:"ascension"},{name:"Australia",shortname:"AU",code:61,key:"australia"},{name:"Austria",shortname:"AT",code:43,key:"austria"},{name:"Azerbaijan",shortname:"AZ",code:994,key:"azerbaijan"}]},{label:"B",lists:[{name:"Bahamas",shortname:"BS",code:1242,key:"bahamas"},{name:"Bahrain",shortname:"BH",code:973,key:"bahrain"},{name:"Bangladesh",shortname:"BD",code:880,key:"bangladesh"},{name:"Barbados",shortname:"BB",code:1246,key:"barbados"},{name:"Barbuda",shortname:"AG",code:1268,key:"barbuda"},{name:"Belarus",shortname:"BY",code:375,key:"belarus"},{name:"Belgium",shortname:"BE",code:32,key:"belgium"},{name:"Belize",shortname:"BZ",code:501,key:"belize"},{name:"Benin",shortname:"BJ",code:229,key:"benin"},{name:"Bermuda",shortname:"BM",code:1441,key:"bermuda_island"},{name:"Bhutan",shortname:"BT",code:975,key:"bhutan"},{name:"Bolivia",shortname:"BO",code:591,key:"bolivia"},{name:"Bosnia & Herzegovina",shortname:"BA",code:387,key:"bosnia_and_herzegovina"},{name:"Botswana",shortname:"BW",code:267,key:"botswana"},{name:"Brazil",shortname:"BR",code:55,key:"brazil"},{name:"British Indian Ocean Territory",shortname:"IO",code:246,key:"british_indian_ocean_territory"},{name:"British Virgin Islands",shortname:"VG",code:1284,key:"british_virgin_islands"},{name:"Brunei",shortname:"BN",code:673,key:"brunei"},{name:"Bulgaria",shortname:"BG",code:359,key:"bulgaria"},{name:"Burkina-faso",shortname:"BF",code:226,key:"burkina_faso"},{name:"Burundi",shortname:"BI",code:257,key:"burundi"}]},{label:"C",lists:[{name:"Cameroon",shortname:"CM",code:237,key:"cameroon"},{name:"Canada",shortname:"CA",code:1,key:"canada"},{name:"Cape Verde",shortname:"CV",code:238,key:"cape_verde"},{name:"Caribbean Netherlands",shortname:"BQ",code:5997,key:"caribbean_netherlands"},{name:"Cayman Is.",shortname:"KY",code:1345,key:"cayman_islands"},{name:"Central African Republic",shortname:"CF",code:236,key:"central_african_republic"},{name:"Chad",shortname:"TD",code:235,key:"chad"},{name:"Chile",shortname:"CL",code:56,key:"chile"},{name:"China mainland",shortname:"CN",code:86,key:"china_mainland"},{name:"Christmas Island",shortname:"CX",code:61,key:"christmas_island"},{name:"Cocos (Keeling) Islands",shortname:"CC",code:61,key:"cocos_keeling_islands"},{name:"Colombia",shortname:"CO",code:57,key:"colombia"},{name:"Comoros",shortname:"KM",code:269,key:"comoros"},{name:"Congo - Brazzaville",shortname:"CG",code:242,key:"congo"},{name:"Congo - Kinshasa",shortname:"CD",code:243,key:"congo_kinshasa"},{name:"Cook Is.",shortname:"CK",code:682,key:"cook_islands"},{name:"Costa Rica",shortname:"CR",code:506,key:"costa_rica"},{name:"Croatia",shortname:"HR",code:385,key:"croatia"},{name:"Curaao",shortname:"CW",code:5999,key:"curaao"},{name:"Cyprus",shortname:"CY",code:357,key:"cyprus"},{name:"Czechia",shortname:"CZ",code:420,key:"czech_republic"}]},{label:"D",lists:[{name:"Denmark",shortname:"DK",code:45,key:"denmark"},{name:"Diego Garcia",shortname:"DG",code:246,key:"diego_garcia"},{name:"Djibouti",shortname:"DJ",code:253,key:"djibouti"},{name:"Dominica",shortname:"DM",code:1767,key:"dominica"},{name:"Dominican Republic",shortname:"DO",code:1,key:"dominican_republic"}]},{label:"E",lists:[{name:"EI Salvador",shortname:"SV",code:503,key:"el_salvador"},{name:"Ecuador",shortname:"EC",code:593,key:"ecuador"},{name:"Egypt",shortname:"EG",code:20,key:"egypt"},{name:"Equatorial Guinea",shortname:"GQ",code:240,key:"equatorial_guinea"},{name:"Eritrea",shortname:"ER",code:291,key:"eritrea"},{name:"Estonia",shortname:"EE",code:372,key:"estonia"},{name:"Eswatini",shortname:"SZ",code:268,key:"eswatini"},{name:"Ethiopia",shortname:"ET",code:251,key:"ethiopia"}]},{label:"F",lists:[{name:"Falkland Islands",shortname:"FK",code:500,key:"falkland_islands"},{name:"Faroe Islands",shortname:"FO",code:298,key:"faroe_islands"},{name:"Fiji",shortname:"FJ",code:679,key:"fiji"},{name:"Finland",shortname:"FI",code:358,key:"finland"},{name:"France",shortname:"FR",code:33,key:"france"},{name:"French Guiana",shortname:"GF",code:594,key:"french_guiana"},{name:"French Polynesia",shortname:"PF",code:689,key:"french_polynesia"}]},{label:"G",lists:[{name:"Gabon",shortname:"GA",code:241,key:"gabon"},{name:"Gambia",shortname:"GM",code:220,key:"gambia"},{name:"Georgia",shortname:"GE",code:995,key:"georgia"},{name:"Germany",shortname:"DE",code:49,key:"germany"},{name:"Ghana",shortname:"GH",code:233,key:"ghana"},{name:"Gibraltar",shortname:"GI",code:350,key:"gibraltar"},{name:"Greece",shortname:"GR",code:30,key:"greece"},{name:"Greenland",shortname:"GL",code:299,key:"greenland"},{name:"Grenada",shortname:"GD",code:1473,key:"grenada"},{name:"Guadeloupe",shortname:"GP",code:590,key:"guadeloupe"},{name:"Guam",shortname:"GU",code:1671,key:"guam"},{name:"Guatemala",shortname:"GT",code:502,key:"guatemala"},{name:"Guernsey",shortname:"GG",code:44,key:"guernsey"},{name:"Guinea",shortname:"GN",code:224,key:"guinea"},{name:"Guinea-Bissau",shortname:"GW",code:245,key:"guinea_bissau"},{name:"Guyana",shortname:"GY",code:592,key:"guyana"}]},{label:"H",lists:[{name:"Haiti",shortname:"HT",code:509,key:"haiti"},{name:"Honduras",shortname:"HN",code:504,key:"honduras"},{name:"Hongkong",shortname:"HK",code:852,key:"hongkong"},{name:"Hungary",shortname:"HU",code:36,key:"hungary"}]},{label:"I",lists:[{name:"Iceland",shortname:"IS",code:354,key:"iceland"},{name:"India",shortname:"IN",code:91,key:"india"},{name:"Indonesia",shortname:"ID",code:62,key:"indonesia"},{name:"Iraq",shortname:"IQ",code:964,key:"iraq"},{name:"Ireland",shortname:"IE",code:353,key:"ireland"},{name:"Israel",shortname:"IL",code:972,key:"israel"},{name:"Isle of Man",shortname:"IM",code:44,key:"region_isle_of_man"},{name:"Italy",shortname:"IT",code:39,key:"italy"},{name:"Ivory Coast",shortname:"CI",code:225,key:"cte_d_ivoire"}]},{label:"J",lists:[{name:"Jamaica",shortname:"JM",code:1876,key:"jamaica"},{name:"Japan",shortname:"JP",code:81,key:"japan"},{name:"Jersey",shortname:"JE",code:44,key:"jersey"},{name:"Jordan",shortname:"JO",code:962,key:"jordan"}]},{label:"K",lists:[{name:"Kampuchea (Cambodia )",shortname:"KH",code:855,key:"cambodia"},{name:"Kazakhstan",shortname:"KZ",code:76,key:"kazakhstan"},{name:"Kazakhstan",shortname:"KZ",code:77,key:"kazakhstan"},{name:"Kenya",shortname:"KE",code:254,key:"kenya"},{name:"Kiribati",shortname:"KI",code:686,key:"kiribati"},{name:"Korea",shortname:"KR",code:82,key:"south_korea"},{name:"Kosovo",shortname:"XK",code:383,key:"region_kosovo"},{name:"Kuwait",shortname:"KW",code:965,key:"kuwait"},{name:"Kyrgyzstan",shortname:"KG",code:996,key:"kyrgyzstan"}]},{label:"L",lists:[{name:"Laos",shortname:"LA",code:856,key:"laos"},{name:"Latvia",shortname:"LV",code:371,key:"latvia"},{name:"Lebanon",shortname:"LB",code:961,key:"lebanon"},{name:"Lesotho",shortname:"LS",code:266,key:"lesotho"},{name:"Liberia",shortname:"LR",code:231,key:"liberia"},{name:"Libya",shortname:"LY",code:218,key:"libya"},{name:"Liechtenstein",shortname:"LI",code:423,key:"liechtenstein"},{name:"Lithuania",shortname:"LT",code:370,key:"lithuania"},{name:"Luxembourg",shortname:"LU",code:352,key:"luxembourg"}]},{label:"M",lists:[{name:"Macao",shortname:"MO",code:853,key:"macao"},{name:"Madagascar",shortname:"MG",code:261,key:"madagascar"},{name:"Malawi",shortname:"MW",code:265,key:"malawi"},{name:"Malaysia",shortname:"MY",code:60,key:"malaysia"},{name:"Maldives",shortname:"MV",code:960,key:"maldives"},{name:"Mali",shortname:"ML",code:223,key:"mali"},{name:"Malta",shortname:"MT",code:356,key:"malta"},{name:"Marshall Islands",shortname:"MH",code:692,key:"marshall_islands"},{name:"Martinique",shortname:"MQ",code:596,key:"martinique"},{name:"Mauritania",shortname:"MR",code:222,key:"mauritania"},{name:"Mauritius",shortname:"MU",code:230,key:"mauritius"},{name:"Mayotte",shortname:"YT",code:262,key:"mayotte"},{name:"Mexico",shortname:"MX",code:52,key:"mexico"},{name:"Micronesia",shortname:"FM",code:691,key:"micronesia"},{name:"Moldova, Republic of",shortname:"MD",code:373,key:"republic_of_moldova"},{name:"Monaco",shortname:"MC",code:377,key:"monaco"},{name:"Mongolia",shortname:"MN",code:976,key:"mongolia"},{name:"Montenegro",shortname:"ME",code:382,key:"montenegro"},{name:"Montserrat",shortname:"MS",code:1664,key:"montserrat"},{name:"Morocco",shortname:"MA",code:212,key:"morocco"},{name:"Mozambique",shortname:"MZ",code:258,key:"mozambique"},{name:"Myanmar (Burma)",shortname:"MM",code:95,key:"myanmar_burma"}]},{label:"N",lists:[{name:"Namibia",shortname:"NA",code:264,key:"namibia"},{name:"Nauru",shortname:"NR",code:674,key:"nauru"},{name:"Nepal",shortname:"NP",code:977,key:"nepal"},{name:"Netherlands",shortname:"NL",code:31,key:"netherlands"},{name:"New Caledonia",shortname:"NC",code:687,key:"new_caledonia"},{name:"New Zealand",shortname:"NZ",code:64,key:"new_zealand"},{name:"Nicaragua",shortname:"NI",code:505,key:"nicaragua"},{name:"Niger",shortname:"NE",code:227,key:"niger"},{name:"Nigeria",shortname:"NG",code:234,key:"nigeria"},{name:"Niue",shortname:"NU",code:683,key:"niue"},{name:"Norfolk Island",shortname:"NF",code:672,key:"norfolk_island"},{name:"North Macedonia",shortname:"MK",code:389,key:"macedonia"},{name:"Northern Mariana Islands",shortname:"MP",code:1670,key:"northern_mariana_islands"},{name:"Norway",shortname:"NO",code:47,key:"norway"}]},{label:"O",lists:[{name:"Oman",shortname:"OM",code:968,key:"oman"}]},{label:"P",lists:[{name:"Pakistan",shortname:"PK",code:92,key:"pakistan"},{name:"Palau",shortname:"PW",code:680,key:"palau"},{name:"Palestinian Territories",shortname:"PS",code:970,key:"palestinian_territories"},{name:"Panama",shortname:"PA",code:507,key:"panama"},{name:"Papua New Cuinea",shortname:"PG",code:675,key:"papua_new_guinea"},{name:"Paraguay",shortname:"PY",code:595,key:"paraguay"},{name:"Peru",shortname:"PE",code:51,key:"peru"},{name:"Philippines",shortname:"PH",code:63,key:"philippines"},{name:"Pitcairn Islands",shortname:"PN",code:64,key:"pitcairn_islands"},{name:"Poland",shortname:"PL",code:48,key:"poland"},{name:"Portugal",shortname:"PT",code:351,key:"portugal"},{name:"Puerto Rico",shortname:"PR",code:1787,key:"puerto_rico"},{name:"Puerto Rico",shortname:"PR",code:1939,key:"puerto_rico"}]},{label:"Q",lists:[{name:"Qatar",shortname:"QA",code:974,key:"qatar"}]},{label:"R",lists:[{name:"Runion",shortname:"RE",code:262,key:"reunion"},{name:"Romania",shortname:"RO",code:40,key:"romania"},{name:"Russia",shortname:"RU",code:7,key:"russia"},{name:"Rwanda",shortname:"RW",code:250,key:"rwanda"}]},{label:"S",lists:[{name:"Samoa",shortname:"WS",code:685,key:"samoa"},{name:"San Marino",shortname:"SM",code:378,key:"san_marino"},{name:"Sao Tome and Principe",shortname:"ST",code:239,key:"sao_tome_and_principe"},{name:"Saudi Arabia",shortname:"SA",code:966,key:"saudi_arabia"},{name:"Senegal",shortname:"SN",code:221,key:"senegal"},{name:"Serbia",shortname:"RS",code:381,key:"serbia"},{name:"Seychelles",shortname:"SC",code:248,key:"seychelles"},{name:"Sierra Leone",shortname:"SL",code:232,key:"sierra_leone"},{name:"Singapore",shortname:"SG",code:65,key:"singapore"},{name:"Sint Maarten",shortname:"SX",code:1721,key:"sint_maarten"},{name:"Slovakia",shortname:"SK",code:421,key:"slovakia"},{name:"Slovenia",shortname:"SI",code:386,key:"slovenia"},{name:"Solomon Is",shortname:"SB",code:677,key:"solomon_islands"},{name:"Somali",shortname:"SO",code:252,key:"somalia"},{name:"South Africa",shortname:"ZA",code:27,key:"south_africa"},{name:"So. Georgia & So. Sandwich  Isl.",shortname:"GS",code:500,key:"south_georgia_and_south_sandwich_islands"},{name:"South Sudan",shortname:"SS",code:211,key:"south_sudan"},{name:"Spain",shortname:"ES",code:34,key:"spain"},{name:"Sri Lanka",shortname:"LK",code:94,key:"sri_lanka"},{name:"St. Barthlemy",shortname:"BL",code:590,key:"st_barthlemy"},{name:"St. Helena",shortname:"SH",code:290,key:"st_helena"},{name:"St. Kitts & Nevis",shortname:"KN",code:1869,key:"st_kitts_and_nevis"},{name:"St. Martin",shortname:"MF",code:590,key:"st_martin_france"},{name:"St. Pierre & Miquelon",shortname:"PM",code:508,key:"st_pierre_and_miquelon"},{name:"St.Lucia",shortname:"LC",code:1758,key:"saint_lucia"},{name:"St. Vincent & Grenadines",shortname:"VC",code:1784,key:"st.vincent"},{name:"Sudan",shortname:"SD",code:249,key:"sudan"},{name:"Suriname",shortname:"SR",code:597,key:"suriname"},{name:"Svalbard & Jan Mayen",shortname:"SJ",code:4779,key:"svalbard_and_jan_mayen"},{name:"Sweden",shortname:"SE",code:46,key:"sweden"},{name:"Switzerland",shortname:"CH",code:41,key:"switzerland"}]},{label:"T",lists:[{name:"Taiwan",shortname:"TW",code:886,key:"taiwan"},{name:"Tajikstan",shortname:"TJ",code:992,key:"tajikistan"},{name:"Tanzania",shortname:"TZ",code:255,key:"tanzania"},{name:"Thailand",shortname:"TH",code:66,key:"thailand"},{name:"Timor-Leste",shortname:"TL",code:670,key:"east_timor"},{name:"Togo",shortname:"TG",code:228,key:"togo"},{name:"Tokelau",shortname:"TK",code:690,key:"tokelau"},{name:"Tonga",shortname:"TO",code:676,key:"tonga"},{name:"Trinidad & Tobago",shortname:"TT",code:1868,key:"trinidad_and_tobago"},{name:"Tunisia",shortname:"TN",code:216,key:"tunisia"},{name:"Turkey",shortname:"TR",code:90,key:"turkey"},{name:"Turkmenistan",shortname:"TM",code:993,key:"turkmenistan"},{name:"Turks & Caicos Islands",shortname:"TC",code:1649,key:"turks_and_caicos_islands"},{name:"Tuvalu",shortname:"TV",code:688,key:"tuvalu"}]},{label:"U",lists:[{name:"U.S. Virgin Islands",shortname:"VI",code:1340,key:"u_s_virgin_islands"},{name:"Uganda",shortname:"UG",code:256,key:"uganda"},{name:"Ukraine",shortname:"UA",code:380,key:"ukraine"},{name:"United Arab Emirates",shortname:"AE",code:971,key:"united_arab_emirates"},{name:"United Kingdom",shortname:"UK",code:44,key:"united_kingdom"},{name:"United States",shortname:"US",code:1,key:"united_states"},{name:"Uruguay",shortname:"UY",code:598,key:"uruguay"},{name:"Uzbekistan",shortname:"UZ",code:998,key:"uzbekistan"}]},{label:"V",lists:[{name:"Vanuatu",shortname:"VU",code:678,key:"vanuatu"},{name:"Vatican City",shortname:"VA",code:379,key:"vatican_city"},{name:"Vatican City",shortname:"VA",code:3906698,key:"vatican_city"},{name:"Venezuela",shortname:"VE",code:58,key:"venezuela"},{name:"Vietnam",shortname:"VN",code:84,key:"vietnam"}]},{label:"W",lists:[{name:"Wallis & Futuna",shortname:"WF",code:681,key:"wallis_and_futuna"},{name:"Western Sahara",shortname:"EH",code:212,key:"region_western_sahara"}]},{label:"Y",lists:[{name:"Yemen",shortname:"YE",code:967,key:"yemen"}]},{label:"Z",lists:[{name:"Zambia",shortname:"ZM",code:260,key:"zambia"},{name:"Zimbabwe",shortname:"ZW",code:263,key:"zimbabwe"}]}]},26558:(e,t,o)=>{"use strict";o.d(t,{MJ:()=>s,T6:()=>r,mH:()=>c,xw:()=>a,yK:()=>l});var n=o(67823),i=o(41353);function r(){return{userAgent:window.navigator.userAgent||"",acceptLanguage:window.navigator.languages||[],referrer:document.referrer||""}}function a(){return{hostname:window.location.hostname||"",pathname:window.location.pathname||"",query:(0,i.parse)(window.location.search)}}function s(e){return n.A.get(e)}function l(){throw new Error("this function only works on server side")}function c(){return console}["debug","info","warn","error"].reduce((e,t)=>(e[t]=function(...e){(0,i.parse)(window.location.search).debug&&console[t]("[DebugLogger]:",...e)},e),{})},26946:(e,t,o)=>{"use strict";o.d(t,{Lq:()=>n,Nm:()=>d,TZ:()=>l,Uy:()=>i,WU:()=>u,k9:()=>r,wX:()=>c});const n="5dc26cf008d511e9b571e1bc0c9e23b5",i="3f4a780066b911eba8eda5a15496ac5a",r="2e1fcc60aeaa11e99ef535aeebd27c9b",a={az:{displayName:"Azrbaycan",alias:[]},"id-ID":{displayName:"Bahasa Indonesia",alias:["id","id-id","in-id","in"]},"ms-MY":{displayName:"Bahasa Melayu",alias:["ms","ms-bn","ms-my"]},"jv-ID":{displayName:"Basa Jawa",alias:["jv","jv-jv"]},ca:{displayName:"Catal",alias:[]},"ceb-PH":{displayName:"Cebuano",alias:["ceb","ceb-ph"]},"cs-CZ":{displayName:"etina",alias:["cs","cs-cz"]},da:{displayName:"Dansk",alias:[]},"de-DE":{displayName:"Deutsch",alias:["de","de-at","de-ch","de-de","de-li","de-lu"]},et:{displayName:"Eesti",alias:[]},"en-GB":{displayName:"English (UK)",alias:["en-pk","en-bd","en-bt","en-bn","en-kh","en-la","en-mm","en-np","en-lk","af","en-au","en-nz","en-sg","en-ag","en-ai","en-bb","en-bm","en-bs","en-bw","en-bz","en-dm","en-fj","en-gd","en-gh","en-gm","en-gy","en-in","en-ie","en-jm","en-rw","en-kn","en-ky","en-lc","si-lk","en-ms","en-my","en-mt","en-mu","en-mw","en-na","en-ng","ne-np","en-nr","en-pg","en-sb","en-za","en-sc","en-sl","en-tc","en-to","en-tt","en-vc","en-vg","en-vu","en-zm","en-zw","en-sz","en-hk","en-mo"]},en:{displayName:"English (US)",alias:[]},es:{displayName:"Espaol",alias:["es-es","es-gq","es-ad"]},"es-419":{displayName:"Espaol (Latinoamrica)",alias:["es"]},"fil-PH":{displayName:"Filipino",alias:["fil","tl-ph","tl","fil-ph"]},fr:{displayName:"Franais",alias:["fr-be","fr-ch","fr-fr","fr-lu","fr-mc"]},"fr-CA":{displayName:"Franais (Canada)",alias:["fr-ca"]},ga:{displayName:"Gaeilge",alias:[]},hr:{displayName:"Hrvatski",alias:[]},is:{displayName:"slenska",alias:[]},"it-IT":{displayName:"Italiano",alias:["it","it-ch","it-it"]},sw:{displayName:"Kiswahili",alias:[]},lv:{displayName:"Latvieu",alias:[]},lt:{displayName:"Lietuvi",alias:[]},"hu-HU":{displayName:"Magyar",alias:["hu","hu-hu"]},"nl-NL":{displayName:"Nederlands",alias:["nl","nl-be","nl-nl"]},nb:{displayName:"norsk (bokml)",alias:[]},uz:{displayName:"Ozbek",alias:[]},"pl-PL":{displayName:"Polski",alias:["pl","pl-pl"]},pt:{displayName:"Portugus",alias:["pu"]},"pt-BR":{displayName:"Portugus (Brasil)",alias:["pt_BR","pt-br"]},"ro-RO":{displayName:"Romn",alias:["ro","ro-ro"]},sq:{displayName:"Shqip",alias:[]},sk:{displayName:"Slovenina",alias:[]},sl:{displayName:"Slovenina",alias:[]},"fi-FI":{displayName:"Suomi",alias:["fi","fi-fi"]},"sv-SE":{displayName:"Svenska",alias:["sv","sv-se"]},"vi-VN":{displayName:"Ting Vit",alias:["vi","vi-vn"]},"tr-TR":{displayName:"Trke",alias:["tr","tr-tr"]},"el-GR":{displayName:"",alias:["el","el-gr"]},bg:{displayName:"",alias:[]},kk:{displayName:"",alias:[]},"ru-RU":{displayName:"",alias:["ru","ru-ru"]},"uk-UA":{displayName:"",alias:["uk","uk-ua"]},"he-IL":{displayName:"",alias:["he","he-il","iw"]},ur:{displayName:"",alias:[]},ar:{displayName:"",alias:["ar-ae","ar-bh","ar-dz","ar-eg","ar-iq","ar-jo","ar-kw","ar-lb","ar-ly","ar-ma","ar-om","ar-qa","ar-sa","ar-sy","ar-tn","ar-ye"]},"hi-IN":{displayName:"",alias:["hi","hi-in"]},"bn-IN":{displayName:"",alias:["bn","bn-in"]},"th-TH":{displayName:"",alias:["th","th-th"]},"my-MM":{displayName:"",alias:["my","my","my-mm"]},"km-KH":{displayName:"",alias:["km","km-kh"]},"ja-JP":{displayName:"",alias:["ja","ja-jpan","ja-jp"]},"zh-Hant-TW":{displayName:" ()",alias:["zh","zh_Hant","zh_TW","zh-tw","zh-hk","zh-Hant","zh-hant-tw"]},"zh-Hans":{displayName:" ()",alias:["zh-hans","zh_hans","zh_Hans","zh-cn","zh-sg"]},"ko-KR":{displayName:"",alias:["ko","ko-kr","ko-kore"]}},s=Object.entries(a).map(([e,{alias:t}])=>[e,...t]),l=new Map(s.reduce((e,t)=>{const o=t[0];return t.forEach(t=>{e.push([t.toLocaleLowerCase(),o])}),e},[])),c=Object.entries(a).map(([e,{displayName:t}])=>({label:t,value:e})),d="en",u="tiktok_webapp_lang"},27008:(e,t,o)=>{"use strict";o.d(t,{$:()=>K});var n,i=o(13326),r=o.n(i),a=o(26324),s=o(65070),l=o(23999),c=o(20259),d=o(80339),u=o(62564),p=o(8536),g=o(1475),m=o(74690),h=o(72916),v=o(24451),_=o(64162),f=o(4126),b=o(15176),y=o(340),w=o(33675),k=o(58746),S=o(21807),C=o(49320),x=o(33238),P=o(58629),T=o(75427),O=o(76924),A=o(9850),E=o(99108),L=o(41363),j=o(65631),I=o(30573),R=o(33582),M=o(78854),D=o(22833),F=o(27961),N=o(87682),U=o(33075),B=o(37796),H=o(92110),z=o(89004),Y=o(18459),W=o(74285),V=o(65421),G=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};function $(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function q(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class K extends _.E{setLoginSuccess(e,t){e.success=null!=t?t:A.Rs.Login}setErrorMsg(e,t){e.errorMsg=t}setErrorCode(e,t){e.errorCode=t}setTwoStepVerifyRes(e,t){e.twoStepResponse=t}setNeedForceResetPassword(e,t){const o=t.otp_type.match("email")?A.Sk.Email:A.Sk.Phone;this.history.push(o===A.Sk.Email?T.tH.loginForgetEmailPassword:T.tH.loginForgetPhonePassword),e.forceResetResponse=Object.assign(Object.assign({},t),{type:o})}clearForceResetRes(e){e.forceResetResponse=void 0}setShowReactiveModal(e,t){e.showReactiveModal=t.show,t.res?e.inCancellationResponse=Object.assign(Object.assign({},t.res),{isStopAccount:t.res.error_code===E.AX}):e.inCancellationResponse=void 0}setShowM2Modal(e,t){e.showM2Modal=t.show,t.res&&(e.m2Response=t.res)}setLoginLoading(e,t){e.loginLoading=t}setPhoneNotRegistered(e,t){e.phoneNotRegistered=t}clearLoginResult(e){e.errorMsg="",e.phoneNotRegistered=!1,e.twoStepResponse=void 0}cancelDeleteAccount(e){return e.pipe((0,v.E)(this.state$),(0,p.Z)(([e,t])=>{var o,n;const i=null===(o=t.inCancellationResponse)||void 0===o?void 0:o.token;return((null===(n=t.inCancellationResponse)||void 0===n?void 0:n.isStopAccount)?this.service.cancelDeactiveAccount({token:i,type:0}):this.service.cancelDeleteAccount({token:i,type:0})).pipe((0,p.Z)(e=>(e.successType=A.Rs.Reactive,(0,l.of)(this.getActions().setShowReactiveModal({show:!1}),this.getActions().handleLoginResult(e)))))}))}handleForceResetPwdByEmail(e){return e.pipe((0,p.Z)(e=>this.service.validateEmailCodeForForceReset(e).pipe((0,h.n)(t=>{const{error_code:o,ticket:n}=t;return o?(0,l.of)(this.getActions().handleLoginResult(t)):this.service.forceResetPwdByEmailTicket(Object.assign(Object.assign({},e),{ticket:n})).pipe((0,u.T)(t=>(t.password=e.password,this.getActions().handleLoginResult(t))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))}),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}handleForceResetPwdByPhone(e){return e.pipe((0,p.Z)(e=>this.service.validatePhoneCodeForForceReset(e).pipe((0,p.Z)(t=>{const{error_code:o,ticket:n}=t;return o?(0,l.of)(this.getActions().handleLoginResult(t)):this.service.forceResetPwdByMobileTicket(Object.assign(Object.assign({},e),{ticket:n})).pipe((0,u.T)(t=>(t.password=e.password,this.getActions().handleLoginResult(t))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))}),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}handleForceResetPwd(e){return e.pipe((0,p.Z)(e=>{var{type:t}=e,o=G(e,["type"]);return(t===A.Sk.Email?this.service.forceResetPwdByEmailTicket(o):this.service.forceResetPwdByMobileTicket(o)).pipe((0,u.T)(e=>(e.password=o.password,this.getActions().handleLoginResult(e))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))}))}handlePasswordLogin(e){return e.pipe((0,v.E)(this.contextModule.state$),(0,p.Z)(([e,{isSecurityVerification:t}])=>(t?this.service.verifyPwdWithoutLogin(e):this.service.passwordLogin(e)).pipe((0,u.T)(t=>{var o;const{verify_ticket:n}=null!==(o=e.extra_params)&&void 0!==o?o:{};return n&&this.loginReport.twoStepResult({error_code:t.error_code,result:t.error_code?"fail":"success",verification_method:"password"}),t.accountQuery=e,E.nC[t.error_code]&&e.mobile&&(t.errorMsg=E.nC[t.error_code]),this.getActions().handleLoginResult(t)}),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}changePwdByEmail(e){return e.pipe((0,p.Z)(({password:e,email:t,emailCode:o,not_login_ticket:n,verify_ticket:i})=>this.service.resetPwdLoginByEmail({email:t,code:o,password:e,extra_params:{not_login_ticket:n,verify_ticket:i}}).pipe((0,u.T)(t=>(i&&this.loginReport.twoStepResult({verification_method:"email",error_code:t.error_code,result:t.error_code?"fail":"success"}),t.resetPwdType="email",t.error_code&&(t.password=e,1011===t.error_code&&(t.errorMsg="common_login_reset_email_input_error")),this.getActions().handleLoginResult(t))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}handleSmsLogin(e){return e.pipe((0,p.Z)(({mobile:e,phoneCode:t,login_only:o,birthday:n,region:i})=>this.ageGate.validateAge((0,l.of)({canSkip:o,region:i})).pipe((0,g.i)(1),(0,p.Z)(({payload:r})=>"boolean"==typeof r?(0,l.of)(this.ageGate.getActions().setShowAgeConfirm(r)):(null==r?void 0:r.ageEligible)||null===r?this.service.smsLogin({mobile:e,code:t,login_only:o,birthday:n}).pipe((0,p.Z)(e=>(e.error_code&&(e.errorMsg=E.j9[e.error_code]),(0,l.of)(this.getActions().handleLoginResult(e),o?this.noop():this.signupModule.getActions().storeConsent({region:String(i),user_id_str:e.user_id_str}),r?this.ageGate.getActions().setAgeCheckResult(r):this.noop()))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1))):(0,l.of)(this.ageGate.getActions().setAgeCheckResult(r))))))}handleSmsVerify(e){return e.pipe((0,p.Z)(({mobile:e,phoneCode:t})=>this.service.smsVerify({mobile:e,code:t,extra_params:{web_verify_need_region:1,web_verify_expire_in:1200}}).pipe((0,p.Z)(e=>(e.error_code&&(e.errorMsg=E.j9[e.error_code]),(0,l.of)(this.getActions().handleLoginResult(e)))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}changePwdByMobile(e){return e.pipe((0,p.Z)(({password:e,mobile:t,phoneCode:o})=>this.service.changePwdByMobile({mobile:t,code:o,password:e}).pipe((0,u.T)(t=>(t.resetPwdType="mobile",t.error_code&&(t.password=e,t.errorMsg=E.j9[t.error_code]),this.getActions().handleLoginResult(t))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}setAccount(e){return e.pipe((0,p.Z)(e=>{var{nextUrl:t}=e,o=G(e,["nextUrl"]);return this.service.setAccount(o).pipe((0,u.T)(e=>{const{error_code:o,description:n}=e;if(o){const e=this.t(n);return(0,F.P)(e),console.error(`Login: Set account error: ${e}`),this.noop()}return t?(this.history.push(t),this.noop()):this.getActions().setLoginSuccess()}),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))}))}handleM2BindLogin(e){return e.pipe((0,p.Z)(e=>this.service.m2TicketLoginAndBindOauth(e).pipe((0,u.T)(t=>(t.bondM2=!0,t.m2LoginQuery=e,this.getActions().handleLoginResult(t))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}handleM2BindLogout(e){return e.pipe((0,p.Z)(e=>this.service.m2BindAppleId(e).pipe((0,u.T)(e=>this.getActions().handleLoginResult(e)),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))))}handleChangePwdByTicket(e){return e.pipe((0,p.Z)(e=>{var{type:t}=e,o=G(e,["type"]);return("email"===t?this.service.resetPwdByEmailTicket(o):this.service.resetPwdByMobileTicket(o)).pipe((0,u.T)(e=>(e.resetPwdType=t,e.error_code&&(e.password=o.password,e.errorMsg=E.j9[e.error_code]),this.getActions().handleLoginResult(e))),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)))}))}handleLoginResult(e){return e.pipe((0,v.E)(this.contextModule.state$,this.phone.state$,this.bizContext.state$,this.appContext.state$),(0,p.Z)(([e,{disableSignup:t,isSecurityVerification:o,phoenix:n},{mobile:i},{bizContext:r},{appContext:a}])=>{var u,g;const{error_code:v,errorMsg:_,error_msg:f,description:b,new_user:y,screen_name:w,sec_user_id:k,successType:S,ticket:C,default_error_msg:P,region:O,resetPwdType:L,user_id_str:j,verify_ticket:I,report_msg:F,bondM2:N,one_tap_token_source:U}=e,B=x.nf.getTrackingInfo(),H=e.platform||this.loginReport.platform,z=e=>{this.loginReport.loginSuccess({signUp:e,is_register:e?1:0,e2eInfo:B,bondM2:N,one_tap_token_source:U}),this.sloReporter.loginSuccess({signUp:e,forgetPwd:Boolean(L),one_tap_token_source:U}),x.nf.saveLoginSuccessInfo({teaPlatform:H,isSignUp:e})};if(D.K.hide(),y)return z(!0),(0,l.of)(this.contextModule.getActions().setContext({lastSuccessPlatform:H}),this.signupModule.getActions().syncUserInfos({region:String(O)}));if(!v)return z(!1),o&&this.setTicketIntoCookie(C,n),(0,s.p)([this.regionService.authBroadcast({screen_name:w,sec_uid:k}),(0,R.x)(null==a?void 0:a.abTestVersion).onLoginPage?this.service.refreshSession():(0,l.of)(null)]).pipe((0,p.Z)(()=>(0,l.of)(this.contextModule.getActions().setContext({lastSuccessPlatform:H}),this.getActions().setLoginSuccess(S))));const Y=E.j9[v]||_||f||b||P,W=null!==(u=null===(g=this.history.location())||void 0===g?void 0:g.pathname.startsWith("/signup"))&&void 0!==u&&u;if(this.loginReport.loginFailure({error_code:v,e2eInfo:B,signUp:W,one_tap_token_source:U}),this.sloReporter.loginFailure({errorCode:v,forgetPwd:Boolean(L),errorMsg:null!=F?F:Y,signUp:W,one_tap_token_source:U}),v===E.v1.BannedUser)return this.accountStatusService.getAccountAppealStatus({object_type:"6",object_id:j,verify_ticket:I}).pipe((0,p.Z)(e=>(0,l.of)(this.accountBanModule.getActions().setShowAccountBanModal({show:!0,res:e,verifyTicket:I,userId:j}))),(0,c.W)(()=>(0,l.of)(this.accountBanModule.getActions().setShowAccountBanModal({show:!1}))),(0,h.n)(e=>{const t=E.j9[v]||f||b||P;return(0,l.of)(e,this.getActions().setErrorMsg(t),this.getActions().setErrorCode(v))}),(0,m.Z)(this.getActions().setLoginLoading(!0)),(0,d.q)(this.getActions().setLoginLoading(!1)));if(v===E.v1.NeedForceResetPassword)return(0,l.of)(this.getActions().setNeedForceResetPassword(e));if(v===E.v1.NeedTwoStep)return(0,l.of)(this.getActions().setTwoStepVerifyRes(e));if(-1!==E.Ci.indexOf(v))return(null==r?void 0:r.isMobile)&&this.history.push({pathname:T.tH.accountDeactivate,state:{init:!0}}),(0,l.of)(this.getActions().setShowReactiveModal({show:!0,res:e}));if(v===E.v1.TwoStepBlockLogin)return(0,l.of)(this.contextModule.getActions().setShowAlertMessageType(A.Go.TwoStepBlock));if(v===E.v1.TwoStepBlockResetPassword)return(0,l.of)(this.contextModule.getActions().setShowAlertMessageType(A.Go.TwoStepBlockResetPwd));if(v===E.v1.NeedSignup&&t||v===E.v1.AuthorizationError&&o)return(0,l.of)(this.contextModule.getActions().setShowAlertMessageType(A.Go.AccountNotExist));if(v===E.v1.NeedSignup){if(e.sms_code_key)return(0,l.of)(this.getActions().setPhoneNotRegistered(!0),this.signupModule.getActions().cacheSmsCodeKey({smsCodeKey:e.sms_code_key,mobile:i}));if(e.profile_key)return(0,l.of)(this.signupModule.getActions().registerThirdPlatform({profileKey:e.profile_key,platform:e.platform,region:O}))}return(0,M.X)(v)?(0,l.of)(this.riskError.getActions().handleRiskError({errorCode:v})):v===E.v1.NeedM2Bind?(this.history.push({pathname:T.tH.loginM2Bind,state:{m2_lookup_ticket:e.m2_lookup_ticket,bind_info:e.bind_info}}),(0,l.of)(this.noop())):E.$X[v]?(0,l.of)(this.phone.getActions().setErrorMsg(E.$X[v])):E.SH.includes(v)?(0,l.of)(this.sendCode.getActions().setErrorMsg({description:Y})):(0,l.of)(this.getActions().setErrorMsg(Y),this.getActions().setErrorCode(v))}))}setTicketIntoCookie(e,t){const o=new Date;o.setTime((new Date).getTime()+12e5),r().set("security_verification_ticket",e,{domain:t?"www.tiktok.in":"tiktok.com",secure:!0,expires:o})}constructor(e,t,o,n,i,r,a,s,l,c,d,u,p,g,m,h){super(),this.appContext=e,this.bizContext=t,this.contextModule=o,this.signupModule=n,this.service=i,this.regionService=r,this.ageGate=a,this.loginReport=s,this.sloReporter=l,this.sendCode=c,this.phone=d,this.accountStatusService=u,this.accountBanModule=p,this.t=g,this.history=m,this.riskError=h,this.defaultState={errorMsg:"",showReactiveModal:!1,loginLoading:!1,showM2Modal:!1,m2Response:void 0}}}$([(0,f.uk)(),q("design:type",void 0===a.c?Object:a.c)],K.prototype,"dispose$",void 0),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,void 0===A.Rs?Object:A.Rs]),q("design:returntype",void 0)],K.prototype,"setLoginSuccess",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,String]),q("design:returntype",void 0)],K.prototype,"setErrorMsg",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,Number]),q("design:returntype",void 0)],K.prototype,"setErrorCode",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,"undefined"==typeof TwoStepErrorData?Object:TwoStepErrorData]),q("design:returntype",void 0)],K.prototype,"setTwoStepVerifyRes",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,"undefined"==typeof ForcePasswordResetErrorData?Object:ForcePasswordResetErrorData]),q("design:returntype",void 0)],K.prototype,"setNeedForceResetPassword",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState]),q("design:returntype",void 0)],K.prototype,"clearForceResetRes",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,Object]),q("design:returntype",void 0)],K.prototype,"setShowReactiveModal",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,Object]),q("design:returntype",void 0)],K.prototype,"setShowM2Modal",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,Boolean]),q("design:returntype",void 0)],K.prototype,"setLoginLoading",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState,Boolean]),q("design:returntype",void 0)],K.prototype,"setPhoneNotRegistered",null),$([(0,f.h5)(),q("design:type",Function),q("design:paramtypes",["undefined"==typeof LoginResultDealModuleState?Object:LoginResultDealModuleState]),q("design:returntype",void 0)],K.prototype,"clearLoginResult",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"cancelDeleteAccount",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleForceResetPwdByEmail",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleForceResetPwdByPhone",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleForceResetPwd",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handlePasswordLogin",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"changePwdByEmail",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleSmsLogin",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleSmsVerify",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"changePwdByMobile",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"setAccount",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleM2BindLogin",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleM2BindLogout",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0)],K.prototype,"handleChangePwdByTicket",null),$([(0,f.Mj)(),q("design:type",Function),q("design:paramtypes",[void 0===a.c?Object:a.c]),q("design:returntype",void 0===a.c?Object:a.c)],K.prototype,"handleLoginResult",null),K=$([(0,b.nV)("LoginResultDealModule"),(n=(0,y.y)(w.hp),function(e,t){n(e,t,13)}),q("design:type",Function),q("design:paramtypes",[void 0===k.L?Object:k.L,void 0===S.$?Object:S.$,void 0===H.t?Object:H.t,void 0===V.H?Object:V.H,void 0===L.r?Object:L.r,void 0===j.d?Object:j.d,void 0===C.T?Object:C.T,void 0===O.$F?Object:O.$F,void 0===N.le?Object:N.le,void 0===W.m?Object:W.m,void 0===z.U?Object:z.U,void 0===B.v?Object:B.v,void 0===U.T?Object:U.T,void 0===P.I18NTranslate?Object:P.I18NTranslate,void 0===I.D?Object:I.D,void 0===Y.S?Object:Y.S])],K)},27961:(e,t,o)=>{"use strict";o.d(t,{P:()=>i});var n=o(6791);const i=(e,t=3)=>{n.F.destroy(),n.F.open({content:e,duration:t,widthType:"half",style:{minWidth:"300px"}})}},30356:(e,t,o)=>{"use strict";o.d(t,{yH:()=>n});const n="tiktok_webapp_login"},30573:(e,t,o)=>{"use strict";o.d(t,{D:()=>i});var n=o(17592);class i{init(e){this.history=e}push(e,t){var o;null===(o=this.history)||void 0===o||o.push(e,t)}location(){var e;return null===(e=this.history)||void 0===e?void 0:e.location}}i=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,n._q)({name:"LoginHistoryService@tiktok/login"})],i)},30576:()=>{},31421:(e,t,o)=>{"use strict";o.d(t,{M:()=>p,U:()=>u});var n=o(32877),i=o.n(n),r=o(40099),a=o(13392),s=o(78134),l=o(44973),c=o(92110),d=o(42715);function u(e,t){return(0,a.Ph)(c.t,{selector:t=>{const o=t;return i()(o,...e())},dependencies:t})}function p(){const{ttpConfig:e}=u(()=>["ttpConfig"],[]);let t=null;return(0,l.fU)()||(t=(0,s.YI)(d.dI)),(0,r.useMemo)(()=>Object.assign(Object.assign({},null==t?void 0:t.config.ttpConfig),e),[e,t])}},31773:(e,t,o)=>{"use strict";o.d(t,{CQ:()=>a,Si:()=>c,Yp:()=>r,Zu:()=>s,sG:()=>l});var n,i=o(80337);!function(e){e[e.Unknown=0]="Unknown",e[e.WebLoggedIn=513]="WebLoggedIn",e[e.WebUSNotLoggedIn=514]="WebUSNotLoggedIn",e[e.WebUSNotLoggedInHighRisk=515]="WebUSNotLoggedInHighRisk",e[e.WebNonUSNotLoggedIn=516]="WebNonUSNotLoggedIn",e[e.WebUnder13=517]="WebUnder13",e[e.WebEUNotLoggedIn=518]="WebEUNotLoggedIn",e[e.WebEUNotLoggedInHighRisk=519]="WebEUNotLoggedInHighRisk"}(n||(n={}));const r=()=>"ageVerify"===(0,i.Hd)("enter_method"),a=3058,s=3059,l={m:"va",t:"sg",us:"ttp",boe:"boe","":void 0},c="bdturing-verify"},33075:(e,t,o)=>{"use strict";o.d(t,{T:()=>l});var n=o(64162),i=o(4126),r=o(15176);function a(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class l extends n.E{setShowAccountBanModal(e,t){e.showAccountBanModal=t.show,t.res&&(e.accountAppealRes=t.res,e.verifyTicket=t.verifyTicket,e.userId=t.userId)}constructor(...e){super(...e),this.defaultState={showAccountBanModal:!1}}}a([(0,i.h5)(),s("design:type",Function),s("design:paramtypes",["undefined"==typeof AccountBanModuleState?Object:AccountBanModuleState,Object]),s("design:returntype",void 0)],l.prototype,"setShowAccountBanModal",null),l=a([(0,r.nV)("AccountBanModule")],l)},33238:(e,t,o)=>{"use strict";o.d(t,{BL:()=>m,MM:()=>g,nf:()=>p});var n=o(67823),i=o(76924),r=o(87102),a=o(99857);const s={METHOD:"last_login_success_method",TIMESTAMP:"last_login_success_timestamp",TRACKING_INFO:"last_login_success_tracking_info",ENTER_TYPE:"last_login_enter_type"},l="login_tracking_resume_data",c="login_tracking_resume_timestamp",d="login_tracking_resume_source";class u{populateTrackingInfoFromSessionStorage(){const e=(0,r.Qy)("login_btn_click_timestamp")||void 0,t=e?Number(e):void 0,o=void 0!==t&&Date.now()-t>this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS,n=(0,r.Qy)("login_tracking_info")||void 0,i=(0,r.Qy)("login_send_info_back_after_success")||void 0,a=(0,r.Qy)(l)||void 0,s=(0,r.Qy)(c)||void 0,u=s?Number(s):void 0,p=void 0!==u&&Date.now()-u<=this.MAX_RESUME_VALID_DURATION_THRESHOLD_SECONDS,g=(0,r.Qy)(d)||void 0;if(n){let e;try{e=JSON.parse(n)}catch(e){console.log("Parse tracking info from session storage failed",e)}return!e||o?this.resetTrackingProps():(this.setTrackingInfo(e),this.setClickToLoginTimestamp(t),this.setHasDurationSinceClickTimestampUsed(!1),this.setSendInfoBackAfterLoginSuccess("1"===i),void this.setResumeDataSource(void 0))}if(a&&g){let e;try{e=JSON.parse(a)}catch(e){console.log("Parse resume data from session storage failed",e)}return e&&p?this.batchSetResumeInfo(e,g):this.resetTrackingProps()}return this.resetTrackingProps()}batchSetResumeInfo(e,t){this.setTrackingInfo(e.trackingInfo),this.setClickToLoginTimestamp(e.clickToLoginTimestamp),this.setHasDurationSinceClickTimestampUsed(e.hasDurationSinceClickTimestampUsed),this.setSendInfoBackAfterLoginSuccess(e.sendInfoBackAfterLoginSuccess),this.setLoginSuccessPlatform(e.loginSuccessPlatform),this.setLoginSuccessEnterType(e.loginSuccessEnterType),this.setResumeDataSource(t)}setTrackingInfo(e){this.trackingInfo=e}getTrackingInfo(){return this.trackingInfo}getResumeDataSource(){return this.resumeDataSource}setClickToLoginTimestamp(e){this.clickToLoginTimestamp=e}setLoginSuccessPlatform(e){this.loginSuccessPlatform=e}setLoginSuccessEnterType(e){this.loginSuccessEnterType=e}setResumeDataSource(e){this.resumeDataSource=e}getClickToLoginTimestamp(){return this.clickToLoginTimestamp}setSendInfoBackAfterLoginSuccess(e){this.sendInfoBackAfterLoginSuccess=e}getSendInfoBackAfterLoginSuccess(){return this.sendInfoBackAfterLoginSuccess}resetTrackingProps(){this.trackingInfo=void 0,this.clickToLoginTimestamp=void 0,this.sendInfoBackAfterLoginSuccess=void 0,this.hasDurationSinceClickTimestampUsed=!1,this.loginSuccessPlatform=void 0,this.loginSuccessEnterType=void 0,this.resumeDataSource=void 0}prepareResumeData(e){if(!this.trackingInfo)return;const t={trackingInfo:this.trackingInfo,clickToLoginTimestamp:this.clickToLoginTimestamp,sendInfoBackAfterLoginSuccess:this.sendInfoBackAfterLoginSuccess,hasDurationSinceClickTimestampUsed:this.hasDurationSinceClickTimestampUsed,loginSuccessEnterType:this.loginSuccessEnterType,loginSuccessPlatform:this.loginSuccessPlatform},o=JSON.stringify(t);(0,r.J2)(l,o),(0,r.J2)(c,Date.now().toString()),(0,r.J2)(d,e)}clearResumeData(){(0,r.X)(l),(0,r.X)(c),(0,r.X)(d)}setHasDurationSinceClickTimestampUsed(e){this.hasDurationSinceClickTimestampUsed=e}getDurationSinceClickTimestampOnce(){if(!this.hasDurationSinceClickTimestampUsed)return this.hasDurationSinceClickTimestampUsed=!0,void 0!==this.clickToLoginTimestamp?Date.now()-this.clickToLoginTimestamp:void 0}saveLoginSuccessInfo({teaPlatform:e,isSignUp:t}){this.trackingInfo&&(this.loginSuccessPlatform=e,this.loginSuccessEnterType=t?i.TZ.ClickSignUp:i.TZ.ClickLogin)}getLoginSuccessE2ETrackingProps(){if(this.trackingInfo&&this.sendInfoBackAfterLoginSuccess)return{trackingInfo:this.trackingInfo,successTimestamp:Date.now(),successEnterType:this.loginSuccessEnterType,successMethod:this.loginSuccessPlatform}}setUpLoginSuccessE2ETracking(){if(!this.trackingInfo||!this.sendInfoBackAfterLoginSuccess)return;const{TIMESTAMP:e,METHOD:t,TRACKING_INFO:o,ENTER_TYPE:i}=s;(0,r.J2)(e,Date.now().toString()),(0,r.J2)(o,JSON.stringify(this.trackingInfo)),this.loginSuccessEnterType&&(0,r.J2)(i,this.loginSuccessEnterType),this.loginSuccessPlatform&&(0,r.J2)(t,this.loginSuccessPlatform),n.A.set("TT_rp_login_track_pram","1",{path:"/",domain:"tiktok.com",secure:!1,sameSite:"lax","max-age":"4"})}constructor(){this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS=1e4,this.hasDurationSinceClickTimestampUsed=!1,this.MAX_RESUME_VALID_DURATION_THRESHOLD_SECONDS=1e4}}const p=(0,a.U)("LoginTrackingUtilsInstance@tiktok/fe-shared",()=>new u),g={CLICK_TIMESTAMP:"logout_btn_click_timestamp",TRACKING_INFO:"logout_tracking_info"},m=new class{populateTrackingInfoFromSessionStorage(){const e=(0,r.Qy)(g.CLICK_TIMESTAMP)||void 0,t=e?Number(e):void 0,o=void 0!==t&&Date.now()-t>this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS,n=(0,r.Qy)(g.TRACKING_INFO)||void 0;if(o)return;let i;if(n)try{i=JSON.parse(n)}catch(e){console.log("Parse logout tracking info from session storage failed",e)}this.trackingInfo=i}getTrackingInfo(){return this.trackingInfo}constructor(){this.MAX_CLICK_TIMESTAMP_THRESHOLD_SECONDS=1e4}}},33358:(e,t,o)=>{"use strict";o.d(t,{xj:()=>Y,$p:()=>H,bc:()=>z,sn:()=>A,Ke:()=>R,tO:()=>O,pz:()=>D,U0:()=>F,j:()=>N,RR:()=>U,Iy:()=>I,cj:()=>M,Fj:()=>L});var n=o(7013),i=o.n(n);const r={},a=1e4;let s=0;function l(e,t=[]){let o;o="string"==typeof t||Array.isArray(t)?{path:t}:t;const{path:n,exact:l=!1,strict:c=!1,sensitive:d=!1}=o,u=Array.isArray(n)?[...n]:[n];return u.length?u.reduce((t,o)=>{if(!o&&""!==o)return null;if(t)return t;const{regexp:n,keys:u}=function(e,t){const o=`${t.end}${t.strict}${t.sensitive}`,n=r[o]||(r[o]={});if(n[e])return n[e];const l=[],c={regexp:i()(e,l,t),keys:l};return s<a&&(n[e]=c,s++),c}(o,{end:l,strict:c,sensitive:d}),p=n.exec(e);if(!p)return null;const[g,...m]=p,h=e===g;return l&&!h?null:{path:o,url:"/"===o&&""===g?"/":g,isExact:h,params:u.reduce((e,t,o)=>(e[t.name]=m[o],e),{})}},null):null}var c=o(7378),d=o(36318),u=o(14912),p=o(57038),g=o(94810),m=o(72761);const{getPureLivePath:h,getPureMusicPath:v,getPureTagPath:_,getPureStickerPath:f,getPureUserPath:b,getPureVideoPath:y,getPureQuestionPath:w}=g.h,{getPureUniqueId:k,hasIllegalText:S,isPureNumber:C,isRealUniqueId:x,purifyMusicName:P,purifyPlainText:T}=g.A;function O(e){return e.replace(/\/$/,"")===d.OZ.foryou||function(e){const t=e.replace(/\/$/,"");return e===d.OZ.home||d.OZ.foryouWithLang.includes(t)}(e)}function A(e){if(O(e))return m.A.Trending;if(e.match("/following"))return m.A.Following;if(e.match("/friends"))return m.A.Friends;if(e.match("/setting"))return m.A.Setting;if(e.match("/search"))return m.A.SearchResults;if(e.match("/message"))return m.A.Message;if(e.match("/video"))return m.A.Video;if(e.match("/@"))return e.match("/live")?"":m.A.User;if(e.match("/report"))return m.A.Report;if(e.match("/music"))return m.A.Music;if(e.match("/effect"))return m.A.Effect;if(e.match("/tag"))return m.A.Challenge;if(e.match(/\/discover\/.+/))return m.A.Expansion;if(e.match("/discover"))return m.A.Discover;if(e.match("/live"))return"";if(E(e)){const t=l(e,{path:d.OZ.topics,exact:!0});return`${m.A.Topics}_${null==t?void 0:t.params.name}`}return e.match("/profile")?m.A.Profile:e.match("/inbox")?m.A.Inbox:e.match("/feedback")?m.A.Feedback:""}function E(e){return Boolean(l(e,{path:d.OZ.topics,exact:!0}))}function L(e){return/^\/@[^/]*\/video\/\d+/.test(e)||/^\/@[^/]*\/photo\/\d+/.test(e)}function j(e){return/^\/@.+\/live/.test(e)}function I(e){return/^\/music\/.+/.test(e)}function R(e){return/^\/tag\/.+/.test(e)}function M(e){return!/^\/@.+\/live/.test(e)&&!/^\/@.*\/video\/\d+/.test(e)&&/^\/@.+/.test(e)&&!/^\/@.*\/collection\/.+/.test(e)}function D(e){var t;return"expansion"===(null==(t=(0,u.fq)(e))?void 0:t.name)}function F(e){return!!l(e,{path:[p.vI.liveDiscover,p.vI.liveFollowing,p.vI.liveGaming,p.vI.liveSingleGaming,p.vI.liveEventAggregation,p.vI.liveLifestyle,p.vI.liveCategory,p.vI.liveCategoryGaming,p.vI.liveCategoryLifestyle,p.vI.liveCategorySingleGaming,p.vI.liveCategorySingleLifeStyle,p.vI.liveCategorySingleAction],exact:!0})}function N(e){return/live\/event\/\d/.test(e)}function U(e){return/live\/event/.test(e)}c.g.Trending,c.g.Following,c.g.Friends,c.g.Video,c.g.Music,c.g.Effect,c.g.Challenge,c.g.Collection,c.g.User,c.g.SearchUserResult,c.g.SearchVideoResult,c.g.SearchLiveResult,c.g.SearchResult,c.g.Question,c.g.Topic,c.g.Messages,c.g.Discover,c.g.KeywordsExpansion,c.g.Channel,c.g.Playlist,c.g.Poi;const B=e=>"business"===new URLSearchParams(e).get("scene");function H(e){var t,o;return["download","downloadWithLang","downloadVideo","downloadVideoWithLang"].includes(null!==(t=null==(o=(0,d.jN)(e))?void 0:o.name)&&void 0!==t?t:"")}function z(e,t){return(!t||!B(t))&&(R(e)||E(e)||function(e){return e===d.OZ.following}(e)||function(e){return e===d.OZ.friends}(e)||O(e)||I(e)||function(e){return/^\/effect\/.+/.test(e)}(e)||L(e)||M(e)&&!function(e){return/^\/@.+\/playlist\/.+/.test(e)}(e)||function(e){return Boolean(l(e,{path:d.OZ.discover,exact:!0}))}(e)||function(e){return e===d.OZ.searchHome}(e)||function(e){return e===d.OZ.searchUser}(e)||function(e){return e===d.OZ.searchVideo}(e)||function(e){return e===d.OZ.searchLive}(e)||function(e){return e===d.OZ.searchReminder}(e)||function(e){return/^\/question\/.+/.test(e)}(e)||function(e){return/^\/place\/.+/.test(e)||/^\/travel\/.+/.test(e)}(e)||function(e){return/^\/@.*\/collection\/.+/.test(e)}(e)||function(e){return Boolean(l(e,{path:d.OZ.explore,exact:!0}))}(e)||function(e){var t;return(null==(t=(0,d.jN)(e))?void 0:t.name)===d.eU.channel}(e)||function(e){var t;return(null==(t=(0,d.jN)(e))?void 0:t.name)===d.eU.find}(e)||function(e){var t;return(null==(t=(0,d.jN)(e))?void 0:t.name)===d.eU.videoPlaylist}(e)||function(e){return e.startsWith("/404")}(e)||function(e){return e.startsWith("/feedback")}(e)||function(e){return/^\/messages/.test(e)}(e)||function(e){return e.startsWith(d.OZ.setting)}(e)||D(e)||function(e){return e.startsWith("/upload")}(e)||F(e)||j(e)||function(e){return e.startsWith("/live/popout/")}(e)||N(e))}function Y(e){return F(e)||j(e)||N(e)}},33482:(e,t,o)=>{"use strict";o.d(t,{R:()=>f,W:()=>w});var n=o(72516),i=o(24643),r=o(40099),a=o(18499),s=o(75431),l=o(57363);const c=36,d=(0,s.i7)({"25%":{cx:100,r:1.2*c},"50%":{cx:140,r:c},"75%":{cx:100,r:.6*c},"100%":{cx:60,r:c}}),u=(0,s.i7)({"25%":{cx:100,r:24},"50%":{cx:60,r:c},"75%":{cx:100,r:1.2*c},"100%":{cx:140,r:c}});var p;!function(e){e[e.Red=0]="Red",e[e.Green=1]="Green",e[e.Black=2]="Black"}(p||(p={}));const g={strokeWidth:0,r:c,cy:99},m={0:{fill:"#fe2c55",cx:128,animation:`${u} 1s cubic-bezier(.05, 0, 1, 1) infinite`},1:{fill:"#3af2ff",cx:60,animation:`${d} 1s cubic-bezier(.05, 0, 1, 1) infinite`},2:{fill:"#0f0f0f",cx:60,animation:`${d} 1s cubic-bezier(.05, 0, 1, 1) infinite`}},h=(0,l.A)("circle",{target:"e1ugmybf0"})(({circleType:e,isBlack:t})=>[g,m[e],t?{fill:"#000"}:null],"label:Circle;"),v=(0,l.A)("svg",{target:"e1ugmybf1"})({display:"block"},({center:e})=>e?{margin:"6px auto"}:null,"label:SvgContainer;"),_={default:48,small:32},f=(0,r.memo)((0,r.forwardRef)(function(e,t){var{size:o=48,center:r=!1,maskKey:a=Date.now()}=e,s=(0,n.Tt)(e,["size","center","maskKey"]);const l="string"==typeof o?_[o]:o;return(0,i.jsxs)(v,Object.assign({center:r,preserveAspectRatio:"none",viewBox:"0 0 200 200",width:l,height:l},s,{ref:t},{children:[(0,i.jsxs)("defs",{children:[(0,i.jsxs)("mask",Object.assign({id:`redhole-${a}`},{children:[(0,i.jsx)("rect",{width:"100%",height:"100%",fill:"white"}),(0,i.jsx)(h,{circleType:0,isBlack:!0})]})),(0,i.jsxs)("mask",Object.assign({id:`greenhole-${a}`},{children:[(0,i.jsx)("rect",{width:"100%",height:"100%",fill:"white"}),(0,i.jsx)(h,{circleType:1,isBlack:!0})]}))]}),(0,i.jsx)(h,{strokeWidth:2,stroke:"#3AF2FF",circleType:2}),(0,i.jsx)(h,{circleType:1,mask:`url(#redhole-${a})`}),(0,i.jsx)(h,{circleType:0,mask:`url(#greenhole-${a})`})]}))})),b="tiktok-loading-icon-container";function y(e){var t;const o=document.getElementById(b);if(o)return o;const n=document.createElement("div");return n.id=b,n.style.cssText="display: inline-block; position: fixed; left: calc(50% - 15px); top: 38%; z-index: 100",(e&&null!==(t=document.querySelector(e))&&void 0!==t?t:document.body).appendChild(n),n}const w={show:e=>a.render((0,i.jsx)(f,{size:30}),y(e)),hide:()=>{try{const e=y();a.unmountComponentAtNode(e)}catch(e){console.error("hide loading error",e)}}}},33582:(e,t,o)=>{"use strict";o.d(t,{x:()=>n});const n=e=>{const t=null==e?void 0:e.parameters;if(!t)return{onTargetPage:!1,onLoginPage:!1};const{login_itp_resolve:o,live_recharge_login_itp_new:n}=t,i="v1"===(null==n?void 0:n.vid);return{onTargetPage:i,onLoginPage:!i&&"v1"===(null==o?void 0:o.vid)}}},33675:(e,t,o)=>{"use strict";o.d(t,{Ss:()=>s,hp:()=>l,rv:()=>c}),o(24643);var n=o(14285),i=o(16378),r=o.n(i),a=o(99857);const s=(0,o(5160).$)("I18nContextV2@tiktok/isomorphic")({t:(e,t,o)=>o&&"string"==typeof o?o:e,hasLoaded:r(),loadStarling:r(),initialNamespaces:[],lang:""}),l=(0,a.U)("I18nInjectionToken@tiktok/isomorphic",()=>new n.n("i18n")),c="webapp.i18n-translation"},34974:(e,t,o)=>{"use strict";o.d(t,{F:()=>i});var n=o(40099);function i(e){const t=(0,n.useRef)(e);return t.current=e,t}},35039:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var n=o(13392),i=o(53548),r=o(50797),a=o(65421);function s(){var e,t;const{region:o}=(0,n.Ph)(a.H),{region:s}=(0,r.L$)((0,i.W)(()=>["region"],[]));return null!==(e=null==o||null===(t=o.countryCode)||void 0===t?void 0:t.toUpperCase())&&void 0!==e?e:s}},35131:(e,t,o)=>{"use strict";o.d(t,{Rh:()=>l,gk:()=>c,LZ:()=>u,Gy:()=>p});class n{constructor(){this.events={}}on(e,t,o={}){var n;let i=t;return o.once&&(i=function(e){let t,o=!1;return n=>(o||(t=e.apply(this,n),o=!0),t)}(t)),this.events[e]?null===(n=this.events[e])||void 0===n||n.push(i):this.events[e]=[i],()=>{var o;this.events[e]=null===(o=this.events[e])||void 0===o?void 0:o.filter(e=>t!==e)}}emit(e,...t){const o=this.events[e]||[];for(const e of o)e(...t)}clear(e){this.events[e]=[]}}const i=503,r="X-TT-System-Error",a="23",s="/api/v3/register/verification/age",l="sig_api_geoblocked",c="sig_signup_api_geoblocked";class d{constructor(){this.emitter=new n}static getInstance(){return d.instance||(d.instance=new d),d.instance}on(...e){return this.emitter.on(...e)}emit(e,t){this.emitter.emit(e,t)}clear(e){this.emitter.clear(e)}}const u=d.getInstance();function p(e,t){const o=function(e){if(!e||e.status!==i||!e.headers)return!1;const t=e.headers.get?e.headers.get(r):e.headers[r.toLowerCase()];return!(!t||t!==a)}(e);if(o)if(function(e){return e.includes(s)}(t)){const e=function(e){const t=e.split("?")[0],o=t.indexOf(s);return{domain:t.substring(0,o),path:t.substring(o)}}(t);u.emit(c,e)}else u.emit(l)}},36318:(e,t,o)=>{"use strict";o.d(t,{OZ:()=>l,eU:()=>n,jN:()=>a,kv:()=>c});var n,i=o(78957);!function(e){e.video="video",e.photo="photo",e.user="user",e.music="music",e.effect="effect",e.challenge="challenge",e.channel="channel",e.find="find",e.home="home",e.foryouWithLang="foryouWithLang",e.foryou="foryou",e.downloadWithLang="downloadWithLang",e.download="download",e.downloadVideoWithLang="downloadVideoWithLang",e.downloadVideo="downloadVideo",e.following="following",e.friends="friends",e.topics="topics",e.expansion="expansion",e.trendingDetailWithinDiscover="trendingDetailWithinDiscover",e.trendingDetail="trendingDetail",e.searchHome="searchHome",e.searchUser="searchUser",e.searchVideo="searchVideo",e.searchReminder="searchReminder",e.searchLive="searchLive",e.discover="discover",e.setting="setting",e.feedback="feedback",e.feedbackHistory="feedbackHistory",e.feedbackReport="feedbackReport",e.support="support",e.upload="upload",e.question="question",e.musicPlaylist="musicPlaylist",e.oauthSpotify="oauthSpotify",e.messages="messages",e.settingBlockList="settingBlockList",e.settingDownLoadYourData="settingDownLoadYourData",e.settingKeywordFiltering="settingKeywordFiltering",e.settingDailyScreenTimeEdit="settingDailyScreenTimeEdit",e.settingTimeBreakEdit="settingTimeBreakEdit",e.settingSleepReminderEdit="settingSleepReminderEdit",e.settingAdPrivacyPersonalizedAds="settingAdPrivacyPersonalizedAds",e.settingAdPrivacyPersonalizedAdsInferredByTikTokTopics="settingAdPrivacyPersonalizedAdsInferredByTikTokTopics",e.settingAdPrivacyPersonalizedAdsYourChoicesTopics="settingAdPrivacyPersonalizedAdsYourChoicesTopics",e.settingAdPrivacyPersonalizedAdsAllTopics="settingAdPrivacyPersonalizedAdsAllTopics",e.settingAdvertiserSettings="settingAdvertiserSettings",e.settingDisconnectAdvertisers="settingDisconnectAdvertisers",e.settingDisconnectAdvertisersDetails="settingDisconnectAdvertisersDetails",e.profile="profile",e.inbox="inbox",e.explore="explore",e.videoPlaylist="videoPlaylist",e.poi="poi",e.poiCategory="poiCategory",e.travel="travel",e.travelCategory="travelCategory",e.collection="collection",e.creatorsearchinsights="creatorsearchinsights",e.creatorsearchinsightsDetail="creatorsearchinsightsDetail",e.creatorsearchinsightsSearch="creatorsearchinsightsSearch",e.creatorsearchinsightsFavorites="creatorsearchinsightsFavorites",e.creatorsearchinsightsAnalytics="creatorsearchinsightsAnalytics",e.creatorsearchinsightsAcademy="creatorsearchinsightsAcademy"}(n||(n={}));const r={video:"/@:uniqueId(.*)/video/:id",photo:"/@:uniqueId(.*)/photo/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",effect:"/effect/:title(.*)-:id",challenge:"/tag/:name",channel:"/channel/:name",find:"/find/:name",home:"/",foryouWithLang:["/az","/id-ID","/ms-MY","/jv-ID","/ca","/ceb-PH","/cs-CZ","/da","/de-DE","/et","/en-GB","/en","/es","/es-419","/fil-PH","/fr","/fr-CA","/ga","/hr","/is","/it-IT","/sw","/lv","/lt","/hu-HU","/nl-NL","/nb","/uz","/pl-PL","/pt","/pt-BR","/ro-RO","/sq","/sk","/sl","/fi-FI","/sv-SE","/vi-VN","/tr-TR","/el-GR","/bg","/kk","/ru-RU","/uk-UA","/he-IL","/ur","/ar","/hi-IN","/bn-IN","/th-TH","/my-MM","/km-KH","/ja-JP","/zh-Hant-TW","/zh-Hans","/ko-KR"],foryou:"/foryou",downloadWithLang:["/download/az","/download/id-ID","/download/ms-MY","/download/jv-ID","/download/ca","/download/ceb-PH","/download/cs-CZ","/download/da","/download/de-DE","/download/et","/download/en-GB","/download/en","/download/es","/download/es-419","/download/fil-PH","/download/fr","/download/fr-CA","/download/ga","/download/hr","/download/is","/download/it-IT","/download/sw","/download/lv","/download/lt","/download/hu-HU","/download/nl-NL","/download/nb","/download/uz","/download/pl-PL","/download/pt","/download/pt-BR","/download/ro-RO","/download/sq","/download/sk","/download/sl","/download/fi-FI","/download/sv-SE","/download/vi-VN","/download/tr-TR","/download/el-GR","/download/bg","/download/kk","/download/ru-RU","/download/uk-UA","/download/he-IL","/download/ur","/download/ar","/download/hi-IN","/download/bn-IN","/download/th-TH","/download/my-MM","/download/km-KH","/download/ja-JP","/download/zh-Hant-TW","/download/zh-Hans","/download/ko-KR"],download:"/download",downloadVideoWithLang:["/download-video/az","/download-video/id-ID","/download-video/ms-MY","/download-video/jv-ID","/download-video/ca","/download-video/ceb-PH","/download-video/cs-CZ","/download-video/da","/download-video/de-DE","/download-video/et","/download-video/en-GB","/download-video/en","/download-video/es","/download-video/es-419","/download-video/fil-PH","/download-video/fr","/download-video/fr-CA","/download-video/ga","/download-video/hr","/download-video/is","/download-video/it-IT","/download-video/sw","/download-video/lv","/download-video/lt","/download-video/hu-HU","/download-video/nl-NL","/download-video/nb","/download-video/uz","/download-video/pl-PL","/download-video/pt","/download-video/pt-BR","/download-video/ro-RO","/download-video/sq","/download-video/sk","/download-video/sl","/download-video/fi-FI","/download-video/sv-SE","/download-video/vi-VN","/download-video/tr-TR","/download-video/el-GR","/download-video/bg","/download-video/kk","/download-video/ru-RU","/download-video/uk-UA","/download-video/he-IL","/download-video/ur","/download-video/ar","/download-video/hi-IN","/download-video/bn-IN","/download-video/th-TH","/download-video/my-MM","/download-video/km-KH","/download-video/ja-JP","/download-video/zh-Hant-TW","/download-video/zh-Hans","/download-video/ko-KR"],downloadVideo:"/download-video",following:"/following",friends:"/friends",topics:"/topics/:name",expansion:"/discover/:name",trendingDetailWithinDiscover:"/discover/trending/detail/:name",trendingDetail:"/:lang/trending/detail/:name",searchHome:"/search",searchUser:"/search/user",searchVideo:"/search/video",searchReminder:"/search/reminder",searchLive:"/search/live",discover:"/discover",setting:"/setting",feedback:"/feedback",feedbackHistory:"/feedback/history",feedbackReport:"/feedback/report",support:"/support",upload:"/upload",question:"/question/:content(.+)-:id",musicPlaylist:"/playlist-music/:title(.+)-:id",oauthSpotify:"/oauthSpotify",messages:"/messages",settingBlockList:"/setting/block-list",settingDownLoadYourData:"/setting/download-your-data",settingKeywordFiltering:"/setting/keyword-filtering",settingDailyScreenTimeEdit:"/setting/daily-screen-time-edit",settingTimeBreakEdit:"/setting/time-break-edit",settingSleepReminderEdit:"/setting/sleep-reminder-edit",settingAdPrivacyPersonalizedAds:"/setting/ad_privacy/personalized_ads",settingAdPrivacyPersonalizedAdsInferredByTikTokTopics:"/setting/ad_privacy/personalized_ads/inferred_by_tiktok_topics",settingAdPrivacyPersonalizedAdsYourChoicesTopics:"/setting/ad_privacy/personalized_ads/your_choices_topics",settingAdPrivacyPersonalizedAdsAllTopics:"/setting/ad_privacy/personalized_ads/all_topics",settingAdvertiserSettings:"/setting/ad_privacy/advertiser_settings",settingDisconnectAdvertisers:"/setting/ad_privacy/disconnect_advertisers",settingDisconnectAdvertisersDetails:"/setting/ad_privacy/disconnect_advertisers_details",profile:"/profile",inbox:"/inbox",explore:"/explore",videoPlaylist:"/@:uniqueId/playlist/:content(.+)-:id",poi:"/place/:name([^/]+)-:id",poiCategory:"/place/:name([^/]+)-:id/:category",travel:"/travel/:name([^/]+)-:id",travelCategory:"/travel/:name([^/]+)-:id/:category",collection:"/@:uniqueId/collection/:title(.+)-:id",creatorsearchinsights:"/csi",creatorsearchinsightsDetail:"/csi/detail/:id",creatorsearchinsightsSearch:"/csi/search",creatorsearchinsightsFavorites:"/csi/favorites",creatorsearchinsightsAnalytics:"/csi/analytics",creatorsearchinsightsAcademy:"/csi/academy"},a=(0,i.r)(r);var s;!function(e){e.video="video",e.photo="photo",e.user="user",e.music="music",e.effect="effect",e.challenge="challenge",e.channel="channel",e.find="find",e.home="home",e.foryouWithLang="foryouWithLang",e.foryou="foryou",e.downloadWithLang="downloadWithLang",e.download="download",e.downloadVideoWithLang="downloadVideoWithLang",e.downloadVideo="downloadVideo",e.following="following",e.friends="friends",e.topics="topics",e.expansion="expansion",e.trendingDetailWithinDiscover="trendingDetailWithinDiscover",e.trendingDetail="trendingDetail",e.searchHome="searchHome",e.searchUser="searchUser",e.searchVideo="searchVideo",e.searchReminder="searchReminder",e.searchLive="searchLive",e.discover="discover",e.setting="setting",e.feedback="feedback",e.feedbackHistory="feedbackHistory",e.feedbackReport="feedbackReport",e.support="support",e.upload="upload",e.question="question",e.musicPlaylist="musicPlaylist",e.oauthSpotify="oauthSpotify",e.messages="messages",e.settingBlockList="settingBlockList",e.settingDownLoadYourData="settingDownLoadYourData",e.settingKeywordFiltering="settingKeywordFiltering",e.settingDailyScreenTimeEdit="settingDailyScreenTimeEdit",e.settingTimeBreakEdit="settingTimeBreakEdit",e.settingSleepReminderEdit="settingSleepReminderEdit",e.settingAdPrivacyPersonalizedAds="settingAdPrivacyPersonalizedAds",e.settingAdPrivacyPersonalizedAdsInferredByTikTokTopics="settingAdPrivacyPersonalizedAdsInferredByTikTokTopics",e.settingAdPrivacyPersonalizedAdsYourChoicesTopics="settingAdPrivacyPersonalizedAdsYourChoicesTopics",e.settingAdPrivacyPersonalizedAdsAllTopics="settingAdPrivacyPersonalizedAdsAllTopics",e.settingAdvertiserSettings="settingAdvertiserSettings",e.settingDisconnectAdvertisers="settingDisconnectAdvertisers",e.settingDisconnectAdvertisersDetails="settingDisconnectAdvertisersDetails",e.profile="profile",e.inbox="inbox",e.explore="explore",e.videoPlaylist="videoPlaylist",e.poi="poi",e.poiCategory="poiCategory",e.travel="travel",e.travelCategory="travelCategory",e.collection="collection",e.creatorsearchinsights="creatorsearchinsights",e.creatorsearchinsightsDetail="creatorsearchinsightsDetail",e.creatorsearchinsightsSearch="creatorsearchinsightsSearch",e.creatorsearchinsightsFavorites="creatorsearchinsightsFavorites",e.creatorsearchinsightsAnalytics="creatorsearchinsightsAnalytics",e.creatorsearchinsightsAcademy="creatorsearchinsightsAcademy"}(s||(s={}));const l={video:"/@:uniqueId(.*)/video/:id",photo:"/@:uniqueId(.*)/photo/:id",user:"/@:uniqueId",music:"/music/:title(.*)-:id",effect:"/effect/:title(.*)-:id",challenge:"/tag/:name",channel:"/channel/:name",find:"/find/:name",home:"/",foryouWithLang:["/az","/id-ID","/ms-MY","/jv-ID","/ca","/ceb-PH","/cs-CZ","/da","/de-DE","/et","/en-GB","/en","/es","/es-419","/fil-PH","/fr","/fr-CA","/ga","/hr","/is","/it-IT","/sw","/lv","/lt","/hu-HU","/nl-NL","/nb","/uz","/pl-PL","/pt","/pt-BR","/ro-RO","/sq","/sk","/sl","/fi-FI","/sv-SE","/vi-VN","/tr-TR","/el-GR","/bg","/kk","/ru-RU","/uk-UA","/he-IL","/ur","/ar","/hi-IN","/bn-IN","/th-TH","/my-MM","/km-KH","/ja-JP","/zh-Hant-TW","/zh-Hans","/ko-KR"],foryou:"/foryou",downloadWithLang:["/download/az","/download/id-ID","/download/ms-MY","/download/jv-ID","/download/ca","/download/ceb-PH","/download/cs-CZ","/download/da","/download/de-DE","/download/et","/download/en-GB","/download/en","/download/es","/download/es-419","/download/fil-PH","/download/fr","/download/fr-CA","/download/ga","/download/hr","/download/is","/download/it-IT","/download/sw","/download/lv","/download/lt","/download/hu-HU","/download/nl-NL","/download/nb","/download/uz","/download/pl-PL","/download/pt","/download/pt-BR","/download/ro-RO","/download/sq","/download/sk","/download/sl","/download/fi-FI","/download/sv-SE","/download/vi-VN","/download/tr-TR","/download/el-GR","/download/bg","/download/kk","/download/ru-RU","/download/uk-UA","/download/he-IL","/download/ur","/download/ar","/download/hi-IN","/download/bn-IN","/download/th-TH","/download/my-MM","/download/km-KH","/download/ja-JP","/download/zh-Hant-TW","/download/zh-Hans","/download/ko-KR"],download:"/download",downloadVideoWithLang:["/download-video/az","/download-video/id-ID","/download-video/ms-MY","/download-video/jv-ID","/download-video/ca","/download-video/ceb-PH","/download-video/cs-CZ","/download-video/da","/download-video/de-DE","/download-video/et","/download-video/en-GB","/download-video/en","/download-video/es","/download-video/es-419","/download-video/fil-PH","/download-video/fr","/download-video/fr-CA","/download-video/ga","/download-video/hr","/download-video/is","/download-video/it-IT","/download-video/sw","/download-video/lv","/download-video/lt","/download-video/hu-HU","/download-video/nl-NL","/download-video/nb","/download-video/uz","/download-video/pl-PL","/download-video/pt","/download-video/pt-BR","/download-video/ro-RO","/download-video/sq","/download-video/sk","/download-video/sl","/download-video/fi-FI","/download-video/sv-SE","/download-video/vi-VN","/download-video/tr-TR","/download-video/el-GR","/download-video/bg","/download-video/kk","/download-video/ru-RU","/download-video/uk-UA","/download-video/he-IL","/download-video/ur","/download-video/ar","/download-video/hi-IN","/download-video/bn-IN","/download-video/th-TH","/download-video/my-MM","/download-video/km-KH","/download-video/ja-JP","/download-video/zh-Hant-TW","/download-video/zh-Hans","/download-video/ko-KR"],downloadVideo:"/download-video",following:"/following",friends:"/friends",topics:"/topics/:name",expansion:"/discover/:name",trendingDetailWithinDiscover:"/discover/trending/detail/:name",trendingDetail:"/:lang/trending/detail/:name",searchHome:"/search",searchUser:"/search/user",searchVideo:"/search/video",searchReminder:"/search/reminder",searchLive:"/search/live",discover:"/discover",setting:"/setting",feedback:"/feedback",feedbackHistory:"/feedback/history",feedbackReport:"/feedback/report",support:"/support",upload:"/upload",question:"/question/:content(.+)-:id",musicPlaylist:"/playlist-music/:title(.+)-:id",oauthSpotify:"/oauthSpotify",messages:"/messages",settingBlockList:"/setting/block-list",settingDownLoadYourData:"/setting/download-your-data",settingKeywordFiltering:"/setting/keyword-filtering",settingDailyScreenTimeEdit:"/setting/daily-screen-time-edit",settingTimeBreakEdit:"/setting/time-break-edit",settingSleepReminderEdit:"/setting/sleep-reminder-edit",settingAdPrivacyPersonalizedAds:"/setting/ad_privacy/personalized_ads",settingAdPrivacyPersonalizedAdsInferredByTikTokTopics:"/setting/ad_privacy/personalized_ads/inferred_by_tiktok_topics",settingAdPrivacyPersonalizedAdsYourChoicesTopics:"/setting/ad_privacy/personalized_ads/your_choices_topics",settingAdPrivacyPersonalizedAdsAllTopics:"/setting/ad_privacy/personalized_ads/all_topics",settingAdvertiserSettings:"/setting/ad_privacy/advertiser_settings",settingDisconnectAdvertisers:"/setting/ad_privacy/disconnect_advertisers",settingDisconnectAdvertisersDetails:"/setting/ad_privacy/disconnect_advertisers_details",profile:"/profile",inbox:"/inbox",explore:"/explore",videoPlaylist:"/@:uniqueId/playlist/:content(.+)-:id",poi:"/place/:name([^/]+)-:id",poiCategory:"/place/:name([^/]+)-:id/:category",travel:"/travel/:name([^/]+)-:id",travelCategory:"/travel/:name([^/]+)-:id/:category",collection:"/@:uniqueId/collection/:title(.+)-:id",creatorsearchinsights:"/csi",creatorsearchinsightsDetail:"/csi/detail/:id",creatorsearchinsightsSearch:"/csi/search",creatorsearchinsightsFavorites:"/csi/favorites",creatorsearchinsightsAnalytics:"/csi/analytics",creatorsearchinsightsAcademy:"/csi/academy"},c=(0,i.r)(l)},37597:(e,t,o)=>{"use strict";o.d(t,{h:()=>p});var n=o(24643),i=o(67518),r=o(40099),a=o(75431),s=o(57363);const l=(0,s.A)("div",{target:"ef2t4c20"})(({center:e})=>({display:"flex",flexDirection:"column",alignItems:e?"center":"flex-start"}),"label:DivContainer;"),c=(0,a.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),d=(0,s.A)("svg",{target:"ef2t4c21"})({margin:"0 !important",fill:"none",animation:`${c} 1s linear infinite`},"label:SvgBox;"),u={small:16,medium:18,large:20},p=(0,r.memo)(function({theme:e="primary",size:t="medium",center:o=!1,style:a={},fill:s=""}){const{colors:c}=(0,i.u)(),p=(0,r.useMemo)(()=>{const{BGCreation:t,BGPrimary:o,Primary:n}=c;return s||{white:t,primary:o,transparent:n}[e]},[c,s,e]),g="string"==typeof t?u[t]:t,m=Object.assign(Object.assign({},a),{width:g,height:g});return(0,n.jsx)(l,Object.assign({center:o,style:m},{children:(0,n.jsx)(d,Object.assign({width:g,height:g,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},{children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",fill:p,d:"M0 9C0 4.02944 4.02944 0 9 0C13.9706 0 18 4.02944 18 9C18 9.82843 17.3284 10.5 16.5 10.5C15.6716 10.5 15 9.82843 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15C10.415 15 11.7119 14.512 12.7375 13.6941C13.3852 13.1775 14.329 13.2838 14.8455 13.9315C15.3621 14.5792 15.2558 15.5229 14.6081 16.0395C13.0703 17.266 11.1188 18 9 18C4.02944 18 0 13.9706 0 9Z"})}))}))})},37796:(e,t,o)=>{"use strict";o.d(t,{v:()=>s});var n=o(17592),i=o(60540),r=o(45866);function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class s{getAccountAppealStatus({object_type:e,object_id:t,verify_ticket:o}){return this.fetch.get("/aweme/v2/appeal/status/",{query:Object.assign(Object.assign({object_type:e},o&&{verify_ticket:o}),t&&{object_id:t}),baseUrlType:i.Z4.FixedWww})}constructor(e){this.fetch=e}}s=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,n._q)({name:"AccountStatusService@tiktok/login"}),a("design:type",Function),a("design:paramtypes",[void 0===r.p?Object:r.p])],s)},38656:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,i,r=[],a=!0,s=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(r.push(n.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==o.return||o.return()}finally{if(s)throw i}}return r}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var a=new(function(){function t(){e(this,t),this._prefix="[TikTok desktop app SDK Monitor]:  "}return o(t,[{key:"log",value:function(e){console.log(this._prefix,e)}},{key:"info",value:function(e){console.info(this._prefix,e)}},{key:"warn",value:function(e){console.warn(this._prefix,e)}},{key:"error",value:function(e){console.error(this._prefix,e)}}]),t}()),s=function(){return"undefined"==typeof window},l=function(e,t,o){var n=function(e,t){for(var o=0;o<e.length||o<t.length;++o){var n=0,i=0;if(o<e.length&&(n=parseInt(e[o],10)),o<t.length&&(i=parseInt(t[o],10)),n>i)return 1;if(n<i)return-1}return 0}(e.split("."),o.split("."));return"=="===t&&0===n||">"===t&&n>0||">="===t&&n>=0||"<"===t&&n<0||"<="===t&&n<=0},c=function(){function t(){e(this,t),this._methodRuleMap={}}return o(t,[{key:"registerMethodRules",value:function(e){var t=e.map,o=void 0===t?"":t,n=e.target,i=void 0===n?[]:n;o?this._methodRuleMap[o]=i:a.error("register method rules error")}},{key:"getRuntimeOS",value:function(){return function(){if(s())return"ssr";var e="Win32"===(null===navigator||void 0===navigator?void 0:navigator.platform)||"Windows"===(null===navigator||void 0===navigator?void 0:navigator.platform),t="Mac68K"===(null===navigator||void 0===navigator?void 0:navigator.platform)||"MacPPC"===(null===navigator||void 0===navigator?void 0:navigator.platform)||"Macintosh"===(null===navigator||void 0===navigator?void 0:navigator.platform)||"MacIntel"===(null===navigator||void 0===navigator?void 0:navigator.platform),o="X11"===(null===navigator||void 0===navigator?void 0:navigator.platform)&&!e&&!t,n=String(null===navigator||void 0===navigator?void 0:navigator.platform).indexOf("Linux")>-1;return t?"mac":o?"unix":n?"linux":e?"windows":"unknown"}()}},{key:"getRuntimeVersion",value:function(){var e,t,o;return s()?(a.error("can't get client version in ssr"),""):(null===(o=null===(t=null===(e=null===window||void 0===window?void 0:window.TTE_ENV)||void 0===e?void 0:e.initPageStore)||void 0===t?void 0:t.page)||void 0===o?void 0:o.version)||""}},{key:"checkOS",value:function(e){return!e||"*"===e||this.getRuntimeOS()===e}},{key:"checkMethodAvailable",value:function(e){var t,o,n;return!!this.checkInClient()&&void 0!==(null===(n=null===(o=null===(t=null===window||void 0===window?void 0:window.TTE_ENV)||void 0===t?void 0:t.bridge)||void 0===o?void 0:o.EVENTS)||void 0===n?void 0:n.TO_MAIN_EVENT_TYPES[e])}},{key:"canIUse",value:function(e){return{code:0,data:{isAvailable:this.checkMethodAvailable(e)}}}},{key:"checkVersion",value:function(e){return!e||function(e,t){var o=n(t.split("-"),2),i=o[0],r=void 0===i?"":i,a=o[1],s=void 0===a?"":a;return!r&&!s||(r?s?l(e,">=",r)&&l(e,"<=",s):l(e,">=",r):l(e,"<=",s))}(this.getRuntimeVersion(),e)}},{key:"checkDetail",value:function(e){if(!e||0===e.length)return!0;var t,o=!1,n=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=i(e))){t&&(e=t);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw r}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.os;if(o=this.checkOS(r))break}}catch(e){n.e(e)}finally{n.f()}return o}},{key:"checkRule",value:function(e){var t=e.target,o=void 0===t?[]:t;return!e||!!this.checkDetail(o)}},{key:"on",value:function(e,t){return this.checkInClient()?window.TTE_ENV.bridge.on(e,t):(a.warn("turn on listening to ".concat(e," failed, env is not in client.")),!1)}},{key:"off",value:function(e,t){return this.checkInClient()?window.TTE_ENV.bridge.off(e,t):(a.warn("turn off listening to ".concat(e," failed, env is not in client.")),!1)}},{key:"checkInClient",value:function(){var e;return!s()&&void 0!==(null===(e=null===window||void 0===window?void 0:window.TTE_ENV)||void 0===e?void 0:e.bridge)}},{key:"call",value:function(e){var t=this,o=e.params,n=void 0===o?{}:o,i=e.method,r=e.rule,s=e.transParameters,l=void 0!==s&&s;return new Promise(function(e){var o={code:-9,data:null,msg:"Something went wrong. maybe polyfill."};try{if(!t.checkInClient()){var s="WARN:[".concat(i,"]The current environment is not inside the client.");return o.code=-2,o.msg=s,a.warn(s),void e(o)}if(!t.checkMethodAvailable(i)){var c="WARN: [".concat(i,"]The current system doesn't support this method.");return o.code=-3,o.msg=c,a.warn(c),void e(o)}if(!t.checkRule(r)){var d="WARN: [".concat(i,"]The method invocation environment does not meet the rules.");return o.code=-3,o.msg=d,a.warn(d),void e(o)}}catch(t){var u="Bridge SDK Inner Error: ".concat(i,"-{").concat(JSON.stringify(n),"}. ").concat(t.message," | ").concat(t.stack);return a.error(u),o.msg=u,o.code=-5,void e(o)}var p=l?n:{data:n};window.TTE_ENV.bridge.invoke(i,p).then(function(t){var n,i,r;void 0!==(null==t?void 0:t._to_sdk)?(o.code=null!==(n=t._to_sdk.code)&&void 0!==n?n:o.code,o.data=null!==(i=t.data)&&void 0!==i?i:null,o.msg=null!==(r=t._to_sdk.msg)&&void 0!==r?r:"success"):(o.code=0,o.data=t,o.msg="success"),e(o)}).catch(function(t){var r="Bridge SDK Execute Failed: ".concat(i,"-{").concat(JSON.stringify(n),"}}. ").concat(t.message," | ").concat(t.stack);o.code=-1,o.msg=t.message,a.error(r),e(o)})})}}]),t}(),d=new c;function u(e){Object.keys(e).forEach(function(t){var o,n=(null===(o=e[t])||void 0===o?void 0:o.rule)||{};d.registerMethodRules(n)})}var p={target:[{os:"*"}],map:"app.getVersion"};function g(){return d.call({rule:p,method:"GET_VERSION"})}g.rule=p;var m={target:[{os:"*"}],map:"app.setAlwaysOnTop"};function h(e){return d.call({rule:m,method:"SET_ALWAYS_ON_TOP",params:e,transParameters:!0})}h.rule=m;var v={target:[{os:"*"}],map:"app.changeToOriginalMode"};function _(){return d.call({rule:v,method:"CHANGE_TO_ORIGINAL_MODE"})}_.rule=v;var f={target:[{os:"*"}],map:"app.changeToSmallMode"};function b(){return d.call({rule:f,method:"CHANGE_TO_SMALL_MODE"})}b.rule=f;var y={target:[{os:"*"}],map:"app.isAlwaysOnTop"};function w(){return d.call({rule:y,method:"IS_ALWAYS_ON_TOP"})}w.rule=y;var k={target:[{os:"*"}],map:"app.mainWindowMoveTop"};function S(){return d.call({rule:k,method:"MAIN_WINDOW_MOVE_TOP"})}S.rule=k;var C={target:[{os:"*"}],map:"app.minimize"};function x(){return d.call({rule:C,method:"WINDOW_MIN"})}x.rule=C;var P={target:[{os:"*"}],map:"app.handlePageReady"};function T(){return d.call({rule:P,method:"PAGE_READY"})}T.rule=P;var O={target:[{os:"*"}],map:"app.maximize"};function A(){return d.call({rule:O,method:"WINDOW_MAX"})}A.rule=O;var E={target:[{os:"*"}],map:"app.canGoBack"};function L(){return d.call({rule:E,method:"CAN_GO_BACK"})}L.rule=E;var j={target:[{os:"*"}],map:"app.clearCookie"};function I(){return d.call({rule:j,method:"CLEAR_COOKIE"})}I.rule=j;var R={target:[{os:"*"}],map:"app.getWid"};function M(){return d.call({rule:R,method:"GET_WID"})}M.rule=R;var D={target:[{os:"*"}],map:"app.closeParent"};function F(){return d.call({rule:D,method:"CLOSE_PARENT"})}F.rule=D;var N={target:[{os:"*"}],map:"app.closeWindow"};function U(){return d.call({rule:N,method:"WINDOW_CLOSE"})}U.rule=N;var B={target:[{os:"*"}],map:"app.getAllClientLog"};function H(){return d.call({rule:B,method:"GET_ALL_CLIENT_LOG"})}H.rule=B;var z={target:[{os:"*"}],map:"app.getAppConfigItem"};function Y(e){return d.call({rule:z,method:"GET_APP_CONFIG_ITEM",params:e})}Y.rule=z;var W={target:[{os:"*"}],map:"app.goBack"};function V(){return d.call({rule:W,method:"GO_BACK"})}V.rule=W;var G={target:[{os:"*"}],map:"app.getPageStore"};function $(){return d.call({rule:G,method:"GET_PAGE_STORE"})}$.rule=G;var q={target:[{os:"*"}],map:"app.getSettings"};function K(){return d.call({rule:q,method:"GET_SETTINGS"})}K.rule=q;var Z={target:[{os:"*"}],map:"app.isFull"};function J(){return d.call({rule:Z,method:"WINDOW_IS_FULL"})}J.rule=Z;var Q={target:[{os:"*"}],map:"app.openWallpaperWindow"};function X(){return d.call({rule:Q,method:"OPEN_WALLPAPER_WINDOW"})}X.rule=Q;var ee={target:[{os:"*"}],map:"app.getChannelId"};function te(){return d.call({rule:ee,method:"GET_CHANNEL_ID"})}te.rule=ee;var oe={target:[{os:"*"}],map:"app.reload"};function ne(){return d.call({rule:oe,method:"RELOAD"})}ne.rule=oe;var ie={target:[{os:"mac"}],map:"app.setFullScreenable"};function re(e){return d.call({rule:ie,method:"SET_FULL_SCREENABLE",params:e,transParameters:!0})}re.rule=ie;var ae={target:[{os:"*"}],map:"app.getAllWindowData"};function se(){return d.call({rule:ae,method:"GET_ALL_WINDOW_DATA"})}se.rule=ae;var le={target:[{os:"*"}],map:"app.reloadWindowFromId"};function ce(){return d.call({rule:le,method:"RELOAD_FROM_ID"})}ce.rule=le;var de={target:[{os:"*"}],map:"app.reportStat"};function ue(e){return d.call({rule:de,method:"REPORT_STAT",params:e,transParameters:!0})}ue.rule=de;var pe={target:[{os:"*"}],map:"app.setAppConfigItem"};function ge(e){return d.call({rule:pe,method:"SET_APP_CONFIG_ITEM",params:e})}ge.rule=pe;var me={target:[{os:"*"}],map:"app.setAutoStart"};function he(e){return d.call({rule:me,method:"SET_AUTO_START",params:e})}he.rule=me;var ve={target:[{os:"*"}],map:"app.setCloseToTray"};function _e(e){return d.call({rule:ve,method:"SET_CLOSE_TO_TRAY",params:e})}_e.rule=ve;var fe={target:[{os:"*"}],map:"app.setMiniMizeToTray"};function be(e){return d.call({rule:fe,method:"SET_MINIMIZE_TO_TRAY",params:e})}be.rule=fe;var ye={target:[{os:"*"}],map:"app.showAbout"};function we(e){return d.call({rule:ye,method:"WINDOW_SHOW_ABOUT",params:e})}we.rule=ye;var ke={target:[{os:"*"}],map:"app.syncLoginState"};function Se(e){return d.call({rule:ke,method:"SYNC_LOGIN_STATE",params:e,transParameters:!0})}Se.rule=ke;var Ce={target:[{os:"*"}],map:"app.themeChange"};function xe(e){return d.call({rule:Ce,method:"THEME_CHANGE",params:e})}xe.rule=Ce;var Pe={target:[{os:"*"}],map:"app.getAllDisplays"};function Te(){return d.call({rule:Pe,method:"GET_ALL_DISPLAYS"})}Te.rule=Pe;var Oe={target:[{os:"*"}],map:"app.getPrimaryDisplay"};function Ae(){return d.call({rule:Oe,method:"GET_PRIMARY_DISPLAY"})}Ae.rule=Oe;var Ee={target:[{os:"*"}],map:"app.navigationGoBack"};function Le(){return d.call({rule:Ee,method:"NAVIGATION_GO_BACK"})}Le.rule=Ee;var je={target:[{os:"windows"}],map:"app.getAutoStart"};function Ie(){return d.call({rule:je,method:"GET_AUTO_START"})}Ie.rule=je;var Re={target:[{os:"*"}],map:"app.showUpdateModal"};function Me(){return d.call({rule:Re,method:"SHOW_UPDATE_MODAL"})}Me.rule=Re;var De={target:[{os:"*"}],map:"app.getIsUpdatePackageReady"};function Fe(){return d.call({rule:De,method:"GET_IS_UPDATE_PACKAGE_READY"})}Fe.rule=De;var Ne={target:[{os:"*"}],map:"app.getClientUpdateInfo"};function Ue(){return d.call({rule:Ne,method:"GET_CLIENT_UPDATE_INFO"})}Ue.rule=Ne;var Be={target:[{os:"*"}],map:"app.quitUpdateTip"};function He(){return d.call({rule:Be,method:"QUIT_UPDATE_TIP"})}He.rule=Be;var ze={target:[{os:"mac"}],map:"app.getMediaAccessStatus"};function Ye(e){return d.call({rule:ze,method:"GET_MEDIA_ACCESS_STATUS",params:e,transParameters:!0})}Ye.rule=ze;var We={target:[{os:"mac"}],map:"app.askForMediaAccess"};function Ve(e){return d.call({rule:We,method:"ASK_FOR_MEDIA_ACCESS",params:e,transParameters:!0})}Ve.rule=We;var Ge={target:[{os:"mac"}],map:"app.getIsMas"};function $e(){return d.call({rule:Ge,method:"GET_IS_MAS"})}$e.rule=Ge;var qe={target:[{os:"*"}],map:"app.getIsFrontShow"};function Ke(){return d.call({rule:qe,method:"GET_IS_FRONT_SHOW"})}Ke.rule=qe;var Ze={target:[{os:"*"}],map:"app.downloadWallpaper"};function Je(e){return d.call({rule:Ze,method:"DOWNLOAD_WALLPAPER",params:e,transParameters:!0})}Je.rule=Ze;var Qe={target:[{os:"*"}],map:"app.getStoreItem"};function Xe(e){return d.call({rule:Qe,method:"GET_STORE_ITEM",params:e,transParameters:!0})}Xe.rule=Qe;var et={target:[{os:"*"}],map:"app.setStoreItem"};function tt(e){return d.call({rule:et,method:"SET_STORE_ITEM",params:e,transParameters:!0})}tt.rule=et;var ot={target:[{os:"*"}],map:"app.getMetrics"};function nt(){return d.call({rule:ot,method:"GET_METRICS"})}nt.rule=ot;var it={target:[{os:"*"}],map:"app.printFirstFeedShow"};function rt(e){return d.call({rule:it,method:"printFirstFeedShow",params:e,transParameters:!0})}rt.rule=it;var at={target:[{os:"windows"}],map:"app.getHardwareDecodeState"};function st(){return d.call({rule:at,method:"getHardwareDecodeState"})}st.rule=at;var lt={target:[{os:"*"}],map:"app.isTopWebview"};function ct(){return d.call({rule:lt,method:"isTopWebview"})}ct.rule=lt;var dt={target:[{os:"*"}],map:"app.getVolumeInfo"};function ut(){return d.call({rule:dt,method:"getVolumeInfo"})}ut.rule=dt;var pt={target:[{os:"*"}],map:"app.openInternalBrowser"};function gt(e){return d.call({rule:pt,method:"openInternalBrowser",params:e,transParameters:!0})}gt.rule=pt;var mt={target:[{os:"*"}],map:"app.mainWindowShowView"};function ht(){return d.call({rule:mt,method:"mainWindowShowView"})}ht.rule=mt;var vt={target:[{os:"*"}],map:"app.langChange"};function _t(e){return d.call({rule:vt,method:"LANG_CHANGE",params:e})}_t.rule=vt;var ft={target:[{os:"*"}],map:"app.downloadVideo"};function bt(e){return d.call({rule:ft,method:"DOWNLOAD_VIDEO",params:e})}bt.rule=ft;var yt={getVersion:g,setAlwaysOnTop:h,changeToOriginalMode:_,changeToSmallMode:b,isAlwaysOnTop:w,mainWindowMoveTop:S,minimize:x,handlePageReady:T,maximize:A,canGoBack:L,clearCookie:I,getWid:M,closeParent:F,closeWindow:U,getAllClientLog:H,getAppConfigItem:Y,goBack:V,getPageStore:$,getSettings:K,isFull:J,openWallpaperWindow:X,getChannelId:te,reload:ne,setFullScreenable:re,getAllWindowData:se,reloadWindowFromId:ce,reportStat:ue,setAppConfigItem:ge,setAutoStart:he,setCloseToTray:_e,setMiniMizeToTray:be,showAbout:we,syncLoginState:Se,themeChange:xe,getAllDisplays:Te,getPrimaryDisplay:Ae,navigationGoBack:Le,getAutoStart:Ie,showUpdateModal:Me,getIsUpdatePackageReady:Fe,getClientUpdateInfo:Ue,quitUpdateTip:He,getMediaAccessStatus:Ye,askForMediaAccess:Ve,getIsMas:$e,getIsFrontShow:Ke,downloadWallpaper:Je,getStoreItem:Xe,setStoreItem:tt,getMetrics:nt,printFirstFeedShow:rt,getHardwareDecodeState:st,isTopWebview:ct,getVolumeInfo:ut,openInternalBrowser:gt,mainWindowShowView:ht,langChange:_t,downloadVideo:bt};u(yt);var wt=yt,kt={target:[{os:"*"}],map:"user.getUserUniqueId"};function St(){return d.call({rule:kt,method:"GET_USER_UNIQUE_ID"})}St.rule=kt;var Ct={target:[{os:"*"}],map:"user.getCsrInitialData"};function xt(){return d.call({rule:Ct,method:"getCsrInitialData"})}xt.rule=Ct;var Pt={getUserUniqueId:St,getCsrInitialData:xt};return u(Pt),{app:wt,user:Pt,util:{canIUse:d.canIUse.bind(d),isClient:d.checkInClient,sdkVersion:"0.0.0"},on:d.on.bind(d),off:d.off.bind(d)}}()},38919:(e,t,o)=>{"use strict";o.d(t,{c:()=>r});const n={vregion:"Singapore-Central",vgeo:"VGeo-ROW"};let i=null;const r=()=>{var e,t;if(i)return i;try{const o=JSON.parse(null!==(t=null===(e=document.querySelector("#service-region"))||void 0===e?void 0:e.innerHTML)&&void 0!==t?t:"");return o?(i=o,o):n}catch(e){return n}}},41363:(e,t,o)=>{"use strict";o.d(t,{r:()=>H});var n=o(69239),i=o(89600),r=o(53708),a=o(31291),s=o(8536),l=o(68628),c=o(65070),d=o(45525),u=o(23999),p=o(20259),g=o(72916),m=o(95719),h=o(77073),v=o(35572),_=o(62564),f=o(17592),b=o(94405),y=o(8801),w=o(24527),k=o(57524),S=o(38919),C=o(93247),x=o(848),P=o(92419),T=o(76924);const O={ar:"ar","bn-IN":"bn","ceb-PH":"ceb","cs-CZ":"cs-CZ","de-DE":"de","el-GR":"el-GR",en:"en",es:"es","fil-PH":"fil",fr:"fr","gu-IN":"gu-IN","hi-IN":"hi","hu-HU":"hu-HU","id-ID":"id","it-IT":"it","ja-JP":"ja","jv-ID":"jv","kn-IN":"kn","ko-KR":"ko","ml-IN":"ml-IN","mr-IN":"mr","ms-MY":"ms","my-MM":"my","nl-NL":"nl-NL","or-IN":"or","pa-IN":"pa-IN","pl-PL":"pl","pt-BR":"pt-BR","ro-RO":"ro-RO","ru-RU":"ru","sv-SE":"sv-SE","ta-IN":"ta","te-IN":"te","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-Hans":"zh-Hant","zh-Hant-TW":"zh-Hant",az:"az",ca:"ca",da:"da-DK",et:"et","en-GB":"en-GB","es-419":"es-419","fr-CA":"fr",ga:"ga",hr:"hr",is:"is",sw:"sw",lv:"lv",lt:"lt",nb:"nb",uz:"uz",pt:"pt",sq:"sq",sk:"sk",sl:"sl",bg:"bg",kk:"kk","fi-FI":"fi-FI","he-IL":"he-IL",ur:"ur","km-KH":"km"},A={ar:{label:"",passportLang:"ar"},"bn-IN":{label:" ()",passportLang:"bn"},"ceb-PH":{label:"Cebuano (Pilipinas)",passportLang:"ceb"},"cs-CZ":{label:"etina (esk republika)",passportLang:"cs"},"de-DE":{label:"Deutsch (Deutschland)",passportLang:"de"},"el-GR":{label:" ()",passportLang:"el"},en:{label:"English",passportLang:"en"},es:{label:"Espaol",passportLang:"es"},"fi-FI":{label:"Suomi (Suomi)",passportLang:"fi"},"fil-PH":{label:"Filipino (Pilipinas)",passportLang:"fil"},fr:{label:"Franais",passportLang:"fr"},"he-IL":{label:" ()",passportLang:"he"},"hi-IN":{label:"",passportLang:"hi"},"hu-HU":{label:"Magyar (Magyarorszg)",passportLang:"hu"},"id-ID":{label:"Bahasa Indonesia (Indonesia)",passportLang:"id"},"it-IT":{label:"Italiano (Italia)",passportLang:"it"},"ja-JP":{label:"",passportLang:"ja"},"jv-ID":{label:"Basa Jawa (Indonesia)",passportLang:"jv"},"km-KH":{label:" ()",passportLang:"km"},"ko-KR":{label:" ()",passportLang:"ko"},"ms-MY":{label:"Bahasa Melayu (Malaysia)",passportLang:"ms"},"my-MM":{label:" ()",passportLang:"my"},"nl-NL":{label:"Nederlands (Nederland)",passportLang:"nl"},"pl-PL":{label:"Polski (Polska)",passportLang:"pl"},"pt-BR":{label:"Portugus (Brasil)",passportLang:"pt"},"ro-RO":{label:"Romn (Romania)",passportLang:"ro"},"ru-RU":{label:"",passportLang:"ru"},"sv-SE":{label:"Svenska (Sverige)",passportLang:"sv"},"th-TH":{label:" ()",passportLang:"th"},"tr-TR":{label:"Trke (Trkiye)",passportLang:"tr"},"uk-UA":{label:" ()",passportLang:"uk"},ur:{label:"",passportLang:"ur"},"vi-VN":{label:"Ting Vit (Vit Nam)",passportLang:"vi"},"zh-Hans":{label:"",passportLang:"zh-Hans"},"zh-Hant-TW":{label:"",passportLang:"zh-Hant"},az:{label:"Azrbaycan",passportLang:"az"},ca:{label:"Catal",passportLang:"ca"},da:{label:"Dansk",passportLang:"da"},et:{label:"Eesti",passportLang:"et"},"en-GB":{label:"English (UK)",passportLang:"en"},"es-419":{label:"Espaol (Latinoamrica)",passportLang:"es"},"fr-CA":{label:"Franais (Canada)",passportLang:"fr"},ga:{label:"Gaeilge",passportLang:"ga"},hr:{label:"Hrvatski",passportLang:"hr"},is:{label:"slenska",passportLang:"is"},sw:{label:"Kiswahili",passportLang:"sw"},lv:{label:"Latvieu",passportLang:"lv"},lt:{label:"Lietuvi",passportLang:"lt"},nb:{label:"norsk (bokml)",passportLang:"nb"},uz:{label:"Ozbek",passportLang:"uz"},pt:{label:"Portugus",passportLang:"pt"},sq:{label:"Shqip",passportLang:"sq"},sk:{label:"Slovenina",passportLang:"sk"},sl:{label:"Slovenina",passportLang:"sl"},bg:{label:"",passportLang:"bg"},kk:{label:"",passportLang:"kk"}};var E=o(81259),L=o(99108),j=function(e){return e.SendPhoneCode="/passport/web/send_code/",e.SendEmailCode="/passport/web/email/send_code/",e.AccountLogin="/passport/web/user/login/",e.ResetPwdLogin="/passport/web//password/reset_by_ticket/",e.ThirdLogin="/passport/web/auth/login_only/",e.ThirdVerify="/passport/web/auth/verify/",e.UsernameRegister="/passport/web/username/register",e.EmailRegister="/passport/web/email/register_verify_login",e.verifyPwdWithoutLogin="/passport/web/account/verify_pwd_without_login/",e}({}),I=o(9469),R=o(87682),M=o(61513),D=o(11983),F=o(65631);function N(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}const U="bda89680-037b-49f7-91a9-70c8226b8143",B=new n.B;class H{setContext(e,t={}){var o,n;this.phoenix=t.phoenix,this.targetAid=t.targetAid,this.standaloneAid=t.standaloneAid,this.extraParams.region=e.region,this.extraParams.language=(null===(n=A[e.language])||void 0===n?void 0:n.passportLang)||"en",this.extraParams.locale=e.language,this.extraParams.did=e.wid,E.iU[E.lv.APPLE]=E.k0[null!==(o=e.appId)&&void 0!==o?o:1180]}setOverrideRegionCode(e){this.overrideRegionCode=e}initAccountSdkInstance(){return(0,i.v)(()=>{return e=this,t=void 0,i=function*(){var e;if(this.sdkInstance)return this.sdkInstance;b.Qf.loaded||(yield b.Qf.load());const t=(0,k.x)(),{language:n,appId:i,wid:r=""}=t;let a={multi_login:1,did:r,locale:n,app_language:n.split("-")[0]};this.overrideRegionCode&&(a=Object.assign(Object.assign({},a),{reg_store_region:this.overrideRegionCode,user_selected_region:!0}));const{vgeo:s,vregion:l}=(0,S.c)(),c="VGeo-US"===s,d="VGeo-EU"===s,u=(()=>{if(c)return"ttp";if(d)switch(l){case"EU-TTP":return"ie";case"EU-TTP2":return"no1a";case"US-EastRed":return"useastred";default:return"gcp"}return 1180===i?"sg":"va"})(),p=(0,C.V)(),g=this.phoenix?"https://www.tiktok.in":"https://www.tiktok.com",m=(0,x.Bl)(P.c.Acrawler),{WebInterfaceSdk:h}=yield Promise.all([o.e(318),o.e(618),o.e(181),o.e(392),o.e(241),o.e(336),o.e(427),o.e(113),o.e(104),o.e(177),o.e(937),o.e(536),o.e(605),o.e(21)]).then(o.bind(o,66286)).catch(e=>{let t=`load account-api sdk error with ${e}`;throw(0,M.u7)(e)&&(t=e.message),new M.Qd({error_code:L.Kq.AccountSdkImportError,report_msg:t})}),v=new h({aid:1459,host:g,isOversea:!0,did:r,region:u,printLog:!1,pageLang:n,language:null!==(e=O[n])&&void 0!==e?e:"en",mode:(0,I.W)(c),starlingZoneHost:(null==p?void 0:p.starling)||"",captchaOptions:{fpCookieOption:{domain:this.phoenix?"www.tiktok.in":".tiktok.com",sameSite:"None",secure:!0}},generalParams:a,xhrConfig:{getDynamicConfig:e=>{var o;const n=this.userRegion.getRegionDomain(),i=this.userRegion.getTtWid();this.requestInfo=Object.assign(Object.assign({},e),{baseURL:n});const r=navigator.userAgent,a={baseURL:n,params:{target_aid:this.targetAid,standalone_aid:this.standaloneAid,shark_extra:JSON.stringify(Object.assign(Object.assign({},(0,y.w)(null!==(o=Object.assign(Object.assign({},t),{isMobile:(0,w.Ny)(r),os:(0,w.R0)(r)}))&&void 0!==o?o:{},!0,!0)),{app_name:"Tik_Tok_Login",aid:1459}))},headers:{}};return i&&(a.headers={"x-tt-passport-ttwid-ticket":i}),a},cacheRedirectDomain:e=>{this.userRegion.currentRegion={domain:`https://${e}`}}},acrawler:"true",acrawlerUrl:m,sdi:!0,hooks:{show:(e={})=>{console.log(">>> tiktok login hooks: show",e),B.next(!0);const{method:t}=e;this.loginReport.checkPointShow({verification_method:t})},typing:(e={})=>{console.log(">>> tiktok login hooks: typing",e);const{method:t}=e;this.loginReport.checkPointTyping({verification_method:t})},response:(e={})=>{console.log(">>> tiktok login hooks: response",e);const{method:t,status:o,error_code:n}=e;"fail"!==o&&(B.next(!1),this.loginReport.checkPointResponse({verification_method:t,status:o,error_code:n}))}}});return this.sdkInstance=v,v},new((n=void 0)||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())});var e,t,n,i}).pipe((0,p.W)(e=>{console.error(e);let t=`init account-api sdk error with ${e}`;throw(0,M.u7)(e)&&(t=e.message),new M.Qd({error_code:L.Kq.AccountSdkInitError,report_msg:t})}),(0,r.L)(1))}getAccountSdk$(e){var t,o,n;const{platform_app_id:i,email:r,mobile:s,account:l,username:c,ttWid:d,skipRegionCheck:u}=null!=e?e:{};return!u&&e&&(null!==(n=null!==(o=null!==(t=null!=i?i:r)&&void 0!==t?t:s)&&void 0!==o?o:l)&&void 0!==n?n:c)?this.userRegion.getUserRegions(e).pipe((0,g.n)(e=>{if(e.error_code)throw new M.Qd({error_code:e.error_code,report_msg:`get user region error, ${e}`});return this.initAccountSdkInstance().pipe((0,a.s)(1))})):(e&&this.slardar.handleUserRegionEscape({ttWid:d}),d&&this.userRegion.setTtWid(d),this.initAccountSdkInstance().pipe((0,a.s)(1)))}sendPhoneCode(e){const{mobile:t}=e;return this.getAccountSdk$({mobile:t,triggerPath:j.SendPhoneCode}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendPhoneCode")),(0,s.Z)(o=>(0,l.H)(o.login.sendCode({mobile:t,extra_params:Object.assign(Object.assign(Object.assign({},this.extraParams),e),{is6Digits:1})})))).pipe(this.errorHandler.bind(this))}notLoginSendCode(e){return this.getAccountSdk$({mobile:e.mobile,triggerPath:j.SendPhoneCode}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("notLoginSendCode")),(0,s.Z)(t=>(0,l.H)(t.verify.notLoginSendCode({mobile:e.mobile,extra_params:Object.assign(Object.assign({},this.extraParams),{is6Digits:1,web_verify_need_region:1,web_verify_expire_in:1200})})))).pipe(this.errorHandler.bind(this))}sendPhoneCodeWithType(e){const{type:t,not_login_ticket:o,verify_ticket:n,method:i,mobile:r}=e;return this.getAccountSdk$({mobile:r,triggerPath:j.SendPhoneCode}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeWithType")),(0,s.Z)(e=>e.extra.sendCode({type:t,method:i,mobile:r,extra_params:Object.assign(Object.assign({not_login_ticket:o,verify_ticket:n},this.extraParams),{is6Digits:1})}))).pipe(this.errorHandler.bind(this))}sendPhoneCodeForResetPwd(e){const{mobile:t,verify_ticket:o,not_login_ticket:n,type:i}=e;return this.getAccountSdk$({mobile:t,triggerPath:j.ResetPwdLogin}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForResetPwd")),(0,s.Z)(e=>(0,l.H)(e.forgetPwd.sendCode({mobile:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:o,not_login_ticket:n,type:i,is6Digits:1})})))).pipe(this.errorHandler.bind(this))}getOneTapToken(e){return this.makeRequest({method:"POST",slardarMethodName:"getOneTapToken",url:"/passport/web/sotl/app2web/get_auth_token/",data:Object.assign({},e),params:{client_id:U,aid:"1459"}},{redirect_url:""},5e3)}checkOneTapState({token:e,baseURL:t}){return this.makeRequest({method:"POST",slardarMethodName:"checkOneTapState",url:`${t}/passport/web/sotl/app2web/check_auth_token/`,params:{token:e,client_id:U,aid:"1459"}},{})}sendPhoneCodeForForceResetPwd(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForForceResetPwd")),(0,s.Z)(t=>(0,l.H)(t.extra.sendCode({type:13,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket,is6Digits:1})})))).pipe(this.errorHandler.bind(this))}validatePhoneCodeForReset(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validatePhoneCodeForReset")),(0,s.Z)(t=>(0,l.H)(t.forgetPwd.validateCode(Object.assign(Object.assign({},e),{extra_params:Object.assign({},this.extraParams)}))))).pipe(this.errorHandler.bind(this))}validatePhoneCodeForForceReset(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validatePhoneCodeForForceReset")),(0,s.Z)(t=>(0,l.H)(t.extra.validateMobile({type:13,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket})})))).pipe(this.errorHandler.bind(this))}sendEmailCodeForSignup(e){const{email:t="",password:o=""}=e;return this.getAccountSdk$({email:t,triggerPath:j.SendEmailCode}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForSignup")),(0,s.Z)(e=>(0,l.H)(e.login.sendEmailCode({email:t,password:o,extra_params:Object.assign(Object.assign({},this.extraParams),{email_logic_type:2})})))).pipe(this.errorHandler.bind(this))}sendEmailCodeForLogin(e){const{email:t="",extra_params:o={}}=e;return this.getAccountSdk$({email:t,triggerPath:j.SendEmailCode}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForLogin")),(0,s.Z)(e=>(0,l.H)(e.login.sendEmailLoginCode({email:t,extra_params:Object.assign(Object.assign({},this.extraParams),o)})))).pipe(this.errorHandler.bind(this))}verifySendEmailCode(e){const{verify_ticket:t}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("verifySendEmailCode")),(0,s.Z)(e=>(0,l.H)(e.verify.sendEmailCode({extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:t,web_verify_need_region:1,web_verify_expire_in:1200})})))).pipe(this.errorHandler.bind(this))}sendEmailCodeForResetPwd(e){const{email:t="",not_login_ticket:o,email_logic_type:n}=e;return this.getAccountSdk$({email:t,triggerPath:j.SendEmailCode}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForResetPwd")),(0,s.Z)(e=>(0,l.H)(e.forgetPwd.sendEmailCode({email:t,extra_params:Object.assign(Object.assign({},this.extraParams),{not_login_ticket:o,email_logic_type:n})})))).pipe(this.errorHandler.bind(this))}sendEmailCodeForForceResetPwd(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForForceResetPwd")),(0,s.Z)(t=>(0,l.H)(t.extra.sendEmailCode({type:11,code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{conditional_login_ticket:e.conditional_login_ticket})})))).pipe(this.errorHandler.bind(this))}validateEmailCodeForReset(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForReset")),(0,s.Z)(t=>(0,l.H)(t.forgetPwd.validateEmail(Object.assign(Object.assign({},e),{extra_params:Object.assign({},this.extraParams)}))))).pipe(this.errorHandler.bind(this))}validateEmailCodeForForceReset(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForForceReset")),(0,s.Z)(t=>(0,l.H)(t.verify.validateEmail({code:e.code,extra_params:Object.assign(Object.assign({},this.extraParams),{type:11,conditional_login_ticket:e.conditional_login_ticket,web_verify_need_region:1,web_verify_expire_in:1200})})))).pipe(this.errorHandler.bind(this))}emailCodeLogin(e){const{not_login_ticket:t,verify_ticket:o,code:n,password:i}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("emailCodeLogin")),(0,s.Z)(e=>this.idvService.withIdvVerify(r=>e.login.emailCodeLogin({code:n,email:"",extra_params:Object.assign(Object.assign({},this.extraParams),{passport_ticket:r,not_login_ticket:t,verify_ticket:o,password:i,type:13})})))).pipe(this.errorHandler.bind(this))}smsLogin(e){const{mobile:t="",code:o,login_only:n,birthday:i}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("smsLogin")),(0,s.Z)(e=>this.idvService.withIdvVerify(r=>e.login.smsLogin({mobile:t,code:o,login_only:n,extra_params:Object.assign({passport_ticket:r,birthday:i},this.extraParams)})))).pipe(this.errorHandler.bind(this))}smsVerify(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("smsVerify")),(0,s.Z)(t=>(0,l.H)(t.verify.notLoginValidateMobile(e)))).pipe(this.errorHandler.bind(this))}smsLoginContinue(e){const{extra_params:t}=e,o=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["extra_params"]);return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("smsLoginContinue")),(0,s.Z)(e=>(0,l.H)(e.login.smsLoginContinue(Object.assign(Object.assign({},o),{extra_params:Object.assign(Object.assign({},this.extraParams),t)}))))).pipe(this.errorHandler.bind(this))}passwordLogin(e){const{password:t,username:o="",extra_params:n,mobile:i,email:r,account:a}=e;return this.getAccountSdk$({username:o,mobile:i,email:r,account:a,triggerPath:j.AccountLogin}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("passwordLogin")),(0,s.Z)(e=>this.idvService.withIdvVerify(s=>e.login.pwdLogin({username:o.toLowerCase(),password:t,mobile:i,email:r,account:a,extra_params:Object.assign(Object.assign({passport_ticket:s},this.extraParams),n)})))).pipe(this.errorHandler.bind(this))}verifyPwdWithoutLogin(e){const{password:t,username:o="",extra_params:n,mobile:i,email:r,account:a}=e;return this.getAccountSdk$({mobile:i,email:r,account:a,triggerPath:j.verifyPwdWithoutLogin}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("verifyPwdWithoutLogin")),(0,s.Z)(e=>(0,l.H)(e.verify.verifyPwdWithoutLogin({username:o.toLowerCase(),password:t,mobile:i,email:r,extra_params:Object.assign(Object.assign(Object.assign({account:a},this.extraParams),n),{web_verify_need_region:1,web_verify_expire_in:1200})})))).pipe(this.errorHandler.bind(this))}resetPwdLoginByEmail(e){const{email:t,password:o,code:n="",extra_params:i}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("resetPwdLoginByEmail")),(0,s.Z)(e=>(0,l.H)(e.password.resetPwdLoginByEmail({password:o,code:n,email:t,extra_params:Object.assign(Object.assign(Object.assign({},i),this.extraParams),{rules_version:"v2"})})))).pipe(this.errorHandler.bind(this))}changePwdByMobile(e){const{mobile:t,password:o,code:n}=e;return this.getAccountSdk$({mobile:t,triggerPath:j.ResetPwdLogin}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("changePwdByMobile")),(0,s.Z)(e=>(0,l.H)(e.forgetPwd.resetPwdByMobile({password:o,code:n,mobile:t,extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})})))).pipe(this.errorHandler.bind(this))}validateMobileCodeForLogin(e){const{code:t,verify_ticket:o,not_login_ticket:n}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validateMobileCodeForLogin")),(0,s.Z)(e=>(0,l.H)(e.password.validateMobile({code:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:o,not_login_ticket:n,type:22})})))).pipe(this.errorHandler.bind(this))}validateEmailCodeForLogin(e){const{code:t,verify_ticket:o,not_login_ticket:n}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validateEmailCodeForLogin")),(0,s.Z)(e=>(0,l.H)(e.verify.notLoginValidateEmail({email:"",code:t,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:o,not_login_ticket:n,type:6,web_verify_need_region:1,web_verify_expire_in:1200})})))).pipe(this.errorHandler.bind(this))}validateMobileCodeForReset(e){const{code:t,verify_ticket:o,not_login_ticket:n,password:i}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validateMobileCodeForReset")),(0,s.Z)(e=>(0,l.H)(e.forgetPwd.resetPwdByMobile({code:t,mobile:"",password:i,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:o,not_login_ticket:n})})))).pipe(this.errorHandler.bind(this))}getOauthConfig(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("getOauthConfig")),(0,s.Z)(t=>(0,l.H)(t.account.authConfig(e)))).pipe(this.errorHandler.bind(this))}thirdLogin(e){return this.getAccountSdk$(e.login_only&&!e.profile_key?{openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:j.ThirdLogin}:void 0).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("thirdLogin")),(0,s.Z)(t=>this.idvService.withIdvVerify(o=>t.login.authLogin(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({passport_ticket:o},this.extraParams),{birthday:e.birthday,platform:e.platform,id_token:e.id_token,redirect_uri:e.redirect_uri})}))))).pipe(this.errorHandler.bind(this))}thirdVerify(e){return this.getAccountSdk$({openId:e.openid,platform_app_id:e.platform_app_id,triggerPath:j.ThirdVerify}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("thirdVerify")),(0,s.Z)(t=>(0,l.H)(t.verify.authVerify(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{platform:e.platform,id_token:e.id_token,redirect_uri:e.redirect_uri,web_verify_need_region:1,web_verify_expire_in:1200})}))))).pipe(this.errorHandler.bind(this))}resetPwdByEmailTicket(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("resetPwdByEmailTicket")),(0,s.Z)(t=>(0,l.H)(t.forgetPwd.resetPwdByEmailTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}resetPwdByMobileTicket(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("resetPwdByMobileTicket")),(0,s.Z)(t=>(0,l.H)(t.forgetPwd.resetPwdByMobileTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}forceResetPwdByMobileTicket(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("forceResetPwdByMobileTicket")),(0,s.Z)(t=>(0,l.H)(t.forgetPwd.forceResetPwdByMobileTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}forceResetPwdByEmailTicket(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("forceResetPwdByEmailTicket")),(0,s.Z)(t=>(0,l.H)(t.forgetPwd.forceResetPwdByEmailTicket(Object.assign(Object.assign({},e),{extra_params:Object.assign(Object.assign({},this.extraParams),{rules_version:"v2"})}))))).pipe(this.errorHandler.bind(this))}cancelDeleteAccount(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("cancelDeleteAccount")),(0,s.Z)(t=>(0,l.H)(t.cancel.cancelLogin(e)))).pipe(this.errorHandler.bind(this))}cancelDeactiveAccount(e){return this.getAccountSdk$().pipe((0,s.Z)(t=>(0,l.H)(t.request({url:"/passport/web/deactivation/login/",method:"POST",data:Object.assign(Object.assign({},e),this.extraParams)})))).pipe(this.errorHandler.bind(this))}setAccount(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("setAccount")),(0,s.Z)(t=>(0,l.H)(t.account.setAccount(e)))).pipe(this.errorHandler.bind(this))}getQrCodeUrl(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("getQrCodeUrl")),(0,s.Z)(t=>(0,l.H)(t.qrcodeLogin.getQrcode(e)))).pipe(this.errorHandler.bind(this))}checkQrconnect(e){return this.getAccountSdk$({ttWid:e.ttWid}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("checkQrconnect")),(0,s.Z)(t=>(0,l.H)(t.qrcodeLogin.checkQrconnect(e)))).pipe(this.errorHandler.bind(this))}usernameRegister(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$({username:e.username,triggerPath:j.UsernameRegister}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("usernameRegister")),(0,s.Z)(t=>(0,l.H)(t.login.usernameRegister(e)))).pipe(this.errorHandler.bind(this))}emailRegister(e){return e.extra_params=Object.assign(Object.assign({},this.extraParams),e.extra_params),this.getAccountSdk$({email:e.email,triggerPath:j.EmailRegister}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("emailRegister")),(0,s.Z)(t=>(0,l.H)(t.login.emailRegister(e)))).pipe(this.errorHandler.bind(this))}checkLogin(){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("checkLogin")),(0,s.Z)(e=>(0,l.H)(e.login.checkLogin({})))).pipe(this.errorHandler.bind(this))}accountVerify(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("accountVerify")),(0,s.Z)(t=>(0,l.H)(t.verify.accountVerify({account:"",password:e.password,extra_params:Object.assign(Object.assign({},this.extraParams),{verify_ticket:e.verify_ticket,web_verify_need_region:1,web_verify_expire_in:1200})})))).pipe(this.errorHandler.bind(this))}verifyTOTPCode(e){return(0,c.p)([this.getAccountSdk$(),(0,l.H)(Promise.all([o.e(318),o.e(618),o.e(181),o.e(392),o.e(241),o.e(336),o.e(427),o.e(113),o.e(104),o.e(177),o.e(937),o.e(536),o.e(605),o.e(21)]).then(o.bind(o,66286)))]).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("verifyTOTP")),(0,s.Z)(([t,o])=>{var n;const i=(0,o.encryptParams)(e,["code"]),r=null!==(n=this.userRegion.getRegionDomain())&&void 0!==n?n:"";return(0,l.H)(t.request({url:`${r}/passport/web/totp/verify_without_login/`,method:"POST",params:{aid:"1459"},data:i}))})).pipe(this.errorHandler.bind(this))}switchAccount(e){const t=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("switchAccount")),(0,s.Z)(o=>(0,l.H)(o.request({url:`${t}/passport/web/account/switch/`,method:"POST",params:{aid:"1459",sec_to_user_id:e.secUid}})))).pipe(this.errorHandler.bind(this))}preLogoutCheckForAppleIdBinding(){return this.makeRequest({method:"GET",slardarMethodName:"preLogoutCheckForAppleIdBinding",url:"/passport/web/logout_precheck/",params:{aid:"1459"}},{})}m2BindAppleId(e){return this.makeRequest({method:"POST",slardarMethodName:"m2BindAppleId",url:"/passport/web/auth/bind/",data:Object.assign(Object.assign(Object.assign({aid:1459,m2_scene:5,platform_app_id:E.iU[E.lv.APPLE]},e.code?{code:e.code}:{}),e.m2_lookup_ticket?{m2_lookup_ticket:e.m2_lookup_ticket}:{}),e.user_confirm?{user_confirm:1}:{})},{})}removeAccount(e){const t=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("removeAccount")),(0,s.Z)(o=>(0,l.H)(o.request({url:`${t}/passport/account/remove/`,method:"POST",params:{aid:"1459",sec_removed_user_id:e.secUid}})))).pipe(this.errorHandler.bind(this))}logoutAccount(e){const t=this.userRegion.getDomainFromIDC(e.region);return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("removeAccount")),(0,s.Z)(e=>(0,l.H)(e.request({url:`${t}/passport/web/logout/`,method:"POST",params:{aid:"1459"}})))).pipe(this.errorHandler.bind(this))}checkEmailRegistered(e){return this.getAccountSdk$({email:e.email}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("checkEmailRegistered")),(0,s.Z)(t=>(0,l.H)(t.extra.checkEmailRegistered({email:e.email,extra_params:Object.assign({},this.extraParams)})))).pipe(this.errorHandler.bind(this))}sendPhoneCodeForBindAccount(e){const{mobile:t}=e;return this.getAccountSdk$({mobile:t,triggerPath:j.SendPhoneCode,skipRegionCheck:!0}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendPhoneCodeForBindAccount")),(0,s.Z)(e=>(0,l.H)(e.bind.sendCode({mobile:t,unbind_exist:0,extra_params:Object.assign(Object.assign({},this.extraParams),{is6Digits:1})})))).pipe(this.errorHandler.bind(this))}validateAndBindPhone(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validateAndBindPhone")),(0,s.Z)(t=>(0,l.H)(t.bind.bindMobile(Object.assign(Object.assign({},e),{unbind_exist:0,extra_params:{phone_number_source:27}}))))).pipe(this.errorHandler.bind(this))}sendEmailCodeForBindAccount(e){const{email:t}=e;return this.getAccountSdk$({email:t,triggerPath:j.SendEmailCode,skipRegionCheck:!0}).pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("sendEmailCodeForBindAccount")),(0,s.Z)(e=>(0,l.H)(e.bind.sendEmailCode({email:t,extra_params:Object.assign({},this.extraParams)})))).pipe(this.errorHandler.bind(this))}validateAndBindEmail(e){return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("validateAndBindEmail")),(0,s.Z)(t=>(0,l.H)(t.bind.bindEmail(Object.assign(Object.assign({},e),{extra_params:{email_source:26}}))))).pipe(this.errorHandler.bind(this))}updateUniqueId(e){return this.getAccountSdk$().pipe((0,s.Z)(t=>(0,l.H)(t.account.updateLoginName({login_name:e})))).pipe(this.errorHandler.bind(this))}validateFTCUsername(e){return this.getAccountSdk$().pipe((0,g.n)(t=>(0,l.H)(t.request({url:"/passport/web/login_name/check/",method:"POST",params:{aid:1459,login_name:e}})))).pipe(this.errorHandler.bind(this))}refreshSession(){return this.getAccountSdk$().pipe((0,h.c)(1500),(0,v.p)(e=>(this.refreshSessionPromise||(this.refreshSessionPromise=e.request({url:"https://www.tiktok.com/passport/web/account/info/",method:"GET",params:{aid:1459,locale:this.extraParams.locale,app_language:this.extraParams.locale.split("-")[0]},headers:{"x-tt-passport-force-refresh-cookie":"1"}}).catch(e=>{var t,o,n,i,r;return this.slardar.handleRequestResultReport({error_code:e.error_code||-1,url:this.requestInfo.url,type:null!==(t=null===(n=this.requestInfo)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.type)&&void 0!==t?t:null===(r=this.requestInfo)||void 0===r||null===(i=r.params)||void 0===i?void 0:i.type,domain:this.requestInfo.baseURL,function_type:"getAccountInfo"}),{error_code:e.error_code||-1}})),(0,l.H)(this.refreshSessionPromise))))}m2TicketLoginAndBindOauth(e){const{m2_lookup_ticket:t}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod("m2TicketLoginAndBindOauth")),(0,s.Z)(e=>(0,l.H)(e.request({url:"/passport/web/m2/ticket_login_and_bind_oauth/",method:"POST",params:Object.assign({m2_lookup_ticket:t},this.extraParams)})))).pipe(this.errorHandler.bind(this))}makeRequest(e,t,o=!1){const{slardarMethodName:n}=e;return this.getAccountSdk$().pipe((0,m.M)(()=>this.slardar.setCurrentRequestMethod(n)),(0,g.n)(t=>{const{url:n,method:i,params:r,data:a}=e,s=(0,l.H)(t.request({url:n,method:i,params:Object.assign({aid:"1459"},r),data:a}));return!1!==o&&s.pipe((0,d.w)(o)),s.pipe((0,_.T)(e=>({data:Object.assign({error_code:0},e)})))}),(0,m.M)(()=>{this.reportSuccess()}),(0,p.W)(e=>{var n,i,r,a,s,l,c,p;const g=e;this.slardar.handleRequestResultReport({error_code:null!==(n=g.error_code)&&void 0!==n?n:g.oidc_error_code||-1,url:this.requestInfo.url,type:null!==(i=null===(l=this.requestInfo)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.type)&&void 0!==i?i:null===(p=this.requestInfo)||void 0===p||null===(c=p.params)||void 0===c?void 0:c.type,domain:this.requestInfo.baseURL});let m="";return(0,M.mi)(e)&&(m=e.report_msg),e instanceof d.M&&(m=`make request timeout after ${o}, message=${e.message}`),(0,u.of)({message:"error",error:e,data:Object.assign(Object.assign({report_msg:m},t),{error_code:null!==(a=null!==(r=g.error_code)&&void 0!==r?r:g.oidc_error_code)&&void 0!==a?a:L.Kq.AccountSdkRequestError})})}))}errorHandler(e){return e.pipe((0,m.M)(()=>{this.reportSuccess()}),(0,p.W)(e=>{var t,o,n,i,r,a,s;const l=e;this.slardar.handleRequestResultReport({error_code:l.error_code||-1,url:this.requestInfo.url,type:null!==(t=null===(r=this.requestInfo)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.type)&&void 0!==t?t:null===(s=this.requestInfo)||void 0===s||null===(a=s.params)||void 0===a?void 0:a.type,domain:this.requestInfo.baseURL}),"CLOSE_CAPTCHA"!==e&&console.error(`Login: account-api error: [${null!==(o=l.error_code)&&void 0!==o?o:-1}] ${null!==(n=l.description)&&void 0!==n?n:"unknown"}.`);const c="Sorry, something went wrong, please try again later";return"CLOSE_CAPTCHA"===e||l.error_code===L.Kq.AccountSdkCloseCaptcha?(0,u.of)({error_code:L.Kq.AccountSdkCloseCaptcha,default_error_msg:"",description:""}):(0,M.mi)(e)?(0,u.of)(Object.assign({default_error_msg:c,description:""},e)):(0,M.gQ)(e)?(0,u.of)(Object.assign({default_error_msg:c},e)):(0,u.of)({error_code:L.Kq.AccountSdkUnknownError,default_error_msg:c,description:"",report_msg:`unknown account sdk error: ${e}`})}))}reportSuccess(){var e,t,o,n,i;this.slardar.handleRequestResultReport({url:this.requestInfo.url,type:null!==(e=null===(o=this.requestInfo)||void 0===o||null===(t=o.data)||void 0===t?void 0:t.type)&&void 0!==e?e:null===(i=this.requestInfo)||void 0===i||null===(n=i.params)||void 0===n?void 0:n.type,domain:this.requestInfo.baseURL})}constructor(e,t,o,n){this.userRegion=e,this.slardar=t,this.loginReport=o,this.idvService=n,this.overrideRegionCode=null,this.extraParams={aid:1459,is_sso:!1,account_sdk_source:"web",region:"",language:"en",locale:"en",did:""},this.requestInfo={}}}H=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,f._q)({name:"AccountSdkService@tiktok/login"}),N("design:type",Function),N("design:paramtypes",[void 0===F.d?Object:F.d,void 0===R.VU?Object:R.VU,void 0===T.$F?Object:T.$F,void 0===D.d?Object:D.d])],H)},42184:(e,t,o)=>{"use strict";o.d(t,{g9:()=>d,li:()=>c});var n=o(57432),i=o.n(n),r=o(40099),a=o(5160),s=o(87102);const l=(0,a.$)("ModalContext@tiktok/fe-shared")({counterRef:{current:0},scrollWidthRef:{current:0},subscribeRef:{current:[]},setCounter:i(),setScrollWidth:i(),subscribeModalChange:()=>i()});function c(){const e=(0,r.useRef)(0),t=(0,r.useRef)(0),o=(0,r.useRef)([]),n=(0,r.useCallback)(t=>{e.current=t},[]),i=(0,r.useCallback)(e=>{t.current=e},[]),a=(0,r.useCallback)(e=>(o.current.push(e),()=>{const t=o.current.indexOf(e);o.current.splice(t)}),[]),s=(0,r.useMemo)(()=>({counterRef:e,subscribeRef:o,scrollWidthRef:t,setCounter:n,setScrollWidth:i,subscribeModalChange:a}),[a,n,i]);return{GlobalModalProvider:l.Provider,value:s}}function d(){const{counterRef:e,setCounter:t,setScrollWidth:o,subscribeRef:n,scrollWidthRef:i,subscribeModalChange:a}=(0,r.useContext)(l),c=(0,r.useCallback)(e=>{n.current.forEach(t=>{t({hasModal:e,scrollWidth:i.current})})},[i,n]);return{showModal:(0,r.useCallback)((n,i)=>{if(!(0,s.Lm)()&&!n||i)return;const{current:r}=e;if(t(r+1),0===r){const e=(0,s.aP)();o(e),document.body.style.paddingRight=`${e}px`,document.body.className+=" hidden",c(!0)}},[e,c,t,o]),hideModal:(0,r.useCallback)(()=>{const{current:n}=e,i=Math.max(0,n-1);t(i),0===i&&(o(0),document.body.className=document.body.className.replace(/\s?hidden/g,""),document.body.style.paddingRight="0px",c(!1))},[e,c,t,o]),subscribeModalChange:a}}},42715:(e,t,o)=>{"use strict";o.d(t,{Fn:()=>_,G2:()=>b,dI:()=>h});var n=o(41353),i=o(89600),r=o(23999),a=o(20259),s=o(62564),l=o(8536),c=o(17592),d=o(78134),u=o(9850),p=o(66661);function g(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}const h="login_config";let v=null;function _(){const e=(0,d.YI)(h);if(e)return e;if(v)return v;const t=window.fetch("/node-webapp/api/login-config");return v=t.then(e=>e.json()).then(e=>((0,d.A7)(h,e),e)).catch(e=>{throw v=null,e}),v}class f{getUrlParams(e){const t=e?e.split("?")[1]:window.location.search;return(0,n.parse)(t)}getIsPhoenix(){return"www.tiktok.in"===window.location.host}getLoginConfig(){return(0,i.v)(()=>{return e=this,t=void 0,n=function*(){return yield _()},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n})}}f=g([(0,c._q)({name:"LoginService@tiktok/login"})],f);class b{getLoginContext(e,t=""){var o;const n=this.service.getUrlParams(e),i=this.getLoginType(n),c=this.getShowAlertMessageType(i,n),d=null!==(o=u.wT[i])&&void 0!==o?o:{},{is_modal:g,hide_close_btn:m,hide_toggle_login_signup:h,target_aid:v,no_cta_popup:_,standalone_aid:f,tt_not_installed:b,redirect_url:y,enable_one_tap:w,id_token:k,send_itp_flag:S}=(0,p.r)(n,["is_modal","hide_close_btn","hide_toggle_login_signup","target_aid","no_cta_popup","standalone_aid","tt_not_installed","redirect_url","enable_one_tap","id_token","send_itp_flag"]),C="true"===b,x="1"===w,P=Boolean(k),T="1"===_||x||C||P,O=Array.isArray(y)?y[0]:null!=y?y:"",A=this.getAppVersion(O),E="1"===S;return this.service.getLoginConfig().pipe((0,l.Z)(e=>{if(0!==e.statusCode)throw new Error("get api error");return(0,r.of)(Object.assign({},e.config))}),(0,a.W)(()=>(0,r.of)({emailSuffixConfig:[],platformConfig:{show_num:3,order:"FACEBOOK,GOOGLE,TWITTER,INSTAGRAM"},disableSignup:!1,forceLogin:!1,emailConsent:!1,phoenix:this.service.getIsPhoenix(),ttpConfig:{open:!0,syncSeverList:[{name:"global",domain:"https://web-va.tiktok.com"},{name:"ttp",domain:"https://us.tiktok.com"},{name:"gcp",domain:"https://login-no1a.www.tiktok.com"}]},disableStandaloneAppFlags:{}}))).pipe((0,s.T)(e=>Object.assign(Object.assign(Object.assign(Object.assign({},u.Jw),d),{loginType:i,phoenix:this.service.getIsPhoenix(),showAlertMessageType:c,redirectUrl:O,isModal:"1"===g,hideCloseButton:"1"===m,hideToggleLoginSign:"1"===h,previousModalType:t,targetAid:null!=v?v:"",noCtaPopup:T,standaloneAid:null!=f?f:"",standaloneAppVersion:A,enableOneTapFromQuery:x,ttNotInstalled:C,sendBackItpFlag:E}),e)))}getAppVersion(e){if(!e)return null;try{const t=new URL(e);return(0,n.parse)(t.search).version_code}catch(e){return null}}constructor(e){this.service=e,this.getLoginType=e=>{var t;const o=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:null==e?void 0:e.enter_method;if(!o)return u.Gb.Main;const n=Array.isArray(o)?o[0]:o;return u.wT[n]?o:u.Gb.Main},this.getShowAlertMessageType=(e,t)=>{const{message:o}=t;if(!o)return;const n=Array.isArray(o)?o[0]:o;return e!==u.Gb.AgeVerify||n!==u.Go.InEligible&&n!==u.Go.AccountNotExist?void 0:n}}}b=g([(0,c._q)({name:"LoginContextService@tiktok/login"}),m("design:type",Function),m("design:paramtypes",[void 0===f?Object:f])],b)},43435:(e,t,o)=>{"use strict";o.d(t,{q:()=>a});var n=o(49360),i=o(91939);const r=1e3;function a(e){var t;let o;const a="undefined"!=typeof window;if(a&&(e=e?decodeURIComponent(e):document.referrer,o=(0,i.Hd)(n.em)),!o){if(!e||e.length>r)o="no_referrer";else{const i=/^https?:\/\/.*(google|yahoo|yandex|bing|naver|duckduckgo|neeva|wikipedia|facebook|instagram|youtube|twitter|tiktok|buzzfeed|debate|greenlemon|cloudfront|multimedios|huffpost|sdpnoticias|pinterest|bluradio|eluniversal|elcomercio|insider|medialeaks|intheknow|distractify|telediario|msn|linkedin|discord|whatsapp|telegram|viber|reddit|twitch|snapchat|messenger).*\/?/;o=(null!==(t=e.match(i))&&void 0!==t?t:[])[1]||n.YH}a&&(0,i.J2)(n.em,o)}return o}},44636:(e,t,o)=>{"use strict";var n={};o.r(n),o(3262),console.info("Reflect is polyfilled, using `@abraham/reflection`.");var i=o(2787),r=o(18499),a=(o(7073),o(14118)),s=o(47236),l=o(94999),c=o(20146),d=o(57432),u=o.n(d),p=o(68544),g=o(7452),m=o(40099),h=o(67394),v=o(58933),_=o(20013),f=o(58746),b=o(67274),y=o(57524),w=o(78134);const k="non_personalized_feeds_web";var S=o(13839),C=o(94913),x=o(85224),P=o(44973),T=o(26558);const O=(e,t,o,n)=>{if(!e)return!!t&&"1"===(0,T.MJ)("personalized_feed_disabled_not_login");const i=n?"personalized_feed_ppf_disabled_list":t?"personalized_feed_disabled_list":"personalized_search_disabled_list",r=(0,T.MJ)(i);if(r)try{const t=o?decodeURIComponent(r):r;return JSON.parse(t).includes(e)}catch(e){console.warn("getIsNonPersonalized get JSON failed")}return!1},A=(e,t="")=>{var o;const n="v2"===(null==e||null==(o=e.parameters[k])?void 0:o.vid),i=((e="")=>O(e,void 0,void 0,!0))(t);let r=!1;return(n||i)&&(r=O(t,!0,!1)),r};const E=e=>{const{isFeedPersonalized:t}=e;return!t},L={isSearchPersonalized:!0,isFeedPersonalized:!0,isSearchConfigInitialized:!1,isFeedConfigInitialized:!1,isManageModalOpen:!1,isExplanationModalOpen:!1,isShowingToast:!1},j={isSearchPersonalized:!1,isFeedPersonalized:!1,isSearchConfigInitialized:!1,isFeedConfigInitialized:!1,isManageModalOpen:!1,isExplanationModalOpen:!1,isShowingToast:!1},I=(0,S._)((0,x.p)("personalizationAtom@tiktok/webapp-atoms",(()=>{const e=function(){if((0,P.fU)())return"";const e=(0,w.YI)(b.Ow),{user:{uid:t=""}={}}=e||{};return t}();return A(void 0,e)?j:L})()),{rehydrationKey:"webapp.personalization"}),{useAtomService:R,useServiceState:M,useServiceDispatchers:D,getStaticApi:F}=(0,C.i)(I,(e,t)=>({setIsShowingToast(e){t(I,t=>Object.assign(Object.assign({},t),{isShowingToast:e}))},setIsManageModalOpen(e){t(I,t=>Object.assign(Object.assign({},t),{isManageModalOpen:e}))},setIsExplanationModalOpen(e){t(I,t=>Object.assign(Object.assign({},t),{isExplanationModalOpen:e}))},setIsSearchPersonalized(e){t(I,t=>Object.assign(Object.assign({},t),{isSearchPersonalized:e}))},setIsFeedPersonalized(e){t(I,t=>Object.assign(Object.assign({},t),{isFeedPersonalized:e}))},setSearchConfigInitialized(e){t(I,t=>Object.assign(Object.assign({},t),{isSearchConfigInitialized:e}))},setFeedConfigInitialized(e){t(I,t=>Object.assign(Object.assign({},t),{isFeedConfigInitialized:e}))},init(o){var n,i,r,a,s;return i=this,r=void 0,s=function*(){var i;const{isFeed:r}=o,a=(0,y.x)(),{isSearchConfigInitialized:s,isFeedConfigInitialized:l}=e(I);if(s&&!r||l&&r)return;const c=null!==(n=null==(i=a.user)?void 0:i.uid)&&void 0!==n?n:"",d=O(c,r);t(I,r?e=>Object.assign(Object.assign({},e),{isFeedPersonalized:!d,isFeedConfigInitialized:!0}):e=>Object.assign(Object.assign({},e),{isSearchPersonalized:!d,isSearchConfigInitialized:!0}))},new((a=void 0)||(a=Promise))(function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function n(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a(function(e){e(i)})).then(o,n)}l((s=s.apply(i,r||[])).next())})}}));var N=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function U(e){return N(this,void 0,void 0,function*(){try{let t=(0,w.YI)(b.Ow);if(!t){const o=yield(0,_.zI)(e);if(0!==(null==o?void 0:o.statusCode))throw new Error("AppContext API response statusCode is not 0");t=o,(0,w.A7)(b.Ow,o)}(0,y.D)(t),yield function(e){return N(this,void 0,void 0,function*(){const t=l.l.getInstance(f.L),o=t.getActions().init({appContext:e});t.store.dispatch(o),function(e){var t,o,n,i;t=this,o=void 0,i=function*(){var t,o,n,i;"v2"===(null===(o=e.abTestVersion)||void 0===o||null===(t=o.parameters.search_add_non_personalized_switch)||void 0===t?void 0:t.vid)&&(yield F().init({})),"v2"===(null===(i=e.abTestVersion)||void 0===i||null===(n=i.parameters[k])||void 0===n?void 0:n.vid)&&(yield F().init({isFeed:!0}))},new((n=void 0)||(n=Promise))(function(e,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n(function(e){e(o)})).then(a,s)}l((i=i.apply(t,o||[])).next())})}(e),yield new Promise(e=>{t.state$.subscribe(t=>{t.initialized&&e()})})})}(t)}catch(e){console.error(`[Fetch Base App Context Error]: ${e}`)}})}var B=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const H=(0,m.createContext)({onLocationChange:u()});var z=o(22769);const Y=["fetch"],W=["includes"],V=["values","entries","getOwnPropertyDescriptors"];var G=o(35357),$=o.n(G),q=o(70815),K=o(78618),Z=o(26946),J=o(93247),Q=o(17283),X={"@ies/starling_client_text_replace_plugin":function(e){e.exports=Q}},ee={};const te={isPhoenix:"object"==typeof window&&"www.tiktok.in"===window.location.host,textReplace:"undefined"==typeof window?null:new(function e(t){var o=ee[t];if(void 0!==o)return o.exports;var n=ee[t]={exports:{}};return X[t](n,n.exports,e),n.exports}("@ies/starling_client_text_replace_plugin").default)({condition:{APPID:"8660"},tccUrl:"https://sf-tcc-config.tiktokcdn.com/obj/tcc-config-web-alisg/tcc-v2-data-webcast.starling.proxy-default"}),loadTcc(){return this.isPhoenix?this.textReplace.getWithCache("webapp-phoenix-tcc"):Promise.resolve()},getPlugin:e=>({type:"postProcessor",name:"text-replace-plugin",process:(t,o)=>te.textReplace.processSync(t,e,o)}),getProcessName(){return this.isPhoenix?["text-replace-plugin"]:void 0}};function oe(e,t,o){const n=[];return new Promise((i,r)=>{te.loadTcc().then(a=>{(te.isPhoenix?z.Ay.use(te.getPlugin(a)):z.Ay).init({debug:!1,fallbackLng:["en"],initImmediate:!0,defaultNS:null!=t?t:K.i_.WebApp,postProcess:te.getProcessName(),saveMissing:!0,missingKeyHandler:(e,t,i,r)=>{n.includes(i)||(console.warn("[i18n] missing key",e,t,i,r),n.push(i)),o&&o(e,t,i,r)}},e=>{e?r(e):i()}),z.Ay.setLang(e)})})}const ne=[K.i_.RechargeReferral],ie=[K.i_.AccountServer];function re(e){return ne.includes(e)?Z.Uy:ie.includes(e)?Z.k9:Z.Lq}function ae(e,t,o=!1){return n=this,i=void 0,a=function*(){const{starling:n,tea:i}=(0,J.V)();return new q.A({namespace:e,api_key:re(e),locale:t,zoneHost:n,timeout:1e4,TEAChannelDomain:i,lazyUpdate:o}).load()},new((r=void 0)||(r=Promise))(function(e,t){function o(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r(function(e){e(n)})).then(o,s)}l((a=a.apply(n,i||[])).next())});var n,i,r,a}const se=$()((e,t)=>{Object.entries(e).forEach(([e,o])=>{z.Ay.addResourceBundle(t,e,o,!0,!0)})});var le=o(15920),ce=o(33675),de=o(848);function ue(e,t){return o=this,n=void 0,r=function*(){try{if(!(0,w.YI)(ce.rv)){const o={};yield Promise.all(t.map(t=>ae(t,e).then(e=>{o[t]=e}))),(0,w.A7)(ce.rv,o)}}catch(e){console.error(`[Fetch Error]: translation data fetch failed: ${e}`)}},new((i=void 0)||(i=Promise))(function(e,t){function a(e){try{l(r.next(e))}catch(e){t(e)}}function s(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(o,n||[])).next())});var o,n,i,r}function pe(){const e=(0,w.YI)("webapp.browserRedirect-context");if(e){const t=l.l.getInstance(v.V$);try{window.history.replaceState(window.history.state,"",e.browserRedirectUrl),t.emitEvent("seo.browser-redirect.succeed",{count:1},{})}catch(e){t.emitEvent("seo.browser-redirect.error",{count:1},{})}}}var ge=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function me(e){var t;return ge(this,void 0,void 0,function*(){Object.getPrototypeOf(l.l).constructor.prototype.createChild=e=>(l.l.addProviders(e),l.l);const n=(0,g.S)(),{beforeStart:i=u(),defaultNS:r,nss:a,customInitBiz:d,slardarOption:m,appName:_,missingKeyHandler:f,asyncSlardarPre:y=!1}=e;yield function(){return e=this,t=void 0,i=function*(){"Promise"in window?(Y.some(e=>!(e in window))&&(yield o.e(281).then(o.bind(o,23596))),(W.some(e=>!(e in Array.prototype))||V.some(e=>!(e in Object)))&&(yield Promise.all([o.e(837).then(o.t.bind(o,69160,23)),o.e(837).then(o.t.bind(o,96666,23)),o.e(837).then(o.t.bind(o,43631,23)),o.e(837).then(o.t.bind(o,24511,23))]))):window.location.href="https://www.tiktok.com/unsupported"},new((n=void 0)||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())});var e,t,n,i}(),(0,c.a)(),(0,p.sF)(n);const k=(0,K.qm)();let S;yield Promise.all([U(k),ue(k,a),pe(),d?Promise.resolve():(0,h.a)(_),(0,de.Zi)(),i(),(0,s.ai)(),oe(k,r,f)]),function(e){const t=(0,w.YI)(ce.rv);t?se(t,e):console.error("[Error]: No translation data to be added")}(k),l.l.addProvider({provide:ce.hp,useValue:z.Ay.t});try{const e=e=>ge(this,void 0,void 0,function*(){S=yield function(e){return B(this,void 0,void 0,function*(){const t=yield function(e){return B(this,void 0,void 0,function*(){return"function"==typeof e?yield e():e})}(e),o=(0,w.YI)(b.Ow),n=yield(0,h.h)(),i=l.l.getInstance(v.V$);return v.V$.start(i,Object.assign({appContext:o,bizContext:n,initLocation:window.location.pathname},t))})}(e),(0,le.JI)(null==S?void 0:S.slardar)});if(m)if(y)if(window.SlardarClient)yield e(m);else{const t=document.querySelector('script[src*="slardar.web.pre.js"]');t&&(yield new Promise(o=>{t.onload=()=>ge(this,void 0,void 0,function*(){yield e(m),o()})}))}else yield e(m)}catch(e){console.error(e)}return{slardarUtils:S,jotaiStore:n,rootProps:{jotaiStore:n,disableInlineSlardar:void 0!==m,slardarContext:{onLocationChange:null!==(t=null==S?void 0:S.handleLocationChange)&&void 0!==t?t:u()}}}})}var he=o(56060),ve=o(67518),_e=o(5160);const fe=(0,_e.$)("InlineSlardarConfigContext@tiktok/webapp-common")({enable:!0});function be(e){const{jotaiStore:t,disableInlineSlardar:o,slardarContext:n,children:r,csr:a}=e,s=(0,m.useMemo)(()=>{const e=null!=r?r:(0,i.Y)(m.Fragment,{});return(0,p.ZB)(e,t?{jotaiStore:t}:void 0)},[r,t]);if(a)return(0,i.Y)(H.Provider,{value:n,children:(0,i.Y)(fe.Provider,{value:{enable:!o,enableInlineScript:!1},children:(0,i.Y)(s,{})})});{const e=(0,he.A)({key:"tiktok"});return(0,i.Y)(H.Provider,{value:n,children:(0,i.Y)(fe.Provider,{value:{enable:!o},children:(0,i.Y)(ve.C,{value:e,children:(0,i.Y)(s,{})})})})}}var ye=o(33238),we=o(57509),ke=o(73580);function Se(){const{enable:e=!0,enableHeadComponent:t,enableInlineScript:o,enableUseSlardarPageViewHook:n,enableUseSlardarActualFmp:i=!0}=(0,m.useContext)(fe);return{enable:e,enableHeadComponent:null!=t?t:e,enableInlineScript:null!=o?o:e,enableUseSlardarPageViewHook:null!=n?n:e,enableUseSlardarActualFmp:i}}function Ce({pid:e}){const t=(0,ke.Nj)(v.V$),{enableUseSlardarPageViewHook:o}=Se();(0,m.useEffect)(()=>{o&&(t.config({pid:e}),t.start(e))},[e,t,o])}var xe=o(75427),Pe=o(74305),Te=o(87682);const Oe={loginHome:we.L.Login,loginPhoneOrEmail:we.L.Login,loginPhone:we.L.Login,loginEmail:we.L.Login,loginPhonePassword:we.L.Login,loginDownloadApp:we.L.Login,loginTwoStepVerify:we.L.Login,loginForgetEmailPassword:we.L.Login,loginForgetPhonePassword:we.L.Login,loginQRcode:we.L.Login,loginSSO:we.L.Login,loginWithSignedEmail:we.L.Login,loginPhoneDigit:we.L.Login,loginReset:we.L.Login,loginGuestMode:we.L.Login,m2TransferAppleId:we.L.Login,tvLoginHome:we.L.Login,tvLoginEmail:we.L.Login,tvLoginPhone:we.L.Login,loginM2Bind:we.L.Login,phoneResetDigit:we.L.Login,emailResetDigit:we.L.Login,resetPassword:we.L.Login,signupHome:we.L.Signup,signupPhoneOrEmail:we.L.Signup,signupPhone:we.L.Signup,signupEmail:we.L.Signup,signupAgeGate:we.L.Signup,signupAgeGateConfirm:we.L.Signup,signupPolicyConfirm:we.L.Signup,signupCreateAccount:we.L.Signup,signupCreateUsername:we.L.Signup,signupCreatePassword:we.L.Signup,signupPrivateOn:we.L.Signup,signupPhoneDigit:we.L.Signup,signupEmailDigit:we.L.Signup,signupEmailCreatePassword:we.L.Signup,signupCountrySelector:we.L.Signup,signupInterestSelector:we.L.Signup,oauth:we.L.DelayStartUntilManuallyCalled,oauthLine:we.L.DelayStartUntilManuallyCalled,accountDeactivate:we.L.DelayStartUntilManuallyCalled,logout:we.L.DelayStartUntilManuallyCalled,linkPhoneOrEmail:we.L.DelayStartUntilManuallyCalled,linkPhone:we.L.DelayStartUntilManuallyCalled,linkEmail:we.L.DelayStartUntilManuallyCalled,linkPhoneDigit:we.L.DelayStartUntilManuallyCalled,linkEmailDigit:we.L.DelayStartUntilManuallyCalled},Ae=e=>{const t=(0,xe.Bd)(e);return t&&t.name in Oe?Oe[t.name]:we.L.Unknown},Ee=(e=!0)=>{const t=Te.Mh.useInstance(),{enable:o,enableUseSlardarActualFmp:n}=Se(),i=!o&&n;return(0,m.useEffect)(()=>{i&&e&&t.reportActualFMP()},[t,e,i]),(0,m.useCallback)(()=>{i&&t.reportActualFMP()},[t,i])};var Le=o(24643),je=o(81396),Ie=o.n(je),Re=o(35130),Me=o(24527);const De={tesla:/tesla/i,echoshow:/silk/i,vehicleGWM:/Vehicle-GWM/i,mercedes:/MERCEDES/i,bmw:/BMW/i,volkswagen:/volkswagen/i,samsungHub:/SAMSUNG Family Hub/i,ttincar:/ttincar/i};var Fe=o(91161);const Ne=(0,m.createContext)(null);function Ue(){var e;const t=(0,m.useContext)(Ne),o=(0,Re.W6)();return null!==(e=null==t?void 0:t.history)&&void 0!==e?e:o}function Be(){var e;const t=(0,m.useContext)(Ne),o=(0,Re.zy)();return null!==(e=null==t?void 0:t.location)&&void 0!==e?e:o}(0,m.createContext)(null);const He=Re.B6,ze=Fe.N_;var Ye=o(61825),We=o(60734),Ve=o.n(We);const Ge=({createRouter:e,historyPaths:t,children:o})=>{if(e)throw new Error("Can't pass createRouter in react-router v5.");const n=function(e,t){const o=(0,Ye.zR)(t);function n(t){return(n,i)=>{const{pathname:r,href:a}=function(e){if("string"==typeof e){const t=new URL(e,window.location.origin);return{pathname:t.pathname,href:t.href}}const{pathname:t="",search:o="",hash:n=""}=e;return{pathname:t,href:`${t}${o}${n}`}}(n);!function(e,t){return t.some(t=>Ve()(t).test(e))}(r,e)?t?window.location.replace(a):window.location.assign(a):t?o.replace(n,i):o.push(n,i)}}return Object.create(o,{push:{enumerable:!0,value:n(!1)},replace:{enumerable:!0,value:n(!0)}})}(null!=t?t:[]);return(0,Le.jsx)(Re.Ix,{history:n,children:o})};var $e=o(14912),qe=o(36318),Ke=o(57038),Ze=o(33358);function Je(e){var t,o,n,i;if(e.length>1e3)return"";if((0,Ze.tO)(e))return we.L.Trending;if(/^\/@(.*?)\/video\/(.*?)/.test(e))return we.L.Video;if(/^\/@(.*?)/.test(e))return we.L.User;if(/^\/music\//.test(e))return we.L.Music;if(/^\/effect\//.test(e))return we.L.Effect;if(/^\/tag\//.test(e))return we.L.Challenge;if(/^\/following/.test(e))return we.L.Following;if(/^\/explore/.test(e))return we.L.Explore;if("expansion"===(null===(t=(0,$e.uZ)(e))||void 0===t?void 0:t.name))return we.L.Expansion;if(/^\/channel\/.+/.test(e))return we.L.Channel;if("discover"===(null===(o=(0,qe.kv)(e))||void 0===o?void 0:o.name))return we.L.Discover;if(/^\/profile/.test(e))return we.L.Profile;if(/^\/topics/.test(e)){const t=e.slice(1).split("/")[1];return`${we.L.Topics}_${t}`}return/^\/inbox/.test(e)?we.L.Inbox:/^\/report/.test(e)?we.L.Report:/^\/ad-report/.test(e)?we.L.ReportAd:/^\/feedback\/report/.test(e)?we.L.FeedbackReport:/^\/feedback\/history/.test(e)?we.L.FeedbackHistory:/^\/feedback/.test(e)?we.L.Feedback:He(e,{path:qe.OZ.searchHome,exact:!0})?we.L.GeneralSearch:He(e,{path:qe.OZ.searchUser,exact:!0})?we.L.SearchUser:He(e,{path:qe.OZ.searchVideo,exact:!0})?we.L.SearchVideo:/^\/playlist-music/.test(e)?we.L.Playlist:/^\/messages/.test(e)?we.L.Messages:/^\/setting/.test(e)?we.L.Setting:/^\/place/.test(e)?we.L.Poi:/^\/@(.*?)\/collection\/(.*?)/.test(e)?we.L.Collection:/^\/@(.*?)\/playlist\/(.*?)/.test(e)?we.L.VideoPlaylist:/^\/download/.test(e)?we.L.Download:/^\/download-video/.test(e)?we.L.DownloadVideo:/^\/miniapk\/download/.test(e)?we.L.MiniApk:"trendingDetail"===(null===(n=(0,$e.uZ)(e))||void 0===n?void 0:n.name)||"trendingDetailWithinDiscover"===(null===(i=(0,$e.uZ)(e))||void 0===i?void 0:i.name)?we.L.TrendingDetail:""}function Qe(e){return e.length>1e3?"":/^\/@(.*?)\/live\/(.*?)/.test(e)?we.L.Live:He(e,{path:Ke.vI.liveGoLive,exact:!0})?we.L.GoLive:(0,Ze.U0)(e)?we.L.LiveDiscover:(0,Ze.j)(e)?we.L.LiveEvent:(0,Ze.RR)(e)?we.L.LiveEventAggregation:He(e,{path:Ke.vI.liveRoomEmbed,exact:!0})?we.L.LiveEmbedDetail:He(e,{path:Ke.vI.liveRoom,exact:!0})?we.L.Live:""}function Xe(e){return He(e,{path:xe.tH.loginHome,exact:!1})||He(e,{path:xe.tH.oauth,exact:!1})||He(e,{path:xe.tH.oauthLine,exact:!1})?we.L.Login:He(e,{path:xe.tH.signupHome,exact:!1})?we.L.Signup:""}function et(e){for(const t of[Je,Qe,Xe]){const o=t(e);if(o)return o}return"unknown"}var tt=o(71111),ot=o(28103),nt=o(1475),it=o(95719);function rt(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;const i=Object.prototype.hasOwnProperty;for(const n of o)if(!i.call(t,n)||e[n]!==t[n])return!1;return!0}var at=o(80475);const st=(0,tt.atom)(null);function lt(e,t){const o=e.jotaiAtom,n="jotaiAtom"in e;e.jotaiAtom&&(e.jotaiAtom.__SIGI_MODULE__=e);const{store:i}=(0,ke.Nj)(e),r=function(e,t,o,n=rt){const i=o||[],r=(0,m.useRef)(),a=(0,m.useRef)(),s=(0,m.useRef)();n(a.current,i)||(s.current=null!=t?t:ot.D,r.current=s.current(e.state)),a.current=i;const l=function(){const[,e]=(0,m.useReducer)(e=>e+1,0);return e}(),c=(0,m.useCallback)(e=>{const t=s.current(e);n(r.current,t)||(r.current=t,l())},[]),d=(0,m.useCallback)(()=>e.state$.pipe((0,nt.i)(1),(0,it.M)(c)).subscribe(),[e,c]),u=(0,m.useMemo)(()=>d(),[d]);return(0,m.useEffect)(()=>{const e=u.closed?d():u;return()=>{e.unsubscribe()}},[u,d]),r.current}(i,null==t?void 0:t.selector,null==t?void 0:t.dependencies,null==t?void 0:t.equalFn),a=function(e,t){const o=(0,tt.useStore)(t),{equalityFn:n=Object.is,selector:i}=null!=t?t:{},r=null!=i?i:e=>e,a=()=>o.get(e);return(0,at.useSyncExternalStoreWithSelector)(t=>o.sub(e,t),a,a,r,n)}(null!=o?o:st,{selector:e=>{var o;return e?null!==(o=null==t?void 0:t.selector(e))&&void 0!==o?o:e:null},equalityFn:rt});return n?a:r}function ct(e){return(0,ke.Nj)(e).dispatchers}var dt=o(99789),ut=o.n(dt),pt=o(21807),gt=o(91689),mt=o(17592),ht=o(16402),vt=o(60540),_t=o(45866);const ft=["AT","BE","BG","HR","CY","CZ","DE","DK","EE","EL","FI","FR","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","NO","IS","LI"],bt=ft.concat(["GB","CH"]);var yt,wt;!function(e){e.DEFAULT="DEFAULT",e.SG="ALL_SG",e.VA="MALI_VA",e.TTP="TTP",e.BOE="BOE"}(yt||(yt={})),function(e){e.DEFAULT="DEFAULT",e.BOE="BOE",e.US_BOE="US_BOE",e.SG="ALL_SG",e.VA="MALI_VA",e.TTP="TTP",e.EU_TTP="EU_TTP",e.US_TTP="US_TTP",e.US_TTP2="US_TTP2"}(wt||(wt={}));const kt="tiktok_webapp_theme",St="tiktok_webapp_theme_manual",Ct="tiktok_webapp_theme_source",xt={secure:!0,expires:300,domain:"www.tiktok.com"};var Pt=function(e){return e.DarkTheme="dark",e.LightTheme="light",e}({});const Tt=ft.concat(["CH","US","GB"]),Ot="https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/",At="https://lf16-tiktok-web.tiktokcdn-us.com/obj/tiktok-web-tx/",Et={ROW:{remScript:`${Ot}tiktok/static/nginx/rem-script.js`,slardarWeb:`${Ot}slardar/sdk-pre/browser.web.pre.js`,serviceWorker:`${Ot}tiktok/static/nginx/service-worker.js`},TTP:{remScript:`${At}tiktok/static/nginx/rem-script.js`,slardarWeb:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/tiktok-infra/csp/sdk-pre/slardar.web.pre.js",serviceWorker:`${At}tiktok/static/nginx/service-worker.js`}};function Lt(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class jt{checkTTwid(){return e=this,t=void 0,n=function*(){const e=new gt.TtWid({aid:1988,service:"www.tiktok.com",union:!1,unionHost:"",needFid:!1});try{yield e.checkWebId()}catch(e){ht.f.sendEvent("check_ttwid_error",{error_msg:e}),console.error(e)}},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n}constructor(e){this.fetch=e,this.initTargetIdcRequest=()=>{const e=(0,K.qm)();return this.fetch.get("/passport/web/account/info/",{credentials:"include",baseUrlType:vt.Z4.FixedWww,query:{locale:e,app_language:e.split("-")[0],aid:1459}})}}}jt=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)(),Lt("design:type",Function),Lt("design:paramtypes",[void 0===_t.p?Object:_t.p])],jt);var It=o(71615),Rt=o(70873);const Mt={Positive:"rgba(11, 224, 155, 1)",Negative:"rgba(255, 76, 58, 1)",ToastDefault:"rgba(84, 84, 84, .92)",ToastNegative:"rgba(255, 76, 58, .92)",Secondary:"rgba(32, 213, 236, 1)",TUXSecondary2:"rgba(16, 162, 197, 1)",Positive2:"rgba(79, 171, 126, 1)",ConstTextInverse:"rgba(255, 255, 255, 1)",ConstTextInverse2:"rgba(255, 255, 255, .9)",ConstTextInverse3:"rgba(255, 255, 255, .75)",ConstTextInverse4:"rgba(255, 255, 255, .5)",ConstTextInverse5:"rgba(255, 255, 255, .34)",ConstTextPrimary:"rgba(22, 24, 35, 1)",ConstBGInverse:"rgba(0, 0, 0, 1)",ConstBGInverse2:"rgba(0, 0, 0, .6)",ConstBGInverse3:"rgba(37, 37, 37, .6)",ConstBGInverse4:"rgba(84, 84, 84, .5)",TUXBGCreation:"rgba(0, 0, 0, 1)",BGCreation2:"rgba(27, 27, 27, 1)",BGCreation5:"rgba(0, 0, 0, .15)",ConstBGMat:"rgba(255, 255, 255, .2)",ConstBGContainer:"rgba(255, 255, 255, .12)",ConstBGContainer2:"rgba(255, 255, 255, .08)",ConstBGContainer3:"rgba(255, 255, 255, .04)",ConstBGPlaceholderOpaque:"rgba(241, 241, 241, 1)",ConstBGInverseOpaque:"rgba(37, 37, 37, 1)",ConstBGInverse1:"rgba(56, 56, 56, .95)",ConstLineInverse:"rgba(255, 255, 255, .2)",ConstLineInverse2:"rgba(255, 255, 255, .12)",SDPrimary:"rgba(0, 0, 0, .8)",AssistColorYellow:"rgba(250, 206, 21, 1)",Primary:"rgba(255, 59, 92, 1)",Link:"rgba(255, 59, 92, 1)",Primary2:"rgba(255, 255, 255, .9)",TextPrimary:"rgba(255, 255, 255, .9)",TextSecondary:"rgba(255, 255, 255, .75)",TextTertiary:"rgba(255, 255, 255, .5)",TextQuaternary:"rgba(255, 255, 255, .34)",BGBase:"rgba(0, 0, 0, 1)",BGPrimary:"rgba(18, 18, 18, 1)",BGSecondary:"rgba(37, 37, 37, 1)",BGTertiary:"rgba(46, 46, 46, 1)",BGQuaternary:"rgba(56, 56, 56, 1)",BGQuinary:"rgba(75, 75, 75, 1)",BGSecondary2:"rgba(255, 255, 255, .08)",BGTertiary2:"rgba(255, 255, 255, .12)",BGPlaceholderDefault:"rgba(255, 255, 255, .08)",BGPlaceholderOpaque:"rgba(37, 37, 37, 1)",BGInput:"rgba(255, 255, 255, .12)",BGInput2:"rgba(255, 255, 255, .08)",BGView:"rgba(255, 255, 255, .04)",BGCreation3:"rgba(18, 18, 18, 1)",BGCreation4:"rgba(27, 27, 27, 1)",BGHover:"rgba(255, 255, 255, .9)",BGBrand:"rgba(254, 44, 85, .34)",LinePrimary:"rgba(255, 255, 255, 0)",LineSecondary:"rgba(255, 255, 255, .12)",LineInput:"rgba(255, 255, 255, .5)",LinePrimary2:"rgba(255, 255, 255, .2)",LineSecondary2:"rgba(255, 255, 255, 0)",TUXLineSecondary3:"rgba(255, 255, 255, .5)",LineDarker:"rgba(0, 0, 0, .6)",SDSecondary:"rgba(0, 0, 0, .68)",SDTertiary:"rgba(0, 0, 0, .5)",UIText1:"rgba(246, 246, 246, 1)",UIText2:"rgba(255, 255, 255, .88)",UIText3:"rgba(255, 255, 255, .6)",UITextPlaceholder:"rgba(255, 255, 255, .4)",UITextDanger:"rgba(255, 118, 96, 1)",UIShapeNeutral3:"rgba(255, 255, 255, 0.19);",Secondary2:"rgba(0, 198, 233, 1.0)",Link2:"rgba(255, 59, 92, 1.0)",Link3:"rgba(255, 59, 92, 1.0)",TextTertiary2:"rgba(255, 255, 255, 0.75)",TextReverse:"rgba(255, 255, 255, 0.9)",TextReverse2:"rgba(255, 255, 255, 0.75)",TextReverse3:"rgba(255, 255, 255, 0.5)",TextReverse4:"rgba(255, 255, 255, 0.34)",BGPrimary2:"rgba(255, 255, 255, 0.04)",BGView2:"rgba(255, 255, 255, 0.0)",BGCreation:"rgba(18, 18, 18, 1.0)",BGInverse3:"rgba(37, 37, 37, 0.6)",BGReverse:"rgba(18, 18, 18, 1.0)",BGReverse2:"rgba(18, 18, 18, 0.9)",ShadowPrimary:"rgba(255, 255, 255, 0.12)",ShadowSecondary:"rgba(0, 0, 0, 0.06)",LineSecondary3:"rgba(255, 255, 255, 0.0)",LineReverse2:"rgba(255, 255, 255, 0.12)",LineReverse3:"rgba(255, 255, 255, 0.0)",LineInverse:"rgba(255, 255, 255, 0.0)",TagGreenText:"rgba(178, 255, 217, 1.0)",TagGreenBG:"rgba(89, 128, 102, 1.0)",TagPurpleText:"rgba(255, 178, 217, 1.0)",TagPurpleBG:"rgba(128, 89, 108, 1.0)",TagBrownText:"rgba(255, 179, 179, 1.0)",TagBrownBG:"rgba(128, 89, 89, 1.0)",LiveColorStart:"rgba(255, 23, 100, 1.0)",LiveColorEnd:"rgba(237, 52, 149, 1.0)",ConstSecondary:"rgba(32, 213, 236, 1)",ConstSecondary2:"rgba(16, 162, 197, 1)",BGMessageIcon:"rgba(255, 255, 255, 0.08)",BGMessageOperateHover:"rgba(255, 255, 255, 0.12)",TextTertiaryAlt:"rgba(255, 255, 255, 0.6)",AssistColorAzure:"rgba(143, 190, 233, 1)",UIShapeNeutral4:"rgba(255, 255, 255, 0.13)",UISheetFlat3:"rgba(58, 58, 58, 1)"},Dt={TikTokFont:'"IBM Plex Sans", TikTokFont, Arial, Tahoma, PingFangSC, sans-serif',TikTokDisplayFont:'"IBM Plex Sans", TikTokDisplayFont, Arial, Tahoma, PingFangSC, sans-serif'},Ft={P0:{fontSize:"24px",lineHeight:"32px"},P1:{fontSize:"18px",lineHeight:"25px"},P2:{fontSize:"16px",lineHeight:"22px"},P3:{fontSize:"14px",lineHeight:"20px"},P4:{fontSize:"12px",lineHeight:"17px"},H0:{fontSize:"96px",lineHeight:"115px"},H1:{fontSize:"72px",lineHeight:"86px"},H2:{fontSize:"56px",lineHeight:"68px"},H3:{fontSize:"32px",lineHeight:"38px"},H4:{fontSize:"24px",lineHeight:"28px"},H5:{fontSize:"18px",lineHeight:"22px"},H6:{fontSize:"14px",lineHeight:"17px"}};var Nt;!function(e){e[e.Dark=0]="Dark",e[e.Bright=1]="Bright",e[e.System=2]="System"}(Nt||(Nt={}));const Ut={isMobile:!1,direction:"ltr",isDark:!1,colors:{Positive:"rgba(11, 224, 155, 1)",Negative:"rgba(255, 76, 58, 1)",ToastDefault:"rgba(84, 84, 84, .92)",ToastNegative:"rgba(255, 76, 58, .92)",Secondary:"rgba(32, 213, 236, 1)",TUXSecondary2:"rgba(16, 162, 197, 1)",Positive2:"rgba(79, 171, 126, 1)",ConstTextInverse:"rgba(255, 255, 255, 1)",ConstTextInverse2:"rgba(255, 255, 255, .9)",ConstTextInverse3:"rgba(255, 255, 255, .75)",ConstTextInverse4:"rgba(255, 255, 255, .5)",ConstTextInverse5:"rgba(255, 255, 255, .34)",ConstTextPrimary:"rgba(22, 24, 35, 1)",ConstBGInverse:"rgba(0, 0, 0, 1)",ConstBGInverse2:"rgba(0, 0, 0, .6)",ConstBGInverse3:"rgba(37, 37, 37, .6)",ConstBGInverse4:"rgba(84, 84, 84, .5)",TUXBGCreation:"rgba(0, 0, 0, 1)",BGCreation2:"rgba(27, 27, 27, 1)",BGCreation5:"rgba(0, 0, 0, .15)",ConstBGMat:"rgba(255, 255, 255, .2)",ConstBGContainer:"rgba(255, 255, 255, .12)",ConstBGContainer2:"rgba(255, 255, 255, .08)",ConstBGContainer3:"rgba(255, 255, 255, .04)",ConstBGPlaceholderOpaque:"rgba(241, 241, 241, 1)",ConstBGInverseOpaque:"rgba(37, 37, 37, 1)",ConstBGInverse1:"rgba(56, 56, 56, .95)",ConstLineInverse:"rgba(255, 255, 255, .2)",ConstLineInverse2:"rgba(255, 255, 255, .12)",SDPrimary:"rgba(0, 0, 0, .8)",AssistColorYellow:"rgba(250, 206, 21, 1)",Primary:"rgba(254, 44, 85, 1)",Link:"rgba(254, 44, 85, 1)",Primary2:"rgba(22, 24, 35, 1)",TextPrimary:"rgba(22, 24, 35, 1)",TextSecondary:"rgba(22, 24, 35, .75)",TextTertiary:"rgba(22, 24, 35, .5)",TextQuaternary:"rgba(22, 24, 35, .34)",BGBase:"rgba(245, 245, 245, 1)",BGPrimary:"rgba(255, 255, 255, 1)",BGSecondary:"rgba(255, 255, 255, 1)",BGTertiary:"rgba(255, 255, 255, 1)",BGQuaternary:"rgba(255, 255, 255, 1)",BGQuinary:"rgba(255, 255, 255, 1)",BGSecondary2:"rgba(255, 255, 255, 1)",BGTertiary2:"rgba(255, 255, 255, 1)",BGPlaceholderDefault:"rgba(22, 24, 35, .06)",BGPlaceholderOpaque:"rgba(241, 241, 241, 1)",BGInput:"rgba(22, 24, 35, .06)",BGInput2:"rgba(22, 24, 35, .06)",BGView:"rgba(22, 24, 35, .03)",BGCreation3:"rgba(248, 248, 248, 1)",BGCreation4:"rgba(255, 255, 255, 1)",BGHover:"rgba(22, 24, 35, .06)",BGBrand:"rgba(254, 44, 85, .06)",LinePrimary:"rgba(22, 24, 35, .2)",LineSecondary:"rgba(22, 24, 35, .12)",LineInput:"rgba(22, 24, 35, .5)",LinePrimary2:"rgba(22, 24, 35, .2)",LineSecondary2:"rgba(22, 24, 35, .12)",TUXLineSecondary3:"rgba(22, 24, 35, .12)",LineDarker:"rgba(22, 24, 35, .12)",SDSecondary:"rgba(0, 0, 0, .5)",SDTertiary:"rgba(0, 0, 0, .2)",UIText1:"rgba(0, 0, 0, 1)",UIText2:"rgba(0, 0, 0, .65)",UIText3:"rgba(0, 0, 0, .48)",UITextPlaceholder:"rgba(0, 0, 0, .34)",UITextDanger:"rgba(218, 49, 35, 1)",UIShapeNeutral3:"rgba(0, 0, 0, 0.12)",Secondary2:"rgba(0, 198, 233, 1.0)",Link2:"rgba(254, 44, 85, 1.0)",Link3:"rgba(254, 44, 85, 1.0)",TextTertiary2:"rgba(22, 24, 35, 0.5)",TextReverse:"rgba(22, 24, 35, 1.0)",TextReverse2:"rgba(22, 24, 35, 0.75)",TextReverse3:"rgba(22, 24, 35, 0.5)",TextReverse4:"rgba(22, 24, 35, 0.34)",BGPrimary2:"rgba(255, 255, 255, 1.0)",BGView2:"rgba(22, 24, 35, 0.03)",BGCreation:"rgba(18, 18, 18, 1.0)",BGInverse3:"rgba(37, 37, 37, 0.6)",BGReverse:"rgba(255, 255, 255, 1.0)",BGReverse2:"rgba(255, 255, 255, 0.9)",ShadowPrimary:"rgba(0, 0, 0, 0.12)",ShadowSecondary:"rgba(0, 0, 0, 0.06)",LineSecondary3:"rgba(22, 24, 35, 0.03)",LineReverse2:"rgba(22, 24, 35, 0.12)",LineReverse3:"rgba(22, 24, 35, 0.12)",LineInverse:"rgba(22, 24, 35, 0.2)",TagGreenText:"rgba(89, 128, 108, 1.0)",TagGreenBG:"rgba(239, 245, 242, 1.0)",TagPurpleText:"rgba(128, 89, 121, 1.0)",TagPurpleBG:"rgba(246, 240, 245, 1.0)",TagBrownText:"rgba(128, 89, 89, 1.0)",TagBrownBG:"rgba(245, 240, 240, 1.0)",LiveColorStart:"rgba(255, 23, 100, 1.0)",LiveColorEnd:"rgba(237, 52, 149, 1.0)",ConstSecondary:"rgba(32, 213, 236, 1.0)",ConstSecondary2:"rgba(16, 162, 197, 1.0)",BGMessageIcon:"rgb(241, 241, 242)",BGMessageOperateHover:"rgba(196, 196, 196, .425)",TextTertiaryAlt:"rgba(22, 24, 35, 0.6)",AssistColorAzure:"rgba(43, 93, 185, 1)",UIShapeNeutral4:"rgba(0, 0, 0, 0.05)",UISheetFlat3:"rgba(255, 255, 255, 1)"},link:{color:"#0078d4",hoverColor:"#004578",activeColor:"#004578",focusColor:"#0078d4",visitedColor:"#0078d4"},selection:{background:"rgba(141, 214, 249, 0.35)"},text:{fontFamily:'"TikTokDisplayFont", PingFangSC, sans-serif',fontSize:"14px",color:"#000"},border:{radius:"3px"},boxShadowBase:"0 1.6px 3.6px 0 rgba(0,0,0,.132), 0 0.3px 0.9px 0 rgba(0,0,0,.108)",markdown:{blockquote:{color:"#4e7182",backgroundColor:"#eaf8ff"},inlineCode:{color:"hotpink",background:"rgba(70, 94, 105, 0.05)"}},zIndex:{background:0,default:1,overlay:3e3,dropdown:3100,modal:3500,popover:4e3,tooltip:4500,toast:5500},typography:{P0:{fontSize:"24px",lineHeight:"30px"},P1:{fontSize:"18px",lineHeight:"24px"},P2:{fontSize:"16px",lineHeight:"21px"},P3:{fontSize:"14px",lineHeight:"18px"},P4:{fontSize:"12px",lineHeight:"16px"},H0:{fontSize:"96px",lineHeight:"110px"},H1:{fontSize:"72px",lineHeight:"83px"},H2:{fontSize:"56px",lineHeight:"64px"},H3:{fontSize:"32px",lineHeight:"38px"},H4:{fontSize:"24px",lineHeight:"30px"},H5:{fontSize:"18px",lineHeight:"24px"},H6:{fontSize:"14px",lineHeight:"18px"}},fontFamilies:{TikTokFont:"TikTokFont, Arial, Tahoma, PingFangSC, sans-serif",TikTokDisplayFont:"TikTokDisplayFont, Arial, Tahoma, PingFangSC, sans-serif"},fontWeights:{normal:400,medium:500,semiBold:600,bold:700}};function Bt(e,t){var o;const n=Object.create(null);for(const[i,r]of Object.entries(e)){const e=t[i];n[i]="object"==typeof e?Bt(r,e):null!==(o=t[i])&&void 0!==o?o:r}return n}function Ht(e){const{isDark:t,isMobile:o,lang:n}=e,i={};return t&&(i.colors=Mt,i.isDark=!0),o&&(i.typography=Ft),"vi-VN"===n?i.fontFamilies=Dt:"ar"!==n&&"he-IL"!==n&&"ur"!==n||(i.direction="rtl"),i.isMobile=o,Bt(Ut,i)}var zt;!function(e){e.System="system",e.Auto="auto",e.Dark="dark",e.Light="light"}(zt||(zt={}));const Yt=(0,_e.$)("DarkThemeToggleContext@tiktok/theme")({value:!1,toggle:u(),currentThemeOption:"light",setCurrentThemeOption:u()});var Wt=o(57363),Vt=o(72516),Gt=o(37597),$t=o(81322);const qt="rgb(208, 209, 211)",Kt=({theme:e,buttonTheme:t})=>{switch(t){case"default":return{borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",color:e.colors.TextPrimary,borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary2,":hover":{borderColor:qt,backgroundColor:e.colors.BGCreation3},":active":{borderColor:qt,backgroundColor:e.colors.BGMessageIcon},":disabled":{borderColor:"rgb(227, 227, 229)",backgroundColor:e.colors.BGSecondary2,color:e.colors.TextQuaternary}};case"line":return{borderWidth:"1px",borderStyle:"solid",borderRadius:"4px",color:e.colors.Primary,borderColor:e.colors.Primary,backgroundColor:e.colors.BGSecondary2,":hover":{backgroundColor:"rgba(254, 44, 85, 0.06)"},":active":{backgroundColor:"rgba(254, 44, 85, 0.16)"},":disabled":{borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary2,color:e.colors.TextQuaternary,pointerEvents:"none"}};case"primary":return{borderRadius:"4px",border:"none",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,":hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55"},":active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55"},":disabled":{border:"none",color:e.colors.TextQuaternary,backgroundColor:e.colors.BGInput2,pointerEvents:"none"}};case"round":return{borderRadius:"52px",border:"none",color:e.colors.ConstTextInverse,backgroundColor:e.colors.ToastDefault,":hover":{},":active":{},":disabled":{}};default:return{":hover":{},":active":{},":disabled":{}}}},Zt=({theme:e,buttonTheme:t})=>{const o=t=>({":focus-visible":{outline:`2px solid ${null!=t?t:e.colors.Negative}`,outlineOffset:"1px"}});switch(t){case"default":case"round":case"line":default:return o();case"primary":return o("rgba(24, 27, 105, 1.0)")}},Jt="TikTokFont, PingFangSC, sans-serif",Qt="TikTokDisplayFont, PingFangSC, sans-serif",Xt={largeNew:{minWidth:"120px",minHeight:"46px",fontSize:"16px",lineHeight:"22px",fontWeight:700,fontFamily:Jt},large:{minWidth:"168px",minHeight:"48px",fontSize:"18px",lineHeight:"25px",fontWeight:600,fontFamily:Qt},medium:{minWidth:"164px",minHeight:"36px",fontSize:"18px",lineHeight:"25px",fontWeight:600,fontFamily:Qt},small:{minWidth:"106px",minHeight:"28px",fontSize:"16px",lineHeight:"22px",fontWeight:600,fontFamily:Jt},tiny:{minWidth:"96px",minHeight:"28px",fontFamily:Jt,fontSize:"14px",lineHeight:"17px",fontWeight:600}},eo=(0,Wt.A)("button",{shouldForwardProp:e=>(0,$t.A)(e)&&"loading"!==e,target:"ehk74z00"})(({buttonTheme:e="default",size:t="large",theme:o,loading:n=!1})=>[Kt({theme:o,buttonTheme:e}),Xt[t],{display:"flex",position:"relative",alignItems:"center",justifyContent:"center",padding:"6px 8px",userSelect:"none",cursor:"pointer",boxSizing:"border-box",":focus":{outline:"none"}},Object.assign({},n?{color:"transparent",pointerEvents:"none"}:{}),Zt({theme:o,buttonTheme:e})],"label:Button;"),to=(0,m.memo)(function(e){var{buttonTheme:t,size:o,type:n="button",loading:i=!1,loadingTheme:r="primary",loadingSize:a="medium",loadingFill:s,children:l,e2eTag:c}=e,d=(0,Vt.Tt)(e,["buttonTheme","size","type","loading","loadingTheme","loadingSize","loadingFill","children","e2eTag"]);return(0,Le.jsxs)(eo,Object.assign({type:n,buttonTheme:t,loading:i,size:o,"data-e2e":c},d,{children:[l,i&&(0,Le.jsx)(Gt.h,{style:{position:"absolute",top:"50%",transform:"translateY(-50%)"},theme:r,size:a,fill:s})]}))}),oo=(0,Wt.A)("div",{target:"emuynwa0"})(({isFullScreen:e})=>e?{flex:"1 1 auto"}:null,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",margin:"0 auto"},"label:DivErrorContainer;"),no=(0,Wt.A)("p",{target:"emuynwa1"})(({theme:{typography:e,fontWeights:t,fontFamilies:o,colors:n}})=>[e.H4,{fontFamily:o.TikTokDisplayFont,fontWeight:t.bold,color:n.TextPrimary,marginTop:"24px"}],"label:PTitle;"),io=(0,Wt.A)("p",{target:"emuynwa2"})(({theme:{typography:e,fontWeights:t,fontFamilies:o,colors:n}})=>[e.P2,{fontFamily:o.TikTokFont,fontWeight:t.normal,color:n.TextSecondary,marginTop:"8px"}],"label:PDesc;"),ro=Wt.A.div`
  margin-top: 24px;
`,ao=(0,Wt.A)(to,{target:"emuynwa3"})({marginTop:"24px"},"label:StyledButton;"),so=function(e){const{iconElem:t,title:o,desc:n,buttonText:r,button:a,isFullScreen:s,style:l,brightness:c=Nt.Bright,e2eTitle:d,e2eDesc:u,e2eButton:p,onButtonShow:g,ignoreErrorReport:h=!1}=e,_=(0,ke.Nj)(v.V$);return(0,m.useEffect)(()=>{(r||a)&&(null==g||g()),h||(_.emitEvent("handled_error_report",{},{}),ht.f.sendEvent("handled_render_error"))},[r,a,g,h,_]),(0,i.FD)(oo,{isFullScreen:s,style:l,children:[t,o&&(0,i.Y)(no,{"data-e2e":d,brightness:c,children:o}),n&&(0,i.Y)(io,{"data-e2e":u,brightness:c,children:n}),a&&(0,i.Y)(ro,{"data-e2e":p,children:a}),!a&&Boolean(r)&&(0,i.Y)(ao,{type:"button",onClick:e.onButtonClick,buttonTheme:"default",size:"large",e2eTag:p,children:r})]})},lo=(0,Wt.A)("div",{target:"e3kzu1o0"})({height:"100vh",display:"flex",flexDirection:"column"},"label:DivErrorBoundaryContainer;");class co extends m.Component{get iconElem(){const{hasError:e}=this.state;return e?(0,i.Y)(It.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"}):(0,i.Y)(Rt.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"})}get text(){const{hasError:e}=this.state;return e?{title:"Page not available",desc:"server_error_sub",button:"try_again_btn"}:{title:"network_error_title",desc:"network_error_sub",button:"try_again_btn"}}componentDidMount(){window.addEventListener("online",this.handleOnlineStatusChange),window.addEventListener("offline",this.handleOnlineStatusChange)}componentWillUnmount(){window.removeEventListener("online",this.handleOnlineStatusChange),window.removeEventListener("offline",this.handleOnlineStatusChange)}handleRetry(){window.location.reload()}componentDidCatch(e,t){const{onCatchError:o}=this.props;o(e,t),this.setState({hasError:!0})}render(){const{isNetOffline:e,hasError:t}=this.state,{children:o,isMobile:n}=this.props,{t:r}=this.context;if(e||t){const{title:e,desc:t,button:o}=this.text;return n?(0,i.Y)(lo,{children:(0,i.Y)(so,{brightness:Nt.Dark,isFullScreen:!0,iconElem:this.iconElem,title:r(e),desc:r(t),buttonText:r(o),onButtonClick:this.handleRetry})}):(0,i.Y)(so,{isFullScreen:!0,onButtonClick:this.handleRetry,iconElem:this.iconElem,title:r(e),desc:r(t),buttonText:r(o)})}return o}constructor(...e){super(...e),this.state={isNetOffline:!1,hasError:!1},this.handleOnlineStatusChange=()=>{this.setState({isNetOffline:!navigator.onLine})}}}function uo(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}co.contextType=ce.Ss;class po{reportRenderError(e){return this.fetch.get("/node-webapp/page/error",{query:{page:e},baseUrlType:vt.Z4.FixedWww})}constructor(e){this.fetch=e}}po=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)(),uo("design:type",Function),uo("design:paramtypes",[void 0===_t.p?Object:_t.p])],po);const go=()=>{ht.f.sendEvent("common_scroll")};function mo(e,t={}){return{Component:e,props:t}}function ho(e){const{children:t,provisions:o}=e,n=(0,i.Y)(m.Fragment,{children:t});return[...o].reverse().reduce((e,{Component:t,props:o})=>(0,i.Y)(t,Object.assign(Object.assign({},o),{children:e})),n)}var vo=o(42184),_o=o(56714);const fo=o.n(_o)()("webapp-launcher").extend("provider");function bo(e){fo("GlobalModalProvider Rendered");const{GlobalModalProvider:t,value:o}=(0,vo.li)();return(0,i.Y)(t,{value:o,children:e.children})}var yo=o(75431);function wo(e){fo("ThemeProvider Rendered");const{isMobile:t,children:o,extraGlobalStyles:n}=e,r=(0,m.useMemo)(()=>(0,y.x)(),[]),{value:a}=(0,m.useContext)(Yt),s=(0,m.useMemo)(()=>Ht({isDark:a,isMobile:t,lang:null==r?void 0:r.language}),[a,t,null==r?void 0:r.language]);return(0,i.FD)(ve.a,{theme:s,children:[(0,i.Y)(yo.mL,{styles:{".link-a11y-focus":{"&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${s.colors.Negative}`},"&.auto-outline-style:focus-visible":{outline:`2px auto ${s.colors.Negative} !important`}}}}),n?(0,i.Y)(yo.mL,{styles:n(s)}):null,o]})}var ko=o(21566),So=o(88955),Co=o(71518),xo=o(50797),Po=o(80054);function To(e){const{isRTL:t}=(0,Co.m)(),{value:o}=(0,m.useContext)(Yt),{isAndroid:n,isIOS:r}=(0,xo.L$)((0,Po.U)(()=>["isAndroid","isIOS"],[]));return(0,i.Y)(Oo,{children:(0,i.Y)(So.vN,{theme:o?"dark":"light",textDirection:t?"rtl":"ltr",platform:n?"android":r?"iOS":"desktop",children:e.children})})}function Oo(e){fo("TUXProvider Rendered");const{isRTL:t}=(0,Co.m)(),{value:o}=(0,m.useContext)(Yt);return(0,i.Y)(ko.juU,{colorSchemePreference:o?"dark":"light",textDirection:t?"rtl":"ltr",zIndexConfig:Ut.zIndex,children:e.children})}const Ao=[{"@font-face":{fontFamily:"TikTokFont",src:'local("TikTokFont-Regular"), url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Regular.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Regular.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Regular.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:400,fontStyle:"normal",fontDisplay:"fallback"}},{"@font-face":{fontFamily:"TikTokFont",src:'local("TikTokFont-Medium"), url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Semibold.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Semibold.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Semibold.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:500,fontStyle:"normal",fontDisplay:"fallback"}},{"@font-face":{fontFamily:"TikTokFont",src:'local("TikTokFont-Medium"), url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Semibold.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Semibold.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Semibold.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:600,fontStyle:"normal",fontDisplay:"fallback"}},{"@font-face":{fontFamily:"TikTokFont",src:'local("TikTokFont-Bold"), url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Bold.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Bold.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokFont-Bold.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:700,fontStyle:"normal",fontDisplay:"fallback"}},{"@font-face":{fontFamily:"TikTokDisplayFont",src:'url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Regular.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Regular.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Regular.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:400,fontStyle:"normal",fontDisplay:"fallback"}},{"@font-face":{fontFamily:"TikTokDisplayFont",src:'url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Semibold.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Semibold.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Semibold.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:500,fontStyle:"normal",fontDisplay:"fallback"}},{"@font-face":{fontFamily:"TikTokDisplayFont",src:'url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Semibold.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Semibold.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Semibold.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:600,fontStyle:"normal",fontDisplay:"fallback"}},{"@font-face":{fontFamily:"TikTokDisplayFont",src:'url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Bold.woff2?_default_font=1&v=2)\n      format("woff2"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Bold.woff?_default_font=1&v=2)\n      format("woff"),\n  url(https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok_fonts/TikTokDisplayFont-Bold.otf?_default_font=1&v=2)\n      format("opentype")',fontWeight:700,fontStyle:"normal",fontDisplay:"fallback"}}],Eo=".tw-only",Lo=[{"*, *::before, *::after":{boxSizing:"border-box",userSelect:"unset"},"body,h1,h2,h3,h4,p,figure,blockquote,dl,dd":{margin:0},'ul[role="list"], ol[role="list"]':{listStyle:"none"},"html:focus-within":{scrollBehavior:"smooth"},body:{minHeight:"100vh",textRendering:"optimizeSpeed",lineHeight:1.5},"a:not([class])":{textDecorationSkipInk:"auto"},"img, picture":{maxWidth:"100%",display:"block"},"input,button,textarea,select":{font:"inherit"},"@media (prefers-reduced-motion: reduce)":{"html:focus-within":{scrollBehavior:"auto"},"*,*::before,*::after":{animationDuration:"0.01ms !important",animationIterationCount:"1 !important",transitionDuration:"0.01ms !important",scrollBehavior:"auto !important"}},"@supports (-webkit-touch-callout: none)":{body:{minHeight:"-webkit-fill-available"}}}];function jo(e){const{isMobile:t,delayFonts:o=!1}=e,{value:n}=(0,m.useContext)(Yt),{isRTL:r}=(0,Co.m)(),a=(0,m.useMemo)(()=>(0,y.x)(),[]),s=function(e){return(0,m.useMemo)(()=>function(e,t,o=!0){return[Lo,{body:{fontFamily:o?e.fontFamilies.TikTokFont:void 0,fontSize:e.text.fontSize,color:e.colors.TextPrimary,backgroundColor:e.colors.BGPrimary,direction:e.direction,a:{color:e.colors.TextPrimary,transition:"color 250ms",textDecoration:"none",cursor:"pointer"},[`a:where(${Eo}),:where(${Eo}) a`]:{transition:"all 0s ease 0s"},"a:visited":{color:e.colors.TextPrimary},[`a:where(${Eo}):visited,:where(${Eo}) a:visited`]:{color:"inherit"},"a:hover":{color:e.colors.TextPrimary,textDecoration:"underline"},[`a:where(${Eo}):hover,:where(${Eo}) a:hover`]:{color:"inherit",textDecoration:"inherit"},"a:active":{color:e.colors.TextPrimary},[`a:where(${Eo}):active,:where(${Eo}) a:active`]:{color:"inherit"},"a:focus":{color:e.colors.TextPrimary},[`a:where(${Eo}):focus,:where(${Eo}) a:focus`]:{color:"inherit"},input:{"::-ms-clear":{display:"none",width:0,height:0},"::-ms-reveal":{display:"none",width:0,height:0},"::-webkit-search-decoration, ::-webkit-search-cancel-button, ::-webkit-search-results-button, ::-webkit-search-results-decoration":{display:"none"}},"&.hidden":{overflow:"hidden",display:"block"},WebkitFontSmoothing:"antialiased","a, abbr, acronym, address, applet, article, aside, audio, b, big, blockquote, body, canvas, caption, center, cite, code, dd, del, details, dfn, div, dl, dt, em, embed, fieldset, figcaption, figure, footer, form, h1, h2, h3, h4, h5, h6, header, hgroup, html, i, iframe, img, ins, kbd, label, legend, li, mark, menu, nav, object, ol, output, p, pre, q, ruby, s, samp, section, small, span, strike, strong, sub, summary, sup, table, tbody, td, tfoot, th, thead, time, tr, tt, u, ul, var, video":{fontFamily:o?e.fontFamilies.TikTokFont:void 0},strong:{fontWeight:700}}},...o?Ao:[],{html:t?{}:{body:{overflowY:"overlay"},"*":{"::-webkit-scrollbar":{borderRadius:"0",width:"8px"},"::-webkit-scrollbar-track":{borderRadius:"0",backgroundColor:"rgba(0, 0, 0, 0)"},"::-webkit-scrollbar-thumb":{borderRadius:"4px",backgroundColor:e.colors.BGPlaceholderDefault}}}}]}(Ht(e),e.isMobile,e.withFonts),[e])}({isDark:n,lang:null==a?void 0:a.language,isMobile:t,withFonts:!o}),l=(0,ko.N9v)({colorSchemePreference:n?"dark":"light",textDirection:r?"rtl":"ltr"});return(0,i.Y)(yo.mL,Object.assign({styles:s},l))}var Io=o(7300),Ro=o(20737);function Mo(e){return(0,i.Y)(Fo,Object.assign(Object.assign({},e),{TUXProvider:To,children:e.children}))}function Do(){const[,e,t]=(0,Ro.A)(!1),[n,r]=(0,Ro.A)(!1),a=(0,m.useCallback)(()=>{e(!0),window.postMessage({loginBridgeEvtType:"INT_LOG_IN_OUT_CHUNK_OK"})},[]),s=(0,m.useMemo)(()=>(0,m.lazy)(()=>o.e(254).then(o.bind(o,25254)).then(({LogInOutPrelude:e})=>({default:e}))),[]);return(0,m.useEffect)(()=>{window.addEventListener("message",e=>{var o;"INT_LOG_IN_OUT_BRIDGE"===(null===(o=e.data)||void 0===o?void 0:o.loginBridgeEvtType)&&(r(!0),t()&&a())})},[]),n?(0,i.Y)(m.Suspense,{fallback:null,children:(0,i.Y)(s,{onReady:a})}):null}function Fo({children:e,isMobile:t,path2PidFunc:o,delayFonts:n=!1,delayIdcRequestTime:r=0,disableBoundary:s=!1,TUXProvider:l}){const[c]=[lt(d=pt.$,{selector:e=>({bizContext:e.bizContext&&ut()(e.bizContext,"statusCode"),bizInitialized:e.initialized}),dependencies:[]}),ct(d)];var d;const{pathname:u}=Be(),p=(0,ke.Nj)(jt),g=(0,m.useMemo)(()=>(0,y.x)(),[]),h=(0,m.useRef)(null);(0,m.useEffect)(()=>{{var e;const{user:t,isTTwidDecryptedFail:o,wid:n}=g;o&&ht.f.sendEvent("check_ttwid_error",{error_msg:"isTTwidDecryptedFail from server"}),!(null===(e=c.bizContext)||void 0===e?void 0:e.isBot)&&p.checkTTwid(),t&&(r?h.current=window.setTimeout(()=>{p.initTargetIdcRequest().subscribe()},r):p.initTargetIdcRequest().subscribe());const i="ttwid",a=(0,Io._S)(i,"");return a&&a!==n&&ht.f.sendEvent("check_ttwid_error",{error_msg:"appcontext ttwid is different from local storage"}),(0,Io.AP)(i,n),()=>{h.current&&window.clearTimeout(h.current)}}},[]),(e=>{(0,m.useEffect)(()=>{if(e){const e=new AbortController;let t,o,n=!1;const i=50,r={touchstart:e=>{o=void 0,t=e.targetTouches[0].clientY},touchmove:e=>{o=e.targetTouches[0].clientY},touchend:()=>{if(n||(ht.f.sendEvent("common_tap"),n=!0),!t||!o)return;const r=t-o;(r>i||r<-i)&&(go(),e.abort())}};return Object.keys(r).forEach(t=>{window.addEventListener(t,r[t],{signal:e.signal,capture:!0})}),()=>{e.abort(),Object.keys(r).forEach(e=>{window.removeEventListener(e,r[e])})}}const t={click:()=>{ht.f.sendEvent("common_click")},scroll:()=>{go()},mousemove:()=>{ht.f.sendEvent("common_mousemove")}};return Object.keys(t).forEach(e=>{window.addEventListener(e,t[e],{once:!0,capture:!0})}),()=>{Object.keys(t).forEach(e=>{window.removeEventListener(e,t[e])})}},[])})(t);const _=(0,ke.Nj)(v.V$),f=(0,ke.Nj)(po),b=(0,m.useMemo)(()=>o(u),[u]),w=(0,m.useCallback)((e,t)=>{try{f.reportRenderError(b);const{componentStack:o}=t;e.message=`Page render Error: ${e.message}`,_.reportCrash(e,{errorName:a.$P.PageRenderError,level:"error"},{version:m.version,componentStack:o}),console.info("Error occurs in render time:",e),console.info("Error occurs in component:",o)}catch(e){console.error("Error occurs when reporting error:",e)}},[f,b,_]),k=(0,m.useMemo)(()=>[mo(bo),mo(l),mo(wo,{isMobile:t}),mo(co,{onCatchError:w,isMobile:t})],[t]);return s?(0,i.FD)(ho,{provisions:k,children:[(0,i.Y)(Do,{}),(0,i.Y)(jo,{isMobile:t,withFonts:!n}),e]}):(0,i.Y)(ho,{provisions:k,children:(0,i.FD)(co,{onCatchError:w,isMobile:t,children:[(0,i.Y)(jo,{isMobile:t,withFonts:!n}),(0,i.Y)(Do,{}),e]})})}var No=o(71510),Uo=o.n(No),Bo=o(81085);function Ho(e,t,o){let n="",i="";"string"==typeof e?n=e:(n=e.key,i=e.scope);const[r,a]=(0,m.useState)(()=>{var e,r,a,s;if(!window[Bo.DA]||window[Bo.DA][Bo.cc]){let t={};try{t=JSON.parse(null!==(r=null===(e=document.getElementById(Bo.xD))||void 0===e?void 0:e.textContent)&&void 0!==r?r:"{}")}catch(e){console.error("error while parsing rehydration data")}window[Bo.DA]=window[Bo.DA]||{},window[Bo.DA][Bo.cc]=!1,window[Bo.DA][Bo.$9]=!0,window[Bo.DA]=Uo()(window[Bo.DA],t)}const l=window[Bo.DA],c=i||Bo.LH,d=null!==(s=null===(a=l[c])||void 0===a?void 0:a[n])&&void 0!==s?s:void 0;if(void 0===d)return t;if(null==o?void 0:o.volatile){const e=`${n}_volatile`;l[c][e]=d,l[c][n]=void 0}return d});return[r,a,()=>null]}const zo={[K.i_.Analytics]:null,[K.i_.Login]:null,[K.i_.Reflow]:null,[K.i_.WebApp]:null,[K.i_.POI]:null,[K.i_.RechargeReferral]:null,[K.i_.AccountServer]:null},Yo={[K.i_.Analytics]:null,[K.i_.Login]:null,[K.i_.Reflow]:null,[K.i_.WebApp]:null,[K.i_.POI]:null,[K.i_.RechargeReferral]:null,[K.i_.AccountServer]:null},Wo=({children:e,t,initialNamespaces:o,translations:n=zo})=>{const[i,r,a]=Ho(ce.rv,n),s=(0,m.useRef)(i),[l]=(0,m.useState)((0,K.qm)()),c=(0,m.useCallback)(e=>Boolean(e&&s.current[e]),[]),d=(0,m.useCallback)((e,t)=>{return o=void 0,n=void 0,r=function*(){try{if(!s.current[e]){Yo[e]||(Yo[e]=ae(e,t));const o=yield Yo[e];z.Ay.addResourceBundle(l,e,o,!0,!0),s.current=Object.assign(Object.assign({},s.current),{[e]:o})}return!0}catch(e){return console.error("[I18nContext] load starling error",e),!1}},new((i=void 0)||(i=Promise))(function(e,t){function a(e){try{l(r.next(e))}catch(e){t(e)}}function s(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(o,n||[])).next())});var o,n,i,r},[r]),u=(0,m.useMemo)(()=>null!=t?t:z.Ay.t,[t]),p=(0,m.useMemo)(()=>({t:u,hasLoaded:c,loadStarling:d,initialNamespaces:o,lang:l}),[c,o,l,d,u]);return se(i,l),(0,Le.jsxs)(ce.Ss.Provider,{value:p,children:[e,(0,Le.jsx)(a,{data:i})]})};var Vo=o(28591);function Go(){window.location.reload()}function $o(){return(0,i.Y)(It.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"})}const qo=(0,Wt.A)("div",{target:"enmrze0"})({height:"100vh",display:"flex",flexDirection:"column"},"label:DivContainer;");function Ko(){const{t:e}=(0,m.useContext)(ce.Ss);return(0,i.Y)(qo,{children:(0,i.Y)(so,{isFullScreen:!0,onButtonClick:Go,iconElem:$o,title:e("Page not available",{},"Page not available"),desc:e("server_error_sub",{},"Sorry about that! Please try again later."),buttonText:e("try_again_btn",{},"Try again")})})}var Zo=o(93401);function Jo(e){fo("SigiProvider Rendered");const{children:t}=e,o=Ue();return(0,i.Y)(Zo.j,{history:o,children:t})}var Qo=o(21355),Xo=o(67823),en=o(13392),tn=o(53548),on=o(41353),nn=o(75497),rn=o(6791);function an(e,t){var o,n;return null==e||null==(n=e.parameters)||null==(o=n[t])?void 0:o.vid}const sn=()=>"undefined"!=typeof window,ln=()=>sn()&&window.location.host.startsWith("localhost")||"1"===String(void 0);let cn=!1;const dn="AB_TEST_PREFIX_";function un(e,t){var o;const{useDefaultValue:n,value:i}=function(e){const{search:t}=Be(),o=(0,xo.L$)((0,on.parse)(t)),{isDebugEnv:n}=(()=>{const{env:e}=(0,xo.L$)((0,tn.W)(()=>["env"],[])),{type:t}=(0,xo.L$)(e),{canUseQuery:o=!1}=(0,xo.L$)((0,Po.U)(()=>["canUseQuery"],[])),n="ppe"===t||"boe"===t||ln();return{isDebugEnv:n||o,isDebugPanelEnable:n}})();let i=o[e];return Array.isArray(i)&&(i=i[i.length-1]),{searchObj:o,useDefaultValue:!n,value:i}}(t),r=sn();if(n)return an(e,t);if(i){var a;const n=null!==(o=null==(a=nn.JO.find(e=>e.name===t))?void 0:a.vid)&&void 0!==o?o:[];return n.includes(i)?(r&&sessionStorage.setItem(`${dn}${t}`,i),i):(function(e,t,o){e&&!cn&&(cn=!0,rn.F.open({content:`feature flag value you provided for ${t} is not valid, valid value are: ${JSON.stringify(o)}`,duration:5,widthType:"padding"}))}(r,t,n),an(e,t))}return r&&sessionStorage.getItem(`${dn}${t}`)?sessionStorage.getItem(`${dn}${t}`):an(e,t)}function pn(e){const{query:t}=(0,T.xw)(),{abTestVersion:o,env:n}=(0,y.x)(),i=sn(),r="ppe"===(null==n?void 0:n.type)||"boe"===(null==n?void 0:n.type)||ln();return i&&sessionStorage.getItem(`${dn}${e}`)?sessionStorage.getItem(`${dn}${e}`):r&&t[e]?t[e]:an(o,e)}var gn=o(99242);const mn=e=>{ht.f.sendEvent("inference_disqualify",e)},hn=e=>{ht.f.sendEvent("inference_trigger",e)};var vn=o(49360);const _n=e=>new Date((new Date).getTime()-864e5*e).toLocaleDateString("en-US"),fn=(e,t,o,n)=>Array.from({length:e},(e,t)=>_n(t)).reduce((e,i)=>{var r,a;return void 0!==(null==(a=o[i])||null==(r=a[t])?void 0:r[n])?e+1:e},0),bn=(e,t,o)=>{if(!e)return[];try{var n;const i=(0,Io.SE)(e),r={},a=[];return Array(t).fill(0).forEach((n,s)=>{var l;const c=_n(t-s-1);(null==(l=i[c])?void 0:l[e])&&(a.push(((e,t,o,n,i)=>{let r=[];const a=t===(new Date).toLocaleDateString("en-US");return Object.entries(o).forEach(([o,s])=>{var l,c,d;const{should_skip_sending:u,available_values:p,is_snapshot:g,is_avg:m,count_field_name:h,is_retention:v,retention_count:_}=s;if(!u)if(p)r=r.concat(((e,t,o,n,i,r)=>{var a,s;const l=t===(new Date).toLocaleDateString("en-US"),c=null==(s=r[t])||null==(a=s[e])?void 0:a[o];return[...n.map(e=>e!==c||i&&!l?0:1),n.includes(c)||i&&!l?0:1]})(e,t,o,p,g,n));else{if(v&&_){const t=fn(_,e,n,"ret_acc")/fn(i,e,n,"ret_acc");return void r.push(t)}if(null==(d=n[t])||null==(c=d[e])?void 0:c[o])if(!g||a){if(m&&h){const a=n[t][e][h];if(a&&a>=1&&n[t][e][o]){const s=n[t][e][o]/(a*(null!==(l=fn(i,e,n,o))&&void 0!==l?l:1));r.push(parseFloat(s.toFixed(2)))}else r.push(0);return}r.push(n[t][e][o])}else r.push(0);else r.push(0)}}),r})(e,c,o,i,t)),r[c]=i[c])}),(0,Io.AP)(vn.ne,JSON.stringify(r)),a.reduce((e,t)=>(e.length!==t.length&&console.error("Error! Payload length mismatch!"),e.forEach((o,n)=>{e[n]+=t[n]}),e),new Array(null==(n=a[0])?void 0:n.length).fill(0))}catch(e){return console.error("Error generating prediction payload! ",e),[]}};var yn=o(79386);const wn={s:1,t:2,x:3,r:4},kn=e=>{var t;return null!==(t=wn[e.toLowerCase()])&&void 0!==t?t:null},Sn="last_inference";var Cn=o(87102),xn=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},Pn={};Pn.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return new Function("return this")()}catch(e){if("object"==typeof window)return window}})();const Tn=(e,t)=>{if(e.length!==t.length)throw new Error("Array and mask must be of the same length.");return e.filter((e,o)=>"1"===t[o])},On=e=>{var t;const o=atob(e),n=[];for(let e=0;e<o.length;e++){var i,r;const t=null==o||null==(r=o.charCodeAt(e))||null==(i=r.toString(2))?void 0:i.padStart(8,"0");n.push(t)}return null==n||null==(t=n.join(""))?void 0:t.split("")};function An(e,t,o){return xn(this,void 0,void 0,function*(){try{const n=yield Pn.g.fetch((0,on.stringifyUrl)({url:"/node-webapp/api/inference",query:{fvaluesString:e.toString(),modelName:t,modelType:o}})).then(e=>e.json());return 0===n.statusCode&&Array.isArray(n.result)?n.result:(console.error(`Unable to get causal inference: ${n.statusCode}`),[-1])}catch(e){return console.error("Error fetching inference result:",e),[-1]}})}const En=(0,tt.atom)({});En.debugLabel="spaExperimentAtom";const{useServiceDispatchers:Ln,useServiceState:jn}=(0,C.i)(En,(e,t)=>({getAbTestVidWithQuerySPA({projectName:o,isInSpaExperiment:n,expVid:i,wid:r,globalModelInfo:a,vgeo:s,user:l,disableAutoTrigger:c=!1}){const d=e(En);if(null==d?void 0:d[o])return;let u="base",p=i,g=[],m=1,h=[];if(n){const{projectLevelModelInfo:e}=((e,t)=>{let o={};if("string"==typeof e)try{o=JSON.parse(e)}catch(e){console.error("Error: Failed to parse uplift model info.",e)}else"object"==typeof e&&null!==e&&(o=e);return{projectLevelModelInfo:null==o?void 0:o[t]}})(null!=a?a:{},o)||{},{inference_effective_duration:t,inference_disabled_vgeo_list:n}=e||{},{type:r,default_vid:s,treatment_list:l}=(null==e?void 0:e[i])||{};r&&(u=r),s&&(p=s),Array.isArray(l)&&(g=l),t&&(m=t),Array.isArray(n)&&(h=n)}t(En,e=>Object.assign(Object.assign({},e),{[o]:{projectName:o,vid:p,wid:r,experimentType:u,inferenceCount:0,treatmentList:g,inferenceEffectiveDuration:m,inferenceDisabledVGeoList:h}})),c||this.maybeTriggerInference({projectName:o,vgeo:s,user:l})},maybeTriggerInference({projectName:o,vgeo:n="",user:i,enterMethod:r="",pageName:a=""}){return s=this,l=void 0,d=function*(){const s=e(En)[o];if(!s)return void console.log("Error. Unable to find the experiment: ",o);const{wid:l,experimentType:c,vid:d,inferenceCount:u,treatmentList:p,inferenceEffectiveDuration:g,inferenceDisabledVGeoList:m}=s;let h=bn(l,vn.uV,yn.gb);if(p&&p[0]){const e=Number(p[0].feature_number||0);e&&e>0&&(null==h?void 0:h.length)>0&&(h=null==h?void 0:h.slice(0,e))}if("base"===c)hn({enter_method:r,page_name:a,model_name:`${o}_${d}`,full_payload:null==h?void 0:h.toString(),payload:null==h?void 0:h.toString(),threshold_exceed:-1,inference_result:-1});else if("model"===c&&0===u&&((e,t="",o=!1)=>!!o||!e.includes(t))(m,n,!!i)){const{isCacheValid:e,cachedVid:n}=((e,t=1,o,n="",i="")=>{try{const r=(0,Cn._S)(Sn)||"{}",a=JSON.parse(r)[e],s=null==a?void 0:a.timestamp,l=null==a?void 0:a.vid;if(!l||!s)return{isCacheValid:!1};const c=24*t*36e5;return Date.now()-parseInt(s,10)<=c?(mn({enter_method:o,model_name:n,reason:"inference_cached",page_name:i}),{isCacheValid:!0,cachedVid:l}):{isCacheValid:!1}}catch(e){return console.error("Error in getValidInferenceCache:",e),{isCacheValid:!1}}})(o,g,r,`${o}_${d}`,a);if(e&&n)return void t(En,e=>Object.assign(Object.assign({},e),{[o]:Object.assign(Object.assign({},s),{vid:n,inferenceCount:u+1})}));const{isSuccessful:i,resultVid:c}=(yield function(e,t,o,n=[],i,r){return xn(this,void 0,void 0,function*(){let a={vid:t,inference_result:-1/0},s=!0;for(const e of n){const{treatment_vid:t,model_name:n="",model_type:c="",feature_number:d=0,prediction_threshold:u=0,feature_mask:p=""}=null!=e?e:{},g=bn(o||"",vn.uV,yn.gb);if(0===g.length){mn({enter_method:i,model_name:n,reason:"failed_to_generate_payload",page_name:r});continue}let m=[],h=[];try{var l;const e=(null==(l=On(p||""))?void 0:l.slice(0,d))||[];h=Tn(g,e);const t=kn(c);if(0===h.length||!n||!t)throw new Error(`Missing key parameters, unable to call inference API! maskedPayload.length: ${h.length}, modelName: ${n}, modelType: ${t}`);m=yield An(h,n,t)}catch(e){console.error("Unable to call inference API!",e),hn({enter_method:i,page_name:r,model_name:n,full_payload:g.toString(),payload:h.toString(),threshold_exceed:0,inference_result:-1});continue}const[v]=m,_=void 0!==v&&-1!==v,f=!!_&&v>u;hn({enter_method:i,page_name:r,model_name:n,full_payload:g.toString(),payload:h.toString(),threshold_exceed:f?1:0,inference_result:v}),_?f&&v>a.inference_result&&(a={vid:t,inference_result:v}):s=!1}return s&&((e,t)=>{const o=Sn,n=(0,Cn._S)(o)||"{}",i=JSON.parse(n);i[e]={timestamp:Date.now().toString(),vid:t},(0,Cn.AP)(o,JSON.stringify(i))})(e,a.vid),{isSuccessful:s,resultVid:a.vid}})}(o,d,l,p,r,a))||{};t(En,e=>Object.assign(Object.assign({},e),{[o]:Object.assign(Object.assign({},s),{vid:c||s.vid,inferenceCount:i?u+1:u})}))}},new((c=void 0)||(c=Promise))(function(e,t){function o(e){try{i(d.next(e))}catch(e){t(e)}}function n(e){try{i(d.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c(function(e){e(i)})).then(o,n)}i((d=d.apply(s,l||[])).next())});var s,l,c,d},disqualifyForInference:(e,t,o,n)=>{mn({enter_method:t,model_name:e,reason:n,page_name:o})}}));function In(e,t,o,n){const{wid:i,user:r}=(0,xo.L$)((0,tn.W)(()=>["wid","user"],[])),{upliftModelInfo:a={},vgeo:s=""}=(0,xo.L$)((0,Po.U)(()=>["upliftModelInfo","vgeo"],[])),l=null!=n?n:`${t}_spa`,c=un(e,t),d=un(e,l),u=Ln();d?u.getAbTestVidWithQuerySPA({projectName:t,isInSpaExperiment:!0,expVid:d,wid:i,globalModelInfo:a,vgeo:s,user:r,disableAutoTrigger:o}):c&&u.getAbTestVidWithQuerySPA({projectName:t,isInSpaExperiment:!1,expVid:c,wid:i,globalModelInfo:a,vgeo:s,user:r,disableAutoTrigger:o});const{vid:p}=(0,xo.L$)(jn(e=>e[t],gn.bN));return p}function Rn(){const{playerInfo:e}=(0,xo.L$)((0,Po.U)(()=>["playerInfo"],[])),{name:t="",isSmartPlayer:o=!1,type:n=nn.al.Normal,loop:i=!1,replyComment:r=!0,hideNavBar:a=!1}=(0,xo.L$)(e);return{brand:t,isEchoShow:"echoshow"===t,isTtincar:"ttincar"===t,launchType:n,isSmartPlayer:o,loop:i,replyComment:r,hideNavBar:a}}function Mn(){const{isSmartPlayer:e}=Rn();return{isMobileUiOptimize:!e}}const Dn=()=>{const{abTestVersion:e}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),t=un(e,"project_ace_control");return"v0"===t||"v1"===t},Fn=()=>{const{abTestVersion:e}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),t=un(e,"browser_fingerprint_basic"),o=un(e,"browser_fingerprint_verify");return{isInBasicTreatment:"v1"===t,isInVerification:"v0"===o||"v1"===o}},Nn=()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),o=null!==(e=un(t,"nav_phase_3"))&&void 0!==e?e:"v0",n="v0"!==o,i="v1"===un(t,"enable_dm_side_nav"),r="v1"===un(t,"enable_setting_side_nav"),a=[qe.OZ.feedback,qe.OZ.feedbackReport,qe.OZ.feedbackHistory,qe.OZ.upload,Ke.vI.kycSubmission,Ke.vI.kyc,Ke.vI.kycLoading,Ke.vI.kycPoa,xe.tH.loginHome,xe.tH.signupHome,qe.OZ.download,...qe.OZ.downloadWithLang,qe.OZ.downloadVideo,...qe.OZ.downloadVideoWithLang,...i?[]:[qe.OZ.messages],...r?[]:Object.entries(qe.OZ).filter(([e,t])=>e.startsWith("setting")).flatMap(([e,t])=>t)],{pathname:s}=Be();return{vid:o,isInNavPhase3:n,showFullSideNav:!He(s,{path:a,exact:!0})&&"v0"!==o}},Un=()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),o=null!==(e=In(t,"dual_user"))&&void 0!==e?e:"v0";let n;try{n=Xo.A.get("last_login_method")}catch(e){console.error("Failed to get last_login_method cookie:",e),n=void 0}const i="QRcode"===n;return{showLoginOptionSlider:i&&"v0"!==o,showLoginOptionButton:!1,showPopupWhenInitiallyLand:i&&("v2"===o||"v3"===o),isForcedLogin:i&&"v3"===o,isInRedesignLoginPopupControl:"v0"===o,isInRedesignLoginPopupTreatment:i&&"v0"!==o}},Bn=()=>{var e;const{user:t,abTestVersion:o}=(0,xo.L$)((0,tn.W)(()=>["user","abTestVersion"],[])),n=!!t;return"v1"===(null!==(e=un(o,"feature_access_control_v2"))&&void 0!==e?e:"v0")||!n},Hn=()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),o=null!==(e=un(t,"nuj_interest_selector"))&&void 0!==e?e:"v0";return{isNujInterestSelectorControl:"v0"===o,isNujInterestSelectorWithLoginButton:"v1"===o,isNujInterestSelectorWithLoginBubble:"v2"===o}};var zn=o(33518),Yn=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function Wn(e){if(!(null==e?void 0:e.geometry)||!(null==e?void 0:e.text))return e;const t=(0,zn.SX)(e.geometry),o=(0,zn.SX)(e.text);return Object.assign(Object.assign({},e),{text:o,geometry:t})}function Vn(){if("undefined"==typeof document)return null;const e=document.createElement("canvas");return e.width=256,e.height=128,e.getContext("webgl",{preserveDrawingBuffer:!0})}function Gn(){var e,t,o,n;const i={value:"",duration:0},r=Vn(),a=null==r||null==(e=r.createBuffer)?void 0:e.call(r),s=null==r||null==(t=r.createProgram)?void 0:t.call(r),l=null==r||null==(o=r.createShader)?void 0:o.call(r,r.VERTEX_SHADER),c=null==r||null==(n=r.createShader)?void 0:n.call(r,r.FRAGMENT_SHADER);if(r&&a&&s&&l&&c&&"undefined"!=typeof Uint8Array){let e="";try{r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-.2,-.9,0,.4,-.26,0,0,.7321,0]),r.STATIC_DRAW);const t=3,o=3;r.shaderSource(l,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),r.compileShader(l),r.shaderSource(c,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),r.compileShader(c),r.attachShader(s,l),r.attachShader(s,c),r.linkProgram(s),r.useProgram(s);const n=r.getAttribLocation(s,"attrVertex"),i=r.getUniformLocation(s,"uniformOffset");r.enableVertexAttribArray(n),r.vertexAttribPointer(n,t,r.FLOAT,!1,0,0),r.uniform2f(i,1,1),r.drawArrays(r.TRIANGLE_STRIP,0,o);const d=new Uint8Array(131072);r.readPixels(0,0,256,128,r.RGBA,r.UNSIGNED_BYTE,d);const u=JSON.stringify(d).replace(/,?"[0-9]+":/g,"").replace(/^{[0]+}$/g,"");e=(0,zn.SX)(u)}catch(e){}i.value=e}return i}function $n(){return Yn(this,void 0,void 0,function*(){const e={value:"",duration:0};try{var t,o;if("undefined"!=typeof navigator&&(null==(t=navigator)?void 0:t.userAgentData)&&(null==(o=navigator.userAgentData)?void 0:o.getHighEntropyValues)){const t=yield navigator.userAgentData.getHighEntropyValues(["architecture","bitness","platform","platformVersion","uaFullVersion","fullVersionList"]);e.value=JSON.stringify(t)}}catch(t){e.value=""}return e})}function qn(){var e;const t={value:"",duration:0};return"undefined"!=typeof navigator&&(null==(e=navigator)?void 0:e.userAgent)&&(t.value=navigator.userAgent),t}function Kn(){var e,t;return{value:null!==(e=null==(t=window)?void 0:t.devicePixelRatio)&&void 0!==e?e:1,duration:0}}function Zn(){var e;const t={value:!1,duration:0};return"undefined"!=typeof navigator&&(null==(e=navigator)?void 0:e.pdfViewerEnabled)&&(t.value=navigator.pdfViewerEnabled),t}function Jn(){const e={value:0,duration:0};try{const{AudioContext:t}=window;if(t){const o=new t;e.value=o.sampleRate}}catch(t){e.value=0}return e}function Qn(){const e={value:"",duration:0};try{var t;const o=Vn(),n=null==o||null==(t=o.getExtension)?void 0:t.call(o,"WEBGL_debug_renderer_info");o&&n&&(e.value=o.getParameter(n.UNMASKED_VENDOR_WEBGL))}catch(t){e.value=""}return e}function Xn(){const e={value:"",duration:0};try{var t;const o=Vn(),n=null==o||null==(t=o.getExtension)?void 0:t.call(o,"WEBGL_debug_renderer_info");o&&n&&(e.value=o.getParameter(n.UNMASKED_RENDERER_WEBGL))}catch(t){e.value=""}return e}const ei=e=>{const t={};for(const[o,n]of e)t[o]=n;return t},ti=Object.assign({globalWid:"",canvasId:"",hasReportedOnLanding:!1},ei(["fonts","domBlockers","fontPreferences","audio","screenFrame","osCpu","languages","colorDepth","deviceMemory","screenResolution","hardwareConcurrency","timezone","sessionStorage","localStorage","indexedDB","openDatabase","cpuClass","platform","plugins","canvas","touchSupport","vendor","vendorFlavors","cookiesEnabled","colorGamut","invertedColors","forcedColors","monochrome","contrast","reducedMotion","hdr","math","videoCard","pdfViewerEnabled","architecture","userAgent","webglUnmaskedVendor","webglUnmaskedRenderer","webglImageHash"].map(e=>[e,""]))),oi=(0,tt.atom)(ti);oi.debugLabel="globalWidAtom";const{useServiceDispatchers:ni,useServiceState:ii}=(0,C.i)(oi,(e,t)=>({maybeGenerateAndReportGlobalWidInfo:o=>{return n=void 0,i=void 0,a=function*(){var n,i;const{isLanding:r=!1,enterMethod:a,hashedIP:s="",region:l=""}=o;try{let o="",d="",u={};if(!e(oi).globalWid){const e=yield function(e,t){return Yn(this,void 0,void 0,function*(){const o=yield zn.Ay.load({monitoring:!1}),n=(yield o.get()).components,{domBlockers:i,canvas:r}=n,a=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(n,["domBlockers","canvas"]),s={value:Wn(r.value),duration:0};Object.values(a).forEach(e=>e.duration=0);const l={value:e||"",duration:0},c={value:t||"",duration:0},d=Object.assign(Object.assign({},a),{canvasComponent:s,webglComponent:Gn(),highEntropyValues:yield $n(),uaComponent:qn(),devicePixelRatio:Kn(),pdfViewerEnabled:Zn(),sampleRate:Jn(),webGLUnmaskedVendorComponent:Qn(),webGLUnmaskedRendererComponent:Xn(),hashedIPComponent:l,regionComponent:c}),u={};Object.entries(d).forEach(([e,t])=>{u[e]=JSON.stringify(t.value||{})});const p=zn.Ay.hashComponents(d),g=s.value,m=(null==g?void 0:g.geometry)||"",h=(null==g?void 0:g.text)||"",v=m.concat(h);return u.canvas=JSON.stringify(g||{}),Object.assign({gwid:p,canvasId:v},u)})}(s,l);o=null!==(n=null==e?void 0:e.gwid)&&void 0!==n?n:"",d=null!==(i=null==e?void 0:e.canvasId)&&void 0!==i?i:"",u=null!=e?e:{},o&&t(oi,e=>Object.assign(Object.assign(Object.assign({},e),{globalWid:o,canvasId:d}),u))}return r&&e(oi).hasReportedOnLanding||(c=Object.assign({global_wid:e(oi).globalWid,canvas_id:e(oi).canvasId,enter_method:a,page_name:ht.f.commonParams.page_name},ei(Object.entries(e(oi)).filter(([e])=>!["globalWid","canvasId","hasReportedOnLanding"].includes(e)))),ht.f.sendEvent("send_global_wid",c)),e(oi).globalWid}catch(e){return console.error("Error in maybeGenerateAndReportGlobalWidInfo:",e),null}var c},new((r=void 0)||(r=Promise))(function(e,t){function o(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r(function(e){e(n)})).then(o,s)}l((a=a.apply(n,i||[])).next())});var n,i,r,a},setLandingPageETSentFlag:e=>{const{hasReportedOnLanding:o}=e;t(oi,e=>Object.assign(Object.assign({},e),{hasReportedOnLanding:o}))}}));function ri(){return lt(f.L)}o(32877);const ai={isPlayerError:!1,showUnmuteTooltip:!1,isAutoScroll:!1},si=(0,x.p)("videoPlayerViewAtom@tiktok/webapp-atoms",(()=>{var e;const t=Object.assign({},ai);if((0,P.fU)())return t;try{const o=null!==(e=localStorage.getItem("auto_scroll"))&&void 0!==e?e:"0";t.isAutoScroll="1"===o}catch(e){console.warn("getLocalStorage failed for key: auto_scroll")}return t})());si.debugLabel="videoPlayerViewAtom";const{useServiceState:li,useServiceDispatchers:ci,useAtomService:di,getStaticApi:ui}=(0,C.i)(si,(e,t)=>({setAutoScroll(e){t(si,t=>Object.assign(Object.assign({},t),{isAutoScroll:e}))},setAutoScrollAndUpdateLocalStorage(e){this.setAutoScroll(e);try{localStorage.setItem("auto_scroll",e?"1":"0")}catch(e){console.warn("setLocalStorage failed for key: auto_scroll")}},toggleAutoScroll(){this.setAutoScrollAndUpdateLocalStorage(!e(si).isAutoScroll)},updateShowUnmuteTooltip(e){t(si,t=>Object.assign(Object.assign({},t),{showUnmuteTooltip:e}))},setPlayerError(){t(si,e=>Object.assign(Object.assign({},e),{isPlayerError:!0}))},getStaticPlayerUIState:()=>e(si)})),pi=()=>{var e;return null!==(e=li(e=>e.isAutoScroll))&&void 0!==e&&e};const gi=({children:e,isDarkModeFromExternal:t})=>{var o;fo("AppThemingProvider Rendered");const{isInProductHoldout:n}=(()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),o=null!==(e=un(t,"use_container_exp"))&&void 0!==e?e:"v0";return{isInProductHoldout:"v1"===o||"v3"===o,isInPerformanceHoldout:"v2"===o||"v3"===o}})(),{baseExpId:r,isInAutoDarkModeControl:a,isInAutoDarkModeTreatment:s,isInAutoDarkModeExperiment:l}=(()=>{var e;const t="webapp_auto_dark_mode",{abTestVersion:o}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),n=null!==(e=In(o,t,!0))&&void 0!==e?e:"v0",{isInAutoDarkModeExperiment:i,isInAutoDarkModeControl:r,isInAutoDarkModeTreatment:a}=(0,m.useMemo)(()=>({isInAutoDarkModeExperiment:"v0"===n||"v1"===n,isInAutoDarkModeControl:"v0"===n,isInAutoDarkModeTreatment:"v1"===n}),[n]);return{baseExpId:t,isInAutoDarkModeControl:r,isInAutoDarkModeTreatment:a,isInAutoDarkModeExperiment:i}})(),c=Ln(),{isInBasicTreatment:d,isInVerification:u}=Fn(),{hasFypLoadingOpt1:p}=(()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),o=null!==(e=un(t,"foryou_opt"))&&void 0!==e?e:"v0";return{hasFypLoadingOpt1:"v1"===o,hasFypLoadingOpt2:"v2"===o}})(),g=ni(),h=ci(),{isInTreatment:v}=(e=>{var t;const{abTestVersion:o}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),n=null!==(t=In(o,e))&&void 0!==t?t:"v0",{isInExperiment:i,isInControl:r,isInTreatment:a}=(0,m.useMemo)(()=>({isInControl:"v0"===n,isInTreatment:"v1"===n,isInExperiment:"v0"===n||"v1"===n}),[n]);return{baseExpId:e,isInControl:r,isInTreatment:a,isInExperiment:i}})("default_auto_scroll"),{appContext:_}=null!==(o=ri())&&void 0!==o?o:{},{user:f,region:b}=null!=_?_:{},{isMobile:y,hashedIP:w,vgeo:k}=(0,en.Ph)(pt.$,{selector:e=>{var t,o,n;return{isMobile:null===(t=e.bizContext)||void 0===t?void 0:t.isMobile,hashedIP:null===(o=e.bizContext)||void 0===o?void 0:o.hashedIP,vgeo:null===(n=e.bizContext)||void 0===n?void 0:n.vgeo}},dependencies:[]}),{pathname:S,search:C}=Be(),x=(0,Ze.bc)(S,C)&&!y,P=(0,Ze.$p)(S)&&!y,O=(0,Ze.xj)(S),A=(()=>{const[e,t]=(0,m.useState)("undefined"!=typeof window&&null!==(o=null===(r=window)||void 0===r||null===(i=r.matchMedia)||void 0===i||null===(n=i.call(r,"(prefers-color-scheme: dark)"))||void 0===n?void 0:n.matches)&&void 0!==o&&o);var o,n,i,r;const a=e=>{var o;t(null!==(o=null==e?void 0:e.matches)&&void 0!==o&&o)};return(0,m.useEffect)(()=>{var e,t;const o=null===(t=window)||void 0===t||null===(e=t.matchMedia)||void 0===e?void 0:e.call(t,"(prefers-color-scheme: dark)");return o.addListener(a),()=>o.removeListener(a)},[]),e})(),[E,L]=(0,m.useState)(void 0!==t?t?zt.Dark:zt.Light:(0,T.MJ)(Ct)||zt.Light),j=e=>{L(e),Xo.A.set(Ct,e,xt)},[I,R]=(0,m.useState)(P),M=e=>{R(e),Xo.A.set(kt,e?Pt.DarkTheme:Pt.LightTheme,xt)};(0,m.useEffect)(()=>{const e=(()=>{if(P)return!0;if(!x)return"1"===(0,T.MJ)(St)&&Xo.A.set(St,"0",xt),j(zt.Light),l&&c.disqualifyForInference(r,"app_init","launcher","not_dark_mode_page"),!1;if("1"===(0,T.MJ)(St)&&(l&&c.disqualifyForInference(r,"app_init","launcher","manually_set"),E===zt.Dark||E===zt.Light))return E===zt.Dark;let e=!1;try{var t,o,i;e=null===(t=(0,Qo.A)())||void 0===t?void 0:t.dark;const n=null===(i=Intl.DateTimeFormat())||void 0===i||null===(o=i.resolvedOptions())||void 0===o?void 0:o.timeZone;ht.f.event("auto_dark_mode_timezone_info",{info_msg:`Local Time Zone: ${n}`})}catch(t){var d,u;console.error("Error: Unable to determine theme from timezone. Falling back to local time-based method.",t);const o=null===(u=Intl.DateTimeFormat())||void 0===u||null===(d=u.resolvedOptions())||void 0===d?void 0:d.timeZone;ht.f.event("auto_dark_mode_timezone_error",{error_msg:`Local Time Zone: ${o}`});const n=(new Date).getHours();e=n<6||n>=18}const p=(0,T.MJ)(kt);if(O)return l&&c.disqualifyForInference(r,"app_init","launcher","basic_dark_mode_page"),p?(j(p===Pt.DarkTheme?zt.Dark:zt.Light),p===Pt.DarkTheme):(j(O?zt.Dark:zt.Light),O);if(n)return j(zt.System),A;if(!l)return j(zt.Auto),!!A||e;try{c.maybeTriggerInference({projectName:r,vgeo:k,user:f,enterMethod:"app_init",pageName:"launcher"})}catch(e){console.error("Error. Unable to trigger inference for auto dark mode: ",e)}return a?(j(zt.System),A):s?(j(zt.Auto),!!A||e):(j(p===Pt.DarkTheme?zt.Dark:zt.Light),p===Pt.DarkTheme)})();M(e)},[x,O,A,E,a]),(0,m.useEffect)(()=>{""===(0,Cn._S)("auto_scroll")&&h.setAutoScroll(v)},[v,h]),(0,m.useEffect)(()=>{var e,t,o,n;!p&&(e=void 0,t=void 0,n=function*(){(d||u)&&(yield g.maybeGenerateAndReportGlobalWidInfo({isLanding:!0,enterMethod:"app_launch",hashedIP:null!=w?w:"",region:null!=b?b:""})),u&&(0,Io.uh)(void 0,!!f)&&(yield g.maybeGenerateAndReportGlobalWidInfo({isLanding:!0,enterMethod:"post_guest_mode",hashedIP:null!=w?w:"",region:null!=b?b:""})),(d||u)&&g.setLandingPageETSentFlag({hasReportedOnLanding:!0})},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())}))},[f,d,u,g,Io.uh]);const D=void 0!==t?t:I,F=(0,m.useMemo)(()=>({value:D,toggle:M,currentThemeOption:E,setCurrentThemeOption:j}),[D,E]);return(0,i.Y)(Yt.Provider,{value:F,children:e})};class mi extends m.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){const{onCatchError:o}=this.props;o(e,t)}render(){const{hasError:e}=this.state;return e?(0,i.Y)(ve.a,{theme:Ut,children:(0,i.Y)(Ko,{})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1}}}function hi(){const e=(()=>{throw new Error("useRouteError is not supported in react-router v5")})();if(e)throw e;return null}const vi=e=>{const{children:t,initialNamespaces:o,errorStateComponent:n,t:r}=e,[a]=Ho(b.Ow),{onLocationChange:s}=(0,m.useContext)(H),l=Ue();(0,m.useEffect)(()=>l.listen(e=>s(e)),[l,s]);const c=(0,m.useMemo)(()=>({lang:a.language,initialNamespaces:o,t:r,clusterRegion:null==a?void 0:a.clusterRegion}),[a.language,o,r,null==a?void 0:a.clusterRegion]),d=(0,m.useMemo)(()=>[mo(Vo.vd),mo(Wo,c),mo(Jo),mo(gi)],[c]);return a?(0,i.Y)(ho,{provisions:d,children:t}):(0,i.Y)(ve.a,{theme:Ut,children:null!=n?n:(0,i.Y)(Ko,{})})},_i=e=>{var t;const{supportRoutes:o,children:n,Outlet:r,routerProps:s}=e,l=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["supportRoutes","children","Outlet","routerProps"]),c=(0,ke.Nj)(v.V$);(0,m.useEffect)(()=>{var e;(null===(e=history)||void 0===e?void 0:e.scrollRestoration)&&(history.scrollRestoration="manual")});const d=(0,m.useCallback)(e=>{try{c.captureMessage(e,a.$b.P0,{fromLauncher:"1"})}catch(e){console.error("Error occurs when reporting error:",e)}},[c]),u=(0,m.useMemo)(()=>(null==s?void 0:s.routes)&&r?[{id:"@tiktok/fe-shared_RootLayout",element:(0,i.Y)(vi,Object.assign(Object.assign({},l),{children:(0,i.Y)(r,{})})),children:s.routes,errorElement:(0,i.Y)(hi,{})}]:null,[null==s?void 0:s.routes,r,l]);return s&&u?(0,i.Y)(m.StrictMode,{children:(0,i.Y)(mi,{onCatchError:d,children:(0,i.Y)(Ge,Object.assign(Object.assign({},s),{historyPaths:null!==(t=s.historyPaths)&&void 0!==t?t:o,routes:u}))})}):(0,i.Y)(m.StrictMode,{children:(0,i.Y)(mi,{onCatchError:d,children:(0,i.Y)(Ge,{historyPaths:o,children:(0,i.Y)(vi,Object.assign(Object.assign({},l),{children:n}))})})})};var fi=o(93411),bi=o(7173),yi=o(68082);const wi=e=>{const{history:t,location:o,isMemoryRouter:n}=e,{useWouterLocation:r,useWouterSearch:a}=(0,Pe.zB)(e.history),s=(0,m.useMemo)(()=>({history:t,location:o}),[t,o]),l=(0,i.Y)(yi.C.Provider,{value:s,children:(0,i.Y)(bi.Ix,{hook:r,searchHook:a,children:e.children})});return n?(0,i.Y)(Ne.Provider,{value:s,children:l}):l},ki=e=>{var{path:t,exact:o}=e,n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["path","exact"]);let r;return o||"string"!=typeof t||"*"===t||(r=(0,fi.q)(t,!0).pattern),(0,i.Y)(bi.qh,Object.assign(Object.assign({},n),{path:null!=r?r:t,component:n.component}))};function Si(e){return Array.isArray(e)?e.flatMap(e=>Si(e&&e.type===m.Fragment?e.props.children:e)):[e]}const Ci=({children:e})=>{const{pathname:t}=(0,Pe.zy)();for(const o of Si(e)){if(!(0,m.isValidElement)(o))continue;const[e,n]=(0,bi.Di)(fi.q,o.props.path,t,!o.props.exact);if(e)return(0,m.cloneElement)(o,{match:[e,n]})}return null};var xi=o(9059),Pi=o(92110),Ti=o(31421),Oi=o(23999),Ai=o(26324),Ei=o(24451),Li=o(8536),ji=o(72916),Ii=o(74690),Ri=o(80339),Mi=o(62564),Di=o(64162),Fi=o(4126),Ni=o(15176),Ui=o(340),Bi=o(58629),Hi=o(76924),zi=o(99108),Yi=o(41363);const Wi={email_verify:"email",pwd_verify:"password",mobile_sms_verify:"phone",totp_verify:"totp"},Vi={email:"email_verify",password:"pwd_verify",phone:"mobile_sms_verify",totp:"totp_verify"};var Gi=o(27008),$i=o(89004),qi=o(42583),Ki=o(77194),Zi=o.n(Ki),Ji=o(68628),Qi=o(20259),Xi=o(81259),er=o(27961),tr=o(61513),or=o(22833),nr=o(85969);const ir=new class{constructor(){this.generateRandomString=e=>{const t=(0,nr.A)();return(0,Cn.AP)(`${e}-auth`,t),t},this.getRandomString=e=>(0,Cn._S)(`${e}-auth`),this.clearData=e=>{(0,Cn.sc)(`${e}-auth`)}}};var rr=o(32066),ar=o(9850),sr=function(e){return e.APPLE="apple",e.EMAIL="email",e.FACEBOOK="facebook",e.GOOGLE="google",e.KAKAOTALK="kakaotalk",e.LINE="line",e.PHONE="phone",e.QR="qr",e.TWITTER="twitter",e.TIKTOK="tiktok",e}({});const lr=["instagram","vk"],cr=(e,t)=>{const o=(n=e,`${Xi.wW}:${n}`);var n;const i={timestamp:Number(new Date),timeInterval:6e5},r=Object.assign(Object.assign({},t),{expires:i});(0,Cn.AP)(o,JSON.stringify(r)),(0,Cn.AP)(e,JSON.stringify(r))},dr=e=>{const t=(0,Cn._S)(e);try{return JSON.parse(t)}catch(e){return{}}},ur=()=>{const e=(0,on.stringifyUrl)({url:`${window.location.origin}/oauth/?page=new`,query:{platform:[Xi.lv.TWITTER],oauthType:0,lang:"en"}});return(0,on.stringifyUrl)({url:"https://login-us.www.tiktok.com/passport/web/web_login/",query:{platform_app_id:Xi.iU[Xi.lv.TWITTER],platform:[Xi.lv.TWITTER],aid:ar.dd,next:encodeURIComponent(e),action:"login_only"}})},pr=()=>(0,on.stringifyUrl)({url:"https://access.line.me/oauth2/v2.1/authorize",query:{response_type:"code",client_id:Xi.Dt,redirect_uri:`${window.location.origin}/oauthLine/`,state:ir.generateRandomString(Xi.lv.LINE),scope:"openid profile"}}),gr=()=>(0,on.stringifyUrl)({url:"https://oauth.vk.com/authorize",query:{display:"page",response_type:"token",client_id:Xi.g9,redirect_uri:"https://www.tiktok.com/login/",scope:"offline, v",state:ir.generateRandomString(Xi.lv.VK)}}),mr=()=>(0,on.stringifyUrl)({url:"https://kauth.kakao.com/oauth/authorize",query:{response_type:"code",client_id:Xi.qo,redirect_uri:"https://www.tiktok.com/login",state:JSON.stringify({platform:Xi.lv.KAKAOTALK,auth:ir.generateRandomString(Xi.lv.KAKAOTALK)})}}),hr=e=>{const{isSignUp:t,brandName:o="",platformList:n,enabledAce:i,disable_platform:r,isMobile:a,disableAll:s,os:l,standaloneAid:c}=e;if(s)return[];const d=Boolean(o),u=/mercedes/i.test(o),p=n,g=[];return t&&(g.push(sr.TWITTER),a||"mac"===l||g.push(sr.APPLE),i&&g.push(sr.FACEBOOK)),d&&(g.push(sr.APPLE,sr.KAKAOTALK,sr.LINE),u&&g.push(sr.FACEBOOK,sr.TWITTER)),r&&g.push(...r.split(",")),c&&g.push(sr.LINE),p.filter(e=>!g.includes(e))},vr=e=>{Number(null!=e?e:localStorage.getItem("oauthType"))===Xi.XP.Verify&&(location.href=`${location.href}&no_refactor=1`)},_r="hello_page_login_way",fr=()=>Boolean((0,Cn._S)(_r)),br=()=>{(0,Cn.AP)(_r,"1")},yr=()=>{if(location.hash){const{state:e,access_token:t,user_id:o}=on.parse(location.hash.substr(1));if(!e||location.hash.match("accounts.google.com|https://www.googleapis.com/auth"))return;const n=ir.getRandomString(Xi.lv.VK);let i="ok";return n&&e===n?cr(Xi.lv.VK,{access_token:null==t?void 0:t.toString(),user_id:null==o?void 0:o.toString()}):i="failed",ir.clearData(Xi.lv.VK),window.authDoneClose=!0,i}},wr="webapp_third_auth_page_redirect";function kr(e){var t,o;if(!(null===(o=window)||void 0===o||null===(t=o.location)||void 0===t?void 0:t[e]))return;const n=function(e){const t={},o=e.replace(/^[#?]/,"").match(/([^=/&]+)=([^&]+)/g);if(o)for(let e=0;e<o.length;++e){const n=o[e].match(/([^=]+)=(.*)/);n&&(t[n[1]]=decodeURIComponent(n[2]))}return t}(window.location[e]);if("state"in n){var i;let t;try{t=JSON.parse(n.state)}catch(e){const o=decodeURIComponent(n.state);try{t=JSON.parse(o)}catch(e){}}if(t&&(!t.callback.match("_hellojs_")||"function(){try{e.apply(this,arguments)&&delete window[t]}catch(e){console.error(e)}}"!==(null===(i=window)||void 0===i?void 0:i[t.callback].toString()))){delete t.callback;const o="search"===e?"?":"#";window.location[e]=`${o}${function(e){const t=[];for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push([o,"?"===e[o]?"?":encodeURIComponent(e[o])].join("="));return t.join("&")}(Object.assign(Object.assign({},n),{state:JSON.stringify(t)}))}`}}}const Sr={eq:rr.eq,gt:rr.gt,gte:rr.gte,lt:rr.lt,lte:rr.lte},Cr=e=>{var t,o,n,i;const{disableStandaloneAppFlags:r,standaloneAid:a,standaloneAppVersion:s}=e,l=e.os;if(!a)return!1;const c=null===(o=r[a])||void 0===o||null===(t=o.versionControls)||void 0===t?void 0:t[l],d=null===(i=r[a])||void 0===i||null===(n=i.hideAll)||void 0===n?void 0:n[l];if(c&&s){const{disableVersions:e=[],enableVersions:t=[]}=c,o=({op:e,version:t})=>!!Sr[e]&&Sr[e](s,t);if(e.some(o))return!0;if(t.some(o))return!1}return void 0!==d&&d};var xr=o(28445),Pr=o(77653),Tr=o(31291),Or=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function Ar(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Er{init(){return this.init$||(this.init$=(()=>Or(this,void 0,void 0,function*(){var e;try{const t=this.appContextModule.state.appContext,n=null!==(e=null==t?void 0:t.appId)&&void 0!==e?e:nn.zF.TRILL;Xi.iU[Xi.lv.APPLE]=Xi.k0[n];const[i,{data:r}]=yield Promise.all([o.e(807).then(o.t.bind(o,73620,23)).catch(e=>{var t;throw new tr.Qd({error_code:zi.NV.InitLoadFailed,report_msg:`[load sdk] ${null!==(t=e.message)&&void 0!==t?t:"load apple sdk failed"}`})}),this.getAppleConfig().catch(e=>{var t;throw new tr.Qd({error_code:zi.NV.InitLoadFailed,report_msg:`[get config] ${null!==(t=e.message)&&void 0!==t?t:"get apple config failed"}`})})]),{client_id:a,state:s}=r;i.auth.init({clientId:a,state:s,redirectURI:"https://www.tiktok.com/oauth",scope:"name email",response_mode:"fragment",usePopup:!0}),window.AppleID=i,this.initialized=!0}catch(e){if(this.init$=void 0,(0,tr.mi)(e))throw e;if((0,tr.u7)(e))throw new tr.Qd({error_code:zi.NV.InitUnknownError,report_msg:e.message});throw new tr.Qd({error_code:zi.NV.InitUnknownError,report_msg:`unknown init error: ${e}`})}}))()),this.init$}login(){return Or(this,void 0,void 0,function*(){try{var e;this.initialized||(yield this.init());const t=yield null===(e=window.AppleID)||void 0===e?void 0:e.auth.signIn();return this.tokenToAuthentication(t)}catch(e){if((0,tr.mi)(e))return{error_code:e.error_code,error_msg:"",report_msg:e.report_msg,platform:Xi.lv.APPLE};if((0,tr.jh)(e))return{error_code:zi.NV.LoginSDKFailed,report_msg:e.error,error_msg:"user_trigger_new_signin_flow"===e.error?"":e.error,platform:Xi.lv.APPLE};if((0,tr.u7)(e))return{error_code:zi.NV.LoginUnknownError,report_msg:e.message,error_msg:"",platform:Xi.lv.APPLE};const t=e;return this.loginReport.thirdPartyLoginResult(Object.assign(Object.assign({},t),{status:"popup_closed_by_user"===t.error?Hi.zm.Cancelled:Hi.zm.Failed,error_desc:t.error})),Object.assign(Object.assign({error_msg:""},t),{error_code:zi.NV.LoginUnknownError,report_msg:`unknown login error: ${e}`,platform:Xi.lv.APPLE})}})}tokenToAuthentication(e){const{authorization:t={}}=e,{id_token:o,code:n}=t,i=(0,xr.A)(o);return{openid:i.sub,platform_app_id:Xi.iU[Xi.lv.APPLE],platform:Xi.lv.APPLE,id_token:o,code:n,email:i.email,is_private_email:i.is_private_email}}getAppleConfig(){const e=this.fetch.post("https://www.tiktok.com/passport/web/auth/config",{query:{aid:1459,account_sdk_source:"web"},body:Zi().stringify({platform_app_id:Xi.iU[Xi.lv.APPLE],action:"login_only",next:"https://www.tiktok.com/foryou?lang=en"})});return(0,Pr.s)(e.pipe((0,Tr.s)(1)))}constructor(e,t,o){this.loginReport=e,this.fetch=t,this.appContextModule=o,this.initialized=!1}}Er=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)({name:"AppleSdk@tiktok/login"}),Ar("design:type",Function),Ar("design:paramtypes",[void 0===Hi.$F?Object:Hi.$F,void 0===_t.p?Object:_t.p,void 0===f.L?Object:f.L])],Er);var Lr=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function jr(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Ir{init(){return this.init$||(this.init$=(()=>Lr(this,void 0,void 0,function*(){try{yield o.e(305).then(o.t.bind(o,34034,23)).catch(e=>{throw new tr.Qd({error_code:zi.NV.InitLoadFailed,report_msg:e.message,message:e.message})}),window.fbAsyncInit=()=>{window.FB.init({appId:Xi.jq,cookie:!0,xfbml:!0,version:"v18.0"})},this.initialized=!0}catch(e){if(this.init$=void 0,(0,tr.mi)(e))throw e;if((0,tr.u7)(e))throw new tr.Qd({error_code:zi.NV.InitUnknownError,report_msg:e.message,message:e.message});throw new tr.Qd({error_code:zi.NV.InitUnknownError,report_msg:`unknown init error: ${e}`,message:`unknown init error: ${e}`})}}))()),this.init$}login(){return Lr(this,void 0,void 0,function*(){try{this.initialized||(yield this.init());const e=yield new Promise(e=>{window.FB.login(t=>e(t))});return"connected"===e.status?{openid:e.authResponse.userID,access_token:e.authResponse.accessToken,platform:Xi.lv.FACEBOOK,platform_app_id:Xi.iU[Xi.lv.FACEBOOK]}:{error_code:zi.NV.LoginSDKFailed,report_msg:`[login failed] status=${e.status} message=${e.message}`,error_msg:e.message,platform:Xi.lv.FACEBOOK}}catch(o){var e,t;if((0,tr.mi)(o))return{error_code:o.error_code,report_msg:o.report_msg,error_msg:"",platform:Xi.lv.FACEBOOK};if((0,tr.u7)(o))return{error_code:zi.NV.LoginUnknownError,report_msg:o.message,error_msg:o.message,platform:Xi.lv.FACEBOOK};if((0,tr.Kz)(o))return{error_code:zi.NV.LoginUnknownError,report_msg:`[login failed] code=${o.error.code} message=${o.error.message}`,error_msg:"",platform:Xi.lv.FACEBOOK};const n=o;return this.loginReport.thirdPartyLoginResult(Object.assign(Object.assign({},n),{status:"cancelled"===(null===(e=n.error)||void 0===e?void 0:e.code)?Hi.zm.Cancelled:Hi.zm.Failed,error_desc:null===(t=n.error)||void 0===t?void 0:t.message})),Object.assign(Object.assign({},n),{error_code:zi.NV.LoginUnknownError,report_msg:`unknown login error: ${n}`,platform:Xi.lv.FACEBOOK,error_msg:n.message})}})}constructor(e){this.loginReport=e,this.initialized=!1}}Ir=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)({name:"FacebookSdk@tiktok/login"}),jr("design:type",Function),jr("design:paramtypes",[void 0===Hi.$F?Object:Hi.$F])],Ir);var Rr,Mr=o(40812),Dr=function(e){return e.POPUP="popup",e.PAGE="page",e.NONE="none",e}({});function Fr(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Nr{get helloJS$(){return this.helloJS?(0,Oi.of)(this.helloJS):(0,Ji.H)(this.loadSdk())}login(e){const{platform:t,display:o}=e;return o===Dr.PAGE&&br(),this.helloJS$.pipe((0,Li.Z)(()=>(0,Ji.H)(this.helloJS(t).login(e)).pipe((0,ji.n)(e=>this.afterHelloAuthentication(e)))),(0,Qi.W)(n=>{var i,r;const a=n;return this.loginReport.thirdPartyLoginResult(Object.assign(Object.assign({},a.error),{status:"cancelled"===(null===(i=a.error)||void 0===i?void 0:i.code)?Hi.zm.Cancelled:Hi.zm.Failed,error_desc:null===(r=a.error)||void 0===r?void 0:r.message})),(0,tr.mi)(n)?(0,Oi.of)({platform:t,error_msg:n.error_msg||"",report_msg:n.report_msg,error_code:n.error_code}):(0,tr.Kz)(n)?("blocked"===n.error.code&&o===Dr.POPUP&&(e.display=Dr.PAGE,this.helloJS(t).login(e),br()),(0,Oi.of)(Object.assign({platform:t,error_code:zi.NV.LoginSDKFailed,report_msg:n.error.message||`[hello sdk] login failed with code ${n.error.code}`,error_msg:n.error.message},n.error))):(0,tr.u7)(n)?(0,Oi.of)({error_code:zi.NV.LoginUnknownError,report_msg:n.message,error_msg:"",platform:t}):(0,Oi.of)({platform:t,error_code:zi.NV.LoginUnknownError,report_msg:`[hello sdk] login unknown error ${n}`,error_msg:""})}))}ListenLogin(){return this.helloJS$.pipe((0,ji.n)(()=>(0,Mr.R)(this.helloJS,"auth.login").pipe((0,Tr.s)(1))),(0,ji.n)(e=>((0,Cn.sc)(_r),this.afterHelloAuthentication(e[0]))))}afterHelloAuthentication(e){const{network:t,authResponse:o}=e,n=t===Xi.lv.VK?{v:"5.81"}:void 0;return(0,Ji.H)(this.helloJS(t).api("me",n)).pipe((0,Mi.T)(e=>{var n;const{access_token:i="",oauth_token_secret:r=""}=o;return{openid:null!==(n=e.id)&&void 0!==n?n:"",access_token:i,access_token_secret:r,platform:t,platform_app_id:Xi.iU[t]}}),(0,Qi.W)(e=>{if((0,tr.Kz)(e))throw new tr.Qd({error_code:zi.NV.LoginSDKFailed,report_msg:`[hello sdk] get user failed ${e.error.code} ${e.error.message}`,error_msg:e.error.message});if((0,tr.u7)(e))throw new tr.Qd({error_code:zi.NV.LoginUnknownError,report_msg:e.message,error_msg:""});throw new tr.Qd({error_code:zi.NV.LoginUnknownError,report_msg:`[hello sdk] get user unknown error ${e}`,error_msg:""})}))}constructor(e){this.loginReport=e,this.loadSdk=()=>{return e=this,t=void 0,i=function*(){return window.HELLOJS_REDIRECT_URL=new RegExp(`^${window.location.origin}(?!.*\\/(\\.\\.|\\%2e\\%2e)(\\/|$))\\/(login|signup|oauth|oauthLine|setting)(\\/[^?#]*)?(\\?.*)?(#.*)?$|^https://accounts.google.com([/?#]|$)`,"i"),function(){for(const e of["search","hash"])try{kr(e)}catch(e){}}(),o.e(675).then(o.t.bind(o,68256,23)).then(({default:e})=>(e.init({[Xi.lv.FACEBOOK]:"1862952583919182",[Xi.lv.GOOGLE]:"1096011445005-sdea0nf5jvj14eia93icpttv27cidkvk.apps.googleusercontent.com",[Xi.lv.TWITTER]:"rLsbFQ5NHI2IsWZiRc2McRCFc",[Xi.lv.INSTAGRAM]:"c8785d0dc7df48f298532fddf33d7cb5",[Xi.lv.VK]:"6961453"}),this.helloJS=e,e)).catch(e=>{if((0,tr.u7)(e))throw new tr.Qd({error_code:zi.NV.InitLoadFailed,report_msg:e.message});throw new tr.Qd({error_code:zi.NV.InitUnknownError,report_msg:`[hello sdk] init unknown error ${e}`})})},new((n=void 0)||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((i=i.apply(e,t||[])).next())});var e,t,n,i}}}function Ur(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Br(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Nr=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)({name:"HelloJs@tiktok/login"}),Fr("design:type",Function),Fr("design:paramtypes",[void 0===Hi.$F?Object:Hi.$F])],Nr);class Hr extends Di.E{setLoadingThirdParty(e,t){e.loadingThirdParty=t}handleHelloJSAuth(e){return e.pipe((0,Li.Z)(e=>this.helloJS.login(e).pipe((0,it.M)(e=>this.reportThirdGetToken(e)),(0,Mi.T)(e=>(0,tr.HY)(e)&&"cancelled"===e.code?this.noop():this.getActions().thirdLogin(e)))))}handleHelloLoginEvent(e){return e.pipe((0,Li.Z)(()=>this.helloJS.ListenLogin().pipe((0,Mi.T)(e=>(0,tr.HY)(e)?this.noop():this.getActions().thirdLogin(e)))))}handleFacebookLogin(e){return e.pipe((0,Li.Z)(()=>(0,Ji.H)(this.facebookSdk.login()).pipe((0,Mi.T)(e=>(this.reportThirdGetToken(e),this.getActions().thirdLogin(e))))))}handleAppleLogin(e){return e.pipe((0,Li.Z)(({appleToken:e})=>e?(0,Oi.of)(this.appleSdk.tokenToAuthentication(e)):(0,Ji.H)(this.appleSdk.login()))).pipe((0,it.M)(e=>this.reportThirdGetToken(e)),(0,Mi.T)(e=>(0,tr.HY)(e)&&"popup_closed_by_user"===e.error_msg?this.noop():this.getActions().thirdLogin(e)))}handlePopupAuthorize(e){return e.pipe((0,Ei.E)(this.appBiz.state$),(0,Li.Z)(([{url:e,platform:t},{bizContext:o}])=>{var n;return this.jumpAuthorizationPage({url:e,isSmartPlayer:null==o||null===(n=o.playerInfo)||void 0===n?void 0:n.isSmartPlayer}).pipe((0,Mi.T)(()=>{const e=dr(t);if(t===Xi.lv.TWITTER){const t=JSON.stringify({oauth_token:e.oauth_token,oauth_verifier:e.oauth_verifier});e.code=qi.o4.encode(t)}return this.getActions().thirdLogin(Object.assign({openid:e.user_id,platform_app_id:Xi.iU[t],platform:t},e))}),(0,Qi.W)(e=>{const o={signUp:!1,forgetPwd:!1,errorCode:0,errorMsg:"",platform:t};return(0,tr.mi)(e)?(o.errorCode=e.error_code,o.errorMsg=e.report_msg):(0,tr.u7)(e)?(o.errorCode=zi.NV.LoginUnknownError,o.errorMsg=e.message):(o.errorCode=zi.NV.LoginUnknownError,o.errorMsg=`unknown error when handle popup ${e}`),this.sloSlardar.loginFailure(o),(0,Oi.of)(this.noop())}))}))}authPageGoRedirect(e){return e.pipe((0,Ei.E)(this.contextModule.state$),(0,Mi.T)(([{platform:e,state:t},{loginType:o,redirectUrl:n}])=>(((e,t)=>{const o=(0,on.stringifyUrl)({url:`${window.location.origin}/login`,query:t});location.href=o,(0,Cn.AP)(wr,e)})(e,{type:o,redirect_url:n,state:t}),this.noop())))}dealPageAuthRedirect(e){return e.pipe((0,Mi.T)(()=>{const e=(0,Cn._S)(wr);if(!e)return this.noop();if((0,Cn.sc)(wr),e===Xi.lv.LINE){if(!window.location.search)return(0,er.P)(this.t("Sorry, something went wrong, please try again later")),console.error("Login: Line missing state."),this.noop();{const{state:e}=Zi().parse(window.location.search.substr(1));if(ir.getRandomString(Xi.lv.LINE)!==e)return(0,er.P)(this.t("Sorry, something went wrong, please try again later")),console.error("Login: Line state validation failed."),this.noop();ir.clearData(Xi.lv.LINE)}}const t=dr(e);if(e===Xi.lv.TWITTER){const e=JSON.stringify({oauth_token:t.oauth_token,oauth_verifier:t.oauth_verifier});t.code=qi.o4.encode(e)}return this.getActions().thirdLogin(Object.assign({platform_app_id:Xi.iU[e],platform:e},t))}))}thirdLogin(e){return e.pipe((0,Ei.E)(this.contextModule.state$),(0,Li.Z)(([e,{isSecurityVerification:t}])=>e.error_code||!e.platform_app_id?(0,Oi.of)(this.loginResultDealModule.getActions().handleLoginResult(e)):(or.K.show(),(t?this.service.thirdVerify(Object.assign(Object.assign({},e),{login_only:!0})):this.service.thirdLogin(Object.assign(Object.assign({},e),{login_only:!0}))).pipe((0,Mi.T)(t=>(t.thirdQuery=Object.assign(Object.assign({},e),{profile_key:t.profile_key}),this.loginReport.setPlatform(e.platform),this.sloSlardar.setPlatform(e.platform),t.platform=e.platform,this.loginResultDealModule.getActions().handleLoginResult(t))),(0,Ii.Z)(this.getActions().setLoadingThirdParty(!0)),(0,Ri.q)(this.getActions().setLoadingThirdParty(!1))))))}jumpAuthorizationPage(e){return new Ai.c(t=>{const{url:o,isSmartPlayer:n}=e;let i="";n||(i="resizable,scrollbars,width=500,height=550,display=popup");const r=window.open(o,"_blank",i);if(!r)return t.error(new tr.Qd({error_code:zi.NV.LoginUnknownError,report_msg:"open authorize window failed"})),void t.complete();const a=setInterval(()=>{if(!r||r.closed||r.authDoneClose){if(clearInterval(a),!r.authDoneClose)return this.loginReport.thirdPartyLoginResult({error_code:-1,status:Hi.zm.Cancelled,error_desc:"user cancel login"}),t.error(new tr.Qd({error_code:zi.NV.LoginSDKFailed,report_msg:"authorize window closed"})),void t.complete();t.next(),r.authDoneClose&&r.close(),t.complete()}},100)})}reportThirdGetToken(e){var t;const{error_code:o,code:n,error_msg:i,error:r}=e;this.slardar.handleThirdGetToken({error_code:o?-1:0,error_message:null!==(t=null!=n?n:r)&&void 0!==t?t:i})}constructor(e,t,o,n,i,r,a,s,l,c,d){super(),this.service=e,this.loginResultDealModule=t,this.appBiz=o,this.contextModule=n,this.helloJS=i,this.facebookSdk=r,this.appleSdk=a,this.slardar=s,this.loginReport=l,this.sloSlardar=c,this.t=d,this.defaultState={platform:"",loadingThirdParty:!1}}}function zr(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Yr(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Ur([(0,Fi.uk)(),Br("design:type",void 0===Ai.c?Object:Ai.c)],Hr.prototype,"dispose$",void 0),Ur([(0,Fi.h5)(),Br("design:type",Function),Br("design:paramtypes",["undefined"==typeof ThirdPlatformModuleState?Object:ThirdPlatformModuleState,Boolean]),Br("design:returntype",void 0)],Hr.prototype,"setLoadingThirdParty",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"handleHelloJSAuth",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"handleHelloLoginEvent",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"handleFacebookLogin",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"handleAppleLogin",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"handlePopupAuthorize",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"authPageGoRedirect",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"dealPageAuthRedirect",null),Ur([(0,Fi.Mj)(),Br("design:type",Function),Br("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Br("design:returntype",void 0)],Hr.prototype,"thirdLogin",null),Hr=Ur([(0,Ni.nV)("ThirdPlatformModule"),(Rr=(0,Ui.y)(ce.hp),function(e,t){Rr(e,t,10)}),Br("design:type",Function),Br("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===Gi.$?Object:Gi.$,void 0===pt.$?Object:pt.$,void 0===Pi.t?Object:Pi.t,void 0===Nr?Object:Nr,void 0===Ir?Object:Ir,void 0===Er?Object:Er,void 0===Te.VU?Object:Te.VU,void 0===Hi.$F?Object:Hi.$F,void 0===Te.le?Object:Te.le,void 0===Bi.I18NTranslate?Object:Bi.I18NTranslate])],Hr);class Wr extends Di.E{setTwoStepVerifyRes(e,t){var o;const n=t.verify_ways,i={};n.forEach(({verify_way:e,mobile:t,email:o})=>{i[e]=e===Vi.totp||e===Vi.password?e:null!=t?t:o}),e.verifyWays=i,e.type=t.default_verify_way||(null===(o=n[0])||void 0===o?void 0:o.verify_way),e.isTwoStep=Boolean(null==t?void 0:t.default_verify_way),e.thirdQuery=t.thirdQuery,e.accountQuery=t.accountQuery,e.password=t.password,e.verify_ticket=t.verify_ticket,e.not_login_ticket=t.not_login_ticket,e.sms_code_key=t.sms_code_key,e.resetPwdType=t.resetPwdType,e.email=t.email,e.m2LoginQuery=t.m2LoginQuery}setTwoStepType(e,t){e.type=t}setErrorMsg(e,t){e.errorMsg=this.overrideErrorMsg(e,t)}setErrorCode(e,t){e.errorCode=t}setLoginLoading(e,t){e.loginLoading=t}handleTOTPVerifyAndRestPwd(e){return e.pipe((0,Ei.E)(this.state$),(0,Li.Z)(([e,{verify_ticket:t,resetPwdType:o}])=>{const{code:n,password:i}=e;return this.service.verifyTOTPCode({code:n,verify_ticket:t}).pipe((0,it.M)(e=>this.reportTwoStepResult({error_code:e.error_code,type:"totp"})),(0,ji.n)(e=>e.error_code?(0,Oi.of)(this.getActions().setErrorCode(e.error_code),this.getActions().setErrorMsg(e.description)):(0,Oi.of)(this.login.getActions().handleChangePwdByTicket({password:i,ticket:t,type:null!=o?o:"email"}))),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1)))}))}handleTOTPVerifyAndSmsLogin(e){return e.pipe((0,Ei.E)(this.state$,this.phone.state$),(0,Li.Z)(([e,{sms_code_key:t=""},{mobile:o}])=>this.service.verifyTOTPCode(e).pipe((0,it.M)(e=>this.reportTwoStepResult({error_code:e.error_code,type:"totp"})),(0,ji.n)(e=>e.error_code?(0,Oi.of)(this.getActions().setErrorCode(e.error_code),this.getActions().setErrorMsg(e.description)):this.service.smsLoginContinue({mobile:o,sms_code_key:t}).pipe((0,Mi.T)(e=>this.login.getActions().handleLoginResult(e)),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1)))),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1)))))}handlePasswordVerify(e){return e.pipe((0,Ei.E)(this.state$,this.phone.state$),(0,Li.Z)(([e,{sms_code_key:t="",m2LoginQuery:o},{mobile:n}])=>this.service.accountVerify(e).pipe((0,it.M)(e=>this.reportTwoStepResult({error_code:e.error_code,type:"password"})),(0,ji.n)(e=>{if(e.error_code)return(0,Oi.of)(this.getActions().setErrorMsg(e.description));let i=(0,Oi.of)({});return i=o?this.service.m2TicketLoginAndBindOauth(o).pipe((0,Mi.T)(e=>(e.bondM2=!0,e))):this.service.smsLoginContinue({mobile:n,sms_code_key:t}),i.pipe((0,Mi.T)(e=>this.login.getActions().handleLoginResult(e)),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1)))}),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1)))))}handleCodeVerify(e){return e.pipe((0,Ei.E)(this.state$),(0,Li.Z)(([e,{type:t="",thirdQuery:o,accountQuery:n,m2LoginQuery:i}])=>o||n?(t===Vi.email?this.service.validateEmailCodeForLogin(e):t===Vi.totp?this.service.verifyTOTPCode(e):this.service.validateMobileCodeForLogin(e)).pipe((0,it.M)(e=>this.reportTwoStepResult({error_code:e.error_code,type:Wi[t]})),(0,ji.n)(e=>e.error_code?(0,Oi.of)(this.getActions().setErrorCode(e.error_code),this.getActions().setErrorMsg(e.description)):o?(0,Oi.of)(this.third.getActions().thirdLogin(o)):n?(0,Oi.of)(this.login.getActions().handlePasswordLogin(n)):i?(0,Oi.of)(this.login.getActions().handleM2BindLogin(i)):(0,Oi.of)(this.noop())),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1))):t===Vi.totp?(0,Oi.of)(this.getActions().handleTOTPVerifyAndSmsLogin(e)):(0,Oi.of)(this.getActions().handleEmailCodeVerify(e))))}handleEmailCodeVerify(e){return e.pipe((0,Li.Z)(e=>this.service.emailCodeLogin(e).pipe((0,it.M)(e=>this.reportTwoStepResult({error_code:e.error_code,type:"email"})),(0,Mi.T)(e=>this.login.getActions().handleLoginResult(e)),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1)))))}handleSmsCodeVerifyReset(e){return e.pipe((0,Li.Z)(e=>this.service.validateMobileCodeForReset(e).pipe((0,it.M)(e=>this.reportTwoStepResult({error_code:e.error_code,type:"phone"})),(0,Mi.T)(e=>this.login.getActions().handleLoginResult(e)),(0,Ii.Z)(this.getActions().setLoginLoading(!0)),(0,Ri.q)(this.getActions().setLoginLoading(!1)))))}reportTwoStepResult(e){this.loginReport.twoStepResult({verification_method:e.type,result:e.error_code?"fail":"success",error_code:e.error_code})}overrideErrorMsg(e,t){if(!t||!e.errorCode)return t;if(zi._j.includes(e.errorCode)&&zi.rS[e.errorCode]){const t=zi.rS[e.errorCode];return this.t(t)}return t}constructor(e,t,o,n,i,r){super(),this.service=e,this.third=t,this.login=o,this.loginReport=n,this.phone=i,this.t=r,this.defaultState={loginLoading:!1}}}zr([(0,Fi.uk)(),Yr("design:type",void 0===Ai.c?Object:Ai.c)],Wr.prototype,"dispose$",void 0),zr([(0,Fi.h5)(),Yr("design:type",Function),Yr("design:paramtypes",["undefined"==typeof TwoStepModuleState?Object:TwoStepModuleState,Object]),Yr("design:returntype",void 0)],Wr.prototype,"setTwoStepVerifyRes",null),zr([(0,Fi.h5)(),Yr("design:type",Function),Yr("design:paramtypes",["undefined"==typeof TwoStepModuleState?Object:TwoStepModuleState,Object]),Yr("design:returntype",void 0)],Wr.prototype,"setTwoStepType",null),zr([(0,Fi.h5)(),Yr("design:type",Function),Yr("design:paramtypes",["undefined"==typeof TwoStepModuleState?Object:TwoStepModuleState,String]),Yr("design:returntype",void 0)],Wr.prototype,"setErrorMsg",null),zr([(0,Fi.h5)(),Yr("design:type",Function),Yr("design:paramtypes",["undefined"==typeof TwoStepModuleState?Object:TwoStepModuleState,Number]),Yr("design:returntype",void 0)],Wr.prototype,"setErrorCode",null),zr([(0,Fi.h5)(),Yr("design:type",Function),Yr("design:paramtypes",["undefined"==typeof TwoStepModuleState?Object:TwoStepModuleState,Boolean]),Yr("design:returntype",void 0)],Wr.prototype,"setLoginLoading",null),zr([(0,Fi.Mj)(),Yr("design:type",Function),Yr("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Yr("design:returntype",void 0)],Wr.prototype,"handleTOTPVerifyAndRestPwd",null),zr([(0,Fi.Mj)(),Yr("design:type",Function),Yr("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Yr("design:returntype",void 0)],Wr.prototype,"handleTOTPVerifyAndSmsLogin",null),zr([(0,Fi.Mj)(),Yr("design:type",Function),Yr("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Yr("design:returntype",void 0)],Wr.prototype,"handlePasswordVerify",null),zr([(0,Fi.Mj)(),Yr("design:type",Function),Yr("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Yr("design:returntype",void 0)],Wr.prototype,"handleCodeVerify",null),zr([(0,Fi.Mj)(),Yr("design:type",Function),Yr("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Yr("design:returntype",void 0)],Wr.prototype,"handleEmailCodeVerify",null),zr([(0,Fi.Mj)(),Yr("design:type",Function),Yr("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Yr("design:returntype",void 0)],Wr.prototype,"handleSmsCodeVerifyReset",null),Wr=zr([(0,Ni.nV)("TwoStepModule"),function(e,t){return function(e,o){t(e,o,5)}}(0,(0,Ui.y)(ce.hp)),Yr("design:type",Function),Yr("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===Hr?Object:Hr,void 0===Gi.$?Object:Gi.$,void 0===Hi.$F?Object:Hi.$F,void 0===$i.U?Object:$i.U,void 0===Bi.I18NTranslate?Object:Bi.I18NTranslate])],Wr);var Vr=o(53702);const Gr=e=>e.startsWith(xe.tH.signupHome),$r=(e,t,o="")=>{var n;const i=`https://www.tiktok.com/foryou?lang=${e}`,{pathname:r,href:a}=location,s=r.startsWith(xe.tH.loginHome)||r.startsWith(xe.tH.signupHome)||r.startsWith(xe.tH.oauth)||r.startsWith(xe.tH.logout)||r.startsWith(xe.tH.accountDeactivate)||r.startsWith(xe.tH.linkPhoneOrEmail)?i:a,l=(e=>{try{return new URL(e),e}catch(t){return decodeURIComponent(e)}})((0,Vr.Jf)(o)),c=l.match(location.origin)&&"/"===(null===(n=new URL(l))||void 0===n?void 0:n.pathname),d=[/^https?:\/\/([\w\-.]+?\.)?tiktok\.(com|in)(\/.*)?$/,/^https:\/\/seller\.tiktokglobalshop\.com\//,/^https:\/\/business\.tiktokshop\.com(\/.*)?/].some(e=>new RegExp(e).test(l))||t&&[/^https:\/\/seller-boe\.byteintl\.net\//,/^https?:\/\/([\w\-.]+?\.)?bytedance\.net(\/.*)?$/].some(e=>new RegExp(e).test(l));return c?i:d&&l?l:s},qr=(e,t,o)=>{const n=$r(e,t,o);setTimeout(()=>{location.href=n},1e3)},Kr=(e,t,o,n)=>{switch(e){case"/login/2sv/password":case"/login/2sv/email":case"/login/2sv/phone":case"/login/2sv/totp_verify":case"/login/2sv/totp":return n?"security_step_verification":"common_verify_title";case xe.tH.loginHome:case xe.tH.loginPhoneOrEmail:case xe.tH.loginPhone:case xe.tH.loginPhonePassword:case xe.tH.loginEmail:case xe.tH.loginWithSignedEmail:return t;case xe.tH.loginForgetEmailPassword:case xe.tH.loginForgetPhonePassword:return"common_login_reset_password_title";case xe.tH.signupHome:case xe.tH.signupPhoneOrEmail:case xe.tH.signupPhone:case xe.tH.signupEmail:case xe.tH.signupCreatePassword:case xe.tH.signupCreateAccount:case xe.tH.signupCreateUsername:return o;case xe.tH.signupPolicyConfirm:return"common_registration_terms_and_conditions_title";case xe.tH.signupCountrySelector:return"regionOption_selectCountry_list_title";case xe.tH.signupAgeGate:return"common_login_panel_entry_2";case xe.tH.signupAgeGateConfirm:return"mus_agegate_error_ftc_title";default:return t}},Zr=o.p+"8c38d0bc3eca55cfff39.css";var Jr=o(68490),Qr=o(49320),Xr=o(67977);function ea(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function ta(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class oa extends Di.E{setVisible(e,t){e.visible=t}setAccountStatusInfo(e,t){e.accountStatusDetail=t}constructor(){super(),this.defaultState={visible:!1,accountStatusDetail:{accountAppealRes:void 0,userId:void 0,verifyTicket:void 0,url:""}}}}ea([(0,Fi.h5)(),ta("design:type",Function),ta("design:paramtypes",["undefined"==typeof AccountStatusModalState?Object:AccountStatusModalState,Boolean]),ta("design:returntype",void 0)],oa.prototype,"setVisible",null),ea([(0,Fi.h5)(),ta("design:type",Function),ta("design:paramtypes",["undefined"==typeof AccountStatusModalState?Object:AccountStatusModalState,"undefined"==typeof accountStatusDetail?Object:accountStatusDetail]),ta("design:returntype",void 0)],oa.prototype,"setAccountStatusInfo",null),oa=ea([(0,Ni.nV)("AccountStatusModal"),ta("design:type",Function),ta("design:paramtypes",[])],oa);var na=o(35572),ia=o(30576),ra=o(46657),aa=o(2668);const sa=({msg:e,shouldShowMsg:t=!1,prevent:o=!0,callback:n})=>i=>i.pipe((0,Qi.W)(i=>(t&&console.error("Effect error: ",null!=e?e:i),null==n||n(),o?ra.w:(0,aa.$)(()=>i))));function la(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class ca{getAccountStatus({user_id:e,from_source:t}){return this.fetch.get("/tns-api/account/status/",{query:Object.assign({user_id:e},t&&{from_source:t}),baseUrlType:vt.Z4.FixedWww})}getAccountAppealStatus({object_type:e,object_id:t,verify_ticket:o}){return this.fetch.get("/tns-api/appeal/status/",{query:Object.assign(Object.assign({object_type:e},o&&{verify_ticket:o}),t&&{object_id:t}),baseUrlType:vt.Z4.FixedWww})}accountAppealCommit(e){return this.fetch.post("/aweme/v1/material/upload/",{body:JSON.stringify({ns:"review_account_appeal",uid:e.object_id,data:JSON.stringify({email:e.mail_address})}),baseUrlType:vt.Z4.FixedWww,headers:{"Content-Type":"application/json"}}).pipe((0,Mi.T)(t=>{if(0===t.status_code&&t.data)return Object.assign(Object.assign({},e),{extra:JSON.stringify({mail_address_v2:t.data.mid})});throw t})).pipe((0,ji.n)(e=>this.fetch.post("/tns-api/appeal/post-commit/",{body:JSON.stringify(e),baseUrlType:vt.Z4.FixedWww,headers:{"Content-Type":"application/json"}})))}appealCommit(e){var{appeal_type:t,object_id:o,reason:n,mail_address:i,verify_ticket:r}=e,a=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["appeal_type","object_id","reason","mail_address","verify_ticket"]);return this.fetch.post("/tns-api/appeal/post-commit/",{body:JSON.stringify(Object.assign(Object.assign({object_id:o,appeal_type:t,reason:n,mail_address:i},r&&{verify_ticket:r}),a)),baseUrlType:vt.Z4.FixedWww,headers:{"Content-Type":"application/json"}})}constructor(e){this.fetch=e}}function da(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function ua(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}ca=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)(),la("design:type",Function),la("design:paramtypes",[void 0===_t.p?Object:_t.p])],ca);class pa extends Di.E{setAccountStatusStatus(e,t){e.status=t}setAccountStatusData(e,t){e.accountStatusInfo=t.account_status_info,e.avatarUrl=t.avatarUrl,e.userEducationResources=t.user_education_resources,e.accountState=t.account_state,e.accountAppealInfo=t.account_appeal_info,e.surveyData=t.survey_data}setAccountAppealStatus(e,t){e.accountAppealRes=t}setAppealCommitStatus(e,t){console.log("Updating appealCommitResult state:",t),e.appealCommitResult=t,"success"===t&&(e.showResultPopup=!0)}setShowResultPopup(e,t){e.showResultPopup=t}getAccountAppealStatus(e){return e.pipe((0,na.p)(e=>this.service.getAccountAppealStatus(e).pipe((0,Mi.T)(e=>{return e&&0===e.status_code?this.getActions().setAccountAppealStatus(e):(this.commonToastError(),this.slardarService.emitEvent("account_appeal_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop());var t}),(0,Ii.Z)(this.getActions().setAccountStatusStatus("loading")),(0,Ri.q)(this.getActions().setAccountStatusStatus("idle")),sa({callback:this.commonToastError}))))}appealCommit(e){return e.pipe((0,na.p)(e=>this.service.accountAppealCommit(e).pipe((0,Mi.T)(e=>{return e&&0===e.status_code?this.getActions().setAppealCommitStatus("success"):(this.commonToastError(),this.slardarService.emitEvent("account_appeal_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.getActions().setAppealCommitStatus("fail"));var t}),(0,Ii.Z)(this.getActions().setAppealCommitStatus("loading")),(0,Ri.q)(this.getActions().setAppealCommitStatus("init")),sa({callback:this.commonToastError}))))}getAccountStatus(e){return console.log("api called with params: ",e),e.pipe((0,na.p)(e=>this.service.getAccountStatus(e).pipe((0,Mi.T)(e=>{return e&&0===e.status_code?this.getActions().setAccountStatusData({accountStatusInfo:null==e?void 0:e.account_status_info,avatarUrl:null==e?void 0:e.avatarUrl,userEducationResources:null==e?void 0:e.user_education_resources,accountState:null==e?void 0:e.account_state,accountAppealInfo:null==e?void 0:e.account_appeal_info,surveyData:null==e?void 0:e.survey_data}):(this.commonToastError(),this.slardarService.emitEvent("account_status_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop());var t}),(0,Ii.Z)(this.getActions().setAccountStatusStatus("loading")),(0,Ri.q)(this.getActions().setAccountStatusStatus("idle")),sa({callback:this.commonToastError}))))}commonToastError(){rn.F.destroy(),rn.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:3,widthType:"half"})}constructor(e,t,o){super(),this.service=e,this.slardarService=t,this.t=o,this.defaultState={accountAppealRes:void 0,accountStatusInfo:void 0,appealCommitResult:"init",showResultPopup:!1,accountAppealInfo:void 0,avatarUrl:void 0,userEducationResources:void 0,accountState:void 0,surveyData:void 0,status:"init"}}}da([(0,Fi.h5)(),ua("design:type",Function),ua("design:paramtypes",["undefined"==typeof AccountStatusState?Object:AccountStatusState,String]),ua("design:returntype",void 0)],pa.prototype,"setAccountStatusStatus",null),da([(0,Fi.h5)(),ua("design:type",Function),ua("design:paramtypes",["undefined"==typeof AccountStatusState?Object:AccountStatusState,void 0===n.AccountStatus?Object:n.AccountStatus]),ua("design:returntype",void 0)],pa.prototype,"setAccountStatusData",null),da([(0,Fi.h5)(),ua("design:type",Function),ua("design:paramtypes",["undefined"==typeof AccountStatusState?Object:AccountStatusState,void 0===n.AccountAppealRes?Object:n.AccountAppealRes]),ua("design:returntype",void 0)],pa.prototype,"setAccountAppealStatus",null),da([(0,Fi.h5)(),ua("design:type",Function),ua("design:paramtypes",["undefined"==typeof AccountStatusState?Object:AccountStatusState,String]),ua("design:returntype",void 0)],pa.prototype,"setAppealCommitStatus",null),da([(0,Fi.h5)(),ua("design:type",Function),ua("design:paramtypes",["undefined"==typeof AccountStatusState?Object:AccountStatusState,Boolean]),ua("design:returntype",void 0)],pa.prototype,"setShowResultPopup",null),da([(0,Fi.Mj)(),ua("design:type",Function),ua("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),ua("design:returntype",void 0)],pa.prototype,"getAccountAppealStatus",null),da([(0,Fi.Mj)(),ua("design:type",Function),ua("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),ua("design:returntype",void 0)],pa.prototype,"appealCommit",null),da([(0,Fi.Mj)(),ua("design:type",Function),ua("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),ua("design:returntype",void 0)],pa.prototype,"getAccountStatus",null),pa=da([(0,Ni.nV)("AccountStatus"),function(e,t){return function(e,o){t(e,o,2)}}(0,(0,Ui.y)(ce.hp)),ua("design:type",Function),ua("design:paramtypes",[void 0===ca?Object:ca,void 0===v.V$?Object:v.V$,void 0===ia.I18NTranslate?Object:ia.I18NTranslate])],pa);const ga=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),ma=(0,Wt.A)("div",{target:"e1hq9hdj0"})({height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",overflow:"hidden"},"label:Container;"),ha=(0,Wt.A)("div",{target:"e1hq9hdj1"})(({showTopBanner:e})=>[{display:"flex",flexDirection:"row",alignItems:"center",margin:"24px 24px 16px 24px","@media (max-width: 700px)":{margin:"24px 24px 16px 10px"}},e&&{marginBottom:"0"}],"label:DivHeader;");var va=o(69644);const _a=(0,Wt.A)("div",{target:"esgmed80"})({paddingLeft:24,paddingRight:24,height:"100%",flexGrow:1,"@media (max-width: 700px)":{paddingLeft:12,paddingRight:12}},"label:Container;"),fa=(0,Wt.A)("div",{target:"esgmed81"})(({theme:e})=>({padding:16,backgroundColor:e.colors.BGPrimary,borderRadius:8,marginBottom:8}),"label:ComponentWrapper;"),ba=(0,Wt.A)("div",{target:"esgmed84"})(({showAppealButton:e})=>[{position:"relative",bottom:"0",left:"0",width:"100%",height:54,marginBottom:12,padding:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","@media (max-width: 700px)":{position:"fixed",bottom:0,left:0,width:"100%",padding:18,height:"auto",backgroundColor:"#f4f4f4",zIndex:4e3}},e&&{alignItems:"start"}],"label:DivFooter;"),ya=(0,Wt.A)("div",{target:"esgmed85"})({display:"flex",flexDirection:"column",height:"580px",overflowY:"auto","@media (max-width: 700px)":{height:"auto",paddingBottom:"80px"}},"label:ContainerWrapper;"),wa=(0,Wt.A)("div",{target:"esgmed86"})({display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginBottom:32,"@media (max-width: 700px)":{alignItems:"flex-start",textAlign:"left",margin:"24px 16px"}},"label:SectionAppealStatus;"),ka=(0,Wt.A)("div",{target:"esgmed88"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",typography:"H4",color:"TextPrimary",fontWeight:"bold"}),{marginTop:18,textAlign:"center","@media (max-width: 700px)":{textAlign:"left",marginTop:0,fontSize:32}}],"label:AppealTitle;"),Sa=(0,Wt.A)("div",{target:"esgmed89"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{marginTop:12,textAlign:"center","@media (max-width: 700px)":{textAlign:"left",marginTop:4,fontSize:"15px",fontStyle:" normal",fontWeight:400,lineHeight:"130%",letterSpacing:"0.061px"}}],"label:AppealSubtitle;"),Ca=(0,Wt.A)("div",{target:"esgmed810"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),xa=(0,Wt.A)("div",{target:"esgmed811"})({flexGrow:1},"label:FlexGrowDiv;"),Pa=(0,Wt.A)("button",{target:"esgmed812"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse",fontWeight:"semiBold"}),{height:"36px",padding:"7px 16px",position:"absolute",cursor:"pointer",right:"24px",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"4px",":disabled":{background:e.colors.BGPlaceholderDefault,color:e.colors.TextQuaternary},"@media (max-width: 700px)":{width:"100%",right:"0",position:"relative",marginTop:"8px",height:"48px",fontSize:"16px"}}],"label:ButtonSubmit;"),Ta=(0,Wt.A)(ko.U5X)`
  .TUXTextAreaBox {
    background-color: transparent !important;
    padding: 0 !important;
  }
  .TUXTextAreaCore-textarea {
    padding: 0 !important;
  }
  .TUXFormField-header {
    margin: 0 !important;
  }
`,Oa=({handleClose:e,handleAppealClick:t=()=>{}})=>{const{appealCommitResult:o}=lt(pa),[n,r]=(0,m.useState)(""),[a,s]=(0,m.useState)(""),[l,c]=(0,m.useState)(""),[d,u]=(0,m.useState)(!1);(0,m.useEffect)(()=>{const e=n.trim().length>0,t=ga(a);u(!(!e||!t))},[n,a]);const p=(0,xi.s)(),g=(0,m.useCallback)(e=>{s(e),p("dsaCGWebapp_detailPg_sectionCG_body"),ga(e)?c(""):c(p("banToWeb_appealPg_emailErrorState_desc"))},[]),h=(0,m.useCallback)(()=>{ga(a)?t(a,n):c(p("banToWeb_appealPg_emailErrorState_desc"))},[a,t]);return(0,i.FD)(i.FK,{children:[(0,i.FD)(ha,{showTopBanner:!0,children:[(0,i.Y)(Ca,{onClick:e,children:(0,i.Y)(ko.UBT,{size:"24"})}),(0,i.Y)(xa,{})]}),(0,i.Y)(ya,{children:(0,i.FD)(_a,{children:[(0,i.FD)(wa,{children:[(0,i.Y)(ka,{children:p("banToWeb_appealPg_submitAppeal_header")}),(0,i.Y)(Sa,{children:p("banToWeb_appealPg_submitAppeal_body")})]}),(0,i.Y)(fa,{children:(0,i.Y)(Ta,{requirement:"required",style:{width:"100%"},value:n,onChange:e=>r(e),label:p("banToWeb_appealPg_description_title"),maxLength:200,placeholder:p("banToWeb_appealPg_description_placeholder")})}),(0,i.Y)(fa,{children:(0,i.Y)(ko.ZPA,{requirement:"required",style:{width:"100%"},value:a,onChange:g,description:p("banToWeb_appealPg_email_desc"),label:p("banToWeb_appealPg_email_title"),placeholder:p("banToWeb_appealPg_email_placeholder"),error:l})})]})}),(0,i.Y)(ba,{showAppealButton:!0,children:(0,i.Y)(Pa,{disabled:!d||"loading"===o,onClick:h,children:p("banToWeb_submit_button")})})]})},Aa=({accountAppealRes:e,verifyTicket:t,url:o="",onClose:n})=>{var r,a,s;const l=new URL(o),c=new URLSearchParams(l.search),d=(0,xi.s)(),u=null!==(r=c.get("object_id"))&&void 0!==r?r:void 0,p=null!==(a=c.get("appeal_type"))&&void 0!==a?a:void 0,g=null!==(s=c.get("punish_key"))&&void 0!==s?s:void 0,h=ct(pa),v=ct(oa),{showResultPopup:_}=lt(pa),f=(0,m.useCallback)(()=>{n()},[n]),{value:b}=(0,m.useContext)(Yt),{isRTL:y}=(0,Co.m)();return(0,i.Y)(ma,{children:(0,i.FD)(ko.juU,{colorSchemePreference:b?"dark":"light",textDirection:y?"rtl":"ltr",zIndexConfig:Ut.zIndex,children:[(0,i.Y)(Oa,{handleAppealClick:(e,o)=>{u&&h.appealCommit({verify_ticket:t,object_id:u,mail_address:e,appeal_type:Number(p),reason:o,punish_key:g})},accountAppealRes:e,handleClose:f,objectId:u,appealType:p}),(0,i.Y)(ko.yl7,{zIndex:9999,title:d("banToWeb_fyfWeb_appealSubmitted_header"),message:d("banToWeb_fyfWeb_appealSubmitted_body"),actionVariant:"text",isVisible:_,actionDirection:"vertical",actions:[{variant:"primary",text:d("banToWeb_generic_logout_button"),onClick:()=>{h.setShowResultPopup(!1),v.setVisible(!1)}}]})]})})},Ea=(0,Wt.A)(ko.nOL)`
  .TUXModal {
    max-width: none;
  }
`,La=(0,Wt.A)("div",{target:"e1xzi9ym0"})(({theme:e})=>({backgroundColor:e.colors.BGPlaceholderOpaque,borderRadius:"12px","@media (max-width: 700px)":{height:"100%",borderRadius:"0px"}}),"label:AccountStatusWrapper;"),ja=(0,Wt.A)("div",{target:"e1xzi9ym1"})(({})=>({position:"fixed",inset:0,backgroundColor:"#fff",zIndex:3003,overflowY:"auto"}),"label:FullScreenModal;"),Ia=(0,m.memo)(function(){var e;const[t,o]=(0,m.useState)(!1),n=lt(oa),r=ct(oa),[a,s]=(0,m.useState)({userId:void 0,url:void 0}),l=null!==(e=n.accountStatusDetail.verifyTicket)&&void 0!==e?e:void 0,c=function(e=700){const[t,o]=(0,m.useState)(()=>!(0,P.fU)()&&window.innerWidth<=e);return(0,m.useEffect)(()=>{const t=()=>o(window.innerWidth<=e);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),t}(700),d=n.visible;(0,m.useEffect)(()=>{var e,t,i,r;if(d)return s({userId:null!==(e=null===(i=n.accountStatusDetail)||void 0===i?void 0:i.userId)&&void 0!==e?e:void 0,url:null!==(t=null===(r=n.accountStatusDetail)||void 0===r?void 0:r.url)&&void 0!==t?t:void 0}),void o(!0);o(!1)},[d,n]);const u=(0,m.useCallback)(()=>{r.setVisible(!1),o(!1)},[r]);return t?(0,i.Y)(Xr.Ay,{autoFocus:!0,disabled:!t,returnFocus:!0,children:c?(0,i.Y)(ja,{children:(0,i.Y)(La,{children:(0,i.Y)(Aa,{verifyTicket:l,accountAppealRes:n.accountStatusDetail.accountAppealRes,url:a.url,onClose:u})})}):(0,i.Y)(Ea,{open:t,onOpenChange:o,width:"large",outsidePressDismiss:!1,children:(0,i.Y)(La,{children:(0,i.Y)(Aa,{verifyTicket:l,accountAppealRes:n.accountStatusDetail.accountAppealRes,url:a.url,onClose:u})})})}):null});var Ra=function(e){return e[e.off=0]="off",e[e.on=1]="on",e}({});function Ma(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Da{getComplianceSettings(){return this.fetch.get("/api/compliance/settings/",{query:{aid:1988,fromWeb:1}})}getGuardianComplianceSettings(e){return this.fetch.get("/tiktok/v1/compliance/guadig/settings/",{query:e,baseUrlType:vt.Z4.FixedWww})}constructor(e){this.fetch=e}}function Fa(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Na(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Da=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)(),Ma("design:type",Function),Ma("design:paramtypes",[void 0===_t.p?Object:_t.p])],Da);class Ua extends Di.E{setEngagementCountHide(e,t){e.engagementCountHide=t}setGuardianComplianceSettingInited(e,t){e.guardianComplianceSettingInited=t}getComplianceSettings(e){return e.pipe((0,Li.Z)(()=>this.service.getComplianceSettings().pipe((0,Mi.T)(e=>(null==e||e.status_code,this.noop())))))}getGuardianComplianceSettingsEffect(e){return e.pipe((0,Li.Z)(e=>this.getGuardianComplianceSettings(e).pipe((0,Mi.T)(()=>this.noop()))))}getGuardianComplianceSettings(e){return this.service.getGuardianComplianceSettings(e).pipe((0,Mi.T)(e=>{if(this.store.dispatch(this.getActions().setGuardianComplianceSettingInited(!0)),0===(null==e?void 0:e.status_code)){var t,o;const n=null===(o=e.fp.restriction)||void 0===o||null===(t=o.engagement_count_settings)||void 0===t?void 0:t.engagement_count_status;return this.store.dispatch(this.getActions().setEngagementCountHide(n===Ra.off)),e}return null}),(0,Qi.W)(e=>(this.store.dispatch(this.getActions().setGuardianComplianceSettingInited(!0)),(0,Oi.of)(null))))}constructor(e){super(),this.service=e,this.defaultState={engagementCountHide:!1,guardianComplianceSettingInited:!1}}}Fa([(0,Fi.uk)(),Na("design:type",void 0===Ai.c?Object:Ai.c)],Ua.prototype,"dispose$",void 0),Fa([(0,Fi.h5)(),Na("design:type",Function),Na("design:paramtypes",["undefined"==typeof ComplianceSettingsModuleState?Object:ComplianceSettingsModuleState,Boolean]),Na("design:returntype",void 0)],Ua.prototype,"setEngagementCountHide",null),Fa([(0,Fi.h5)(),Na("design:type",Function),Na("design:paramtypes",["undefined"==typeof ComplianceSettingsModuleState?Object:ComplianceSettingsModuleState,Boolean]),Na("design:returntype",void 0)],Ua.prototype,"setGuardianComplianceSettingInited",null),Fa([(0,Fi.Mj)(),Na("design:type",Function),Na("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Na("design:returntype",void 0)],Ua.prototype,"getComplianceSettings",null),Fa([(0,Fi.Mj)(),Na("design:type",Function),Na("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Na("design:returntype",void 0)],Ua.prototype,"getGuardianComplianceSettingsEffect",null),Ua=Fa([(0,Ni.nV)("ComplianceSettingsModule"),Na("design:type",Function),Na("design:paramtypes",[void 0===Da?Object:Da])],Ua);const Ba=function({iconSrc:e="https://www.tiktok.com/favicon.ico"}){return(0,i.FD)(Vo.mg,{children:[(0,i.Y)("meta",{name:"google",content:"notranslate"},"google"),",",(0,i.Y)("meta",{name:"format-detection",content:"telephone=no"},"format-detection"),",",(0,i.Y)("link",{rel:"shortcut icon",href:e,type:"image/x-icon"},"shortcut")]})},Ha=function({isLogin:e,isFtc:t}){return(0,i.Y)(Vo.mg,{children:(0,i.Y)("meta",{name:"pumbaa-ctx",content:`login=${e?1:0},ftc=${t?1:0}`})})};var za=o(62514),Ya=o(24754);const Wa=function({appContext:e,bizContext:t,slardarBid:o,initialPid:n,async:r=!1,reportImage:s}){var l,c;const{abTestVersion:d,env:u,botType:p,user:g,wid:h,region:_}=null!=e?e:{},{isMobile:f,domains:b,isTTP:y,idc:w,config:k}=null!=t?t:{},S=(0,ke.Nj)(v.V$),C=(0,m.useMemo)(()=>null==k?void 0:k.featureFlags,[]),x=(0,m.useMemo)(()=>{var e;return Object.assign(Object.assign({region:null!=_?_:"",botType:null!=p?p:"",isMobile:Boolean(f).toString(),isDowngrade:(0,P.qk)().toString(),isLogin:Boolean(g).toString(),isPPE:"ppe"===(null==u?void 0:u.type),isLandingPage:1,launchMode:(0,P.fU)()?"":(0,za.o7)()},((e={parameters:{},versionName:""})=>{const t={};try{const o=e.parameters||{};Object.entries(o).forEach(([e,o])=>{Ya.s.includes(e)&&(t[e]=o.vid)})}catch(e){console.error("Abtest config parse error",e)}return t})(d)),{uid:null!==(e=null==g?void 0:g.uid)&&void 0!==e?e:"",idc:null!=w?w:"unknown"})},[_,p,f,g,null==u?void 0:u.type,d]),{enableInlineScript:T}=Se(),O=!!s||"v2"===(null==d||null===(c=d.parameters)||void 0===c||null===(l=c.enable_slardar_image)||void 0===l?void 0:l.vid),A=(0,m.useMemo)(()=>Object.assign(Object.assign(Object.assign({},a.dg),{bid:o,env:"boe"===(null==u?void 0:u.type)||"ppe"===(null==u?void 0:u.type)?"test":"production",domain:(null==C?void 0:C.slardar_sg_domain)&&"SG"===_?"mon-sg.tiktokv.com":null==b?void 0:b.slardar,disableInit:!0,useLocalConfig:"ppe"===(null==u?void 0:u.type)||"boe"===(null==u?void 0:u.type),integrations:[...S.registerImageXPlugin(O,s&&"boolean"!=typeof s?s.sample:void 0)]}),y?{sdkUrl:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/slardar/fe/sdk-web/browser.oci.js",pluginPathPrefix:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/slardar/fe/sdk-web/plugins"}:{}),[null==b?void 0:b.slardar,null==u?void 0:u.type,y,o,C,_]),E=(0,m.useMemo)(()=>JSON.stringify(A),[A]);return(0,m.useEffect)(()=>{let e;const t=()=>{window.SlardarClient?S.hasStarted()||(S.mountBeforeSendEvent(),S.init(Object.assign(Object.assign({},A),{pid:n})),S.config({userId:h}),S.start()):e=window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,1)};return S.context(x),n===we.L.DelayStartUntilManuallyCalled?(S.preserveConfig(A),S.preserveExtraInfo({userId:h})):(S.mountBeforeSendEvent(),S.init(Object.assign(Object.assign({},A),{pid:n})),S.config({userId:h}),S.start(),e=window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,1)),()=>{window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}},[]),!T||(0,P._8)(r)?null:(0,i.FD)(Vo.mg,{children:[(0,i.Y)("script",{id:"slardar-config",type:"application/json",children:E}),r?(0,i.Y)("script",{src:Et[y?"TTP":"ROW"].slardarWeb,async:"DO_NOT_DELETE_FOR_REHYDRATE_ERROR"}):(0,i.Y)("script",{src:Et[y?"TTP":"ROW"].slardarWeb})]})},Va=function({appContext:e,bizContext:t,slardarBid:o,iconSrc:n,initialPid:r,asyncSlardar:a=!1,usePumbaaMeta:s=!1,slardarReportImage:l}){var c;const{language:d}=(0,xo.L$)(e),{isDark:u}=(0,ve.u)(),{user:p}=null!==(c=(0,tn.W)(()=>["user"],[]))&&void 0!==c?c:{},{enableHeadComponent:g}=Se(),h=Boolean(p),v=Boolean(null==p?void 0:p.ftcUser),_=ct(Ua);return(0,m.useEffect)(()=>{h&&_.getComplianceSettings()},[h,_]),(0,i.FD)(i.FK,{children:[(0,i.Y)(Vo.mg,{htmlAttributes:{lang:d,"data-theme":u?"dark":"light"}}),(0,i.Y)(Ba,{iconSrc:n}),s&&(0,i.Y)(Ha,{isLogin:h,isFtc:v}),g&&(0,i.Y)(Wa,{appContext:e,bizContext:t,slardarBid:o,initialPid:r,async:a,reportImage:l})]})};var Ga=o(30356),$a=o(33482),qa=o(59034);const Ka={"#app":{justifyContent:"center"},"#loginContainer":{display:"flex",alignItems:"center",flexDirection:"column"}},Za=e=>({body:{boxSizing:"border-box"},".date-selector .rmc-picker":{height:"250px"},".date-selector .rmc-picker:first-of-type":{position:"absolute",right:e?"unset":0,left:e?"0":"unset",width:"33.3333%"},".date-selector .rmc-picker-indicator":{height:"50px"},".date-selector .rmc-picker-item":{height:"50px",lineHeight:"50px",color:"#161823"},".date-selector":{width:"66%"}});var Ja=o(87752);const Qa=(0,Wt.A)("div",{target:"esqadv70"})(({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",width:e.isMobile?"300px":"400px",padding:"32px"}),"label:DivContainer;"),Xa=(0,Wt.A)("h5",{target:"esqadv71"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"24px",lineHeight:"36px",textAlign:"center",margin:"0"}],"label:H5Title;"),es=(0,Wt.A)("p",{target:"esqadv72"})([({theme:e})=>(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),{lineHeight:"17px",margin:"16px 0px 24px",textAlign:"center",fontSize:"14px"}],"label:PDesc;"),ts=(0,Wt.A)("div",{target:"esqadv73"})({display:"flex",flexDirection:"column"},"label:DivButtonWrapper;"),os=(0,Wt.A)(to,{target:"esqadv74"})({minWidth:"auto",flex:"1",":last-child":{marginTop:"12px"}},"label:StyledButton;"),ns=(0,m.memo)(()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),[{showReactiveModal:o,inCancellationResponse:n},{setShowReactiveModal:r,cancelDeleteAccount:a}]=(0,en.Su)(Gi.$),s=(0,m.useCallback)(()=>{r({show:!1});const e=(null==n?void 0:n.apply_time)?Math.floor((Date.now()-1e3*n.apply_time)/24/60/60/1e3):null;t.reactiveCancelClick({is_delete:(null==n?void 0:n.isStopAccount)?0:1,num_days_reactive:e})},[r,t,null==n?void 0:n.isStopAccount,null==n?void 0:n.apply_time]),l=(0,m.useCallback)(()=>{const e=(null==n?void 0:n.apply_time)?Math.floor((Date.now()-1e3*n.apply_time)/24/60/60/1e3):null;t.reactiveConfirmClick({is_delete:(null==n?void 0:n.isStopAccount)?0:1,num_days_reactive:e}),a()},[a,null==n?void 0:n.apply_time,null==n?void 0:n.isStopAccount,t]);return(0,i.Y)(Ja.aF,{visible:o,maskCloseable:!1,onClose:s,children:(0,i.FD)(Qa,{children:[(0,i.Y)(Xa,{children:e("reactivate_h1")}),(0,i.Y)(es,{children:e("logback_reactivate_desc")}),(0,i.FD)(ts,{children:[(0,i.Y)(os,{size:"large",buttonTheme:"primary",onClick:l,children:e("reactivate_btn")}),(0,i.Y)(os,{size:"large",onClick:s,children:e("common_registration_phone_input_popup_button")})]})]})})});var is=o(12527),rs=o(87342);const as=(0,Wt.A)("div",{target:"e1lgic6i0"})({display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginTop:"40px",fontWeight:600},"label:DivBack;");as.defaultProps=Object.assign(Object.assign({},as.defaultProps),{"data-e2e":"back-btn"});const ss=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),t=(0,qa.mZ)(e=>e.loginModalShow),o=(0,Pe.W6)(),n=(0,Pe.W5)([xe.tH.loginQRcode,xe.tH.loginPhoneOrEmail,xe.tH.signupPhoneOrEmail]),r=(0,m.useCallback)(()=>{o.goBack()},[o]),a=(0,m.useCallback)(e=>{e.keyCode===rs.D.Enter&&o.goBack()},[o]);return t||!n?null:(0,i.FD)(as,{onClick:r,onKeyDown:a,tabIndex:0,role:"link",children:[(0,i.Y)(is.A,{}),e("common_login_back")]})});var ls=o(60361),cs=o(94777),ds=o(3089);function us(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function ps(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class gs extends Di.E{setLoginModalFirstOpen(e,t){e.loginModalFirstOpen=t}setLoginModalSwitchPath(e,t){e.loginModalSwitchPath=t}setLoginModalInitialState(e){e.loginModalFirstOpen=!0,e.loginModalSwitchPath=!1}constructor(...e){super(...e),this.defaultState={loginModalSwitchPath:!1,loginModalFirstOpen:!0}}}function ms(e,t){const o=t.map(t=>function(e,{expId:t,segmentId:o,versionId:n,propertyName:i}){const r=e[t];if(!r)return void console.error(`Error. Experiment: ${t} not found!`);const a=r[o];if(!a)return;if(!n)return;const s=a[n];return s?s.find(e=>e.name===i):void 0}(e,t)).filter(e=>void 0!==e);if(0!==o.length)return o.reduce((e,t)=>t.priority>e.priority?t:e).value}us([(0,Fi.h5)(),ps("design:type",Function),ps("design:paramtypes",["undefined"==typeof FocusControlModuleState?Object:FocusControlModuleState,Boolean]),ps("design:returntype",void 0)],gs.prototype,"setLoginModalFirstOpen",null),us([(0,Fi.h5)(),ps("design:type",Function),ps("design:paramtypes",["undefined"==typeof FocusControlModuleState?Object:FocusControlModuleState,Boolean]),ps("design:returntype",void 0)],gs.prototype,"setLoginModalSwitchPath",null),us([(0,Fi.h5)(),ps("design:type",Function),ps("design:paramtypes",["undefined"==typeof FocusControlModuleState?Object:FocusControlModuleState]),ps("design:returntype",void 0)],gs.prototype,"setLoginModalInitialState",null),gs=us([(0,Ni.nV)("FocusControlModule")],gs);const hs={online:{segment_default:{v1:[{name:"popup_interval",value:432e5,priority:0}]}},webapp_mobile_web2app_cta_guide:{segment_default:{v1:[{name:"prediction_threshold",value:.001,priority:1}],v2:[{name:"prediction_threshold",value:.009,priority:1}],v3:[{name:"prediction_threshold",value:.03,priority:1}],v4:[{name:"prediction_threshold",value:.07,priority:1}]}},webapp_login_prediction:{segment_default:{v2:[{name:"prediction_threshold",value:.602572,priority:1},{name:"popup_interval",value:-1,priority:1}],v3:[{name:"prediction_threshold",value:.261145,priority:1},{name:"popup_interval",value:-1,priority:1}],v4:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}],v5:[{name:"prediction_threshold",value:.067758,priority:1},{name:"popup_interval",value:-1,priority:1}],v6:[{name:"prediction_threshold",value:.031474,priority:1},{name:"popup_interval",value:-1,priority:1}],v7:[{name:"prediction_threshold",value:.018922,priority:1},{name:"popup_interval",value:-1,priority:1}],v8:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}],v9:[{name:"prediction_threshold",value:.008136,priority:1},{name:"popup_interval",value:-1,priority:1}]}},webapp_causal_inference_periodic_popup_validation:{segment_default:{v1:[{name:"popup_interval",value:432e5,priority:1}],v2:[{name:"popup_interval",value:36e5,priority:1}],v3:[{name:"popup_interval",value:36e5,priority:1}],v4:[{name:"popup_interval",value:36e5,priority:1}],v5:[{name:"popup_interval",value:432e5,priority:1}],v6:[{name:"popup_interval",value:432e5,priority:1}],v7:[{name:"popup_interval",value:432e5,priority:1}]}},webapp_login_prediction_full:{segment_1:{v1:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}],v2:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}]},segment_2:{v1:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}],v2:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}]}},webapp_login_prediction_reverse:{segment_1:{v1:[{name:"prediction_threshold",value:.012345,priority:1},{name:"popup_interval",value:-1,priority:1}]},segment_2:{v1:[{name:"prediction_threshold",value:.114536,priority:1},{name:"popup_interval",value:-1,priority:1}]}},webapp_guest_mode:{segment_default:{v2:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v3:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v4:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v5:[{name:"cta_style",value:"default",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}],v6:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v7:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v8:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v9:[{name:"cta_style",value:"line",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}],v10:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v11:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v12:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v13:[{name:"cta_style",value:"primary",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}],v14:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!1,priority:0}],v15:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_without",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_withoutSignup",priority:0},{name:"close_icon",value:!0,priority:0}],v16:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!1}],v17:[{name:"cta_style",value:"text",priority:0},{name:"login_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"signup_text",value:"pcWeb_guestLogin_guest",priority:0},{name:"close_icon",value:!0}]}},mobile_predictive_data:{segment_default:{v0:[{name:"vv_count",value:-1,priority:0}],v1:[{name:"vv_count",value:3,priority:0}],v2:[{name:"vv_count",value:4,priority:0}],v3:[{name:"vv_count",value:5,priority:0}],v4:[{name:"vv_count",value:6,priority:0}],v5:[{name:"vv_count",value:7,priority:0}],v6:[{name:"vv_count",value:8,priority:0}],v7:[{name:"vv_count",value:9,priority:0}],v8:[{name:"vv_count",value:10,priority:0}],v9:[{name:"vv_count",value:11,priority:0}],v10:[{name:"vv_count",value:12,priority:0}],v11:[{name:"vv_count",value:13,priority:0}],v12:[{name:"vv_count",value:14,priority:0}],v13:[{name:"vv_count",value:15,priority:0}],v14:[{name:"vv_count",value:16,priority:0}],v15:[{name:"vv_count",value:17,priority:0}],v16:[{name:"vv_count",value:18,priority:0}],v17:[{name:"vv_count",value:19,priority:0}],v18:[{name:"vv_count",value:20,priority:0}],v19:[{name:"vv_count",value:21,priority:0}],v20:[{name:"vv_count",value:22,priority:0}],v21:[{name:"vv_count",value:23,priority:0}],v22:[{name:"vv_count",value:24,priority:0}],v23:[{name:"vv_count",value:25,priority:0}],v24:[{name:"vv_count",value:26,priority:0}],v25:[{name:"vv_count",value:27,priority:0}],v26:[{name:"vv_count",value:28,priority:0}],v27:[{name:"vv_count",value:29,priority:0}],v28:[{name:"vv_count",value:30,priority:0}],v29:[{name:"vv_count",value:31,priority:0}]}}},vs=e=>{ht.f.sendEvent("click_other_login_options",e)},_s=()=>{ht.f.sendEvent("fb_unavailable_notify")},fs=()=>{ht.f.sendEvent("fb_unavailable_dismiss")},bs=()=>{ht.f.sendEvent("click_user_phone_or_email")},ys=(0,Wt.A)("div",{target:"e1vllrfx0"})(({theme:e})=>[{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"semibold",lineHeight:"130%",letterSpacing:"0.093px",cursor:"pointer",color:e.colors.TextPrimary,fontFamily:"TikTokFont"}],"label:DivShowMore;");ys.defaultProps=Object.assign(Object.assign({},ys.defaultProps),{"data-e2e":"see-more-btn"});const ws=(e,t,o,n)=>e||o||n?"0 0 0":t?"16px 0 0":"0 0 64px",ks=(e,t,o)=>e?e===ls.O.QR_BOTTOM_RIGHT?"164px":"360px":t?"280px":o?"375px":"483px",Ss=(0,Wt.A)("div",{target:"eg439om2"})({height:"100%",display:"flex",flexDirection:"column"},({popupType:e,isCountrySelector:t,isLinkPhoneOrEmail:o,isLinkPhoneOrEmailHome:n,isGuestModeRedesign:i})=>[{width:ks(e,n,i),padding:ws(e,t,o,i)}],"label:DivModalContent;");Ss.defaultProps=Object.assign(Object.assign({},Ss.defaultProps),{"data-e2e":"login-modal"});const Cs=(0,Wt.A)("div",{target:"eg439om4"})([{display:"flex",flexDirection:"column",padding:"0 60px 0 60px",width:"483px"}],"label:DivModalRevampContent;"),xs=(0,Wt.A)("div",{target:"eg439om7"})({display:"flex",flexDirection:"row",flexShrink:"0",alignItems:"center",justifyContent:"center",margin:"22px auto",overflow:"hidden",width:"337px"},"label:DivOrContinueWithContainer;"),Ps=(0,Wt.A)("div",{target:"eg439om8"})(({theme:e})=>[{width:"100%",height:"1px",flexShrink:"0",background:e.colors.LineReverse2}],"label:DivSeparatorLine;"),Ts=(0,Wt.A)("div",{target:"eg439om9"})(({theme:e})=>[{fontSize:"12px",fontStyle:"normal",fontWeight:"500",lineHeight:"22px",letterSpacing:"0.127px",color:e.colors.TextTertiary2,margin:"0 15px",whiteSpace:"nowrap"}],"label:DivSeparatorText;");var Os,As,Es,Ls,js,Is,Rs,Ms;function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Ds.apply(null,arguments)}Wt.A.img`
  display: flex;
  height: 642px;
  width: 408px;

  @media (max-width: 800px) {
    display: none;
  }
`;const Fs=function(e){return m.createElement("svg",Ds({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 150 37",width:"1em",height:"1em"},e),Os||(Os=m.createElement("path",{fill:"#25F4EE",d:"M12.525 14.352v-1.418a11.23 11.23 0 00-1.49-.106C4.95 12.82 0 17.774 0 23.872c0 3.738 1.863 7.046 4.715 9.049a11.003 11.003 0 01-2.965-7.525c0-6.008 4.812-10.906 10.775-11.044z"})),As||(As=m.createElement("path",{fill:"#25F4EE",d:"M12.792 30.439c2.714 0 4.934-2.165 5.031-4.857l.008-24.058h4.391A8.605 8.605 0 0122.085 0H16.09l-.009 24.058c-.097 2.692-2.317 4.857-5.03 4.857-.843 0-1.637-.211-2.342-.584a5.008 5.008 0 004.083 2.108zM30.43 9.69V8.352a8.252 8.252 0 01-4.545-1.354A8.336 8.336 0 0030.43 9.69z"})),Es||(Es=m.createElement("path",{fill:"#FE2C55",d:"M25.884 6.997a8.294 8.294 0 01-2.05-5.474H22.23a8.316 8.316 0 003.654 5.474zM11.042 18.82a5.047 5.047 0 00-5.04 5.043 5.052 5.052 0 002.707 4.468 4.993 4.993 0 01-.956-2.944 5.047 5.047 0 015.039-5.043c.518 0 1.02.09 1.49.235v-6.13c-.485-.065-.98-.105-1.49-.105-.09 0-.17.008-.26.008v4.703a5.074 5.074 0 00-1.49-.235z"})),Ls||(Ls=m.createElement("path",{fill:"#FE2C55",d:"M30.43 9.69v4.662a14.27 14.27 0 01-8.345-2.684V23.87c0 6.09-4.95 11.052-11.043 11.052-2.35 0-4.537-.746-6.327-2.003a11.022 11.022 0 008.077 3.527c6.084 0 11.042-4.954 11.042-11.052V13.192a14.27 14.27 0 008.345 2.684v-6c-.608 0-1.19-.065-1.75-.187z"})),js||(js=m.createElement("path",{fill:"black",d:"M22.085 23.87V11.667a14.27 14.27 0 008.345 2.684V9.689a8.336 8.336 0 01-4.546-2.692 8.385 8.385 0 01-3.661-5.474h-4.391l-.009 24.058c-.097 2.692-2.317 4.857-5.03 4.857-1.686 0-3.168-.835-4.092-2.1-1.604-.852-2.706-2.53-2.706-4.468a5.047 5.047 0 015.04-5.043c.518 0 1.02.089 1.49.235v-4.703c-5.963.13-10.775 5.027-10.775 11.036 0 2.902 1.126 5.546 2.965 7.524a10.994 10.994 0 006.328 2.003c6.084 0 11.042-4.962 11.042-11.052zM38.11 9.705h18.738l-1.717 5.368H50.27v19.841h-6.06V15.073l-6.093.008-.008-5.376zM87.553 9.705h19.176l-1.717 5.368h-5.29v19.841h-6.069V15.073l-6.092.008-.008-5.376zM57.998 17.725h6.003v17.19h-5.97l-.033-17.19zM66.39 9.64h6.004v11.742l5.947-5.847h7.162l-7.527 7.306 8.426 12.073H79.79l-5.623-8.367-1.782 1.727v6.64h-6.003V9.641h.008zM129.988 9.64h6.004v11.742l5.946-5.847h7.162l-7.526 7.306 8.425 12.073h-6.603l-5.622-8.367-1.782 1.727v6.64h-6.004V9.641zM60.996 15.764a3.023 3.023 0 003.022-3.025 3.023 3.023 0 00-3.022-3.024 3.023 3.023 0 00-3.021 3.024 3.023 3.023 0 003.021 3.025z"})),Is||(Is=m.createElement("path",{fill:"#25F4EE",d:"M105.959 24.625c0-5.408 4.172-9.843 9.479-10.257a11.067 11.067 0 00-.899-.032c-5.68 0-10.281 4.606-10.281 10.29 0 5.683 4.601 10.289 10.281 10.289.267 0 .632-.016.899-.032-5.298-.414-9.479-4.85-9.479-10.258z"})),Rs||(Rs=m.createElement("path",{fill:"#FE2C55",d:"M117.771 14.336c-.276 0-.64.016-.908.032 5.299.414 9.471 4.85 9.471 10.257 0 5.409-4.172 9.844-9.471 10.258.268.024.632.032.908.032 5.679 0 10.281-4.606 10.281-10.29 0-5.683-4.602-10.29-10.281-10.29z"})),Ms||(Ms=m.createElement("path",{fill:"black",d:"M116.152 29.628a4.998 4.998 0 01-4.999-5.003 4.998 4.998 0 119.998 0 5.004 5.004 0 01-4.999 5.003zm0-15.292c-5.679 0-10.281 4.606-10.281 10.29 0 5.683 4.602 10.289 10.281 10.289s10.281-4.606 10.281-10.29c0-5.683-4.602-10.29-10.281-10.29z"})))};var Ns=o(21189);const Us=1440,Bs=1920,Hs=(0,Wt.A)("a",{target:"e15g97fd0"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont"}),{fontWeight:600,fontSize:"14px",lineHeight:"17px",display:"flex",alignItems:"center",WebkitTapHighlightColor:"transparent","&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}}],"label:AHelpTag;");Hs.defaultProps=Object.assign(Object.assign({},Hs.defaultProps),{"data-e2e":"feedback-entrance"});const zs="24px",Ys=(0,Wt.A)(Ns.A,{target:"e15g97fd1"})(({isMobileUiOptimize:e,theme:t})=>[{width:e?zs:"20px",height:e?zs:"20px",color:t.colors.TextPrimary,transform:"rtl"===t.direction?"rotateY(180deg)":"unset"},t.isMobile&&(0,va.jJ)({min:Us,style:{width:"32px",height:"32px"}})],"label:StyledHelpIcon;"),Ws=(0,Wt.A)("span",{target:"e15g97fd2"})({marginInlineStart:"7px",color:"TextQuaternary"},"label:SpanHelpText;");var Vs=function(e){return e.ForYou="https://www.tiktok.com/foryou",e.Support="https://support.tiktok.com",e.Feedback="https://www.tiktok.com/feedback",e}({});const Gs=(0,m.memo)(function(){var e;const t=(0,xi.s)(K.i_.Login),{forceLogin:o,phoenix:n}=(0,Ti.U)(()=>["forceLogin","phoenix"],[]),{language:r}=(0,xo.L$)((0,tn.W)(()=>["language"],[])),{isMobile:a}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{isMobileUiOptimize:s}=Mn(),l=function(){const e=(0,ke.Nj)(Hi.$F);return(0,m.useCallback)(t=>{var o;e.helpCenterClick({texts:(null===(o=t.target)||void 0===o?void 0:o.textContent)||"?",document_title:"login"})},[e])}(),c=o?`https://support.tiktok.com/${r}`:`https://www.tiktok.com/feedback/?lang=${r}`,d=[xe.tH.signupPolicyConfirm,xe.tH.signupPrivateOn,xe.tH.signupAgeGateConfirm,xe.tH.signupCreateAccount];return(null===(e=(0,Pe.W5)(d))||void 0===e?void 0:e.isExact)||n?null:(0,i.FD)(Hs,{href:c,target:"_blank",rel:"noopener noreferrer",className:"help-center",onClick:l,children:[(0,i.Y)(Ys,{isMobileUiOptimize:s&&a}),!a&&(0,i.Y)(Ws,{children:t("common_registration_feedback")})]})});var $s=o(73635);const qs=(0,Wt.A)("header",{target:"e1x3uhsi0"})(({isMobileUiOptimize:e,theme:t})=>[{position:"fixed",width:"100%",top:0,left:0,height:e?52:44,background:`${t.colors.BGPrimary}`,padding:"0 16px",zIndex:2},(0,va.jJ)({min:Us,style:{height:"80px"}})],"label:HeaderWrapper;"),Ks=(0,Wt.A)("div",{target:"e1x3uhsi1"})(({align:e,isMobileUiOptimize:t,theme:o})=>[(0,va.mp)({direction:o.direction,start:"left"===e?"16px":"unset",end:"right"===e?"16px":"unset"}),{display:"flex",alignItems:"center",fontSize:t?"24px":"20px",position:"absolute",top:"12px",gap:"0px 20px"},(0,va.jJ)({min:Us,style:[{top:"24px"},(0,va.mp)({direction:o.direction,start:"left"===e?"48px":"unset",end:"right"===e?"48px":"unset"})]})],"label:DivIconGroup;"),Zs=(0,Wt.A)("div",{target:"e1x3uhsi2"})({display:"flex"},"label:DivIcon;"),Js=(0,Wt.A)(is.A,{target:"e1x3uhsi3"})(({theme:e})=>[{transform:"rtl"===e.direction?"rotateZ(180deg)":"unset"},(0,va.jJ)({min:Us,style:{width:"32px",height:"32px"}})],"label:StyledBackIcon;"),Qs=(0,Wt.A)($s.A,{target:"e1x3uhsi4"})([(0,va.jJ)({min:Us,style:{width:"32px",height:"32px"}})],"label:StyledXMark;"),Xs=(0,Wt.A)("div",{target:"e1x3uhsi5"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextPrimary"}),{fontSize:"17px",textAlign:"center",lineHeight:"44px",fontWeight:700}],"label:DivTitle;");Xs.defaultProps=Object.assign(Object.assign({},Xs.defaultProps),{"data-e2e":"header-text"});const el=(0,Wt.A)("div",{target:"e1x3uhsi6"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont"}),{position:"absolute",left:"50%",transform:"translateX(-50%)"},(0,va.jJ)({min:Us,style:{top:"192px"}}),(0,va.Ee)({max:720,style:{top:"56px"}}),(0,va.Ee)({min:1770,style:{top:"537px"}})],"label:DivLogoWithText;"),tl=({title:e,showClose:t,isSheet:o,showLeft:n=!0,showRight:r=!0,backIcon:a=!0,LeftIcon:s,onClose:l})=>{const{language:c,env:d}=(0,xo.L$)((0,tn.W)(()=>["language","env"],[])),{redirectUrl:u,hideHomePage:p}=(0,Ti.U)(()=>["redirectUrl","hideHomePage"],[]),{isMobileUiOptimize:g}=Mn(),{pathname:h}=(0,Pe.zy)(),v=Gr(h),_=(0,Pe.W5)([xe.tH.loginPhoneOrEmail])&&p,f=(0,ke.Nj)(Hi.$F),{isTtincar:b}=Rn(),y=(0,Pe.W6)(),w=(0,m.useCallback)(()=>{t?(f.loginNotifyClose({isSignUp:v?"1":"0",e2eInfo:ye.nf.getTrackingInfo()}),l?l():qr(c,"boe"===(null==d?void 0:d.type),u)):y.goBack()},[y,t,l,c,u,d,Gr]),k=(0,m.useCallback)(()=>s?(0,i.Y)(s,{}):t?(0,i.Y)(Qs,{"data-e2e":"close-btn"}):a?(0,i.Y)(Js,{"data-e2e":"back-btn"}):null,[s,a,t]),S={isMobileUiOptimize:g};return(0,i.FD)(qs,Object.assign(Object.assign({},S),{children:[!_&&n&&!o&&(0,i.Y)(Ks,Object.assign(Object.assign({align:"left",onClick:w},S),{children:k()})),!b&&e&&(0,i.Y)(Xs,{children:e}),b&&(0,i.Y)(el,{children:(0,i.Y)(Fs,{width:152,height:35})}),!p&&r&&(0,i.FD)(Ks,Object.assign(Object.assign({align:"right"},S),{children:[(0,i.Y)(Gs,{}),!_&&n&&o&&(0,i.Y)(Zs,Object.assign(Object.assign({onClick:w},S),{children:k()}))]}))]}))};var ol=o(48786),nl=o(88806),il=(0,nl.r)(function(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M24 12.5a11.5 11.5 0 1 0 7.4 20.31 2.5 2.5 0 1 1 3.2 3.83A16.5 16.5 0 1 1 40.5 24a2.5 2.5 0 0 1-5 0A11.5 11.5 0 0 0 24 12.5Z"}))});let rl,al;function sl(e,t,o,n){var i,r;if(e>t)return n;const a=Math.floor((e+t)/2);al||(rl=document.createElement("canvas"),al=rl.getContext("2d"));const s=window.getComputedStyle(o),l=null!==(i=s.fontWeight)&&void 0!==i?i:"",c=null!==(r=s.fontFamily)&&void 0!==r?r:"";return al.font=`${l} ${a}px ${c}`,Math.ceil(al.measureText(o.innerText).width)<o.offsetWidth?sl(a+1,t,o,a):sl(e,a-1,o,a)}const ll=function({max:e=100,min:t=1,text:o}){const n=(0,m.useRef)(null),[r,a]=(0,m.useState)(null),s=r?{fontSize:`${r}px`}:{},l=(0,m.useCallback)(()=>{a(sl(t,e,n.current,0))},[e,t]);return(0,m.useEffect)(()=>(window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}),[l]),(0,m.useEffect)(()=>{a(sl(t,e,n.current,0))},[e,t,o]),(0,i.Y)("div",{ref:n,style:s,children:o})},cl="rgb(208, 209, 211)",dl="rgb(227, 227, 229)",ul=({theme:e,buttonTheme:t})=>{switch(t){case"default":return{borderWidth:"1px",borderStyle:"solid",color:e.colors.TextPrimary,borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary2,":hover":{borderColor:cl,backgroundColor:e.colors.BGCreation3},":active":{borderColor:cl,backgroundColor:e.colors.BGMessageIcon},":disabled":{borderColor:dl,backgroundColor:e.colors.BGSecondary2,color:e.colors.TextQuaternary}};case"line":return{borderWidth:"1px",borderStyle:"solid",color:e.colors.Primary,borderColor:e.colors.Primary,backgroundColor:e.colors.BGSecondary2,":hover":{backgroundColor:"rgba(254, 44, 85, 0.06)"},":active":{backgroundColor:"rgba(254, 44, 85, 0.16)"},":disabled":{borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary2,color:e.colors.TextQuaternary,pointerEvents:"none"}};case"coin":return{color:e.colors.ConstTextInverse,backgroundColor:"black",":hover":{},":active":{},":disabled":{}};case"primary":return{border:"none",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,":hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55"},":active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55"},":disabled":{border:"none",color:e.colors.TextQuaternary,backgroundColor:e.colors.BGInput2,pointerEvents:"none"}};case"secondary":return{border:"none",color:e.colors.TextPrimary,backgroundColor:e.colors.BGSecondary2,":hover":{borderColor:cl,backgroundColor:e.colors.BGCreation3},":active":{borderColor:cl,backgroundColor:e.colors.BGMessageIcon},":disabled":{borderColor:dl,backgroundColor:e.colors.BGSecondary2,color:e.colors.TextQuaternary}};default:return{":hover":{},":active":{},":disabled":{}}}},pl=yo.i7`
  0%, 100% { opacity: 1; } 
  50% { opacity: 0.31; }
`,gl=(0,Wt.A)("div",{target:"e1cgu1qo0"})(({theme:e,isSmallText:t,isPopup:o,isMobileUiOptimize:n,buttonTheme:i="default",showFlashingButton:r})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:t?"13px":"15px",borderRadius:"8px",padding:"0 12px",display:"flex",alignItems:"center",justifyContent:"center",height:"44px",position:"relative",cursor:"pointer",marginBottom:o?"8px":"12px",wordBreak:"keep-all",whiteSpace:"nowrap",background:e.colors.BGTertiary,animation:r?`${pl} 0.3s linear 2`:"none"},n&&{marginBottom:o?"":"12px"},e.isMobile&&(0,va.jJ)({min:Bs,style:{height:"72px",marginBottom:"24px",padding:"0 16px",fontSize:"24px"}}),ul({theme:e,buttonTheme:i})],"label:DivBoxContainer;");gl.defaultProps=Object.assign(Object.assign({},gl.defaultProps),{"data-e2e":"channel-item"});const ml=(0,Wt.A)("div",{target:"e1cgu1qo1"})(({theme:e,isMobileUiOptimize:t})=>[(0,va.mp)({direction:e.direction,start:"12px"}),{fontSize:t?"24px":"20px",position:"absolute",display:"flex"},e.isMobile&&(0,va.jJ)({min:Bs,style:[{fontSize:"40px"},(0,va.mp)({direction:e.direction,start:"24px"})]})],"label:DivIconContainer;"),hl=(0,Wt.A)("div",{target:"e1cgu1qo2"})(({theme:e,theme:{direction:t,colors:o}})=>[(0,va.zy)({theme:e,color:"ConstTextInverse"}),{height:"16px",padding:"0 8px",borderRadius:"ltr"===t?"10px 10px 10px 2px":"10px 10px 2px 10px",backgroundColor:o.Secondary,fontSize:"11px",lineHeight:"16px",fontWeight:600,marginTop:"-8px",marginBottom:"-8px",width:"fit-content",marginInlineStart:"auto",marginInlineEnd:"12px",position:"relative",zIndex:1},(0,va.mp)({direction:t})],"label:DivLastLoginMethodContainer;"),vl=(0,Wt.A)("div",{target:"e1cgu1qo3"})(({theme:e})=>[{width:`calc(100% - ${e.isMobile?72:64}px)`,textAlign:"center"}],"label:DivTextContainer;"),_l=(0,Wt.A)("span",{target:"e1cgu1qo4"})({animation:"spin-animation 1s linear infinite",display:"inline-block",width:24,height:24,verticalAlign:"middle"},{"@keyframes spin-animation":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}},"label:SpanSpin;"),fl=e=>{const{text:t,Icon:o,focusable:n,onClick:r,isPopup:a,customStyles:s,buttonTheme:l,floatingBannerText:c,showFlashingButton:d,loading:u=!1,effect:p}=e,g=(0,m.useRef)(null),[h,v]=(0,m.useState)(!1),{isMobile:_}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{isMobileUiOptimize:f}=Mn(),b=(0,m.useMemo)(()=>({isMobileUiOptimize:_&&f}),[]);(0,m.useEffect)(()=>{null==p||p()},[]),(0,m.useEffect)(()=>{var e,t,o;(null!==(e=null===(o=g.current)||void 0===o||null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.width)&&void 0!==e?e:0)>=292&&v(!0)},[u]);const[y,w]=(0,m.useState)(c);(0,m.useEffect)(()=>{w(c)},[c]);const k=(0,m.useCallback)(()=>{null==r||r()},[r]),S=(0,m.useCallback)(e=>{n&&e.keyCode===rs.D.Enter&&k()},[n,k]);return(0,i.FD)("div",{children:[y?(0,i.Y)(hl,{children:y}):(0,i.Y)(hl,{hidden:!0}),(0,i.FD)(gl,Object.assign(Object.assign({onClick:u?void 0:k,onKeyDown:u?void 0:S,tabIndex:n?0:void 0,isSmallText:h,isPopup:a,role:"link",style:s,buttonTheme:null!=l?l:"default",showFlashingButton:d},b),{children:[o&&(0,i.Y)(ml,Object.assign(Object.assign({},b),{children:(0,i.Y)(o,{})})),(0,i.Y)(vl,{ref:g,children:u?(0,i.Y)(_l,{children:(0,i.Y)(il,{size:24})}):(0,i.Y)(ll,{max:15,text:t})})]}))]})};function bl(e={},t,o){return function({actionWhenUserLoggedIn:e,modalConfig:t={},reportClickEvent:o,openModalWhenUserLoggedIn:n}){const i=(0,tn.W)(()=>["user"],[]),r=(0,qa.b1)();return(0,m.useCallback)((...a)=>{null==o||o(...a);const s="function"==typeof t?t():t;if((null==i?void 0:i.user)&&!n){if(!s.isLinkPhoneOrEmail)return null==e?void 0:e(...a);r.openModal(s)}else r.openModal(s)},[e,null==i?void 0:i.user,r,t,o,n])}({modalConfig:"function"==typeof e?e():e,reportClickEvent:t,openModalWhenUserLoggedIn:o})}var yl=o(24873);const wl=(e,t,o,n,i)=>e?e===ls.O.QR_BOTTOM_RIGHT?"164px":"sso"===e||"qr"===e?"312px":"375px":n?"475px":t?"435px":i?"":o?"375px":"363px",kl=(0,Wt.A)("div",{target:"exd0a430"})(({isMobile:e,popupType:t,isCountrySelector:o,isGuestModeRedesign:n,isInterestSelector:i,isM2AppleIdTransfer:r})=>({width:wl(t,o,n,i,r),margin:"auto",padding:e?"0 30px":"unset",marginTop:r||o||n||t===ls.O.QR_BOTTOM_RIGHT?"unset":"64px"}),"label:DivLoginContainer;"),Sl=(0,Wt.A)("div",{target:"exd0a431"})(({isMobile:e})=>({padding:e?"0 30px":"unset"}),"label:DivHomeContainer;"),Cl=(0,Wt.A)("div",{target:"exd0a432"})(({isMobileUiOptimize:e,theme:t})=>[(0,va.zy)({theme:t,color:"TextQuaternary"}),e&&{color:"rgba(0, 0, 0, 0.56)"},{fontSize:"15px",lineHeight:"18px",margin:"0px 0 20px",textAlign:"center"},t.isMobile&&(0,va.jJ)({min:Bs,style:{fontSize:"24px",lineHeight:"38px",margin:"0 0 24px"}})],"label:DivDescriptionContainer;"),xl=(0,Wt.A)("h2",{target:"exd0a433"})(({theme:e,isMobileUiOptimize:t})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:t?"TikTokFont":"TikTokDisplayFont"}),{fontSize:e.isMobile?"24px":"33px",margin:e.isMobile?"6px auto":"64px auto 16px",fontWeight:"bold",textAlign:"center"},e.isMobile&&(0,va.jJ)({min:Bs,style:[{margin:"unset",fontSize:"32px",lineHeight:"48px"},(0,va.zy)({theme:e,fontFamily:"TikTokFont"})]})],"label:H2Title;"),Pl=(0,Wt.A)("div",{target:"exd0a434"})(({hideGuestMode:e,isModal:t})=>[{overflowY:"scroll",padding:".5rem 5px 2px 13px",height:t?e?"368px":"256px":"unset"}],"label:DivLoginOptionContainer;"),Tl=(0,Wt.A)("div",{target:"exd0a435"})({padding:".5rem 5px 2px 13px",marginBottom:"16px"},"label:DivLoginOptionContainerRedesign;"),Ol=(0,Wt.A)("div",{target:"exd0a436"})({width:"337px",margin:"auto",height:"44px"},"label:DivGuestModeContainer;"),Al=(0,Wt.A)("div",{target:"exd0a437"})({width:"337px",margin:"10px 0px 30px 12px"},"label:DivOtherOptionsContainer;");var El=o(65305);const Ll=(0,Wt.A)("a",{target:"epl6mg0"})(({theme:e,textTheme:t,underline:o=!0})=>[(0,va.zy)({theme:e,color:"primary"===t?"Primary":"TextSecondary",fontWeight:"semiBold"}),{fontSize:"12px","&:hover, &:focus":{textDecoration:o?"underline":"none",textDecorationColor:"primary"===t?e.colors.Primary:e.colors.TextSecondary},"&:focus":{outline:"none"},"&:focus-visible":{outline:`2px auto ${e.colors.Negative}`}}],"label:ALink;"),jl=({path:e,text:t,children:o,className:n,replace:r=!1,textTheme:a,underline:s,isJumpOutside:l=!1,target:c,onClick:d})=>{const u=(0,Pe.W6)(),p=(0,m.useCallback)(t=>{l||(t.preventDefault(),t.stopPropagation(),null==d||d(),"_blank"!==c?r?u.replace(e):u.push(e):window.open(e,"_blank"))},[u,e,r,d]);return(0,i.FD)(Ll,{onClick:p,href:e,className:n,textTheme:a,underline:s,children:[t,o]})},Il=(0,Wt.A)("div",{target:"e1b6crsh0"})(({theme:e,isMobileUiOptimize:t,isModal:o})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextPrimary"}),({popupType:n})=>[{height:n?"52px":"64px",borderTop:e.isMobile||n?"none":`0.5px solid ${e.colors.LineSecondary}`,display:"flex",justifyContent:"center",position:e.isMobile?"unset":o?"absolute":"relative",bottom:e.isMobile?"unset":"0",alignItems:"center",fontSize:"15px",lineHeight:"18px",width:o&&!n?"483px":"100%"},t&&{borderTop:"0.5px solid rgba(22, 24, 35, 0.12)"},e.isMobile&&(0,va.jJ)({min:Bs,style:{height:"64px !important",fontSize:"28px",lineHeight:"44px"}})]],"label:DivContainer;"),Rl=(0,Wt.A)("span",{target:"e1b6crsh1"})(({theme:e})=>[(0,va.mp)({direction:e.direction,marginStart:"5px"}),{fontWeight:600,fontSize:"15px",lineHeight:"18px",color:e.colors.Primary},e.isMobile&&(0,va.jJ)({min:Bs,style:{fontWeight:700,fontSize:"28px",lineHeight:"44px"}})],"label:SpanLinkText;"),Ml=(0,m.memo)(function({style:e,isPopup:t,isButtonStyle:o=!1,forceReplace:n=!1}){var r,a,s;const{disableSignup:l,hideHomePage:c}=(0,Ti.U)(()=>["disableSignup","hideHomePage"],[]),{isMobile:d}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{loginModalShow:p,popupType:g}=(0,qa.mZ)(e=>({loginModalShow:e.loginModalShow,popupType:e.popupType}),gn.bN),[{loginModalSwitchPath:h},v]=(0,en.Su)(gs),_=(0,xi.s)(K.i_.Login),{pathname:f,search:b}=(0,Pe.zy)(),{isMobileUiOptimize:y}=Mn(),{abTestVersion:w}=null!==(r=(0,tn.W)(()=>["abTestVersion"],[]))&&void 0!==r?r:{},k=null!==(a=un(w,"login_modal_ui_revamp"))&&void 0!==a?a:"v1",S=[xe.tH.signupAgeGateConfirm,xe.tH.signupCreateAccount],C=null===(s=(0,Pe.W5)(S))||void 0===s?void 0:s.isExact,x=c?[xe.tH.loginPhoneOrEmail,xe.tH.signupPhoneOrEmail]:[xe.tH.loginHome,xe.tH.signupHome],P=(0,Pe.W5)(x),T=d&&!c?null==P?void 0:P.isExact:P&&!C,O=f.includes("signup"),A=_(O?"common_registration_panel_entry_1":"common_login_panel_entry_1"),E=(0,El.Vm)(),L=(0,El.fC)(),j=c&&"v1"===k?E:L,I=c?xe.tH.loginPhoneOrEmail:xe.tH.loginHome,R=`${O?I:j}${b}`,M=bl({query:{enter_method:yl.c.SSOAutoPopup},loginPath:"/signup"}),D=(0,m.useCallback)(()=>{!h&&v.setLoginModalSwitchPath(!0)},[v,h]);return o?(0,i.FD)(i.FK,{children:[(0,i.FD)(xs,{children:[(0,i.Y)(Ps,{}),(0,i.Y)(Ts,{children:A.replace("%s"," ")}),(0,i.Y)(Ps,{})]}),(0,i.Y)(Ol,{children:(0,i.Y)(jl,{path:R,onClick:t?M:D,textTheme:"primary",replace:n,"data-e2e":"botton-sign-up",underline:!1,children:(0,i.Y)(fl,{text:_(O?"common_registration_panel_entry_2":"common_registration_username_button"),onClick:u(),buttonTheme:"line",focusable:!0},"login-guest-button")})})]}):l||!T?null:(0,i.FD)(Il,{popupType:g,isModal:p,style:e,isMobileUiOptimize:y&&d,children:[(0,i.Y)("div",{"data-e2e":"bottom-text",children:A.replace("%s"," ")}),(0,i.Y)(jl,{path:R,onClick:t?M:D,textTheme:"primary",replace:n||"v1"===k&&p,"data-e2e":"botton-sign-up",children:(0,i.Y)(Rl,{"data-e2e":O?"bottom-login":"bottom-sign-up",children:_(O?"common_registration_panel_entry_2":"common_registration_username_button")})})]})});var Dl=function(e){return e.Web="tiktokwebother",e.SEO="tiktokwebseo",e.WebSem="tiktokwebsem",e.SamsungQuickAccess="samsung_quick_access",e}({}),Fl=function(e){return e.User="wrapper_user",e.Foryou="wrapper_foryou",e.VideoInsert="wrapper_video_insert",e.Music="wrapper_music",e.Challenge="wrapper_challenge",e.Video="wrapper_video",e.Search="wrapper_search",e.Poi="wrapper_poi",e.Channel="wrapper_channel",e.Find="wrapper_find",e.TrendingDetail="wrapper_trending",e.Live="wrapper_live",e}({});const Nl="webapp_first_open_cta",Ul=function({children:e}){const{isSmartPlayer:t}=Rn();return t?null:e};var Bl=function(e){return e.XClose="x_close",e.ClickMask="click_mask",e.NotNow="not_now",e}({});var Hl=o(17784),zl=(0,nl.r)(function(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M33.2 36.02a1 1 0 0 0 1.4 0l1.42-1.42a1 1 0 0 0 0-1.4l-9.2-9.2 9.2-9.2a1 1 0 0 0 0-1.4l-1.41-1.42a1 1 0 0 0-1.42 0L24 21.17l-9.2-9.2a1 1 0 0 0-1.4 0l-1.42 1.42a1 1 0 0 0 0 1.42l9.2 9.19-9.2 9.2a1 1 0 0 0 0 1.4l1.41 1.42a1 1 0 0 0 1.42 0l9.19-9.2 9.2 9.2Z"}))});const Yl=(0,Wt.A)("div",{target:"e1dsngob0"})({position:"fixed",left:0,right:0,top:0,bottom:0,overflow:"hidden",userSelect:"none",pointerEvents:"none"},({zIndex:e})=>({zIndex:e}),"label:DivContainer;"),Wl=(0,Wt.A)("div",{target:"e1dsngob1"})({pointerEvents:"auto",position:"absolute",left:0,top:0,bottom:0,right:0,background:"rgba(0, 0, 0, 0.5)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)",transition:"opacity 0.3s"},({status:e})=>({opacity:e===Hl.kp||e===Hl.ze||e===Hl.ns?0:1}),"label:DivMask;"),Vl=(0,Wt.A)("div",{target:"e1dsngob2"})({pointerEvents:"auto",position:"absolute",left:0,bottom:0,width:"100%",background:"#fff",borderRadius:"12px 12px 0 0",maxHeight:"73vh",transition:"transform 0.3s"},({status:e})=>({transform:e===Hl.ze||e===Hl.kp||e===Hl.ns?"translateY(100%)":"none"}),"label:DivBodyWrapper;"),Gl=(0,Wt.A)("div",{target:"e1dsngob3"})({padding:"16px 20px 20px"},"label:DivContentWrapper;"),$l=(0,Wt.A)("div",{target:"e1dsngob4"})({position:"absolute",top:"16px",width:"24px",height:"24px",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"},({theme:e})=>({["rtl"===e.direction?"left":"right"]:"16px"}),"label:DivCloseWrapper;"),ql=(0,Wt.A)("div",{target:"e1dsngob5"})({position:"absolute",top:"16px",width:"24px",height:"24px",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"},({theme:e})=>({["rtl"===e.direction?"right":"left"]:"16px"}),"label:DivExtraAction;"),Kl=(0,Wt.A)("div",{target:"e1dsngob6"})(({theme:e})=>({padding:"16px 20px",borderBottom:`0.5px solid ${e.colors.LinePrimary}`,display:"flex",justifyContent:"center",alignItems:"center"}),"label:DivHeaderWrapper;"),Zl=(0,Wt.A)("div",{target:"e1dsngob7"})({display:"flex"},"label:DivTuxCloseIconWrapper;");var Jl;!function(e){e.Icon="icon",e.Mask="mask"}(Jl||(Jl={}));const Ql=(0,m.memo)(function(e){const{mask:t=!0,maskClosable:o=!0,onClickMask:n,closeable:i=!0,visible:a=!1,style:s,containerStyle:l,maskStyle:c,needTouchEvents:d=!0,zIndex:u=3001,onClose:p,direction:g,header:h,children:v,contentStyle:_,extraAction:f,bodyE2E:b,e2eTag:y,closeStyle:w,shouldUseTux:k=!1,headerStyle:S={},xAxisTouchOptimization:C=!1,supportSSR:x=!1,bodyTimeout:P=300}=e,[T,O]=(0,m.useState)(x);(0,m.useEffect)(()=>{O(!0)},[]);const A=(0,m.useRef)(null),E=(0,m.useRef)(null),L=(0,m.useRef)(),j=(0,m.useCallback)(e=>{L.current=e.targetTouches[0].clientY},[]),I=(0,m.useCallback)(e=>{var t,o;if(!(null===(t=E.current)||void 0===t?void 0:t.contains(e.target)))return e.stopPropagation(),void e.preventDefault();const n=e.targetTouches[0].clientY-(null!==(o=L.current)&&void 0!==o?o:0),i=E.current,r=C?-5:0,a=C?5:0;return i&&Math.abs(i.scrollHeight-i.clientHeight-i.scrollTop)<1&&n<r||i&&i.scrollTop<=0&&n>a?e.preventDefault():void 0},[]);(0,m.useEffect)(()=>{if(d)return a&&(document.addEventListener("touchstart",j),document.addEventListener("touchmove",I,{passive:!1})),()=>{document.removeEventListener("touchstart",j),document.removeEventListener("touchmove",I)}},[a,I,j,d]);const R=(0,m.useCallback)(e=>{o&&(null==p||p(e,"mask")),null==n||n(e)},[o,p]),M=(0,m.useCallback)(e=>{i&&(null==p||p(e,"icon"))},[i,p]);if(!T)return null;const D=(0,Le.jsx)(Hl.Ay,Object.assign({timeout:300,in:a,nodeRef:A,mountOnEnter:!0,unmountOnExit:!0,onExited:e.onExitEnd},{children:e=>(0,Le.jsxs)(Yl,Object.assign({style:l,zIndex:u,ref:A,status:e},{children:[t&&(0,Le.jsx)(Wl,{status:e,style:c,onClick:R}),(0,Le.jsx)(Hl.Ay,Object.assign({appear:!0,timeout:P,in:a,unmountOnExit:!0},{children:e=>(0,Le.jsxs)(Vl,Object.assign({"data-e2e":b,status:e,style:s},{children:[Boolean(h)&&(0,Le.jsx)(Kl,Object.assign({style:S},{children:h})),i&&(0,Le.jsx)($l,Object.assign({direction:g,onClick:M,style:w},{children:k?(0,Le.jsx)(Zl,Object.assign({e2eTag:y},{children:(0,Le.jsx)(zl,{size:24})})):(0,Le.jsx)($s.A,{e2eTag:y,style:{width:"100%",height:"100%"}})})),f&&(0,Le.jsx)(ql,Object.assign({direction:g},{children:f})),(0,Le.jsx)(Gl,Object.assign({style:Object.assign({overflow:"auto"},_),header:Boolean(h),ref:E},{children:v}))]}))}))]}))}));return x?D:(0,r.createPortal)(D,document.body)}),Xl=o.p+"b39f863c2f9173bc73db.png";var ec=o(6280),tc=o(65638);const oc="https://www.tiktok.com";var nc=o(87240);const ic="seo.abtest";function rc({csr:e}){return e}var ac=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const sc=rc({csr:()=>ac(void 0,void 0,void 0,function*(){var e;const t=null!==(e=(0,w.YI)(ic))&&void 0!==e?e:{pageId:"-1",vidList:[],parameters:{}};return Promise.resolve(t)})}),lc=(0,S._)((0,x.p)("seoAbtestAtom@tiktok/webapp-atoms",{}),{rehydrationKey:"seo.abtest.state"}),{useAtomService:cc,useServiceDispatchers:dc,useServiceState:uc}=(0,C.i)(lc,(e,t)=>({setAbtest(o){return ac(this,void 0,void 0,function*(){const n=e(lc),{canonical:i}=n;if(o!==i)return t(lc,{canonical:o,abtest:yield sc()})})}}));var pc,gc,mc,hc=o(7378);(gc=(pc=mc||(mc={})).SERPProcessType||(pc.SERPProcessType={}))[gc.META_PATH=1]="META_PATH",gc[gc.META_EXP=2]="META_EXP",gc[gc.META_PAGE=3]="META_PAGE",gc[gc.JSONLD_PATH=4]="JSONLD_PATH",gc[gc.JSONLD_EXP=5]="JSONLD_EXP",gc[gc.JSONLD_PAGE=6]="JSONLD_PAGE";const vc=(0,S._)((0,x.p)("seoMetaStateAtom@tiktok/webapp-atoms",{metaParams:{},jsonldList:[],disableAlternateLink:!1,generateAlternateWithCanonical:!1,enableAlternateHreflang:!1,alternateHreflangList:[]}),{rehydrationKey:"seo.meta.state"}),_c=new Set([mc.SERPProcessType.JSONLD_PATH,mc.SERPProcessType.META_PATH]),fc=new Set([mc.SERPProcessType.JSONLD_EXP,mc.SERPProcessType.META_EXP]),bc=new Set([mc.SERPProcessType.JSONLD_PAGE,mc.SERPProcessType.META_PAGE]),yc=new Set([mc.SERPProcessType.META_EXP,mc.SERPProcessType.META_PAGE,mc.SERPProcessType.META_PATH]),wc=new Set([mc.SERPProcessType.JSONLD_EXP,mc.SERPProcessType.JSONLD_PAGE,mc.SERPProcessType.JSONLD_PATH]),kc=(e,t)=>{var o;const{seoProps:{pageId:n,pageType:i,abtest:r}={}}=t,a=null!==(o=null==r?void 0:r.vidList)&&void 0!==o?o:[];return[...e.filter(e=>_c.has(e.processType)&&e.targetId===i),...e.filter(e=>fc.has(e.processType)&&a.includes(e.targetId.toString())),...e.filter(e=>bc.has(e.processType)&&e.targetId===n)]};var Sc=o(43435);function Cc(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class xc{fetchSEOProps(e,t){var o,n,i,r;e.t=this.t;const a=null!==(o=null===(i=function(e,t){return kc(t,e).filter(e=>yc.has(e.processType)).reduce((e,t)=>{var o,n;const i=t.content(e),r=null!==(n=null===(o=e.seoProps)||void 0===o?void 0:o.metaParams)&&void 0!==n?n:{};return Object.assign(Object.assign({},e),{seoProps:Object.assign(Object.assign({},e.seoProps),{metaParams:Object.assign(Object.assign({},r),i)})})},e)}(e,t).seoProps)||void 0===i?void 0:i.metaParams)&&void 0!==o?o:{},s=null!==(n=null===(r=function(e,t){return kc(t,e).filter(e=>wc.has(e.processType)).reduce((e,t)=>{var o,n;const i=t.content(e),r=null!==(n=null===(o=e.seoProps)||void 0===o?void 0:o.jsonldList)&&void 0!==n?n:[];return Object.assign(Object.assign({},e),{seoProps:Object.assign(Object.assign({},e.seoProps),{jsonldList:[...r,...i]})})},e)}(e,t).seoProps)||void 0===r?void 0:r.jsonldList)&&void 0!==n?n:[],l=Object.assign(Object.assign({},e.seoProps),{metaParams:a,jsonldList:s});return(0,Oi.of)(l)}getUA(){return window.navigator.userAgent}getTrafficType(){return(0,Sc.q)()}getLaunchMode(){return(0,za.o7)()}fetchABTest(e){const t=(0,w.YI)(ic);return t?(0,Oi.of)(t):(0,Oi.of)({pageId:"-1",vidList:[],parameters:{}})}reportImpressionByEventbus(e){}reportImpressionByRpc(e){this.fetch.post("/api/discover/client_impression/",{body:JSON.stringify({timestamp:e.Timestamp,visitPageUrl:e.VisitPageUrl,urls:e.Urls,module:e.Module,trafficType:e.TrafficType}),headers:{"content-type":"application/json"},baseUrlType:vt.Z4.FixedWww}).subscribe(u())}constructor(e,t){this.t=e,this.fetch=t}}function Pc(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Tc(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}xc=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)(),function(e,t){return function(e,o){t(e,o,0)}}(0,(0,Ui.y)(ce.hp)),Cc("design:type",Function),Cc("design:paramtypes",[void 0===ia.I18NTranslate?Object:ia.I18NTranslate,void 0===_t.p?Object:_t.p])],xc);const Oc=(e="")=>{try{return decodeURI(e)}catch(t){return e}};class Ac extends Di.E{updateAtom(e){this.jotaiStore.set(vc,e)}setSEOState(e,t){return Object.assign(Object.assign({},e),{metaParams:t.metaParams,jsonldList:t.jsonldList})}setAbTest(e,t){return Object.assign(Object.assign({},e),{abtest:t})}setLoading(e,t){return Object.assign(Object.assign({},e),{loading:t})}setCanonical(e,t){return Object.assign(Object.assign({},e),{canonical:t})}setRouterLoading(e,t){return Object.assign(Object.assign({},e),{routerLoading:t})}fetchAbTest(e){return e.pipe((0,ji.n)(e=>Oc(e)===Oc(this.state.canonical)?ra.w:this.service.fetchABTest(e).pipe((0,ji.n)(t=>(0,Oi.of)(this.getActions().setAbTest(t),this.getActions().setCanonical(e),this.terminate())),(0,Ii.Z)(this.getActions().setLoading(!0)),(0,Ri.q)(this.getActions().setLoading(!1)))))}constructor(e,t){super(),this.service=e,this.jotaiStore=t,this.defaultState={abtest:void 0,loading:!1,canonical:void 0,pageType:hc.g.Unknown}}}Pc([(0,Fi.HI)(),Tc("design:type",Function),Tc("design:paramtypes",[void 0===mc||void 0===mc.GatewaySEOProps?Object:mc.GatewaySEOProps,void 0===mc||void 0===mc.GatewaySEOProps?Object:mc.GatewaySEOProps]),Tc("design:returntype",void 0===mc||void 0===mc.GatewaySEOProps?Object:mc.GatewaySEOProps)],Ac.prototype,"setSEOState",null),Pc([(0,Fi.HI)(),Tc("design:type",Function),Tc("design:paramtypes",[void 0===mc||void 0===mc.GatewaySEOProps?Object:mc.GatewaySEOProps,Object]),Tc("design:returntype",void 0===mc||void 0===mc.GatewaySEOProps?Object:mc.GatewaySEOProps)],Ac.prototype,"setAbTest",null),Pc([(0,Fi.HI)(),Tc("design:type",Function),Tc("design:paramtypes",["undefined"==typeof State?Object:State,Boolean]),Tc("design:returntype","undefined"==typeof State?Object:State)],Ac.prototype,"setLoading",null),Pc([(0,Fi.HI)(),Tc("design:type",Function),Tc("design:paramtypes",["undefined"==typeof State?Object:State,String]),Tc("design:returntype","undefined"==typeof State?Object:State)],Ac.prototype,"setCanonical",null),Pc([(0,Fi.HI)(),Tc("design:type",Function),Tc("design:paramtypes",["undefined"==typeof State?Object:State,Boolean]),Tc("design:returntype","undefined"==typeof State?Object:State)],Ac.prototype,"setRouterLoading",null),Pc([(0,Fi.Mj)({payloadGetter:1}),Tc("design:type",Function),Tc("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Tc("design:returntype",void 0)],Ac.prototype,"fetchAbTest",null),Ac=Pc([(0,Ni.nV)("SEOState"),function(e,t){return function(e,o){t(e,o,1)}}(0,(0,Ui.y)(p.J7)),Tc("design:type",Function),Tc("design:paramtypes",[void 0===xc?Object:xc,void 0===tt.JotaiStoreType?Object:tt.JotaiStoreType])],Ac);const Ec={[nn.uC.MUSICALLY]:"835599320",[nn.uC.TRILL]:"1235601864"},Lc={keyword_expansion_page:"kep",find_web:"find",channel_web:"channel",others_homepage:"user"},jc={},Ic=e=>{let t=Dl.Web;return e===nc.N.Paid?t=Dl.WebSem:e===nc.N.Amp||e===nc.N.Organic?t=Dl.SEO:e===nc.N.SamsungQuickAccess&&(t=Dl.SamsungQuickAccess),t},Rc=({downloadType:e,enterMethod:t="",id:o,search_keyword:n,search_sug_type:i,pre_click_id:r,page_id:a,defaultPid:s,referrer_url:l})=>{const{wid:c,region:d,abTestVersion:u,appType:p}=(0,xo.L$)((0,tn.W)(()=>["wid","region","abTestVersion","appType"],[])),{isAndroid:g,isIOS:h}=(0,xo.L$)((0,Po.U)(()=>["isAndroid","isIOS"],[])),{previous_page:v,page_name:_}=ht.f.commonParams,{search:f}=Be(),b=(0,Cn.Hd)("webapp_launch_mode"),y=function(){const e=lt(Ac,{selector:e=>e.abtest,dependencies:[]});return uc(e=>e.abtest,{equalityFn:gn.bN})||e}(),w=`click_wap_${e}`,k=(({page_name:e,page_id:t,id:o})=>t?`${e}_${t}`:`${e}${o?`_${o}`:""}`)({page_name:_,page_id:a,id:o});return{schemeParams:(0,m.useMemo)(()=>(({pageName:e,gdLabel:t,launchMode:o,id:n,wid:i,region:r,search_keyword:a,previous_page:s,enterMethod:l="",search_sug_type:c,pre_click_id:d,abTestVersion:u,seoABTestVersion:p,referrer_url:g})=>{var m,h;const v={page_name:e,gd_label:t,refer:o,referer:o,utm_campaign:Ic(o)};return n&&(v.id=n),i&&(v.wid=i),r&&Tt.includes(r)&&(v.awedp_require_login="normal"),a&&(v.keyword=encodeURIComponent(a),v.search_keyword=encodeURIComponent(a),v.search_type="general",v.enter_from=`${s}_web`,v.enter_method=l,v.search_sug_type=null!=c?c:"",v.pre_click_id=null!=d?d:"",v.vidab=encodeURIComponent(null!==(m=null==u?void 0:u.versionName)&&void 0!==m?m:""),v.seo_vidab=encodeURIComponent((null!==(h=null==p?void 0:p.vidList)&&void 0!==h?h:[]).join(",")),v.release=encodeURIComponent(null!=="2.0.0.928"?"2.0.0.928":""),"general_search"===e&&"discover_kw"===s&&(v.enter_from_sub="app_outside")),g&&(v.referrer_url=g),v})({pageName:k,gdLabel:w,launchMode:b,id:o,wid:c,region:d,search_keyword:n,previous_page:v,enterMethod:t,search_sug_type:i,pre_click_id:r,abTestVersion:u,seoABTestVersion:y,referrer_url:l}),[k,w,b,o,c,d,n,v,t,i,r,u,y,l]),onelinkParams:(0,m.useMemo)(()=>(({search:e,url:t,launchMode:o,gdLabel:n,defaultPid:i,appType:r,pageName:a,pageNamePrefix:s,abTestVersion:l,seoABTestVersion:c,wid:d,trafficType:u,isIOS:p,isAndroid:g,previous_page:m})=>{var h,v;let _,f,b;if("undefined"!=typeof window&&e){const t=(0,on.parse)(e);b=t.utm_campaign,_=t.utm_source,f=t.utm_medium}else if(t)try{const e=new URL(t),o=new URLSearchParams(e.search);_=o.get("source"),f=o.get("medium"),b=o.get("url_campaign")}catch(e){}const y=null!=u?u:(0,Cn.Hd)("webapp_original_traffic_type"),w=(0,Cn.Hd)("referer_url"),k=(0,Cn.Hd)("referer_video_id"),S=Ic(o),C=(({pid:e,pageName:t,previousPage:o})=>{var n,i;return"general_search"===t?`${e}_gs_${o}`:"homepage_hot"===t?`${e}_fyp_${o}`:`${e}_${null!==(i=null!==(n=Lc[null!=t?t:""])&&void 0!==n?n:t)&&void 0!==i?i:"unknown"}`})({pid:S,pageName:s,previousPage:m}),x=p?(({appType:e,campaignName:t})=>{var o;if(!e||!Ec[e]||![nn.uC.MUSICALLY,nn.uC.TRILL].includes(e))return jc;const n="https://apps.apple.com/app/apple-store/id{iosAppid}?pt=118874049&ct={ct}&mt=8".replace(/{iosAppid}/g,null!==(o=Ec[e])&&void 0!==o?o:"").replace(/{ct}/g,t);return n?{af_ios_url:n,af_param_forwarding:"false"}:jc})({abTestVersion:l,appType:r,campaignName:C}):{},P=g?{utm_campaign:C}:{},T=`${_?`source:${_};`:""}${f?`medium:${f};`:""}${b?`campaign:${b};`:""}`,O=`${w?`referer_url:${w}};`:""}${k?`referer_video_id:${k};`:""}`,A=Object.assign(Object.assign({af_ad:n,af_siteid:"mobile",pid:null!=i?i:S,c:a,af_adset:o,af_ad_id:y,vidab:encodeURIComponent(null!==(h=null==l?void 0:l.versionName)&&void 0!==h?h:""),seo_vidab:encodeURIComponent((null!==(v=null==c?void 0:c.vidList)&&void 0!==v?v:[]).join(",")),release:encodeURIComponent("2.0.0.928")},x),P);if("undefined"!=typeof window)A.canonical=`${oc}${decodeURIComponent(location.pathname)}`;else if(t){const e=new URL(t),o=decodeURIComponent(e.pathname);A.canonical=`${oc}${o}`}return d&&(A.wid=d),T&&(A.af_adset_id=T),O&&(A.af_channerl=O),e&&"true"===(0,on.parse)(e).is_retargeting&&(A.is_retargeting="true"),Object.keys(A).forEach(e=>{A[e]="string"==typeof A[e]?encodeURIComponent(A[e]):A[e]}),A})({search:f,launchMode:b,gdLabel:w,defaultPid:s,pageName:k,pageNamePrefix:_,abTestVersion:u,seoABTestVersion:y,wid:c,isAndroid:g,isIOS:h,appType:p,previous_page:v}),[f,b,w,s,k,_,u,y,c,g,h,p,v])}};var Mc=o(63700),Dc=o(96547),Fc=function(e){return e[e.NIL=-255]="NIL",e[e.UnknownError=-1]="UnknownError",e[e.Ok=0]="Ok",e[e.ReportLiveFailed=90002]="ReportLiveFailed",e[e.VerifyCode=1e4]="VerifyCode",e[e.VideoLikeFreq=2150]="VideoLikeFreq",e[e.VideoLikeFreq2=2210]="VideoLikeFreq2",e[e.VideoUnavailableDeleted=2054]="VideoUnavailableDeleted",e[e.AdVideoUnavailableChange=2752]="AdVideoUnavailableChange",e[e.CommentBanCode=22]="CommentBanCode",e[e.CommentLikePermissionDisable=3002043]="CommentLikePermissionDisable",e[e.SearchSensitiveCode=403]="SearchSensitiveCode",e[e.SearchYoungCode=203]="SearchYoungCode",e[e.SmsInvalidNumber=-1]="SmsInvalidNumber",e[e.SmsSlideVerify=-4]="SmsSlideVerify",e[e.FypVideoListLimit=10404]="FypVideoListLimit",e[e.ClientPageError=450]="ClientPageError",e[e.LiveNeedLogin=10119]="LiveNeedLogin",e[e.SharkBlock=10114]="SharkBlock",e[e.SharkSlide=10113]="SharkSlide",e[e.NetError=10111]="NetError",e[e.ServerErrorNot500=10101]="ServerErrorNot500",e[e.VideoRisk=10228]="VideoRisk",e[e.VideoRMask=10229]="VideoRMask",e[e.VideoRiskMask=10230]="VideoRiskMask",e[e.VideoNeedRecheck=10227]="VideoNeedRecheck",e[e.VideoUnshelveByMusic=10220]="VideoUnshelveByMusic",e[e.VideoNotExist=10204]="VideoNotExist",e[e.VideoAbnormal=10215]="VideoAbnormal",e[e.VideoLowAgeM=10213]="VideoLowAgeM",e[e.VideoLowAgeT=10214]="VideoLowAgeT",e[e.VideoFirstReviewUnshelve=10217]="VideoFirstReviewUnshelve",e[e.VideoPrivateByUser=10216]="VideoPrivateByUser",e[e.VideoGeofenceBlock=10231]="VideoGeofenceBlock",e[e.VideoPhoto=10239]="VideoPhoto",e[e.VideoFriendsOnly=10240]="VideoFriendsOnly",e[e.VideoDeleted=10241]="VideoDeleted",e[e.VideoUserBlockedByAuthor=10242]="VideoUserBlockedByAuthor",e[e.VideoSubscribersOnly=203005]="VideoSubscribersOnly",e[e.StoryUnavailable=10246]="StoryUnavailable",e[e.HashtagNotExist=10205]="HashtagNotExist",e[e.HashtagUnshelve=10212]="HashtagUnshelve",e[e.HashtagSensitivityWord=10211]="HashtagSensitivityWord",e[e.HashtagBlackList=10209]="HashtagBlackList",e[e.UserInboxFollowBan=24]="UserInboxFollowBan",e[e.UserNotExist=10202]="UserNotExist",e[e.UserBan=10221]="UserBan",e[e.UserPrivate=10222]="UserPrivate",e[e.UserNotLogin=10102]="UserNotLogin",e[e.UserFtc=10223]="UserFtc",e[e.UserUniqueSensitivity=10225]="UserUniqueSensitivity",e[e.QuestionNotAvailable=10236]="QuestionNotAvailable",e[e.MusicNotExist=10203]="MusicNotExist",e[e.MusicUnshelve=10218]="MusicUnshelve",e[e.MusicNoCopyright=10219]="MusicNoCopyright",e[e.MusicUnavailable=202001]="MusicUnavailable",e[e.PlaceNotExist=205001]="PlaceNotExist",e[e.PlaceOffline=205002]="PlaceOffline",e[e.PlaceUnavailableInRegion=205003]="PlaceUnavailableInRegion",e[e.GameNotExist=10224]="GameNotExist",e[e.LiveNotExist=10210]="LiveNotExist",e[e.GoLiveRoomBaned=10018]="GoLiveRoomBaned",e[e.GoLiveBaned=4003035]="GoLiveBaned",e[e.LiveRoomPrepare=30019]="LiveRoomPrepare",e[e.LiveRoomEnd=30003]="LiveRoomEnd",e[e.LiveRoomBan=30012]="LiveRoomBan",e[e.LiveNoGatedAuth=4003043]="LiveNoGatedAuth",e[e.LiveNoAgeGatedAuth=4003110]="LiveNoAgeGatedAuth",e[e.LivePaidEvent=4003072]="LivePaidEvent",e[e.LiveSubscriberOnly=4003135]="LiveSubscriberOnly",e[e.LiveSuicideCase=2403]="LiveSuicideCase",e[e.LiveSensitiveTitle=50004]="LiveSensitiveTitle",e[e.LiveRoomBaned=10018]="LiveRoomBaned",e[e.LiveEnterRoomNeedLogin=20003]="LiveEnterRoomNeedLogin",e[e.LiveAccountUnderRiskControl=20063]="LiveAccountUnderRiskControl",e[e.LiveHitBanStrategy=30009]="LiveHitBanStrategy",e[e.LiveOBSAccessRecalled=4003105]="LiveOBSAccessRecalled",e[e.LiveUserNotFound=19881007]="LiveUserNotFound",e[e.CollectionUnavailable=204003]="CollectionUnavailable",e[e.EffectNotExist=10208]="EffectNotExist",e[e.PlaylistNotExist=10233]="PlaylistNotExist",e[e.PlaylistInTrill=10234]="PlaylistInTrill",e[e.VideoPlaylistUnavailable=10243]="VideoPlaylistUnavailable",e[e.VideoPlaylistIsEmpty=10244]="VideoPlaylistIsEmpty",e[e.PrivateAccountLimitByBC=3026002]="PrivateAccountLimitByBC",e[e.PnsPnsPrivateAccountLimitByLiveOn=3026006]="PnsPnsPrivateAccountLimitByLiveOn",e[e.BlockedAndLogout=56009]="BlockedAndLogout",e[e.CreatePlaylistWithRiskError=206001]="CreatePlaylistWithRiskError",e[e.VideoPlaylistVisibleToCreator=206002]="VideoPlaylistVisibleToCreator",e[e.AddPlaylistVideoWithRiskError=206003]="AddPlaylistVideoWithRiskError",e[e.VideoPlaylistUnavailableToVisitor=206004]="VideoPlaylistUnavailableToVisitor",e[e.VideoPlaylistDeleted=206005]="VideoPlaylistDeleted",e[e.CodeUserGeoBlocked=209001]="CodeUserGeoBlocked",e[e.CodeUserAudienceControlLogout=209002]="CodeUserAudienceControlLogout",e[e.CodeUserNoAgeInterval=209003]="CodeUserNoAgeInterval",e[e.CodeUserU18=209004]="CodeUserU18",e[e.CodeUserRestrictedFamilyParingOff=209005]="CodeUserRestrictedFamilyParingOff",e[e.CodeUserRestrictedFamilyParingOn=209006]="CodeUserRestrictedFamilyParingOn",e}({}),Nc=function(e){return e[e.Hot=0]="Hot",e[e.Relation=1]="Relation",e[e.Fresh=2]="Fresh",e[e.Post=3]="Post",e[e.Favorite=4]="Favorite",e[e.Challenge=5]="Challenge",e[e.Music=6]="Music",e[e.Category=7]="Category",e[e.MusicFresh=8]="MusicFresh",e[e.ChallengeFresh=9]="ChallengeFresh",e[e.Follow=10]="Follow",e[e.Trending=18]="Trending",e[e.TitleRecommend=20]="TitleRecommend",e[e.Nearby=21]="Nearby",e[e.Search=23]="Search",e[e.HotVideo=24]="HotVideo",e[e.HotMusic=25]="HotMusic",e[e.FollowerList=26]="FollowerList",e[e.Inbox=33]="Inbox",e[e.Live=27]="Live",e}({});function Uc(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Bc{getStrategy({language:e}){return this.fetch.get("/tiktok/linker/component/strategy/get/v1/",{query:{biz_name:"Webapp",page_name:"CTA",language:e,wrappers:JSON.stringify([{name:Fl.Foryou,params:{url_scheme_params:{},url_fallback_params:{}}}])},baseUrlType:vt.Z4.FixedWww})}constructor(e){this.fetch=e}}function Hc(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function zc(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Bc=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)({name:"CtaService@tiktok/login"}),Uc("design:type",Function),Uc("design:paramtypes",[void 0===_t.p?Object:_t.p])],Bc);class Yc extends Di.E{setStrategy(e,t){e.linkerStrategy=t}getStrategy(e){return e.pipe((0,na.p)(e=>this.service.getStrategy({language:e}).pipe((0,Li.Z)(({status_code:e,strategy:t={}})=>{const o=e===Fc.Ok?t:{};return(0,Mc.h)((0,Oi.of)(this.getActions().setStrategy(o)))}),(0,Ri.q)(this.terminate()),(0,Qi.W)(()=>(0,Oi.of)(this.noop())))))}constructor(e){super(),this.service=e,this.defaultState={linkerStrategy:void 0}}}Hc([(0,Fi.h5)(),zc("design:type",Function),zc("design:paramtypes",["undefined"==typeof CtaModuleState?Object:CtaModuleState,void 0===Dc.ILinkerComponentStrategyStruct?Object:Dc.ILinkerComponentStrategyStruct]),zc("design:returntype",void 0)],Yc.prototype,"setStrategy",null),Hc([(0,Fi.Mj)(),zc("design:type",Function),zc("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),zc("design:returntype",void 0===Ai.c?Object:Ai.c)],Yc.prototype,"getStrategy",null),Yc=Hc([(0,Ni.nV)("CtaModule"),zc("design:type",Function),zc("design:paramtypes",[void 0===Bc?Object:Bc])],Yc);const Wc=({appType:e,jumpTime:t},o)=>{((e={})=>{ht.f.sendEvent("jump",e)})({app_type:e,jump_time:t,status:o?0:1})},Vc=(0,m.memo)(({children:e})=>{const[t,o]=(0,en.Su)(Yc,{selector:e=>e.linkerStrategy,dependencies:[]}),{language:n}=(0,xo.L$)((0,tn.W)(()=>["wid","region","language"],[])),{onelinkParams:r,schemeParams:a}=Rc({downloadType:yl.c.AppLaunch}),s=(0,m.useCallback)(e=>{var t;t={enter_method:yl.c.AppLaunch},ht.f.sendEvent("download_app_confirm",t),Wc(e,!0)},[]),l=(0,m.useCallback)(e=>{Wc(e,!1)},[]);return(0,m.useEffect)(()=>{t||o.getStrategy(n)},[o,t,n]),(0,i.Y)(ec.p,{strategy:t,enableApiOptimization:!0,checkOpenTime:50,children:(0,i.Y)(tc.F,{schemeParams:a,fallbackURLParams:r,target:"wrapper_foryou",jumpStartHandler:s,jumpFailHandler:l,children:e})})}),Gc=(0,Wt.A)("div",{target:"euo5c20"})({zIndex:1008,width:"100%",borderRadius:"8px 8px 0 0 ",backgroundColor:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, .06)","&.middle":{width:"310px",borderRadius:"8px"}},"label:DivCtaGuideContainer;"),$c=(0,Wt.A)("div",{target:"euo5c21"})({position:"absolute",top:0,left:"50%",width:"64px",height:"64px",padding:"4px",boxSizing:"border-box",borderRadius:"100%",backgroundColor:"#f8f8f8",transform:"translate(-50%, -50%)","& img":{borderRadius:"100%"}},"label:DivIconContainer;"),qc=(0,Wt.A)("div",{target:"euo5c22"})({boxSizing:"border-box",width:"100%",padding:"48px 20px 20px",textAlign:"center"},"label:DivInfoContainer;"),Kc=(0,Wt.A)("p",{target:"euo5c23"})(({theme:e})=>(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:"20px",lineHeight:"24px"},"label:PGuideTitle;"),Zc=(0,Wt.A)("p",{target:"euo5c24"})(({theme:e})=>(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",color:"TextSecondary"}),{marginTop:"12px",fontSize:"15px",lineHeight:"18px"},"label:PGuideDesc;"),Jc=(0,Wt.A)("div",{target:"euo5c25"})(({paddingBottom:e})=>({boxSizing:"border-box",width:"100%",padding:"0 20px 20px",paddingBottom:e,textAlign:"center"}),"label:DivGuideBtnContainer;"),Qc={width:"100%",height:"44px",border:"none",fontSize:"15px",lineHeight:"44px"},Xc=(0,Wt.A)("button",{target:"euo5c26"})(({theme:e})=>(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),Object.assign(Object.assign({},Qc),{borderRadius:"2px",backgroundColor:"#fe2c55"}),"label:ButtonOpenTT;"),ed=(0,Wt.A)("button",{target:"euo5c27"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),Object.assign(Object.assign({},Qc),{backgroundColor:"#fff",marginTop:"2px",color:e.colors.ConstTextPrimary})],"label:ButtonRefuseOrLogin;"),td={padding:"0"},od=(0,m.memo)(()=>{const{title:e,desc:t,btnText:o,notNow:n}=(()=>{const e=(0,xi.s)(K.i_.Login),t=e("optimize_web_open_notnow_cta");return{btnText:e("optimize_web_open_tiktok_cta"),title:e("optimize_web_full_app_header"),desc:e("optimize_web_full_app_body"),notNow:t}})(),[r,a]=(0,m.useState)(!1),{isBot:s}=(0,xo.L$)((0,Po.U)(()=>["isBot"],[])),{noCtaPopup:l}=(0,en.Ph)(Pi.t),c=(0,m.useCallback)(e=>()=>{var t;a(!1),t={modal_type:"bottom_sheet",enter_method:yl.c.AppLaunch,dismiss_method:e},ht.f.sendEvent("download_app_dismiss",t)},[]),d=(0,m.useCallback)((e,t)=>{const o=t===Jl.Icon?Bl.XClose:Bl.ClickMask;c(o)()},[c]);return(0,m.useEffect)(()=>{const e=!(0,Cn.Hd)(Nl),{referrer:t}=document,o=performance.getEntriesByType("navigation")[0],n=o&&o instanceof PerformanceNavigationTiming&&o.redirectCount>0;var i;l||s||!e||t.includes(".tiktok.com")||n||(a(!0),(0,Cn.J2)(Nl,"1"),i={modal_type:"bottom_sheet",enter_method:yl.c.AppLaunch},ht.f.sendEvent("download_app_notify",i))},[s]),(0,i.Y)(Ql,{visible:r,contentStyle:td,closeable:!1,onClose:d,children:(0,i.FD)(Gc,{"data-e2e":"bottom-cta-container",children:[(0,i.Y)($c,{"data-e2e":"bottom-cta-icon",children:(0,i.Y)("img",{src:Xl,width:56,height:56})}),(0,i.FD)(qc,{children:[(0,i.Y)(Kc,{"data-e2e":"bottom-cta-title",children:e}),(0,i.Y)(Zc,{"data-e2e":"bottom-cta-desc",children:t})]}),(0,i.FD)(Jc,{children:[(0,i.Y)(Ul,{children:(0,i.Y)(Vc,{children:(0,i.Y)(Xc,{"data-e2e":"bottom-cta-confirm-btn",children:o})})}),(0,i.Y)(ed,{"data-e2e":"bottom-cta-cancel-btn",onClick:c(Bl.NotNow),children:n})]})]})})}),nd=(0,s.Ay)(()=>Promise.all([o.e(873),o.e(279)]).then(o.bind(o,74279))),id="click_one_tap";var rd=o(87933),ad=o(76435),sd=o(65070),ld=o(53708),cd=o(75959),dd=o(95254),ud=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const pd=e=>(0,dd._)(btoa(JSON.stringify(e)));let gd;const md=[{regex:"WhatsApp(?:[ /]([\\d.]+))?",browserName:"Whatsapp"},{regex:"(?:MessengerForiOS|MESSENGER|FB_IAB/Orca-Android).(?:FBAV)(?:[ /]([\\d.]+))?",browserName:"Messenger"}],hd=()=>{var e;if(void 0===gd){const t=(()=>{const{userAgent:e}=(0,T.T6)();for(const{regex:t,browserName:o}of md)if(e.match(t))return o;return new cd.UAParser(e).getBrowser().name})();gd=null!==(e=null==t?void 0:t.toLowerCase().replace(" ","_"))&&void 0!==e?e:"$OTHERS"}return gd},vd=["facebook","instagram","messenger","whatsapp"],_d=["chrome","chrome_mobile","mobile_chrome"],fd=["samsung_internet","line","opera","opera_mobi","opera_touch","opera_mini","yandex"],bd=[...vd,"edge","firefox","firefox_mobile","mobile_firefox","vivo_browser"],yd=[..._d,...fd,...bd];new Set(yd);class wd{static FromUrl(e){const{origin:t,pathname:o,searchParams:n}=new URL(e),i=Object.fromEntries(n.entries()),{redirect_url:r,dl:a}=i,s=ud(i,["redirect_url","dl"]),{origin:l,pathname:c,searchParams:d}=new URL(r),u=Object.fromEntries(d.entries()),{state:p}=u,g=ud(u,["state"]),m=(()=>{try{return(e=>JSON.parse(atob((0,dd.H)(e))))(p)}catch(e){return{}}})();return new wd({origin:t,pathname:o,searchParams:s,fallback_url:new URL(a),redirect_url:{origin:l,pathname:c,searchParams:g,state:m}})}encode(){const e=new URL(this.data.redirect_url.pathname,this.data.redirect_url.origin);for(const[t,o]of Object.entries(this.data.redirect_url.searchParams))e.searchParams.set(t,o);e.searchParams.set("state",pd(this.data.redirect_url.state));const t=new URL(this.data.pathname,this.data.origin);for(const[e,o]of Object.entries(this.data.searchParams))t.searchParams.set(e,o);return t.searchParams.set("redirect_url",e.toString()),t.searchParams.set("dl",this.data.fallback_url.toString()),t.toString()}setRedirectState(e){this.data.redirect_url.state=Object.assign(Object.assign({},this.data.redirect_url.state),e)}setFallbackParams(e){for(const[t,o]of Object.entries(e))this.data.fallback_url.searchParams.set(t,o)}deleteFallbackParams(...e){for(const t of e)this.data.fallback_url.searchParams.delete(t)}constructor(e){this.data=e}}var kd=o(66661);function Sd(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Cd(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}const xd=132e3;var Pd=function(e){return e.Init="init",e.InProgress="in_progress",e.InProgressWithPopup="in_progress_with_popup",e.Stop="stop",e.Failed="failed",e}({});function Td(e,t){var o,n,i;const r=on.parse(location.search),a="true"===r.coin_spa,s=null!==(o=an(null===(n=e.appContext)||void 0===n?void 0:n.abTestVersion,"live_recharge_mobile_non_login_redesign_trigger_point"))&&void 0!==o?o:"v1",l=a&&"v3"===s,c=null!=t?t:(0,kd.r)(r,["enter_method","enter_from","device_platform","ref_hash","redirect_url"]);c.web_id=null===(i=e.appContext)||void 0===i?void 0:i.wid,c.infer_app=hd(),c.is_home_screen=(0,za.o7)()===nc.N.Pwa?"1":"0",c.is_optimize_one_tap_v3="1";const d=ye.nf.getTrackingInfo();return c.e2e_tracking_info=d,c.ui_style=l?"half_screen":"full_screen",c}class Od extends Di.E{updateState(e,t){return Object.assign(Object.assign({},e),t)}initOneTapUrl(e){return e.pipe((0,Ei.E)(this.appContext.state$,this.state$),(0,Mi.T)(([e,t,o])=>{if("login_fetch"===o.tokenSource)return this.getActions().updateState({});const{data:n,dataUpdatedAt:i}=e;if(!(null==n?void 0:n.redirect_url)||!n.token)return this.getActions().updateState({});if(Date.now()-i>=xd)return this.getActions().updateState({});const r=Td(t,o.storedState),a=wd.FromUrl(n.redirect_url);return a.setRedirectState(r),a.setFallbackParams(Object.fromEntries(new URLSearchParams(location.search))),a.setFallbackParams({tt_not_installed:"true"}),a.deleteFallbackParams("back_on_close"),this.getActions().updateState({universalLink:a.encode(),token:n.token,getTokenErrorCode:void 0,storedState:r,getTokenLoading:!1,getTokenCalled:!0,tokenSource:"coin_prefetch",tokenUpdatedAt:i})}))}refreshOneTapTrackingInfo(e){return e.pipe((0,Ei.E)(this.appContext.state$,this.state$),(0,Mi.T)(([,e,t])=>{const{token:o,universalLink:n}=t;if(!o||!n)return this.getActions().updateState({});const i=wd.FromUrl(n),r=Td(e,t.storedState);return i.setRedirectState(r),this.getActions().updateState({universalLink:i.encode()})}))}getOneTapToken(e){return e.pipe((0,Ei.E)(this.state$,this.appContext.state$),(0,na.p)(([,e,t])=>{var o,n,i,r;const a=`https://${"t"===(null!==(o=null===(i=t.appContext)||void 0===i?void 0:i.appType)&&void 0!==o?o:"t")?"www.tiktokv.com":"app-va.tiktokv.com"}/redirect?decode_once=1`,s=on.parse(location.search),l="true"===s.coin_spa,c=null!==(n=an(null===(r=t.appContext)||void 0===r?void 0:r.abTestVersion,"live_recharge_mobile_non_login_redesign_trigger_point"))&&void 0!==n?n:"v1",d=l&&"v3"===c,u=Td(t,e.storedState);s.tt_not_installed="true",delete s.back_on_close;const p=new URL(window.location.href),g=d?`${p.origin}${p.pathname}?${on.stringify(s)}`:`https://www.tiktok.com/login?${on.stringify(s)}`;return(0,rd.O)(0,15e4).pipe((0,Li.Z)(()=>{var e;return this.service.getOneTapToken({next:null!==(e=u.redirect_url)&&void 0!==e?e:"",state:pd(u),web_to_app_redirect_uri:a,web_to_app_fallback_uri:g}).pipe((0,Li.Z)(({data:e})=>{const t=e.error_code;return t?(0,aa.$)(()=>({errorCode:t,error:new Error(`Get one tap token failed, error_code ${t}`)})):(0,Oi.of)(this.getActions().updateState({tokenSource:"login_fetch",token:e.token,universalLink:e.redirect_url,tokenUpdatedAt:Date.now(),getTokenErrorCode:void 0}))}),(0,Ii.Z)(this.getActions().updateState({getTokenLoading:!0})),(0,Ri.q)(this.getActions().updateState({getTokenLoading:!1,storedState:u,getTokenCalled:!0})),(0,ad.Q)(this.disposeRefresh$))}),(0,ad.Q)(this.disposeRefresh$),(0,Qi.W)(t=>{const o=(e=>{if(!e||"object"!=typeof e||!("errorCode"in e))return;const t=e.errorCode;return"number"==typeof t?t:void 0})(t);return e.token&&"coin_prefetch"===e.tokenSource&&Date.now()-e.tokenUpdatedAt<xd?(0,Oi.of)(this.getActions().updateState({})):(0,Oi.of)(this.getActions().updateState({getTokenLoading:!1,getTokenErrorCode:o,storedState:u,getTokenCalled:!0,token:void 0,universalLink:void 0,tokenUpdatedAt:0,tokenSource:"none"}))}))}))}stopRefreshToken(e){return e.pipe((0,Mi.T)(()=>this.getActions().disposeRefresh$()))}saveTokenSourceOnClick(e){return e.pipe((0,Ei.E)(this.state$),(0,Mi.T)(([,{tokenSource:e}])=>this.getActions().updateState({tokenSourceOnClick:e})))}startOneTapPolling(e){return e.pipe((0,Ei.E)(this.state$),(0,Li.Z)(([{ttpConfig:e,token:t,checkLastUsedToken:o,isCountInAppViewedStatus:n=!0},{authStatus:i}])=>{const{open:r,syncSeverList:a}=e||{},s=r?a:[{name:"gloable",domain:""}];return(0,sd.p)(s.map(e=>this.service.checkOneTapState({token:t,baseURL:e.domain}))).pipe((0,Li.Z)(r=>{const a={token:t,checkLastUsedToken:o,ttpConfig:e,isCountInAppViewedStatus:n};for(const{data:e,message:t}of r){const{status:o,error_code:r}=e;if("error"!==t&&0!==r)return(0,Oi.of)({status:o,error_code:r,pollingArgs:a});if(o&&"new"!==o&&("inapp_viewed"!==o||n&&"in_progress_with_popup"!==i))return(0,Oi.of)({status:o,pollingArgs:a})}throw new Error("User not confirmed, need to retry")}),(0,ld.L)({delay:()=>(0,rd.O)(800)}),(0,ad.Q)(this.disposePolling$))}),(0,Ei.E)(this.state$,this.appContext.state$),(0,Li.Z)(([e,{token:t,tokenSourceOnClick:o,lastUsedToken:n,getTokenLoading:i},{appContext:r}])=>{if(e.pollingArgs.checkLastUsedToken&&e.pollingArgs.token!==n)return(0,Oi.of)(this.noop());const a="error_code"in e?"failed":function(e){switch(e){case"inapp_viewed":return"in_progress_with_popup";case"confirmed":default:return"stop";case"expired":return"failed"}}(e.status),s={authStatus:a,lastUsedToken:t,authErrorCode:"error_code"in e?e.error_code:void 0};if("failed"===a){const o=t===e.pollingArgs.token;o&&(s.token=void 0,s.universalLink=void 0,s.tokenSource="none");const n=[this.getActions().updateState(s)];return o&&!i&&n.push(this.getActions().stopRefreshToken(),this.getActions().getOneTapToken()),(0,Mc.h)(n)}return"confirmed"===e.status?(s.token=void 0,s.universalLink=void 0,s.tokenSource="none",this.loginReport.setPlatform(Hi.WN.TIKTOK),this.sloSlardar.setPlatform(Hi.WN.TIKTOK),(0,Mc.h)([this.getActions().updateState(s),this.loginResult.getActions().handleLoginResult({error_code:0,region:null==r?void 0:r.region,platform:Hi.WN.TIKTOK,one_tap_token_source:o})])):(0,Mc.h)((0,Oi.of)(this.getActions().updateState(s)),(0,rd.O)(800).pipe((0,Mi.T)(()=>this.getActions().startOneTapPolling(e.pollingArgs))))}))}stopOneTapPolling(e){return e.pipe((0,Mi.T)(()=>this.getActions().disposePolling$()))}constructor(e,t,o,n,i,r){super(),this.service=e,this.appContext=t,this.loginReport=o,this.sloSlardar=n,this.loginResult=i,this.t=r,this.defaultState={getTokenLoading:!1,getTokenCalled:!1,tokenSource:"none",tokenSourceOnClick:"none",tokenUpdatedAt:0}}}function Ad(){const e=(0,ke.Nj)(Hi.$F),t=(0,ke.Nj)(Te.le);return(0,m.useCallback)(o=>{const n=ye.nf.getTrackingInfo(),{platform:i,signUp:r,forgetPwd:a,extraParams:s,one_tap_token_source:l}=o;e.setPlatform(i),e.loginSubmit(Object.assign(Object.assign({signUp:r,e2eInfo:n},s),{one_tap_token_source:l})),t.setPlatform(i),t.loginSubmit({signUp:r,forgetPwd:a,one_tap_token_source:l})},[t,e])}function Ed(){const e=(0,ke.Nj)(Hi.$F),t=(0,ke.Nj)(Te.le);return(0,m.useCallback)(o=>{const n=ye.nf.getTrackingInfo(),{platform:i,isSignUp:r,one_tap_token_source:a}=o;e.setPlatform(i),e.clickLoginOption({isSignUp:r,e2eInfo:n,one_tap_token_source:a}),t.setPlatform(i),t.clickLoginOption({isSignUp:r,one_tap_token_source:a})},[e,t])}function Ld(){const e=(0,ke.Nj)(Hi.$F),t=(0,ke.Nj)(Te.le);return(0,m.useCallback)(o=>{e.setPlatform(o),t.setPlatform(o)},[t,e])}Sd([(0,Fi.uk)(),Cd("design:type",void 0===Ai.c?Object:Ai.c)],Od.prototype,"dispose$",void 0),Sd([(0,Fi.uk)(),Cd("design:type",void 0===Ai.c?Object:Ai.c)],Od.prototype,"disposePolling$",void 0),Sd([(0,Fi.uk)(),Cd("design:type",void 0===Ai.c?Object:Ai.c)],Od.prototype,"disposeRefresh$",void 0),Sd([(0,Fi.HI)(),Cd("design:type",Function),Cd("design:paramtypes",["undefined"==typeof OneTapModuleState?Object:OneTapModuleState,"undefined"==typeof Partial?Object:Partial]),Cd("design:returntype","undefined"==typeof OneTapModuleState?Object:OneTapModuleState)],Od.prototype,"updateState",null),Sd([(0,Fi.Mj)(),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Cd("design:returntype",void 0)],Od.prototype,"initOneTapUrl",null),Sd([(0,Fi.Mj)(),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Cd("design:returntype",void 0)],Od.prototype,"refreshOneTapTrackingInfo",null),Sd([(0,Fi.Mj)(),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Cd("design:returntype",void 0)],Od.prototype,"getOneTapToken",null),Sd([(0,Fi.Mj)(),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Cd("design:returntype",void 0)],Od.prototype,"stopRefreshToken",null),Sd([(0,Fi.Mj)(),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Cd("design:returntype",void 0)],Od.prototype,"saveTokenSourceOnClick",null),Sd([(0,Fi.Mj)(),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Cd("design:returntype",Object)],Od.prototype,"startOneTapPolling",null),Sd([(0,Fi.Mj)(),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Cd("design:returntype",void 0)],Od.prototype,"stopOneTapPolling",null),Od=Sd([(0,Ni.nV)("OneTapModule"),function(e,t){return function(e,o){t(e,o,5)}}(0,(0,Ui.y)(ce.hp)),Cd("design:type",Function),Cd("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===f.L?Object:f.L,void 0===Hi.$F?Object:Hi.$F,void 0===Te.le?Object:Te.le,void 0===Gi.$?Object:Gi.$,void 0===Bi.I18NTranslate?Object:Bi.I18NTranslate])],Od);const jd=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),o=(0,ke.Nj)(Te.VU);return(0,m.useCallback)((n=ye.nf.getTrackingInfo())=>{const i="cannot_open_app";t.failToOpenApp({message:i,e2eInfo:n}),o.oneTapFailToOpenApp({message:i}),(0,er.P)(e("webLogin_useApp_appNotOpened_toast"))},[])},Id=()=>{const{ttpConfig:e}=(0,Ti.U)(()=>["ttpConfig"],[]),{startOneTapPolling:t,stopOneTapPolling:o,updateState:n}=(0,en.wA)(Od),i=()=>n({authStatus:Pd.Stop,authErrorCode:void 0});return{startPollingAndShowPollingPopup:o=>{n({authStatus:Pd.InProgressWithPopup,lastUsedToken:o}),t({token:o,ttpConfig:e,isCountInAppViewedStatus:!1})},stopPolling:()=>{o(),i()},setStopOneTapStatus:i,startPolling:o=>{n({authStatus:Pd.InProgress,lastUsedToken:o}),t({token:o,ttpConfig:e,checkLastUsedToken:!0,isCountInAppViewedStatus:!0})}}},Rd=["dev_awrxudrcbk09y7wi"],Md=()=>{var e,t,o;const{enableOneTapFromQuery:n,standaloneAid:i}=(0,Ti.U)(()=>["enableOneTapFromQuery","standaloneAid"],[]),r=null!==(e=null===(o=(0,on.parse)((0,Pe.zy)().search))||void 0===o?void 0:o.enter_from)&&void 0!==e?e:"",{abTestVersion:a}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),s=null!==(t=an(a,"all_one_tap_login"))&&void 0!==t?t:"v0",{isAndroid:l}=(0,xo.L$)((0,Po.U)(()=>["isAndroid"],[])),c=hd();return!(i||Rd.includes(r)||!n&&"v0"===s||l&&"ucbrowser"===c)},Dd=m.createContext(void 0),Fd=(Dd.Provider,()=>(0,xo.L$)((0,m.useContext)(Dd)));var Nd=(0,nl.r)(function(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M26.07 13.03a1 1 0 0 0-1-1h-2.15a1 1 0 0 0-1 1V26.4a1 1 0 0 0 1 1h2.15a1 1 0 0 0 1-1V13.03ZM22.02 35.39c.55.52 1.2.78 1.97.78.8 0 1.45-.26 1.98-.78.54-.52.81-1.17.81-1.94 0-.8-.27-1.45-.81-1.97a2.62 2.62 0 0 0-1.98-.82c-.77 0-1.42.27-1.97.82a2.67 2.67 0 0 0-.78 1.97c0 .77.26 1.42.78 1.94Z"}),m.createElement("path",{d:"M46 24a22 22 0 1 0-44 0 22 22 0 0 0 44 0Zm-4 0a18 18 0 1 1-36 0 18 18 0 0 1 36 0Z"}))}),Ud=o(11128);const Bd=()=>{const e=(0,ke.Nj)(Hi.$F),t=(0,ke.Nj)(Te.VU),o=(0,ke.Nj)(Te.le),{authErrorCode:n,tokenSourceOnClick:i}=(0,en.Ph)(Od);return(0,m.useCallback)(()=>{const r=null!=n?n:8,a=ye.nf.getTrackingInfo();e.setPlatform(Hi.WN.TIKTOK);const s=Object.assign(Object.assign({},a),{one_tap_token_source:i});e.failureOneTapLoginPopupShow({error_code:String(r),e2eInfo:s}),e.loginFailure({error_code:r,e2eInfo:s}),t.oneTapLoginFailurePopupShow({error_code:String(r),one_tap_token_source:i}),o.setPlatform(Hi.WN.TIKTOK),o.loginFailure({errorCode:r,forgetPwd:!1,signUp:!1,one_tap_token_source:i})},[n,i])},Hd=(0,Wt.A)("span",{target:"epqkw870"})({position:"absolute",right:8,top:8},"label:SpanCloseIconContainer;"),zd=(0,Wt.A)("div",{target:"epqkw871"})({padding:"24px 20px",display:"flex",flexDirection:"column",gap:16,alignItems:"center",textAlign:"center"},"label:DivContent;"),Yd=(0,Wt.A)("div",{target:"epqkw872"})({fontWeight:700,fontSize:20,lineHeight:"1.25em",letterSpacing:"0.02em"},"label:DivMainText;"),Wd=(0,Wt.A)("button",{target:"epqkw873"})({border:"none",outline:"none",borderTop:"0.5px solid rgba(0, 0, 0, 0.12)",padding:13,fontWeight:500,fontSize:16,lineHeight:"1.3em",backgroundColor:"inherit",display:"block",width:"100%",borderBottomLeftRadius:"inherit",borderBottomRightRadius:"inherit",color:"inherit"},"label:Button;"),Vd=()=>{const e=(0,xi.s)(K.i_.Login),t=Bd();return(0,m.useEffect)(()=>{t()},[t]),(0,i.FD)(zd,{children:[(0,i.Y)(Nd,{size:48}),(0,i.Y)(Yd,{children:e("webLogin_appLogin_webapp_loginError")})]})},Gd={textAlign:"center",width:"75%",position:"relative",borderRadius:12},$d=({visible:e,onClose:t})=>{const o=(0,xi.s)(K.i_.Login);return(0,i.FD)(Ja.aF,{type:"mobile",visible:e,maskCloseable:!0,onClose:t,contentStyle:Gd,children:[(0,i.Y)(Hd,{onClick:t,children:(0,i.Y)(Ud.g,{size:20})}),(0,i.Y)(Vd,{}),(0,i.Y)(Wd,{onClick:t,children:o("webLogin_error_btn_OK")})]})},qd=(0,Wt.A)("span",{target:"e1fnwyrm0"})({position:"absolute",right:8,top:8,color:"#f5f5f5"},"label:SpanCloseIconContainer;"),Kd=(0,Wt.A)("div",{target:"e1fnwyrm1"})({textAlign:"center"},"label:DivPopupContent;"),Zd=(0,Wt.A)("div",{target:"e1fnwyrm2"})({height:48,marginBottom:8,display:"flex",alignItems:"center",justifyContent:"center"},"label:DivLoadingIconContainer;"),Jd=(0,Wt.A)("div",{target:"e1fnwyrm3"})({color:"#f6f6f6",fontWeight:500,fontSize:14,lineHeight:"1.3em",letterSpacing:"0.0067em"},"label:DivPollingText;"),Qd=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),o=(0,ke.Nj)(Te.VU),{tokenSourceOnClick:n}=(0,en.Ph)(Od);return(0,m.useEffect)(()=>{t.pollingOneTapLoginPopupShow({e2eInfo:Object.assign(Object.assign({},ye.nf.getTrackingInfo()),{one_tap_token_source:n})}),o.oneTapLoginPollingPopupShow({one_tap_token_source:n})},[n]),(0,i.FD)(Kd,{children:[(0,i.Y)(Zd,{children:(0,i.Y)($a.R,{size:"small"})}),(0,i.Y)(Jd,{children:e("webLogin_appLogin_webapp_loginPrompt")})]})},Xd={borderRadius:12,position:"relative",padding:16,width:"70%"},eu=({visible:e,onClose:t})=>(0,i.FD)(Ja.aF,{visible:e,mask:!1,type:"mobile",contentStyle:Xd,backgroundColor:"#252525",children:[(0,i.Y)(qd,{onClick:t,children:(0,i.Y)(Ud.g,{size:16})}),(0,i.Y)(Qd,{})]});var tu=o(75848);const ou=(0,Wt.A)("div",{target:"ecgdxug0"})({fontWeight:700,fontSize:20,lineHeight:"25px",letterSpacing:"0.015em",marginBottom:12},"label:DivPopupTitle;"),nu=(0,Wt.A)("div",{target:"ecgdxug1"})({fontSize:15,fontWeight:400,lineHeight:"19.5px",letterSpacing:"0.004em"},"label:DivPopupContent;"),iu={textAlign:"center",width:"75%",borderRadius:12,padding:20,paddingTop:24},ru={marginTop:20,borderRadius:8},au=({visible:e})=>{const t=(0,xi.s)(K.i_.Login),{successPopupRedirectUrl:o,tokenSourceOnClick:n}=(0,en.Ph)(Od),r=(0,ke.Nj)(Te.VU),a=(0,ke.Nj)(Hi.$F),s=(0,m.useCallback)(e=>{a.oneTapSuccessPopupClick({e2eInfo:ye.nf.getTrackingInfo()}),r.oneTapLoginSuccessPopupClick(e)},[a,r]),l=(0,m.useCallback)(()=>{s("open"),ye.nf.setUpLoginSuccessE2ETracking(),location.href=null!=o?o:"https://www.tiktok.com"},[s,o]),c=(0,m.useCallback)(()=>s("close"),[s]);return(0,m.useEffect)(()=>{e&&(a.oneTapSuccessPopupShow({e2eInfo:Object.assign(Object.assign({},ye.nf.getTrackingInfo()),{one_tap_token_source:n})}),r.oneTapLoginSuccessPopupShow({one_tap_token_source:n}))},[e]),(0,i.FD)(Ja.aF,{visible:e,mask:!0,type:"mobile",contentStyle:iu,maskCloseable:!0,onClose:c,children:[(0,i.Y)(ou,{children:t("webLogin_useApp_openWeb_title")}),(0,i.Y)(nu,{children:t("webLogin_useApp_openWeb_desc")}),(0,i.Y)(tu.I0,{label:t("webLogin_useApp_openWeb_button"),variant:"primary",block:!0,size:"large",onClick:l,deprecatedStyle:ru})]})},su=()=>{const{authStatus:e,isLoginSuccessPopupVisible:t}=(0,en.Ph)(Od),o=e===Pd.InProgressWithPopup,n=e===Pd.Failed,{stopPolling:r,setStopOneTapStatus:a}=Id(),{oneTapFailed:{handler:s}={}}=Fd(),l=Bd();return(0,m.useEffect)(()=>r,[]),(0,m.useEffect)(()=>{n&&s&&s({reportShow:l})},[s,n]),(0,i.FD)(i.FK,{children:[(0,i.Y)(eu,{visible:o,onClose:r}),(0,i.Y)(au,{visible:t}),s?null:(0,i.Y)($d,{visible:n,onClose:a})]})};var lu=o(13326),cu=o.n(lu);function du(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M24 3a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm0 23C13.06 26 7 33.92 7 40.44 7 44 9 44 16 44h16c7 0 9 0 9-3.56C41 33.92 34.94 26 24 26Z"}))}(0,nl.r)(du);var uu=(0,nl.r)(function(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M24 8.5a8.5 8.5 0 1 0 0 17 8.5 8.5 0 0 0 0-17Zm0 19c-6.18 0-10.98 3.87-13 9.38a1.98 1.98 0 0 0 1.88 2.66h22.24a1.98 1.98 0 0 0 1.87-2.66c-2.01-5.5-6.81-9.38-12.99-9.38Z"}))});function pu(e){return m.createElement("svg",(0,ol._)({},e,{viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("g",{clipPath:"url(#Icon_Color-QR_Code_Circle_svg__a)"},m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 48a24 24 0 1 0 0-48 24 24 0 0 0 0 48Z",fill:"#0BADFF"}),m.createElement("path",{d:"M16.7 17.64c0-.32 0-.49.07-.61.06-.11.15-.2.26-.26.12-.06.29-.06.61-.06h.47c.32 0 .49 0 .61.06.11.06.2.15.26.26.06.12.06.29.06.61v.47c0 .33 0 .49-.06.61a.58.58 0 0 1-.26.26c-.12.06-.29.06-.61.06h-.47c-.32 0-.49 0-.61-.06a.58.58 0 0 1-.26-.26c-.06-.12-.06-.28-.06-.61v-.47Z",fill:"#fff"}),m.createElement("path",{d:"M12.9 14.79c-.28.64-.28 1.45-.28 3.09 0 1.63 0 2.44.27 3.08a3.5 3.5 0 0 0 1.9 1.9c.64.27 1.45.27 3.09.27 1.63 0 2.44 0 3.08-.27a3.5 3.5 0 0 0 1.9-1.9c.27-.64.27-1.45.27-3.08 0-1.64 0-2.45-.27-3.1a3.5 3.5 0 0 0-1.9-1.89c-.64-.26-1.45-.26-3.09-.26-1.63 0-2.44 0-3.08.26a3.5 3.5 0 0 0-1.9 1.9Zm3.22 5.97a1.82 1.82 0 0 1-.44-.06 1.17 1.17 0 0 1-.63-.63s-.04-.1-.06-.44c-.03-.39-.03-.9-.03-1.75s0-1.37.03-1.76c.02-.33.05-.43.06-.44.12-.29.34-.51.63-.63 0 0 .1-.04.44-.06.39-.03.9-.03 1.75-.03s1.37 0 1.76.03c.33.02.43.05.44.06.29.12.51.34.63.63 0 0 .04.1.06.44.03.39.03.9.03 1.76 0 .84 0 1.36-.03 1.75-.02.33-.05.43-.06.44-.12.29-.34.52-.63.63 0 0-.1.04-.44.06-.39.03-.9.03-1.75.03s-1.37 0-1.76-.03ZM16.77 29.28c-.06.12-.06.29-.06.61v.47c0 .33 0 .49.06.61.06.11.15.2.26.26.12.06.29.06.61.06h.47c.32 0 .49 0 .61-.06.11-.06.2-.15.26-.26.06-.12.06-.28.06-.61v-.47c0-.32 0-.49-.06-.61a.58.58 0 0 0-.26-.26c-.12-.06-.29-.06-.61-.06h-.47c-.32 0-.49 0-.61.06a.58.58 0 0 0-.26.26Z",fill:"#fff"}),m.createElement("path",{d:"M12.9 27.04c-.28.64-.28 1.45-.28 3.09 0 1.63 0 2.44.27 3.08a3.5 3.5 0 0 0 1.9 1.9c.64.27 1.45.27 3.09.27 1.63 0 2.44 0 3.08-.27a3.5 3.5 0 0 0 1.9-1.9c.27-.64.27-1.45.27-3.08 0-1.64 0-2.45-.27-3.1a3.5 3.5 0 0 0-1.9-1.89c-.64-.26-1.45-.26-3.09-.26-1.63 0-2.44 0-3.08.26a3.5 3.5 0 0 0-1.9 1.9ZM16.11 33a1.82 1.82 0 0 1-.44-.06 1.17 1.17 0 0 1-.63-.63s-.04-.1-.06-.44c-.03-.39-.03-.9-.03-1.75s0-1.37.03-1.76c.02-.33.05-.43.06-.44.12-.29.34-.51.63-.63 0 0 .1-.04.44-.06.39-.03.9-.03 1.75-.03s1.37 0 1.76.03c.33.02.43.05.44.06.29.12.51.34.63.63 0 0 .04.1.06.44.03.39.03.9.03 1.76 0 .84 0 1.36-.03 1.75-.02.33-.05.43-.06.44-.12.29-.34.52-.63.63 0 0-.1.04-.44.06-.39.03-.9.03-1.75.03s-1.37 0-1.76-.03ZM28.96 17.64c0-.32 0-.49.06-.61.06-.11.15-.2.26-.26.12-.06.29-.06.61-.06h.47c.32 0 .49 0 .61.06.11.06.2.15.26.26.06.12.06.29.06.61v.47c0 .33 0 .49-.06.61a.58.58 0 0 1-.26.26c-.12.06-.29.06-.61.06h-.47c-.32 0-.49 0-.61-.06a.58.58 0 0 1-.26-.26c-.06-.12-.06-.28-.06-.61v-.47Z",fill:"#fff"}),m.createElement("path",{d:"M24.88 17.88c0-1.64 0-2.45.26-3.1a3.5 3.5 0 0 1 1.9-1.89c.64-.26 1.45-.26 3.09-.26 1.63 0 2.44 0 3.08.26a3.5 3.5 0 0 1 1.9 1.9c.27.64.27 1.45.27 3.09 0 1.63 0 2.44-.27 3.08a3.5 3.5 0 0 1-1.9 1.9c-.64.27-1.45.27-3.09.27-1.63 0-2.44 0-3.08-.27a3.5 3.5 0 0 1-1.9-1.9c-.27-.64-.27-1.45-.27-3.08Zm5.25 2.91c.84 0 1.36 0 1.75-.03.33-.02.43-.05.44-.06.29-.12.51-.34.63-.63 0 0 .04-.1.06-.44.03-.39.03-.9.03-1.75s0-1.37-.03-1.76a1.83 1.83 0 0 0-.06-.44 1.17 1.17 0 0 0-.63-.63s-.1-.04-.44-.06c-.39-.03-.9-.03-1.75-.03s-1.37 0-1.76.03c-.33.02-.43.05-.44.06-.29.12-.51.34-.63.63 0 0-.04.1-.06.44-.03.39-.03.9-.03 1.76 0 .84 0 1.36.03 1.75.02.33.05.43.06.44.12.29.34.52.63.63 0 0 .1.04.44.06.39.03.9.03 1.75.03ZM25.23 25.49c-.06.12-.06.28-.06.61v1.34c0 .33 0 .5.06.62.06.1.15.2.26.25.12.07.28.07.61.07h1.34c.33 0 .5 0 .62-.07.1-.05.2-.14.25-.25.07-.13.07-.3.07-.62V26.1c0-.33 0-.49-.07-.61a.58.58 0 0 0-.25-.26c-.13-.06-.3-.06-.62-.06H26.1c-.33 0-.49 0-.61.06a.58.58 0 0 0-.26.26ZM28.38 29.3c0-.32 0-.48.06-.6.05-.12.14-.2.25-.26.13-.06.3-.06.62-.06h1.34c.33 0 .49 0 .61.06.11.05.2.14.26.25.06.13.06.3.06.62v1.34c0 .33 0 .5-.06.62a.58.58 0 0 1-.26.25c-.12.06-.28.06-.61.06h-1.34c-.33 0-.5 0-.62-.06a.58.58 0 0 1-.25-.25c-.07-.13-.07-.3-.07-.62v-1.34ZM31.65 31.9c-.07.13-.07.3-.07.62v1.34c0 .33 0 .49.07.61.05.11.14.2.25.26.13.06.29.06.62.06h1.34c.33 0 .49 0 .61-.06.11-.06.2-.15.26-.26.06-.12.06-.28.06-.61v-1.34c0-.33 0-.5-.06-.62a.58.58 0 0 0-.26-.25c-.12-.07-.28-.07-.61-.07h-1.34c-.33 0-.5 0-.62.07a.58.58 0 0 0-.25.25ZM25.17 32.52c0-.33 0-.5.06-.62.06-.1.15-.2.26-.25.12-.07.28-.07.61-.07h1.34c.33 0 .5 0 .62.07.1.05.2.14.25.25.07.13.07.3.07.62v1.34c0 .33 0 .49-.07.61a.58.58 0 0 1-.25.26c-.13.06-.3.06-.62.06H26.1c-.33 0-.49 0-.61-.06a.58.58 0 0 1-.26-.26c-.06-.12-.06-.28-.06-.61v-1.34ZM31.65 25.49c-.07.12-.07.28-.07.61v1.34c0 .33 0 .5.07.62.05.1.14.2.25.25.13.07.29.07.62.07h1.34c.33 0 .49 0 .61-.07.11-.05.2-.14.26-.25.06-.13.06-.3.06-.62V26.1c0-.33 0-.49-.06-.61a.58.58 0 0 0-.26-.26c-.12-.06-.28-.06-.61-.06h-1.34c-.33 0-.5 0-.62.06a.58.58 0 0 0-.25.26Z",fill:"#fff"})),m.createElement("defs",null,m.createElement("clipPath",{id:"Icon_Color-QR_Code_Circle_svg__a"},m.createElement("path",{fill:"#fff",d:"M0 0h48v48H0z"}))))}(0,nl.r)(pu);var gu,mu,hu=o(52973),vu=o(38731),_u=o(37801),fu=o(91272),bu=o(92662),yu=o(40815),wu=o(92249),ku=o(19794),Su=o(55714);function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Cu.apply(null,arguments)}const xu=function(e){return m.createElement("svg",Cu({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 42",width:"1em",height:"1em"},e),gu||(gu=m.createElement("g",{clipPath:"url(#single-logo-dark_svg__clip0_396_27791)"},m.createElement("path",{fill:"#25F4EE",d:"M9.875 16.842v-1.119A8.836 8.836 0 008.7 15.64c-4.797-.006-8.7 3.9-8.7 8.707a8.706 8.706 0 003.718 7.135A8.675 8.675 0 011.38 25.55c0-4.737 3.794-8.598 8.495-8.707z"}),m.createElement("path",{fill:"#25F4EE",d:"M10.087 29.526c2.14 0 3.89-1.707 3.966-3.83l.007-18.968h3.462a6.78 6.78 0 01-.109-1.202h-4.727l-.006 18.969a3.978 3.978 0 01-3.967 3.829 3.93 3.93 0 01-1.846-.46 3.949 3.949 0 003.22 1.662zM23.992 13.166v-1.055a6.507 6.507 0 01-3.584-1.068 6.573 6.573 0 003.584 2.123z"}),m.createElement("path",{fill:"#FE2C55",d:"M20.408 11.043a6.54 6.54 0 01-1.616-4.315h-1.265a6.557 6.557 0 002.881 4.315zM8.707 20.365a3.98 3.98 0 00-3.974 3.976c0 1.528.87 2.858 2.134 3.523a3.936 3.936 0 01-.754-2.32 3.98 3.98 0 013.973-3.977c.41 0 .805.07 1.176.185V16.92a8.852 8.852 0 00-1.176-.083c-.07 0-.134.006-.204.006v3.708a3.999 3.999 0 00-1.175-.185z"}),m.createElement("path",{fill:"#FE2C55",d:"M23.992 13.166v3.676a11.25 11.25 0 01-6.579-2.116v9.621c0 4.802-3.903 8.714-8.706 8.714a8.669 8.669 0 01-4.99-1.579 8.69 8.69 0 006.37 2.781c4.796 0 8.706-3.906 8.706-8.714v-9.621a11.25 11.25 0 006.579 2.116v-4.73c-.479 0-.939-.052-1.38-.148z"}),m.createElement("path",{fill:"black",d:"M17.413 24.347v-9.621a11.251 11.251 0 006.58 2.116v-3.676a6.571 6.571 0 01-3.584-2.123 6.61 6.61 0 01-2.887-4.315h-3.463l-.006 18.968a3.978 3.978 0 01-3.967 3.83 3.99 3.99 0 01-3.225-1.656 3.991 3.991 0 01-2.134-3.523A3.98 3.98 0 018.7 20.371c.409 0 .805.07 1.176.185v-3.708c-4.702.103-8.496 3.964-8.496 8.701 0 2.289.888 4.373 2.338 5.933a8.669 8.669 0 004.989 1.58c4.797 0 8.706-3.913 8.706-8.715z"}))),mu||(mu=m.createElement("defs",null,m.createElement("clipPath",{id:"single-logo-dark_svg__clip0_396_27791"},m.createElement("path",{fill:"white",d:"M0 0h25v42H0z"})))))};const Pu="last_login_method",Tu="Sorry, something went wrong, please try again later",Ou=e=>{switch(e){case"QRcode":return sr.QR;case"email":case"handle":case"phone":case"sms_verification":case"passkey":return sr.EMAIL;case"twitter":return sr.TWITTER;case"google":return sr.GOOGLE;case"facebook":return sr.FACEBOOK;case"kakaotalk":return sr.KAKAOTALK;case"line":return sr.LINE;case"apple":return sr.APPLE;case"tiktok":return sr.TIKTOK;default:return}};function Au(e){const[t,o]=(0,m.useState)(!1);return{initialized:t,effect:(0,m.useCallback)(()=>{return t=this,n=void 0,r=function*(){try{(0,Cn.nr)()&&(yield e.init())}finally{o(!0)}},new((i=void 0)||(i=Promise))(function(e,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(t,n||[])).next())});var t,n,i,r},[])}}function Eu(e,t,o){const n=null==o?void 0:o.platforms;if(!n)return t;return t.filter(t=>{const o=n[t.toLowerCase()];return!o||!(o.disable||e&&o.disableSignup)})}const Lu=()=>{var e;const t=(0,ke.Nj)(Hi.$F),o=(0,ke.Nj)(Te.le),{pathname:n,query:i}=(0,T.xw)(),r="true"===i.coin_spa,a=n.startsWith("/coin"),s=(0,tn.W)(()=>["abTestVersion"],[]),l=null!==(e=un(null==s?void 0:s.abTestVersion,"live_recharge_mobile_non_login_redesign_trigger_point"))&&void 0!==e?e:"v1",c=r&&("v2"===l||"v3"===l),d=r&&"v3"===l,u=a&&"v3"===l?"half_screen":"full_screen";return(0,m.useEffect)(()=>{t.setUiStyle(u),o.setUiStyle(u)},[t,o,u]),{isRedesign:c,isSheetStyle:d,vid:l,isCoinSpa:r}},ju=(e,t)=>{var o,n,r;const{isMobile:a,playerInfo:s,os:l}=(0,xo.L$)((0,Po.U)(()=>["isMobile","os","playerInfo"],[])),{name:c,isSmartPlayer:d}=(0,xo.L$)(s),{platformConfig:u,thirdPlatformConfig:p,lastLoginMethod:g,standaloneAid:h,standaloneAppVersion:v,disableStandaloneAppFlags:_}=(0,Ti.U)(()=>["platformConfig","thirdPlatformConfig","lastLoginMethod","standaloneAid","standaloneAppVersion","disableStandaloneAppFlags"],[]),{isMobileUiOptimize:f}=Mn(),b=Ou(null!==(o=null!=g?g:cu().get(Pu))&&void 0!==o?o:""),{isModal:y}=(0,en.Ph)(Pi.t),w=Ad(),k=Ed(),{handleAppleLogin:S,handlePopupAuthorize:C,handleHelloJSAuth:x,handleFacebookLogin:P,handleHelloLoginEvent:T,dealPageAuthRedirect:O}=(0,en.wA)(Hr),A=(0,xi.s)(K.i_.Login),E=(0,ke.Nj)(Er),L=(0,ke.Nj)(Ir),j=(0,Pe.W6)(),{pathname:I,search:R}=(0,Pe.zy)(),M=(0,on.parse)(R),D=!(null==t?void 0:t.isLogin)&&Gr(I),F=(0,El.Vm)(),N=!D&&(!a||d)||(null==t?void 0:t.forceShowQR),{loginQRcode:U,loginPath:B}=(0,m.useMemo)(()=>{const e=y?R:"";return{loginQRcode:xe.tH.loginQRcode+e,loginPath:D?F+e:xe.tH.loginPhoneOrEmail+e}},[y,R,D,F]),H=(0,m.useCallback)(e=>()=>{S({appleToken:e})},[S]);(0,m.useEffect)(()=>(document.addEventListener("AppleIDSignInOnSuccess",H),()=>{document.removeEventListener("AppleIDSignInOnSuccess",H)}),[H]),(0,m.useEffect)(()=>{const e=yr();e&&"failed"===e&&((0,er.P)(A(Tu)),console.error("Login: VK authorization failed."));const t=(()=>{if(!location.search)return;const{state:e,code:t}=on.parse(location.search);if(!e)return;const o=(e=>{try{return JSON.parse(e)}catch(e){return null}})(e.toString());if(!o)return;const{platform:n,auth:i}=o;if(n!==Xi.lv.KAKAOTALK)return;const r=ir.getRandomString(Xi.lv.KAKAOTALK);let a="ok";return r&&i!==r?a="failed":cr(Xi.lv.KAKAOTALK,{code:null==t?void 0:t.toString(),redirect_uri:"https://www.tiktok.com/login"}),ir.clearData(Xi.lv.KAKAOTALK),window.authDoneClose=!0,a})();t&&"failed"===t&&((0,er.P)(A(Tu)),console.error("Login: KekaoTalk authorization failed.")),fr()&&T()},[A,T]),(0,m.useEffect)(()=>{O()},[O]);const{stopPolling:z}=Id(),Y=(0,m.useCallback)(()=>{k({platform:Hi.WN.Qrcode,isSignUp:D}),w({platform:Hi.WN.Qrcode,signUp:D}),j.push(U)},[j,U,k,w,D]),W=(0,m.useCallback)(()=>{z(),k({platform:Hi.WN.EmailOrPhoneOrUsername,isSignUp:D}),j.push(B)},[j,D,B,k,z]),{abTestVersion:V}=null!==(n=(0,tn.W)(()=>["abTestVersion"],[]))&&void 0!==n?n:{},G=null!==(r=un(V,"enable_fb_sdk"))&&void 0!==r?r:"v1",$=(0,m.useCallback)(e=>()=>{switch(z(),k({platform:e,isSignUp:D}),w({platform:e,signUp:D}),e){case Xi.lv.APPLE:S({});break;case Xi.lv.TWITTER:C({url:ur(),platform:Xi.lv.TWITTER});break;case Xi.lv.LINE:C({url:pr(),platform:Xi.lv.LINE});break;case Xi.lv.FACEBOOK:case Xi.lv.GOOGLE:if(e===Xi.lv.FACEBOOK&&"v2"===G){P();break}x({force:e===Xi.lv.GOOGLE||null,platform:e,display:d?Dr.PAGE:Dr.POPUP,redirect_uri:"https://www.tiktok.com/login/",scope:""});break;case Xi.lv.VK:C({url:gr(),platform:Xi.lv.VK});break;case Xi.lv.KAKAOTALK:C({url:mr(),platform:Xi.lv.KAKAOTALK})}},[w,k,D,S,C,G,x,d,P,z]),{initialized:q,effect:Z}=Au(E),{initialized:J,effect:Q}=Au(L),{isNujInterestSelectorWithLoginBubble:X}=Hn(),{getTokenCalled:ee}=(0,en.Ph)(Od),te=(()=>{var e,t;const{pathname:o}=(0,Pe.zy)(),n=Gr(o),i=Ad(),r=Ed(),{abTestVersion:a,appType:s="t"}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion","appType"],[])),l=null!==(e=un(a,"one_tap_tt_pro_lite"))&&void 0!==e?e:"v0",c=null!==(t=un(a,"login_confirm"))&&void 0!==t?t:"v0",d="v1"===l,{ttNotInstalled:u}=(0,xo.L$)((0,Ti.U)(()=>["ttNotInstalled"],[])),{isAndroid:p}=(0,xo.L$)((0,Po.U)(()=>["isAndroid"],[])),{getOneTapToken:g,stopRefreshToken:m,saveTokenSourceOnClick:h}=(0,en.wA)(Od),{universalLink:v,token:_,tokenSource:f,lastUsedToken:b,getTokenLoading:y,getTokenErrorCode:w,authStatus:k}=(0,en.Ph)(Od),{startPolling:S,stopPolling:C}=Id(),x=(0,ke.Nj)(Hi.$F),P=(0,ke.Nj)(Te.VU),T=(0,xi.s)(K.i_.Login),O=jd(),A=()=>r({platform:Hi.WN.TIKTOK,isSignUp:n,one_tap_token_source:f});if(!v||!_)return()=>{A(),(0,er.P)(T("Sorry, something went wrong, please try again later"));const e={message:"try_again",error_code:null==w?void 0:w.toString()};x.failToOpenApp(Object.assign(Object.assign({},e),{e2eInfo:ye.nf.getTrackingInfo()})),P.oneTapFailToOpenApp(e),y||(m(),g())};const E=()=>{const e="app_not_opened";x.failToOpenApp({message:e,e2eInfo:ye.nf.getTrackingInfo()}),P.oneTapFailToOpenApp({message:e}),(0,er.P)(T("webLogin_useApp_appNotOpened_toast"))},L=()=>({_pia_:"1",click_time:Date.now().toString(),enable_http_command:d?"1":"0",is_optimise:"v1"===c?"1":"0"}),j=(e,t={},o={})=>{try{const n=new URL(e);Object.entries(t).forEach(([e,t])=>{n.searchParams.set(e,t)});const i=n.searchParams.get("redirect_url");if(i){const e=new URL(i,location.origin);Object.entries(o).forEach(([t,o])=>{e.searchParams.set(t,o)}),n.searchParams.set("redirect_url",e.toString())}return n.toString()}catch(t){return e}},I=()=>{ye.nf.prepareResumeData(id);const e=j(v,{use_forest:"1",enable_prefetch:"1",disable_ttnet_proxy:"0"},Object.assign(Object.assign({},L()),{link_type:"universal"}));window.location.href=e},R=({redirectTimeoutDuration:e,onRedirectTimeout:t})=>{var o;try{const e=p&&d?"tiktok":"t"===s?"snssdk1180":"snssdk1233",t=j(v,{},Object.assign(Object.assign({},L()),{link_type:"deeplink"})),n=null!==(o=new URL(t).searchParams.get("redirect_url"))&&void 0!==o?o:"";window.location.href=`${e}://webview?url=${encodeURIComponent(n)}&use_forest=1&enable_prefetch=1&disable_ttnet_proxy=0`}catch(e){console.error("Error when launching by schema",e)}finally{let o;const n=()=>{"hidden"===document.visibilityState&&clearTimeout(o)};o=setTimeout(()=>{"hidden"!==document.visibilityState&&(document.removeEventListener("visibilitychange",n),t())},e),document.addEventListener("visibilitychange",n,{once:!0})}},M=(e=1e3)=>R({redirectTimeoutDuration:e,onRedirectTimeout:E});return()=>{if(h(),A(),i({platform:Hi.WN.TIKTOK,signUp:n,one_tap_token_source:f}),p?(()=>{const e=hd();_d.includes(e)?d&&u?M(1200):I():fd.includes(e)?R({redirectTimeoutDuration:1e3,onRedirectTimeout:O}):M()})():u?M(1200):I(),b!==_)return C(),void S(_);k===Pd.Stop&&S(_)}})(),{isRedesign:oe}=Lu(),ne={[sr.TIKTOK]:{starlingText:oe?"ttlive_enhanceLogin_logInPg_quickLoginBtn":"webLogin_useApp_btn",icon:oe?hu.A:()=>(0,i.Y)(xu,{}),onClick:te,type:sr.TIKTOK,loading:!ee},[sr.APPLE]:{starlingText:"common_login_panel_button_apple",icon:vu.A,onClick:$(Xi.lv.APPLE),type:sr.APPLE,loading:!q,effect:Z},[sr.EMAIL]:{starlingText:D?"common_registration_panel_button_phoneoremail":"common_login_panel_button_phoneoremailorusername",icon:X?du:f&&a?uu:du,onClick:W,type:sr.EMAIL},[sr.FACEBOOK]:{starlingText:"common_login_panel_button_facebook",icon:_u.A,onClick:$(Xi.lv.FACEBOOK),type:sr.FACEBOOK,loading:!J,effect:Q},[sr.GOOGLE]:{starlingText:"common_login_panel_button_google",icon:fu.A,onClick:$(Xi.lv.GOOGLE),type:sr.GOOGLE},[sr.KAKAOTALK]:{starlingText:"common_login_panel_button_kakaotalk",icon:bu.A,onClick:$(Xi.lv.KAKAOTALK),type:sr.KAKAOTALK},[sr.LINE]:{starlingText:"common_login_panel_button_line",icon:yu.A,onClick:$(Xi.lv.LINE),type:sr.LINE},[sr.PHONE]:{starlingText:D?"common_registration_panel_button_phoneoremail":"common_login_panel_button_phoneoremailorusername",icon:f&&a?uu:wu.A,onClick:W,type:sr.PHONE},[sr.QR]:{starlingText:"common_login_panel_button_qrcode",icon:X?pu:ku.A,onClick:Y,type:sr.QR},[sr.TWITTER]:{starlingText:"common_login_panel_button_twitter",icon:Su.A,onClick:$(Xi.lv.TWITTER),type:sr.TWITTER}},ie=[sr.FACEBOOK,sr.GOOGLE,sr.APPLE,sr.TWITTER,sr.LINE,sr.KAKAOTALK],re=0!==u.order.length?u.order.toLowerCase().split(","):ie,ae=Dn(),se=[...hr({isSignUp:D,brandName:c,platformList:Eu(D,re,p),enabledAce:ae,disable_platform:M.disable_platform,isMobile:a,standaloneAid:h,disableAll:Cr({disableStandaloneAppFlags:_,standaloneAid:h,standaloneAppVersion:v,os:l}),os:l}),sr.EMAIL,sr.PHONE,sr.TIKTOK];return N&&se.push(sr.QR),b&&(ne[b].lastLoginMethod=!0),e.filter(e=>se.includes(e)).map(e=>ne[e])},Iu=e=>{var t;const o=(0,tn.W)(()=>["abTestVersion"],[]),n=null!==(t=un(null==o?void 0:o.abTestVersion,"last_login_method"))&&void 0!==t?t:"v1",{pathname:i}=(0,Pe.zy)(),r=Gr(i),{lastLoginMethod:a}=(0,Ti.U)(()=>["lastLoginMethod"],[]);return(0,m.useMemo)(()=>{var t;const o=Ou(null!==(t=null!=a?a:cu().get(Pu))&&void 0!==t?t:"");return"v3"===n&&void 0!==o&&e.includes(o)&&!r?[o,...e.filter(e=>e!==o)]:e},[e,r,a,n])};var Ru=o(57061),Mu=o.n(Ru),Du=o(4627);const Fu=(0,Wt.A)("h2",{target:"e1521l5b1"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont"}),{fontSize:"32px",margin:"16px auto",fontWeight:"bold",textAlign:"center",wordWrap:"break-word"}],"label:H2Title;"),Nu=(0,Wt.A)("div",{target:"e1521l5b3"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"15px",display:"flex",justifyContent:"space-between",marginBottom:"5px"}],"label:DivDescription;"),Uu=(0,Wt.A)("div",{target:"e1521l5b4"})(({theme:e})=>[{marginTop:"20px",border:"1px solid",borderColor:e.colors.LineSecondary2,padding:"13px",borderRadius:"2px",width:"100%",position:"relative",":before":{content:'""',height:"16px",position:"absolute",background:e.colors.BGPrimary,width:"16px",top:"-8px",left:"rtl"===e.direction?"unset":"calc(50% - 8px)",right:"rtl"===e.direction?"calc(50% - 8px)":"unset",borderInlineEnd:`1px solid ${e.colors.LineSecondary2}`,borderTop:`1px solid ${e.colors.LineSecondary2}`,transform:"rotateZ(-45deg)"}}],"label:DivPhoneNotRegistered;"),Bu=(0,Wt.A)("p",{target:"e1521l5b5"})(({theme:e,link:t})=>[{fontSize:"12px",lineHeight:"17px",color:t?e.colors.Primary:e.colors.TextPrimary,fontWeight:600,margin:"0 0 8px",cursor:"pointer"}],"label:PPhoneNotRegistered;"),Hu=(0,Wt.A)("input",{target:"e1521l5b6"})({width:"1px",height:"1px",border:"none",outline:"none",position:"fixed",top:"0px",left:"0px"},"label:InputPasskeyHack;");var zu=o(78400),Yu=o(98686);function Wu(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Vu(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var Gu=function(e){return e.Init="init",e.GetCode="new",e.Scanned="scanned",e.Confirmed="confirmed",e.Expired="expired",e.Refused="refuse",e.Error="error",e.NeedRetry="need_retry",e}({});class $u extends Di.E{setStatus(e,t){e.status=t}setInQRCodePage(e,t){e.inQrcodePage=t,t&&(e.status="init")}setGetQrcodeResult(e,t){const{qrCodeUrl:o,clientSecret:n,token:i,ttWid:r}=t;e.token=i,e.clientSecret=n,e.qrCodeUrl=o,e.status="new",e.ttWid=r}getQrCodeUrl(e){return e.pipe((0,Li.Z)(()=>this.service.getQrCodeUrl({next:"https://www.tiktok.com"}).pipe((0,Li.Z)(e=>{const{token:t,qrcode_index_url:o,ttwid_migration_ticket:n}=e;if(!t||!o)return(0,Oi.of)(this.getActions().setStatus("need_retry"));const i=function(e=8){const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let o="";for(let n=0;n<e;n++)o+=t[Math.ceil(35*Math.random())];return o}(),{appType:r=""}=(0,y.x)(),a=Zi().parse(decodeURIComponent(o).split("?")[1]),{next_url:s}=a,l=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(a,["next_url"]),c=`${s}?client_secret=${i}`,d=`${decodeURIComponent(o).split("?")[0]}?${Zi().stringify(Object.assign(Object.assign({},l),{app_type:r,next_url:c}))}`;return this.shortenQrUrl(d).pipe((0,Mi.T)(e=>{var o;return this.getActions().setGetQrcodeResult({token:t,clientSecret:i,qrCodeUrl:null!==(o=e.short_url)&&void 0!==o?o:d,ttWid:null!=n?n:""})}))}))))}checkQrConnect(e){return e.pipe((0,Ei.E)(this.state$),(0,Li.Z)(([{ttpConfig:e,oldStatus:t},{token:o="",clientSecret:n="",ttWid:i=""}])=>this.checkQrcodeRequest({token:o,clientSecret:n,ttpConfig:e,oldStatus:t,ttWid:i}).pipe((0,Mi.T)(e=>{const{status:t,error_code:o,description:n}=e;return o?((0,er.P)(n),this.getActions().setStatus("error")):this.getActions().setStatus(t)}))))}shortenQrUrl(e){return this.fetch.post("https://www.tiktok.com/shorten/",{query:{safe_token:"true"},body:(0,Ki.stringify)({belong:"tiktok-webapp-qrcode",persist:0,expired_time:3600,targets:e})}).pipe((0,Mi.T)(e=>{var t;return null!==(t=e.data[0])&&void 0!==t?t:{status:"failed",short_url:void 0}}),(0,Qi.W)(e=>(this.loginSlardar.qrCodeShortenFailed({code:`${e.code}`}),(0,Oi.of)({status:"failed",short_url:void 0}))))}checkQrcodeRequest(e){const{token:t,clientSecret:o,ttpConfig:n,oldStatus:i,ttWid:r=""}=e,{open:a,syncSeverList:s}=n||{},l=a?s:[{name:"gloable",domain:""}];return(0,sd.p)(l.map(e=>this.service.checkQrconnect({token:null!=t?t:"",next:"https://www.tiktok.com",baseURL:e.domain,ttWid:r}))).pipe((0,Li.Z)(e=>{const t=e.find(e=>e.client_secret===o);for(const n of e){const{status:e,client_secret:r,error_code:a,description:s}=t||n;if(this.state.inQrcodePage&&("init"===e||"new"===e||e===i))throw new Error("user not scanned, need check agin");return r===o?(0,Oi.of)({status:e}):a?(0,Oi.of)({error_code:a,description:s}):(0,Oi.of)({status:e})}return(0,Oi.of)(this.noop())}),(0,zu.l)(e=>e.pipe((0,Yu.o)(()=>(0,rd.O)(800)))))}constructor(e,t,o){super(),this.service=e,this.fetch=t,this.loginSlardar=o,this.defaultState={status:"init",inQrcodePage:!1}}}Wu([(0,Fi.uk)(),Vu("design:type",void 0===Ai.c?Object:Ai.c)],$u.prototype,"dispose$",void 0),Wu([(0,Fi.h5)(),Vu("design:type",Function),Vu("design:paramtypes",["undefined"==typeof QRCodeModuleState?Object:QRCodeModuleState,void 0===Gu?Object:Gu]),Vu("design:returntype",void 0)],$u.prototype,"setStatus",null),Wu([(0,Fi.h5)(),Vu("design:type",Function),Vu("design:paramtypes",["undefined"==typeof QRCodeModuleState?Object:QRCodeModuleState,Boolean]),Vu("design:returntype",void 0)],$u.prototype,"setInQRCodePage",null),Wu([(0,Fi.h5)(),Vu("design:type",Function),Vu("design:paramtypes",["undefined"==typeof QRCodeModuleState?Object:QRCodeModuleState,Object]),Vu("design:returntype",void 0)],$u.prototype,"setGetQrcodeResult",null),Wu([(0,Fi.Mj)(),Vu("design:type",Function),Vu("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Vu("design:returntype",void 0)],$u.prototype,"getQrCodeUrl",null),Wu([(0,Fi.Mj)(),Vu("design:type",Function),Vu("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Vu("design:returntype",void 0)],$u.prototype,"checkQrConnect",null),$u=Wu([(0,Ni.nV)("QRCodeModule"),Vu("design:type",Function),Vu("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===_t.p?Object:_t.p,void 0===Te.VU?Object:Te.VU])],$u);const qu=o.p+"c4c40812758dc8175106.png",Ku=o.p+"0dbff97a224480a207b4.png";function Zu(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M5.37 15.63V2.49a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7.67a20.18 20.18 0 1 1-3.9 21.7.96.96 0 0 1 .57-1.27l1.88-.69c.52-.18 1.1.08 1.31.59a16.19 16.19 0 1 0 2.41-16.86h8.87a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H7.37a2 2 0 0 1-2-2Z"}))}function Ju(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M24 46a22 22 0 1 1 0-44 22 22 0 0 1 0 44Zm-.59-11.72 11.18-17.66a1 1 0 0 0-.3-1.38l-1.95-1.23a1 1 0 0 0-1.38.3l-9.65 15.25-5.6-6.33a1 1 0 0 0-1.41-.09l-1.72 1.53a1 1 0 0 0-.09 1.41l7.5 8.47a2.15 2.15 0 0 0 3.42-.27Z"}))}(0,nl.r)(Zu),(0,nl.r)(Ju);const Qu="1px solid #F2F2F2",Xu=(0,Wt.A)("div",{target:"eot7zvz0"})(({theme:e,isTtincar:t})=>[{display:"flex",marginTop:"48px",justifyContent:"center",padding:e.isMobile?"0 32px":"unset"},t&&[{justifyContent:"center"},(0,va.jJ)({min:Us,style:{marginTop:"200px"}}),(0,va.Ee)({max:720,style:{marginTop:"40px"}}),(0,va.Ee)({min:1770,style:{marginTop:"537px"}})]],"label:DivQRContentBody;"),ep=(0,Wt.A)("div",{target:"eot7zvz1"})(({theme:e})=>[{display:"flex",justifyContent:"center",padding:e.isMobile?"0 32px":"unset"},e.isMobile&&(0,va.jJ)({min:Us,style:{justifyContent:"center",marginTop:"80px"}})],"label:DivQRPopupContentBody;"),tp=(0,Wt.A)("div",{target:"eot7zvz2"})(({theme:e})=>[{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:e.isMobile?"0 32px":"unset"}],"label:DivQRPopupContentBodyVertical;"),op=(0,Wt.A)("h2",{target:"eot7zvz4"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont"}),{fontSize:"12px",marginTop:"16px",marginBottom:"14px",textAlign:"center",wordWrap:"break-word"}],"label:H2QRBottomRightPopupTitle;"),np=(0,Wt.A)("div",{target:"eot7zvz5"})(({theme:e})=>[{width:"100%"},e.isMobile&&(0,va.jJ)({min:Us,style:[{width:"360px"}]})],"label:DivTextContainer;"),ip=(0,Wt.A)("div",{target:"eot7zvz6"})(({theme:e})=>[{width:"100%",height:"208px",borderRadius:"11px",border:Qu,margin:"auto",justifyContent:"center",display:"flex",alignItems:"center"},e.isMobile&&(0,va.jJ)({min:Us,style:{width:"360px",height:"360px",marginTop:"40px",background:"rgba(242, 242, 242, 1)"}})],"label:DivCodeImage;"),rp=(0,Wt.A)("div",{target:"eot7zvz7"})(({popupType:e})=>({width:e===ls.O.QR_BOTTOM_RIGHT?"104px":"311px",height:e===ls.O.QR_BOTTOM_RIGHT?"104px":"184px",borderRadius:"11px",border:e===ls.O.QR_BOTTOM_RIGHT?"none":Qu,margin:"auto",justifyContent:"center",display:"flex",alignItems:"center"}),"label:DivCodePopupImage;"),ap=(0,Wt.A)("div",{target:"eot7zvz8"})(({theme:e,showLoginOptionSlider:t})=>({width:"190px",height:"190px",backgroundColor:"#fff",borderRadius:"24px",border:Qu,margin:t?"22px auto 14px":"8px auto 8px",boxShadow:e.isDark?"0 2px 15px rgba(255, 255, 255, 0.3), 0 0px 10px rgba(255, 255, 255, 0.5)":"0 2px 12px rgba(0, 0, 0, 0.12)",justifyContent:"center",display:"flex",alignItems:"center"}),"label:DivQRCodePopupImageRedesign;"),sp=(0,Wt.A)("img",{target:"eot7zvz9"})(({theme:e,popupType:t})=>[{width:t===ls.O.QR_BOTTOM_RIGHT?"104px":"174px",height:t===ls.O.QR_BOTTOM_RIGHT?"104px":"174px",borderRadius:"11px",background:"#FFFFFF",padding:"12px",margin:"auto"},e.isMobile&&(0,va.jJ)({min:Us,style:{width:"280px",height:"280px"}})],"label:ImgCode;"),lp=(0,Wt.A)("div",{target:"eot7zvz11"})(({theme:e})=>[(0,va.mp)({direction:e.direction}),{position:"absolute",display:"flex",flexDirection:"column",width:"176px",height:"176px",backgroundColor:e.colors.BGReverse2,borderRadius:"12px",padding:"0 24px",justifyContent:"center",alignItems:"center"},e.isMobile&&(0,va.jJ)({min:Us,style:{width:"280px",height:"280px",padding:"0"}})],"label:DivCodeMask;"),cp=(0,Wt.A)("div",{target:"eot7zvz12"})(({theme:e,popupType:t})=>[(0,va.mp)({direction:e.direction}),{position:"absolute",display:"flex",flexDirection:"column",width:t===ls.O.QR_BOTTOM_RIGHT?"108px":"152px",height:t===ls.O.QR_BOTTOM_RIGHT?"108px":"152px",backgroundColor:e.colors.BGReverse2,borderRadius:"12px",padding:"0 24px",justifyContent:"center",alignItems:"center"}],"label:DivPopupCodeMask;"),dp=(0,Wt.A)("div",{target:"eot7zvz13"})(({theme:e})=>[(0,va.mp)({direction:e.direction}),{position:"absolute",display:"flex",flexDirection:"column",width:"174px",height:"174px",backgroundColor:e.isDark?"rgba(22, 24, 35, 0.7)":"rgba(250, 250, 250, 0.7)",borderRadius:"12px",padding:"0 24px",justifyContent:"center",alignItems:"center"}],"label:DivPopupCodeMaskRedesign;"),up=(0,Wt.A)("span",{target:"eot7zvz14"})({fontSize:"42px",height:"30px",marginBottom:"24px"},"label:SpanSuccessIcon;"),pp=(0,Wt.A)("p",{target:"eot7zvz15"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont"}),{fontWeight:600,lineHeight:"20px",fontSize:"14px",color:e.colors.TextPrimary},e.isMobile&&(0,va.jJ)({min:Us,style:{fontWeight:700,lineHeight:"44px",fontSize:"28px"}})],"label:PCodeTip;"),gp=(0,Wt.A)("p",{target:"eot7zvz16"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont"}),{fontWeight:600,lineHeight:"20px",fontSize:"12px",color:e.colors.TextPrimary}],"label:PPopupCodeTip;"),mp=(0,Wt.A)("div",{target:"eot7zvz17"})({width:"100%",marginTop:"24px"},"label:DivStepContainer;"),hp=(0,Wt.A)("p",{target:"eot7zvz20"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),{fontSize:"16px",lineHeight:"20px",marginBottom:"4px",svg:{verticalAlign:"middle"}},e.isMobile&&(0,va.jJ)({min:Us,style:{lineHeight:"38px",fontSize:"24px"}})],"label:PStep;"),vp=(0,Wt.A)("div",{target:"eot7zvz22"})({fontSize:"20px",lineHeight:1.3,textAlign:"center",fontWeight:500,color:"rgba(0, 0, 0, 1)"},"label:DivText;"),_p=(0,Wt.A)(Zu,{target:"eot7zvz23"})(({theme:e})=>({cursor:"pointer",fill:e.colors.TextPrimary,width:"28px",height:"28px"}),"label:StyledRefreshIcon;"),fp=(0,Wt.A)(Ju,{target:"eot7zvz24"})({width:"24px",height:"24px",fill:"rgba(11, 224, 155, 1)"},"label:StyledTickIcon;"),bp=()=>{var e;const t=(0,xi.s)(K.i_.Login),o=(0,xi.s)(K.i_.WebApp),n=Ld(),{ttpConfig:r}=(0,Ti.U)(()=>["ttpConfig"],[]),a=(0,qa.mZ)(e=>e.popupType),{appId:s,region:l}=(0,xo.L$)((0,tn.W)(()=>["appId","region"],[])),{isMobile:c}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),[{qrCodeUrl:d,status:u},{getQrCodeUrl:p,checkQrConnect:g,setInQRCodePage:h,setStatus:v}]=(0,en.Su)($u),{handleLoginResult:_}=(0,en.wA)(Gi.$),{isTtincar:f}=Rn(),{search:b}=(0,Pe.zy)(),{enter_method:y}=(0,on.parse)(b),{isInRedesignLoginPopupTreatment:w,showLoginOptionSlider:k}=Un(),[{isModal:S}]=(0,en.Su)(Pi.t),C=null!==(e="mandatory"===y)&&void 0!==e&&e,x=f&&C,P="https://sf-static.tiktokcdn.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/logo.png",T=(0,ke.Nj)(Te.VU),O=(0,m.useCallback)(()=>{p()},[p]),A=(0,m.useCallback)(()=>{v(Gu.Init),p()},[v]);(0,m.useEffect)(()=>{return h(!0),O(),e=ye.nf.getTrackingInfo(),ht.f.sendEvent("show_qr_login",e),T.qrCodeShow(),()=>{h(!1)};var e},[]),(0,m.useEffect)(()=>{var e;u===Gu.Scanned&&(e=ye.nf.getTrackingInfo(),ht.f.sendEvent("scan_QR_login",e),T.scanQrCode(),g({ttpConfig:r,oldStatus:Gu.Scanned})),u===Gu.Confirmed&&(n(Hi.WN.Qrcode),_({error_code:0,region:l})),[Gu.Expired,Gu.Refused,Gu.Error].includes(u)&&O()},[g,_,u,r,l,O]),(0,m.useEffect)(()=>{d&&g({ttpConfig:r})},[g,d,r]);const E=Ee(Boolean(d));return a===ls.O.QR_BOTTOM_RIGHT?(0,i.FD)(i.FK,{children:[(0,i.Y)(op,{"data-e2e":"qr-page-title",children:o("desktopWeb_dynamicBottom_scanLogIn")}),(0,i.Y)(ep,{children:(0,i.Y)(np,{children:(0,i.FD)(rp,{popupType:a,"data-e2e":"qr-code",children:[d?(0,i.Y)(Du.QRCode,{size:100,value:d,qrStyle:"dots",logoImage:P,removeQrCodeBehindLogo:!0,logoPadding:2,logoPaddingStyle:"square",eyeRadius:2,style:{borderRadius:"16px"}}):(0,i.Y)(sp,{src:1233===s?qu:Ku,alt:"qrcode",onLoad:E,popupType:a}),Gu.NeedRetry===u&&(0,i.Y)(cp,{popupType:a,onClick:A,children:(0,i.Y)(up,{children:(0,i.Y)(_p,{})})}),[Gu.Scanned,Gu.Confirmed].includes(u)&&(0,i.FD)(cp,{popupType:a,children:[(0,i.Y)(up,{children:(0,i.Y)(fp,{})}),(0,i.Y)(gp,{children:t("common_login_qrcode_status_scanned")})]}),u===Gu.Init&&(0,i.Y)(cp,{popupType:a,children:(0,i.Y)($a.R,{center:!0,size:"small"})})]})})})]}):w?(0,i.Y)(i.FK,{children:(0,i.FD)(tp,{children:[(0,i.FD)(ap,{"data-e2e":"qr-code",showLoginOptionSlider:k,children:[d?(0,i.Y)(Du.QRCode,{size:140,value:d,qrStyle:"dots",logoImage:P,removeQrCodeBehindLogo:!0,logoPadding:2,logoPaddingStyle:"square",eyeRadius:2,style:{borderRadius:"20px"}}):(0,i.Y)(sp,{src:1233===s?qu:Ku,alt:"qrcode",onLoad:E,popupType:a}),Gu.NeedRetry===u&&(0,i.Y)(dp,{onClick:A,children:(0,i.Y)(up,{children:(0,i.Y)(_p,{})})}),[Gu.Scanned,Gu.Confirmed].includes(u)&&(0,i.FD)(dp,{children:[(0,i.Y)(up,{children:(0,i.Y)(fp,{})}),(0,i.Y)(gp,{children:t("common_login_qrcode_status_scanned")})]}),u===Gu.Init&&(0,i.Y)(dp,{children:(0,i.Y)($a.R,{center:!0,size:"small"})})]}),!S&&(0,i.FD)(mp,{"data-e2e":"qr-body",children:[(0,i.Y)(hp,{children:t("tiktoktv_login_modal_loginscreen_scanqr1")},1),(0,i.Y)(hp,{children:t("tiktoktv_login_modal_loginscreen_scanqr2")},2)]})]})}):(0,i.FD)(i.FK,{children:[c?(0,i.Y)(tl,{showLeft:!x,from:"qr-code",title:t("common_login_qrcode_title")}):(0,i.Y)(Fu,{"data-e2e":"qr-page-title",children:t("common_login_qrcode_title")}),(0,i.Y)(Xu,{isTtincar:f,children:(0,i.FD)(np,{children:[f&&(0,i.Y)(vp,{children:t("v2_car_onboarding_loginPageQRScan_body")}),(0,i.FD)(ip,{"data-e2e":"qr-code",children:[d?(0,i.Y)(Mu(),{size:f?300:170,value:d,style:{borderRadius:"11px",background:"#FFFFFF",padding:"12px"}}):(0,i.Y)(sp,{src:1233===s?qu:Ku,alt:"qrcode",onLoad:E}),Gu.NeedRetry===u&&(0,i.Y)(lp,{onClick:A,children:(0,i.Y)(up,{children:(0,i.Y)(_p,{onClick:A})})}),[Gu.Scanned,Gu.Confirmed].includes(u)&&(0,i.FD)(lp,{children:[(0,i.Y)(up,{children:(0,i.Y)(fp,{})}),(0,i.Y)(pp,{children:t("common_login_qrcode_status_scanned")})]}),u===Gu.Init&&(0,i.Y)(lp,{children:(0,i.Y)($a.R,{center:!0,size:"small"})})]}),!f&&(0,i.FD)(mp,{"data-e2e":"qr-body",children:[(0,i.Y)(hp,{children:t("tiktoktv_login_modal_loginscreen_scanqr1")},1),(0,i.Y)(hp,{children:t("tiktoktv_login_modal_loginscreen_scanqr2")},2)]})]})})]})},yp=(0,m.memo)(function({disabled:e,children:t}){const{loginModalSwitchPath:o}=(0,en.Ph)(gs);return o?(0,i.Y)(Xr.Ay,{disabled:e,autoFocus:!1,children:t}):(0,i.Y)(i.FK,{children:t})});function wp(){var e;const{pathname:t}=(0,Pe.zy)(),o=Gr(t),{platformConfig:n,platformConfigV2:i,lastLoginMethod:r}=(0,Ti.U)(()=>["platformConfig","platformConfigV2","lastLoginMethod"],[]),{isRedesign:a,isSheetStyle:s}=Lu(),l=a?i:n,c=Md();let d=[sr.QR,sr.EMAIL,...l.order.toLowerCase().split(",").filter(e=>!lr.includes(e))];const u=Ou(null!==(e=null!=r?r:cu().get("last_login_method"))&&void 0!==e?e:"");return s&&u&&d.includes(u)&&!o&&(d=[u,...d.filter(e=>e!==u)]),c&&!o&&d.unshift(sr.TIKTOK),d}const kp=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,xi.s)(K.i_.WebApp),{query:o}=(0,T.xw)(),n="1"===o.pure,{isRedesign:r,isSheetStyle:a}=Lu(),[s,l]=(0,m.useState)(null),[c,d]=(0,m.useState)(!1),{loginType:u}=(0,Ti.U)(()=>["loginType"],[]),{isMobile:p,hashedIP:g}=(0,xo.L$)((0,Po.U)(()=>["isMobile","playerInfo","hashedIP"],[])),[h,v]=(0,m.useState)(!1),{isMobileUiOptimize:_}=Mn(),f=(0,en.wA)(gs),b=wp(),[{loginModalShow:y,closeCallback:w,isGuestMode:k,isGuestModeUI:S},{setLoginModalShow:C,setCloseCallback:x,setGroupId:P,setIsLoginOnLoadClosed:O}]=(0,qa.MR)(e=>({loginModalShow:e.loginModalShow,closeCallback:e.closeCallback,isGuestMode:e.isGuestMode,isGuestModeUI:e.isGuestModeUI}),gn.bN),{showLoginOptionButton:A}=Un(),{isInVerification:E,isInBasicTreatment:L}=Fn(),j=ni(),I=(0,ke.Nj)(Hi.$F),R=Iu(b);let M=ju(R);A&&y&&(M=M.filter(e=>"qr"!==e.type));const{loginTitle:D,loginSlogan:F,signUpSlogan:N,signUpTitle:U,thirdPlatformConfig:B}=(0,Ti.U)(()=>["loginTitle","loginSlogan","signUpSlogan","signUpTitle","thirdPlatformConfig"],[]),{pathname:H,search:z}=(0,Pe.zy)(),Y=(0,Ti.M)(),W=(0,tn.W)(()=>["abTestVersion","user","webIdCreatedTime","region"],[]),V=(0,xo.L$)((0,Po.U)(()=>["vgeo"],[])),{vgeo:G}=V,$=Je(H),q=un(null==W?void 0:W.abTestVersion,"periodic_login_popup_interval"),Z=(0,m.useMemo)(()=>[{expId:"webapp_guest_mode",segmentId:"segment_default",versionId:k?"v12":"v1",propertyList:["cta_style","login_text","signup_text","close_icon"]}],[k]),{cta_style:J="default",login_text:Q="pcWeb_guestLogin_without",signup_text:X="pcWeb_guestLogin_withoutSignup"}=(0,m.useMemo)(()=>function(e,t){const o={},n=function(e){const t=e.reduce((e,t)=>{const{expId:o,segmentId:n,versionId:i,propertyList:r}=t;return o&&n&&i?(r.forEach(t=>{const r={expId:o,segmentId:n,versionId:i,propertyName:t};e[t]=e[t]||[],e[t].push(r)}),e):e},{});return t}(t);for(const[t,i]of Object.entries(n)){const n=ms(e,i);o[t]=n}return o}(hs,Z),[Z]),[ee,te]=(0,m.useState)(!1);!function(){const{pathname:e}=(0,Pe.zy)(),t=Gr(e),{user:o}=(0,xo.L$)((0,tn.W)(()=>["user"],[])),n=(0,ke.Nj)(Hi.$F),i=(0,ke.Nj)(Te.VU),r=Md(),{getOneTapToken:a}=(0,en.wA)(Od);(0,m.useEffect)(()=>{o||!r||t||(n.oneTapShow({e2eInfo:ye.nf.getTrackingInfo()}),i.oneTapBtnShow(),a())},[o,r])}(),(0,m.useEffect)(()=>{te(k||S)},[k,S]);let oe=D;"v3"!==q&&"v5"!==q||(oe="login_popup_modal_header"),r&&(oe="ttlive_enhanceLogin_logInPg_title");const ne=(0,Pe.W6)(),ie=(0,m.useMemo)(()=>{var e;return!(null===(e=(0,on.parse)(z))||void 0===e?void 0:e.hide_left_icon)},[z]),re=Gr(H),ae=(0,m.useMemo)(()=>({isMobileUiOptimize:p&&_}),[p,_]),se=(0,m.useCallback)(()=>(0,i.Y)(xl,Object.assign(Object.assign({"data-e2e":re?"sign-up-title":"login-title",id:"login-modal-title"},ae),{children:u!==ar.Gb.SEOCardNonLogin||re?e(re?U:oe,{},ar.fN):t(oe,{},ar.fN)})),[e,re,oe,u,ae,U,t]),le=(0,m.useCallback)(()=>{if(y&&u!==ar.Gb.LoginM3)return null;const o=r?"ttlive_enhanceLogin_logInPg_desc":F,n=u!==ar.Gb.LoginM3?e(re?N:o,{},ar.R2):t(o,{},ar.R2),a=re?"sign-up-desc":"login-desc";return(0,i.Y)(Cl,Object.assign(Object.assign({"data-e2e":a},ae),{children:n}))},[e,r,re,y,F,u,ae,N,t]),ce=(0,m.useCallback)(e=>{e.keyCode===rs.D.Tab&&v(!0)},[]),de=(0,m.useCallback)(()=>{d(!0),vs({page_name:$})},[]),[ue,pe]=(0,m.useState)(!0);(0,m.useEffect)(()=>{var e;pe(!k&&!S||p||!y||"1"===(null!==(e=localStorage.getItem("guest-mode-flag"))&&void 0!==e?e:"0")&&!S)},[S,k,p,y]);const ge=pi(),me=(0,m.useCallback)(()=>{var e;C(!1),localStorage.setItem("guest-mode-flag","1"),localStorage.setItem("timeOfLastPopup",Date.now().toString());const t=(0,Io.uh)(G,!1);I.updateTeaDataCollectionEnabled(t),I.loginNotifyClose({isSignUp:re?"1":"0",e2eInfo:ye.nf.getTrackingInfo()}),f.setLoginModalInitialState(),w(),x(cs.l),P(void 0),O({isLoginOnLoadClosed:!0}),(E||L)&&j.maybeGenerateAndReportGlobalWidInfo({enterMethod:"post_guest_mode",hashedIP:g,region:null!==(e=null==W?void 0:W.region)&&void 0!==e?e:""})},[C,I,re,f,w,x,P,O,ge]),he=Dn(),ve=(0,m.useCallback)((e,t)=>()=>{var o,n;if(null===(n=(null!==(o=null==B?void 0:B.platforms)&&void 0!==o?o:{})[e])||void 0===n?void 0:n.enableAce)return l(e),void _s();e===sr.FACEBOOK&&!re&&he?(l(e),_s()):t()},[re,he,B]),_e=t=>t.map(t=>(0,i.Y)(fl,{text:e(t.starlingText),Icon:t.icon,onClick:ve(t.type,t.onClick),floatingBannerText:!t.lastLoginMethod||(null==W?void 0:W.user)||re?void 0:e("encouragePreviousLoginPlatform_loginPage_loginBadge_body"),focusable:!0,loading:t.loading,effect:t.effect,buttonTheme:r&&t.type===sr.TIKTOK?"coin":"default"},t.starlingText)),fe=(0,m.useCallback)(()=>{te(!1)},[]),be=(0,m.useCallback)(e=>{e.keyCode===rs.D.Enter&&te(!1)},[te]);let we;const Se=un(null==W?void 0:W.abTestVersion,"new_guest_mode_hot"),Ce=un(null==W?void 0:W.abTestVersion,"new_guest_mode_other"),Oe=(0,on.parse)(z).enter_from,Ae="homepage_hot"===Oe||"explore"===Oe;Oe&&(Ae&&"v1"===Se||!Ae&&"v1"===Ce)&&(we="pcWeb_guestLogin_without");const Le="text"===J,je=Le?e(re?"common_registration_panel_entry_1":"common_login_panel_entry_1").replace("%s"," "):e("guestmode_signup_or"),Ie=Le?"default":J,Re=re?X:null!=we?we:Q,Me=(0,m.useCallback)(()=>{l(null),fs()},[]),De=(0,m.useCallback)(()=>{l(null),bs();const e=y?z:"",t=xe.tH.loginPhoneOrEmail+e;ne.push(t)},[y,z,ne]);Ee();const{redirectUrl:Fe}=(0,en.Ph)(Pi.t),{onClose:Ne}=Fd(),Ue=(0,m.useMemo)(()=>Ne?()=>Ne({redirectUrl:Fe}):"1"===o.back_on_close?()=>{ne.goBack()}:void 0,[Ne,Fe]),Be=Md();return(0,i.FD)(i.FK,{children:[p&&(0,i.Y)(tl,{showClose:!0,showLeft:ie,onClose:Ue,isSheet:a}),!p&&y&&!re&&A&&ue?(0,i.FD)(Sl,{isMobile:p,onKeyDown:ce,children:[se(),(0,i.Y)(Cl,{children:t(ar.p$.scanQRDescKey,{},ar.p$.scanQRDescDefault)}),(0,i.Y)(bp,{}),(0,i.FD)(xs,{children:[(0,i.Y)(Ps,{}),(0,i.Y)(Ts,{children:t("guestmode_signup_or",{},"OR")}),(0,i.Y)(Ps,{})]}),c?(0,i.FD)(Tl,{hideGuestMode:ue,isModal:y,children:[le(),(0,i.FD)(yp,{disabled:h,children:[_e(ee&&!ue?M.slice(0,4):M),ee&&!ue&&M.length>4&&(0,i.Y)(ys,{onClick:fe,onKeyDown:be,tabIndex:0,role:"button",children:(0,i.Y)(ds.A,{})})]})]}):(0,i.Y)(Al,{children:(0,i.Y)(fl,{text:t(ar.p$.otherOptionsKey,{},ar.p$.otherOptionsDefault),onClick:de,focusable:!0},ar.p$.otherOptionsKey)})]}):(0,i.FD)(Sl,{isMobile:p,onKeyDown:ce,children:[se(),(0,i.FD)(Pl,{hideGuestMode:ue,isModal:y,children:[le(),(0,i.FD)(yp,{disabled:h,children:[_e(ee&&!ue?M.slice(0,4):M),ee&&!ue&&M.length>4&&(0,i.Y)(ys,{onClick:fe,onKeyDown:be,tabIndex:0,role:"button",children:(0,i.Y)(ds.A,{})})]})]}),(()=>{if(!ue)return Le?(0,i.Y)(Ml,{isButtonStyle:!0}):(0,i.FD)(i.FK,{children:[(0,i.FD)(xs,{children:[(0,i.Y)(Ps,{}),(0,i.Y)(Ts,{children:je}),(0,i.Y)(Ps,{})]}),(0,i.Y)(Ol,{children:(0,i.Y)(fl,{text:e(Re),onClick:me,buttonTheme:Ie,focusable:!0},"login-guest-button")})]})})()]}),!(null==Y?void 0:Y.hideCTA)&&p&&!n&&(0,i.Y)(od,{}),(0,i.Y)(nd,{isMobile:p,visible:!!s,platform:s,onOtherLogin:De,onClose:Me}),Be&&(0,i.Y)(su,{})]})},Sp=(0,Wt.A)(jl,{target:"ep888o80"})({fontSize:"12px",display:"inline-block"},"label:StyledLink;"),Cp=(0,m.memo)(function(e){const{text:t,path:o,replace:n,textTheme:r}=e;return(0,i.Y)(Sp,{path:o,text:t,replace:n,textTheme:r,onClick:e.onClick})});var xp=o(13749);function Pp(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Tp(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Op extends Di.E{setPassword(e,t){e.password=t}setHasInvalid(e,t){e.hasInvalid=t}setLengthValid(e,t){e.lengthValid=t}setContentValid(e,t){e.contentValid=t}updatePassword(e){return e.pipe((0,Li.Z)(({value:e})=>{const{hasInvalid:t,contentValid:o,lengthValid:n}=(0,xp.lY)(e);return(0,Oi.of)(this.getActions().setPassword(e),this.getActions().setHasInvalid(t),this.getActions().setLengthValid(n),this.getActions().setContentValid(o))}))}constructor(...e){super(...e),this.defaultState={password:""}}}Pp([(0,Fi.uk)(),Tp("design:type",void 0===Ai.c?Object:Ai.c)],Op.prototype,"dispose$",void 0),Pp([(0,Fi.h5)(),Tp("design:type",Function),Tp("design:paramtypes",["undefined"==typeof SetPasswordModuleState?Object:SetPasswordModuleState,String]),Tp("design:returntype",void 0)],Op.prototype,"setPassword",null),Pp([(0,Fi.h5)(),Tp("design:type",Function),Tp("design:paramtypes",["undefined"==typeof SetPasswordModuleState?Object:SetPasswordModuleState,Object]),Tp("design:returntype",void 0)],Op.prototype,"setHasInvalid",null),Pp([(0,Fi.h5)(),Tp("design:type",Function),Tp("design:paramtypes",["undefined"==typeof SetPasswordModuleState?Object:SetPasswordModuleState,Object]),Tp("design:returntype",void 0)],Op.prototype,"setLengthValid",null),Pp([(0,Fi.h5)(),Tp("design:type",Function),Tp("design:paramtypes",["undefined"==typeof SetPasswordModuleState?Object:SetPasswordModuleState,Object]),Tp("design:returntype",void 0)],Op.prototype,"setContentValid",null),Pp([(0,Fi.Mj)(),Tp("design:type",Function),Tp("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Tp("design:returntype",void 0)],Op.prototype,"updatePassword",null),Op=Pp([(0,Ni.nV)("SetPasswordModule")],Op);var Ap=o(65421);const Ep={handleLinkPhoneOrEmailPopupShow:e=>{ht.f.sendEvent("link_phone_number_notify",{enter_method:e.enterMethod})},clickLinkPhoneNumber:()=>{ht.f.sendEvent("click_link_phone_number")},linkPhoneNumberSuccess:()=>{ht.f.sendEvent("link_phone_number_success")},clickLinkEmail:()=>{ht.f.sendEvent("click_link_email")},linkEmailSuccess:()=>{ht.f.sendEvent("link_email_success")},ClickFeedback:()=>{ht.f.sendEvent("feedback")}};function Lp(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function jp(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Ip extends Di.E{setSuccess(e){e.success=!0}setErrorMsg(e,t){e.errorMsg=t}setBindPhoneLoading(e,t){e.bindPhoneLoading=t}setBindEmailLoading(e,t){e.bindEmailLoading=t}checkAndBindPhone(e){return e.pipe((0,Li.Z)(e=>this.service.validateAndBindPhone(e).pipe((0,Mi.T)(e=>this.getActions().handleCheckResult(Object.assign(Object.assign({},e),{isPhone:!0}))),(0,Ii.Z)(this.getActions().setBindPhoneLoading(!0)),(0,Ri.q)(this.getActions().setBindPhoneLoading(!1)))))}checkAndBindEmail(e){return e.pipe((0,Li.Z)(e=>this.service.validateAndBindEmail(e).pipe((0,Mi.T)(e=>this.getActions().handleCheckResult(Object.assign(Object.assign({},e),{isPhone:!1}))),(0,Ii.Z)(this.getActions().setBindEmailLoading(!0)),(0,Ri.q)(this.getActions().setBindEmailLoading(!1)))))}handleCheckResult(e){return e.pipe((0,Li.Z)(e=>{const{error_code:t,description:o,isPhone:n}=e;return t?(0,Oi.of)(this.getActions().setErrorMsg(o)):((0,er.P)(this.t(n?"login_fb_phoneLinked_toast":"login_fb_emailLinked_toast")),n?Ep.linkPhoneNumberSuccess():Ep.linkEmailSuccess(),(0,Oi.of)(this.getActions().setSuccess()))}))}constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={bindPhoneLoading:!1,bindEmailLoading:!1}}}Lp([(0,Fi.uk)(),jp("design:type",void 0===Ai.c?Object:Ai.c)],Ip.prototype,"dispose$",void 0),Lp([(0,Fi.h5)(),jp("design:type",Function),jp("design:paramtypes",["undefined"==typeof BindPhoneOrEmailModuleState?Object:BindPhoneOrEmailModuleState]),jp("design:returntype",void 0)],Ip.prototype,"setSuccess",null),Lp([(0,Fi.h5)(),jp("design:type",Function),jp("design:paramtypes",["undefined"==typeof BindPhoneOrEmailModuleState?Object:BindPhoneOrEmailModuleState,String]),jp("design:returntype",void 0)],Ip.prototype,"setErrorMsg",null),Lp([(0,Fi.h5)(),jp("design:type",Function),jp("design:paramtypes",["undefined"==typeof BindPhoneOrEmailModuleState?Object:BindPhoneOrEmailModuleState,Boolean]),jp("design:returntype",void 0)],Ip.prototype,"setBindPhoneLoading",null),Lp([(0,Fi.h5)(),jp("design:type",Function),jp("design:paramtypes",["undefined"==typeof BindPhoneOrEmailModuleState?Object:BindPhoneOrEmailModuleState,Boolean]),jp("design:returntype",void 0)],Ip.prototype,"setBindEmailLoading",null),Lp([(0,Fi.Mj)(),jp("design:type",Function),jp("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),jp("design:returntype",void 0)],Ip.prototype,"checkAndBindPhone",null),Lp([(0,Fi.Mj)(),jp("design:type",Function),jp("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),jp("design:returntype",void 0)],Ip.prototype,"checkAndBindEmail",null),Lp([(0,Fi.Mj)(),jp("design:type",Function),jp("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),jp("design:returntype",void 0)],Ip.prototype,"handleCheckResult",null),Ip=Lp([(0,Ni.nV)("BindPhoneOrEmailModule"),function(e,t){return function(e,o){t(e,o,1)}}(0,(0,Ui.y)(ce.hp)),jp("design:type",Function),jp("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===Bi.I18NTranslate?Object:Bi.I18NTranslate])],Ip);var Rp=o(89370),Mp=o(74285),Dp=o(30573);function Fp(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Np(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Up extends Di.E{setErrorMsg(e,t){e.errorMsg=t}setTicket(e,t){e.ticket=t}setType(e,t){e.type=t}setForceResetTicket(e,t){e.conditional_login_ticket=t}setCheckCodeLoading(e,t){e.checkCodeLoading=t}checkEmailCodeForReset(e){return e.pipe((0,Li.Z)(e=>this.service.validateEmailCodeForReset(e).pipe((0,Mi.T)(e=>(e.resetType=ar.Sk.Email,this.getActions().handleCheckResult(e))),(0,Ii.Z)(this.getActions().setCheckCodeLoading(!0)),(0,Ri.q)(this.getActions().setCheckCodeLoading(!1)))))}checkPhoneCodeForReset(e){return e.pipe((0,Li.Z)(e=>this.service.validatePhoneCodeForReset(e).pipe((0,Mi.T)(e=>(e.resetType=ar.Sk.Phone,this.getActions().handleCheckResult(e))),(0,Ii.Z)(this.getActions().setCheckCodeLoading(!0)),(0,Ri.q)(this.getActions().setCheckCodeLoading(!1)))))}checkCodeForForceReset(e){return e.pipe((0,Li.Z)(e=>{var{type:t}=e,o=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["type"]);return(t===ar.Sk.Email?this.service.validateEmailCodeForForceReset(o):this.service.validatePhoneCodeForForceReset(o)).pipe((0,Mi.T)(e=>(e.resetType=t,e.forceTicket=o.conditional_login_ticket,this.getActions().handleCheckResult(e))),(0,Ii.Z)(this.getActions().setCheckCodeLoading(!0)),(0,Ri.q)(this.getActions().setCheckCodeLoading(!1)))}))}handleCheckResult(e){return e.pipe((0,Li.Z)(e=>{const{ticket:t,description:o,resetType:n,forceTicket:i}=e;return t?(this.history.push(xe.tH.resetPassword),(0,Oi.of)(this.getActions().setTicket(t),this.getActions().setType(n),this.getActions().setForceResetTicket(i))):(0,Oi.of)(this.getActions().setErrorMsg(o))}))}constructor(e,t){super(),this.service=e,this.history=t,this.defaultState={checkCodeLoading:!1,ticket:"",type:ar.Sk.Phone}}}function Bp(e=[]){var t,o;const[{errorMsg:n},i]=(0,en.Su)(Gi.$),[{errorMsg:r},a]=(0,en.Su)(Ap.H),[{errorMsg:s},l]=(0,en.Su)(Ip),{phone:c,areaCode:d}=(0,en.Ph)($i.U),{email:u}=(0,en.Ph)(Rp.N),[{code:p},{clearGetCodeError:g}]=(0,en.Su)(Mp.m),{password:h}=(0,en.Ph)(Op),[{errorMsg:v},{setErrorMsg:_,setErrorCode:f}]=(0,en.Su)(Wr),{setErrorMsg:b}=(0,en.wA)(Up),{abTestVersion:y}=null!==(t=(0,tn.W)(()=>["abTestVersion"],[]))&&void 0!==t?t:{},w=null!==(o=un(y,"login_modal_ui_revamp"))&&void 0!==o?o:"v1",[k,S]=(0,m.useState)(""),C=n||r||v||s,x=(0,xi.s)(K.i_.Login),{pathname:P}=(0,Pe.zy)();return(0,m.useEffect)(()=>{C&&("v1"===w&&P===xe.tH.loginHome||P===xe.tH.signupAgeGate?(0,er.P)(x(C)):S(C))},[x,C,P]),(0,m.useEffect)(()=>{i.clearLoginResult(),a.setErrorMsg(""),l.setErrorMsg(""),g(),S(""),b("")},[c,d,u,p,i,a,l,h,...e]),(0,m.useEffect)(()=>()=>{i.clearLoginResult(),a.clearSignUpResult(),g(),S(""),_(""),f(0)},[]),k}function Hp(){const{phone:e,areaCode:t}=(0,en.Ph)($i.U),{email:o}=(0,en.Ph)(Rp.N),[{code:n,getCodeErrorMsg:i},{clearGetCodeError:r}]=(0,en.Su)(Mp.m);return(0,m.useEffect)(()=>{r()},[e,t,o,n,r]),i}function zp(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M38.88 41.7a1 1 0 0 0 1.41 0l1.42-1.4a1 1 0 0 0 0-1.42l-3.86-3.86a24.57 24.57 0 0 0 6.27-9.69 1 1 0 0 0 0-.66C41 15.8 32.66 9 23 9c-3.27 0-6.35.73-9.12 2.05L9.12 6.29a1 1 0 0 0-1.41 0L6.29 7.71a1 1 0 0 0 0 1.41l32.59 32.59Zm-22-27.66A17.8 17.8 0 0 1 23 13c12.75 0 17 12 17 12s-1.38 3.9-4.93 7.25l-4.54-4.55A7.99 7.99 0 0 0 23 17c-.95 0-1.86.16-2.7.47l-3.43-3.43ZM1.87 24.67a24.64 24.64 0 0 1 5.8-9.23l2.77 2.78C7.25 21.46 6 25 6 25s4.25 12 17 12a18 18 0 0 0 5.42-.8l3.05 3.05A21.2 21.2 0 0 1 23 41c-9.83 0-17.93-6.63-21.13-15.67a1 1 0 0 1 0-.66Z"}),m.createElement("path",{d:"M15 25c0-.68.08-1.35.24-1.98l9.74 9.73A8.02 8.02 0 0 1 15 25Z"}))}function Yp(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M41.4 23.71a.9.9 0 0 1 0 .58c-.63 1.92-2.2 4.89-4.82 7.51A17.35 17.35 0 0 1 24 37.11c-5.42 0-9.55-2.28-12.58-5.3a20.44 20.44 0 0 1-4.82-7.52.9.9 0 0 1 0-.58c.63-1.92 2.2-4.89 4.82-7.51A17.35 17.35 0 0 1 24 10.89c5.42 0 9.55 2.28 12.58 5.3a20.44 20.44 0 0 1 4.82 7.52ZM24 41c13.83 0 20.82-11.7 21.96-16.81a.85.85 0 0 0 0-.38C44.82 18.71 37.83 7 24 7S3.18 18.7 2.04 23.81a.85.85 0 0 0 0 .38C3.18 29.29 10.17 41 24 41Z"}),m.createElement("path",{d:"M24 27.21a3.21 3.21 0 1 1 0-6.42 3.21 3.21 0 0 1 0 6.42Zm0 4.29a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15Z"}))}Fp([(0,Fi.uk)(),Np("design:type",void 0===Ai.c?Object:Ai.c)],Up.prototype,"dispose$",void 0),Fp([(0,Fi.h5)(),Np("design:type",Function),Np("design:paramtypes",["undefined"==typeof CheckDigitCodeModuleState?Object:CheckDigitCodeModuleState,String]),Np("design:returntype",void 0)],Up.prototype,"setErrorMsg",null),Fp([(0,Fi.h5)(),Np("design:type",Function),Np("design:paramtypes",["undefined"==typeof CheckDigitCodeModuleState?Object:CheckDigitCodeModuleState,String]),Np("design:returntype",void 0)],Up.prototype,"setTicket",null),Fp([(0,Fi.h5)(),Np("design:type",Function),Np("design:paramtypes",["undefined"==typeof CheckDigitCodeModuleState?Object:CheckDigitCodeModuleState,void 0===ar.Sk?Object:ar.Sk]),Np("design:returntype",void 0)],Up.prototype,"setType",null),Fp([(0,Fi.h5)(),Np("design:type",Function),Np("design:paramtypes",["undefined"==typeof CheckDigitCodeModuleState?Object:CheckDigitCodeModuleState,String]),Np("design:returntype",void 0)],Up.prototype,"setForceResetTicket",null),Fp([(0,Fi.h5)(),Np("design:type",Function),Np("design:paramtypes",["undefined"==typeof CheckDigitCodeModuleState?Object:CheckDigitCodeModuleState,Boolean]),Np("design:returntype",void 0)],Up.prototype,"setCheckCodeLoading",null),Fp([(0,Fi.Mj)(),Np("design:type",Function),Np("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Np("design:returntype",void 0)],Up.prototype,"checkEmailCodeForReset",null),Fp([(0,Fi.Mj)(),Np("design:type",Function),Np("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Np("design:returntype",void 0)],Up.prototype,"checkPhoneCodeForReset",null),Fp([(0,Fi.Mj)(),Np("design:type",Function),Np("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Np("design:returntype",void 0)],Up.prototype,"checkCodeForForceReset",null),Fp([(0,Fi.Mj)(),Np("design:type",Function),Np("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Np("design:returntype",void 0)],Up.prototype,"handleCheckResult",null),Up=Fp([(0,Ni.nV)("CheckDigitCodeModule"),Np("design:type",Function),Np("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===Dp.D?Object:Dp.D])],Up),(0,nl.r)(zp),(0,nl.r)(Yp);var Wp=o(23359),Vp=o(75778),Gp=function(e){return e.TikTokLogo="accessibilityLabels_forYou_nav_tiktok_btn",e.SearchSug="accessibilityLabels_search_suggestions",e.SearchBtn="accessibilityLabels_search_button",e.UploadBtn="accessibilityLabels_forYou_nav_upload_btn",e.MessageBtn="accessibilityLabels_forYou_nav_messages_btn",e.InboxBtn="accessibilityLabels_forYou_btn_inbox",e.SettingBtn="accessibilityLabels_forYou_nav_settings_btn",e.EffectsBtn="accessibilityLabels_nav_effects_btn",e.LanguageSelection="accessibilityLabels_settings_language",e.DarkModeOff="accessibilityLabels_settings_darkModeOff",e.DarkModeOn="accessibilityLabels_settings_darkModeOn",e.BackToSettingList="accessibilityLabels_forYou_nav_language_back_btn",e.SkipNavigation="accessibilityLabels_home_skipContentFeed",e}({}),$p=function(e){return e.PasswordHidden="accessibilityLabels_login_modal_eyeClosedIcon",e.PasswordShown="accessibilityLabels_login_modal_eyeOpenIcon",e.BackToSignUp="accessibilityLabels_signup_form_back",e.BackToLogin="accessibilityLabels_login_form_back",e.SelectorYear="accessibilityLabels_signup_form_placeholder_year",e.SelectorMonth="accessibilityLabels_signup_form_placeholder_month",e.SelectorDay="accessibilityLabels_signup_form_placeholder_day",e.PhoneCountryCode="accessibilityLabels_login_form_placeholder_countryCode",e.PhoneCodeLoginTitle="accessibilityLabels_phoneLogin_form_title",e.EmailLoginTitle="accessibilityLabels_emailLogin_form_title",e.PhoneCodeSignUpTitle="accessibilityLabels_phoneSignup_form_title",e.EmailSignUpTitle="accessibilityLabels_emailSignup_form_title",e}({}),qp=o(63390),Kp=o(36166),Zp=o(69239),Jp=o(8385),Qp=o(89600),Xp=o(65631);function eg(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class tg{get passkeySDK(){return this.psk||(this.psk=new Jp.De),this.psk}get deviceContent(){if(!this._deviceContent){const{wid:e}=(0,y.x)(),t=(0,Me.Ny)(navigator.userAgent);this._deviceContent={device_id:e,device_platform:t?"web_mobile":"web_pc",device_type:t?"mobile":"PC"}}return this._deviceContent}beginRegistration$(e){const{entrance:t,region:o}=e,n=this.lastGetChallenge[t];return n&&Date.now()-n[0]<24e4?(0,Oi.of)(n[1]):this.accountSDKService.makeRequest({url:"/passport/web/fido2/begin_user_registration/",method:"POST",slardarMethodName:"passkeyBeforeRegistration",data:{aid:1459,entrance:t,support_webview:1},params:{sys_region:o}},{}).pipe((0,it.M)(e=>{if("error"===e.message||0!==e.data.error_code)return;const o=Date.now();this.lastGetChallenge[t]=[o,e]}))}finishRegistration$(e,t){var o;const{entrance:n,region:i}=t,{deviceContent:r}=this,a=(0,qp.preformatCreatedCredential)(e);return this.accountSDKService.makeRequest({url:"/passport/web/fido2/finish_user_registration/",method:"POST",slardarMethodName:"passkeyFinishRegistration",data:{aid:1459,credential_creation_data:JSON.stringify(a),relying_party_origin:"tiktok.com",support_webview:1,webauthn_ticket:null!==(o=e.webauthnSession)&&void 0!==o?o:"",entrance:n},params:Object.assign({sys_region:i},r)},{}).pipe((0,it.M)(e=>{var t,o;if("error"===e.message||0!==e.data.error_code){var i;const n=new Error(null!==(t=zi.j9[e.data.error_code])&&void 0!==t?t:" Sorry, something went wrong, please try again later");throw n.error_code=null!==(o=null==e||null===(i=e.data)||void 0===i?void 0:i.error_code)&&void 0!==o?o:-1,n}this.lastGetChallenge[n]=null}))}startConditionalCredential(e){this.running||(this.running=(0,Mc.h)((0,rd.O)(0,240100),this.autoCredentialFailure$).pipe((0,ji.n)(()=>{const t=new AbortController;return this.startPasskeyLogin$(!e,t)}),(0,it.M)(e=>{this.autoCredential$.next(e)})).subscribe())}beginNormalCredentialGet$(){return this.startPasskeyLogin$(!1)}finishLogin$(e){const{deviceContent:t}=this,o=(0,qp.preformatGottenCredential)(e);return this.regionService.getUserRegions({credential:e.id}).pipe((0,Li.Z)(()=>{var e;return this.accountSDKService.makeRequest({url:"/passport/web/fido2/finish_discoverable_user_login/",method:"POST",slardarMethodName:"passkeyFinishLogin",data:{aid:1459,credential_assertion_data:JSON.stringify(o),passkey:o.id,support_webview:1,webauthn_ticket:null!==(e=o.webauthnSession)&&void 0!==e?e:""},params:Object.assign({},t)},{}).pipe((0,it.M)(e=>{var t;0===(null===(t=e.data)||void 0===t?void 0:t.error_code)&&(this.lastGetChallenge.beginLogin=null)}),(0,Mi.T)(e=>e.data))}))}beginLogin$(){if(this.lastGetChallenge.beginLogin){const[e,t]=this.lastGetChallenge.beginLogin;if(Date.now()-e<24e4)return(0,Oi.of)(t)}return this.accountSDKService.makeRequest({url:"/passport/web/fido2/begin_discoverable_user_login/",method:"POST",slardarMethodName:"passkeyBeforeLogin",data:{aid:1459,support_webview:1}},{}).pipe((0,it.M)(e=>{var t;if("error"===e.message||0!==e.data.error_code)throw new Error(null!==(t=e.data.description)&&void 0!==t?t:"Sorry, something went wrong, please try again later");const o=Date.now();this.lastGetChallenge.beginLogin=[o,e]}))}startPasskeyLogin$(e,t){return this.beginLogin$().pipe((0,na.p)(o=>{const n=(0,Qp.v)(()=>{var n;const{data:i}=o,r=Date.now();return this.passkeySDK.login({Challenge:i.challenge,AllowedCredentials:null!==(n=i.allowedCredentials)&&void 0!==n?n:null,Timeout:i.timeout,UserVerification:i.userVerification,RPID:i.rpId,Extensions:i.extensions,WebauthnSession:i.webauthn_ticket},e,void 0,null==t?void 0:t.signal).catch(e=>{let t=zi.Kq.UnknownPasskeyError;if(e instanceof DOMException&&"NotAllowedError"===e.name)throw t=Date.now()-r>=i.timeout?-3:-2,new tr.Qd({error_code:t,report_msg:`Passkey login error ${e.message}`});throw e})});return t?n.pipe((0,Kp.j)(()=>{t.abort()})):n}))}constructor(e,t){this.accountSDKService=e,this.regionService=t,this.autoCredential$=new Zp.B,this.autoCredentialFailure$=new Zp.B,this.psk=null,this.lastGetChallenge={},this.running=null,this._deviceContent=null}}tg.failureValue=Symbol("credential failure"),tg=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)({name:"PasskeyService@tiktok/login"}),eg("design:type",Function),eg("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===Xp.d?Object:Xp.d])],tg);const og=e=>e?e.toLowerCase().replace(" ","_"):"$OTHERS",ng=()=>{const{userAgent:e}=(0,T.T6)(),t=new cd.UAParser(e),o=t.getBrowser(),n=t.getEngine();return{inferred_app:og(o.name),browser_name:og(o.name),browser_version:og(o.version),browser_engine:og(n.name)}},ig=()=>{const{userAgent:e}=(0,T.T6)(),{os:t}=(0,cd.UAParser)(e);return t};function rg(){return e=this,t=void 0,n=function*(){try{var e;const t=yield null===(e=navigator.userAgentData)||void 0===e?void 0:e.getHighEntropyValues(["platformVersion"]);return!!t&&"Windows"===navigator.userAgentData.platform&&parseInt(t.platformVersion.split(".")[0])>=13}catch(e){return!1}},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n}const ag="Sorry, something went wrong, please try again later";function sg(){const e=function(){var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[]));return null!==(e=un(t,"login_passkey"))&&void 0!==e?e:"v0"}();return(0,m.useMemo)(()=>"v2"===e||"v4"===e?"autofill":"v1"===e||"v3"===e?"button":"none",[e])}function lg(){const e=(0,ke.Nj)(tg),{handleLoginResult:t}=(0,en.wA)(Gi.$),{pathname:o}=(0,Pe.zy)(),n=Gr(o),i=Ad(),r=function(){const e=(0,ke.Nj)(Hi.$F),t=(0,ke.Nj)(Te.le);return(0,m.useCallback)(o=>{const n=ye.nf.getTrackingInfo();e.setPlatform(o.platform),e.loginFailure({error_code:o.errorCode,signUp:o.signUp,e2eInfo:n}),t.setPlatform(o.platform),t.loginFailure(o)},[t,e])}(),a=(0,xi.s)(K.i_.Login);return(0,m.useCallback)(o=>o.pipe((0,ji.n)(o=>{if(!o)throw new Error("Auth stopped cause no credential");return or.K.show(),i({platform:Hi.WN.Passkey,signUp:n,forgetPwd:!1,extraParams:{login_panel_type:"passkey_login"}}),e.finishLogin$(o).pipe((0,it.M)(e=>{var o;0!==e.error_code&&(0,er.P)(a(null!==(o=zi.j9[e.error_code])&&void 0!==o?o:ag)),t(e)}),(0,Kp.j)(()=>{or.K.hide()}))}),(0,Qi.W)((t,o)=>{var i,s,l;console.error("auth error",t),e.autoCredentialFailure$.next(tg.failureValue);let c=`auth error ${t}`;return(0,tr.mi)(t)&&(c=t.report_msg),(0,tr.u7)(t)&&(c=t.message),(0,tr.gQ)(t)&&(c=t.description),r({platform:Hi.WN.Passkey,errorCode:null!==(s=null!==(i=t.error_code)&&void 0!==i?i:t.errorCode)&&void 0!==s?s:zi.Kq.UnknownPasskeyError,signUp:n,forgetPwd:!1,errorMsg:c}),"TimeoutError"===t.name||t instanceof DOMException&&"AbortError"===t.name||(0,er.P)(null!==(l=t.message)&&void 0!==l?l:a(ag)),o})),[t,r,i,e,n,a])}function cg(e){const t=(0,ke.Nj)(Hi.$F),{pathname:o}=(0,Pe.zy)();return(0,m.useCallback)(()=>{t.event(Hi.$F.EVENTS.CursorClick,{action:e,login_panel_type:Gr(o)?"signup":t.loginPanelType,is_passkey_eligible:t.isPasskeyEligible})},[e,t,o])}function dg(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M19 4a10 10 0 1 0 0 20 10 10 0 0 0 0-20ZM19 27C8.06 27 2 34.92 2 41.44 2 45 4 45 11 45h9.5a6 6 0 0 1 1.81-5.48l5.15-4.78a11.5 11.5 0 0 1-.14-5.94A19.06 19.06 0 0 0 19 27Z"}),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.5 24a7.5 7.5 0 0 0-6.34 11.51l-8.07 8.08 2.82 2.82 2.84-2.83 2.84 2.83 2.82-2.82-2.83-2.84 2.55-2.55A7.5 7.5 0 1 0 38.5 24ZM35 31.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Z"}))}(0,nl.r)(dg);const ug=(0,Wt.A)("button",{target:"e13mgq8k0"})(({theme:e})=>({flex:"0 0 36px",height:"36px",alignSelf:"center",display:"block",padding:"6px",fontSize:"0px",border:"none",color:e.colors.UIText3,marginRight:"-8px",cursor:"pointer","&:hover":{backgroundColor:e.colors.UIShapeNeutral4}}),"label:ButtonPasskey;"),pg=(0,Wt.A)(dg,{target:"e13mgq8k1"})({display:"block",width:"24px",height:"24px"},"label:StyledPasskeyBtn;"),gg=function(){const{handler:e,passkeyType:t}=function(){const e=(0,m.useMemo)(()=>new Zp.B,[]),t=(0,ke.Nj)(tg),o=sg(),n=lg();return(0,m.useEffect)(()=>{if("button"!==o)return;const i=n(e.pipe((0,na.p)(()=>t.beginNormalCredentialGet$()))).subscribe();return()=>{i.unsubscribe()}},[e]),{handler:(0,m.useCallback)(()=>{"none"!==o&&e.next()},[e,o]),passkeyType:o}}(),o=(0,ke.Nj)(Hi.$F),n=(0,m.useCallback)(()=>{e(),o.event(Hi.$F.EVENTS.PasskeyClick,{login_panel_type:"passkey_login"})},[e,o]);return"button"!==t?null:(0,i.Y)(ug,{onClick:n,type:"button",children:(0,i.Y)(pg,{})})},mg=(0,Wt.A)("div",{target:"etcs7ny0"})({position:"relative",marginBottom:"9px"},"label:DivInputContainer;"),hg=(e,t,o)=>e?{background:"transparent",border:"none",borderRadius:"0",paddingInlineStart:"0px",borderBottom:t?"1px solid":"none"}:{borderRadius:"2px",backgroundColor:o.BGInput,border:t?"1px solid":"none",paddingInlineStart:"12px"},vg=(0,Wt.A)("input",{target:"etcs7ny1"})(({theme:{colors:e,isMobile:t},border:o=!1,errorState:n=!1,hasIconPadding:i})=>[hg(t,o,e),{"::placeholder":{color:e.TextQuaternary},color:n?e.Negative:e.TextPrimary,lineHeight:"100%",outline:"none",fontSize:"16px",height:"44px",caretColor:e.Primary,width:"100%",borderColor:n?e.Negative:e.LineSecondary2,paddingInlineEnd:i?"24px":"unset"}],"label:InputContainer;"),_g=(0,Wt.A)("div",{target:"etcs7ny2"})(({theme:e})=>[(0,va.mp)({direction:e.direction,end:"0"}),{display:"flex",alignItems:"center",position:"absolute",top:0,height:"44px",paddingInlineEnd:e.isMobile?"4px":"16px"}],"label:DivIconContainer;"),fg=(0,Wt.A)("i",{target:"etcs7ny3"})({lineHeight:"0",marginInlineStart:"16px",cursor:"pointer",fontSize:"20px",opacity:"50%"},"label:IPasswordIcon;"),bg=(0,Wt.A)("i",{target:"etcs7ny4"})(({theme:e})=>[{fontSize:"16px",lineHeight:"0",color:e.colors.LineInverse}],"label:IDeleteIcon;"),yg=(0,m.memo)(function(e){const{errorState:t,enablePasskey:o,value:n,placeholder:r,password:a=!1,className:s,border:l=!0,style:c,autocomplete:d,name:u,autoFocus:p,disableDelete:g,readonly:h=!1,onInput:v=()=>{},onChange:_=()=>{}}=e,f=(0,xi.s)(),[b,y]=(0,m.useState)("text"),{isMobile:w}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[]));(0,m.useEffect)(()=>{a&&y("password")},[a]);const k=(0,m.useCallback)(()=>{y("text")},[]),S=(0,m.useCallback)(()=>{y("password")},[]),C=(0,m.useCallback)(()=>{const e={target:{value:""}};_(e),v(e)},[_,v]),x=(0,m.useCallback)(e=>{_(e)},[_]),P=(0,m.useCallback)(e=>{e.keyCode!==rs.D.Enter&&e.keyCode!==rs.D.Space||(e.preventDefault(),e.stopPropagation(),"password"===b?k():S())},[S,k,b]),T=Boolean((null==n?void 0:n.length)&&w&&!g),O=a&&(!w||g),A=O||T;!function(e){const t=(0,ke.Nj)(tg),o=sg(),n=lg();(0,m.useEffect)(()=>{if("autofill"!==o||!e)return;let i=null;const{name:r}=ig();return"Windows"===r?rg().then(e=>{const o=!e;t.startConditionalCredential(o),i=n(t.autoCredential$).subscribe()}):(t.startConditionalCredential(!1),i=n(t.autoCredential$).subscribe()),()=>{null==i||i.unsubscribe()}},[])}(o);const E=o?[d,"webauthn"].filter(Boolean).join(" "):d;return(0,i.FD)(mg,{className:s,style:c,children:[(0,i.Y)(vg,{autoFocus:p,value:n,type:b,inputMode:e.inputMode,errorState:t,placeholder:r,onChange:x,onFocus:e.onFocus,onBlur:e.onBlur,onInput:e.onInput,onClick:e.onClick,border:l,autoComplete:E,name:u,readOnly:h,hasIconPadding:A}),(0,i.FD)(_g,{children:[t&&!w&&(0,i.Y)(Wp.A,{fill:"rgba(254, 44, 85, 1.0)"}),O&&("password"===b?(0,i.Y)(fg,{onClick:k,onKeyDown:P,tabIndex:0,role:"button","aria-label":f($p.PasswordHidden),"aria-pressed":!1,children:(0,i.Y)(zp,{})}):(0,i.Y)(fg,{onClick:S,onKeyDown:P,tabIndex:0,role:"button","aria-label":f($p.PasswordShown),"aria-pressed":!0,children:(0,i.Y)(Yp,{})})),T&&(0,i.Y)(bg,{onClick:C,children:(0,i.Y)(Vp.A,{})}),o&&(0,i.Y)(gg,{})]})]})}),wg=(0,Wt.A)(to,{target:"e1w6iovg0"})(({theme:e})=>[{width:"100%",marginTop:e.isMobile?"32px":"21px"}],"label:StyledButton;");const kg=e=>{const{children:t}=e,o=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["children"]);return(0,i.Y)(wg,Object.assign(Object.assign({type:"submit",buttonTheme:"primary",size:"largeNew"},o),{children:t}))},Sg=(0,Wt.A)("div",{target:"e3v3zbj0"})(({theme:e,type:t})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont"}),{fontSize:"12px",lineHeight:"15px",margin:"4px 0",color:"error"===t?e.colors.Negative:"success"===t?e.colors.Positive:e.colors.TextTertiary,display:"flex",svg:{marginInlineEnd:"4px"}}],"label:DivTextContainer;"),Cg=(0,m.memo)(({text:e,type:t="default",children:o,style:n,errorIcon:r})=>(0,i.FD)(Sg,{type:t,style:n,"aria-live":"assertive",children:[r&&(0,i.Y)(Wp.A,{fill:"rgba(254, 44, 85, 1.0)","aria-hidden":!0}),o,(0,i.Y)("span",{role:"status",children:e})]}));var xg=o(86149);const Pg=(0,Wt.A)("div",{target:"e1mtjw290"})(({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",padding:"4px 0 0",textAlign:"center",margin:"auto",overflow:"hidden"}),"label:DivContainer;"),Tg=(0,Wt.A)("h5",{target:"e1mtjw291"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"20px",lineHeight:"24px",padding:"24px",margin:"0"}],"label:H5Title;"),Og=(0,Wt.A)(xg.K,{target:"e1mtjw292"})(({theme:e})=>({width:"100%",borderRadius:"0",height:"48px",fontWeight:600,border:"none",borderTop:`1px solid ${e.colors.LineSecondary2}`,"&:last-child":{color:e.colors.TextTertiary2}}),"label:StyledButton;"),Ag={width:"80%",maxWidth:"400px",background:"transparent"},Eg=(0,m.memo)(({title:e,visible:t,actions:o})=>{const n=(0,xi.s)(K.i_.Login);return(0,i.Y)(Ja.aF,{contentStyle:Ag,visible:t,maskCloseable:!1,children:(0,i.FD)(Pg,{children:[(0,i.Y)(Tg,{children:n(e)}),o.map(({onClick:e,text:t},o)=>(0,i.Y)(Og,{onClick:e,children:n(t)},o))]})})}),Lg=(0,Wt.A)("div",{target:"e8ziav60"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"15px",lineHeight:"18px",margin:"20px 0 -12px 0"}],"label:DivText;");Lg.defaultProps=Object.assign(Object.assign({},Lg.defaultProps),{"data-e2e":"forgot-passport-button"});const jg=(0,m.memo)(function({onClickForgetEmailPwd:e}){const t=(0,Pe.W6)(),o=(0,xi.s)(K.i_.Login),[n,r]=(0,m.useState)(!1),a=(0,m.useCallback)(()=>{r(!0)},[]),s=(0,m.useCallback)(()=>{t.push(xe.tH.loginForgetPhonePassword)},[t]),l=(0,m.useCallback)(()=>{null==e||e(),t.push(xe.tH.loginForgetEmailPassword)},[t,e]),c=(0,m.useMemo)(()=>[{text:"Phone number",onClick:s},{text:"Email",onClick:l},{text:"common_registration_phone_input_popup_button",onClick:()=>r(!1)}],[l,s]);return(0,i.FD)(i.FK,{children:[(0,i.FD)(Lg,{onClick:a,children:[o("forget_password")," "]}),(0,i.Y)(Eg,{visible:n,actions:c,title:"common_login_reset_popup_title"})]})}),Ig=(0,m.memo)(function(e){const t=(0,xi.s)(K.i_.Login),{isMobile:o}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[]));return o?(0,i.Y)(jg,{onClickForgetEmailPwd:e.onClickForgetEmailPwd}):(0,i.Y)(Cp,{text:t("forget_password"),path:xe.tH.loginForgetEmailPassword,onClick:e.onClickForgetEmailPwd})}),Rg=(0,m.memo)(function(e){const t=(0,m.useCallback)(t=>{var o;t.preventDefault(),null===(o=e.onSubmit)||void 0===o||o.call(e)},[e]);return(0,i.Y)("form",{onSubmit:t,style:e.style,children:e.children})});var Mg=o(96973);const Dg=(0,Wt.A)("div",{target:"e1bi0g3c0"})({marginBottom:"9px"},"label:DivContainer;"),Fg=(0,Wt.A)("p",{target:"e1bi0g3c1"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{margin:"4px 0"}],"label:PDescriptionTitleContainer;"),Ng=(0,m.memo)(function(e){const{loginErrorText:t="",autoFocus:o,create:n=!0,loginError:r}=e,[{password:a,hasInvalid:s,lengthValid:l,contentValid:c},{updatePassword:d}]=(0,en.Su)(Op),{isMobile:u}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),p=(0,xi.s)(K.i_.Login),[g,h]=(0,m.useState)(!1),v=(0,m.useCallback)(()=>{h(!0)},[]),_=(0,m.useCallback)(()=>{h(!1)},[]),f=(0,m.useCallback)(e=>{d({value:e.target.value})},[d]),b=cg("password");(0,m.useEffect)(()=>()=>{d({value:""})},[]);const y=n&&(!1===l||!1===c)&&(u||!g),w=(!l||!c)&&a||g||u,k=!1!==l||!u&&g?!0===l?"success":"default":"error",S=!1!==c||!u&&g?!0===c?"success":"default":"error";return(0,i.FD)(Dg,{children:[(0,i.Y)(yg,{"data-e2e":"passward-input",autoFocus:o,placeholder:p("Password"),onFocus:v,onBlur:_,onChange:f,onClick:b,value:a,errorState:y||Boolean(t)||r,password:!0,autocomplete:"new-password",disableDelete:n}),Boolean(t)&&(0,i.Y)(Cg,{errorIcon:!0,text:p(t),type:"error"}),s&&(0,i.Y)(Cg,{errorIcon:u,text:p("createpw_error_6"),type:"error"}),w&&n&&(0,i.FD)(i.FK,{children:[(0,i.Y)(Fg,{children:p("common_registration_password_pc_text")}),(0,i.Y)(Cg,{text:p("common_registration_password_pc_1"),type:k,children:(0,i.Y)(Mg.A,{fill:"success"===k?"rgba(11, 224, 155, 1.0)":"rgba(22,24,35,.5)"})}),(0,i.Y)(Cg,{text:p("createpw_helptext_2"),type:S,children:(0,i.Y)(Mg.A,{fill:"success"===S?"rgba(11, 224, 155, 1.0)":"rgba(22,24,35,.5)"})})]})]})}),Ug=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),t=Ad(),{setEmail:o}=(0,en.wA)(Rp.N),[{loginLoading:n},{handlePasswordLogin:r}]=(0,en.Su)(Gi.$),{password:a,hasInvalid:s}=(0,en.Ph)(Op),[l,c]=(0,m.useState)(""),d=Bp([l]),u=(0,m.useCallback)(()=>{const e=(0,xp.Ro)(l)?l.trim():void 0;t({platform:e?Hi.WN.Email:Hi.WN.Username}),r({username:l.trim(),password:a,email:e})},[r,t,a,l]),p=(0,m.useCallback)(e=>{c(e.target.value)},[]),g=(0,m.useCallback)(()=>{(0,xp.Ro)(l)&&o(l.trim())},[l,o]),h=cg("email");return(0,i.FD)(Rg,{onSubmit:u,children:[(0,i.Y)(yg,{placeholder:e("Email or Username"),onChange:p,onClick:h,name:"username",value:l,"data-e2e":"email-input",enablePasskey:!0}),(0,i.Y)(Ng,{create:!1,loginError:Boolean(d)}),d&&(0,i.Y)(Cg,{text:e(d),type:"error"}),(0,i.Y)(Ig,{onClickForgetEmailPwd:g}),(0,i.Y)(kg,{disabled:!l||!a||s,loading:n,"data-e2e":"login-button",children:e("Login")})]})}),Bg=()=>{const e=(0,xi.s)(K.i_.Login),{showLoginOptionSlider:t}=Un();Ee();const o=Ld();return(0,m.useEffect)(()=>{o(Hi.WN.Email)},[]),(0,i.FD)(i.FK,{children:[!t&&(0,i.Y)(Fu,{id:"login-modal-title",children:e("Login")}),(0,i.FD)(Nu,{children:[e("Email or Username")," ",(0,i.Y)(Cp,{text:e("common_login_switch_phone"),path:xe.tH.loginPhone,replace:!0})]}),(0,i.Y)(Ug,{})]})};let Hg=!1;function zg(e,t){const{ttpConfig:o}=(0,Ti.U)(()=>["ttpConfig"],[]),n=(0,Pe.W6)(),i=function(){const{featureFlags:e}=(0,Ti.U)(()=>["featureFlags"],[]);return!!(null==e?void 0:e.showTipWhenEnterPhoneCodeLogin)&&!Hg}(),[r,a]=(0,m.useState)(null),[s,l]=(0,m.useState)(i),c=(0,m.useCallback)(()=>{a(null),l(!1),Hg=!0},[l]),d=(0,m.useCallback)((e=null)=>{a(e),l(!0)},[l]),p=(0,m.useCallback)(()=>{r&&t?n.push(t):n.push(e),c()},[n,c,e,r,t]),g=(0,m.useCallback)(e=>!e.isAxiosError||(d(e),!1),[d]);return o.preferPasswordLogin?{visible:s,closeModal:c,showModal:d,gotoPasswordLogin:p,errorInterceptor:g}:{visible:!1,closeModal:u(),showModal:u(),gotoPasswordLogin:u()}}const Yg=(0,s.Ay)(()=>o.e(780).then(o.bind(o,59780))),Wg=[xe.tH.loginEmail,xe.tH.loginPhone,xe.tH.signupPhone,xe.tH.signupEmail,xe.tH.loginHome,xe.tH.signupHome],Vg="signup-email-consent-label",Gg="phone-country-code-selector-wrapper";var $g=o(54502),qg=o(25948);const Kg=(0,Wt.A)("ul",{target:"e2hldqz0"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextPrimary"}),{padding:"0",margin:0}],"label:UlListContainer;"),Zg=(0,Wt.A)("li",{target:"e2hldqz1"})(({theme:e,selected:t})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextTertiary2"}),()=>t&&{backgroundColor:"rgba(22, 24, 35, .03)"},{display:"flex",padding:"0 12px",justifyContent:"space-between",alignItems:"center",height:"34px",lineHeight:"34px",fontSize:"13px"},{":hover":{backgroundColor:"rgba(22, 24, 35, .03)"}}],"label:LiListItem;"),Jg=(0,Wt.A)("span",{target:"e2hldqz2"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary"}),{paddingInlineEnd:"4px"}],"label:SpanItemName;"),Qg=(0,Wt.A)("span",{target:"e2hldqz3"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextSecondary"})],"label:SpanItemCode;"),Xg=(0,Wt.A)("li",{target:"e2hldqz4"})({margin:0,padding:0,display:"block"},"label:LiAreaCodeOptionWrapper;"),em=(0,Wt.A)("ul",{target:"e2hldqz5"})({margin:0,padding:0,display:"block",listStyleType:"none"},"label:UlAreaCodeOptionsGroupContainer;"),tm="area-number-pick-ul",om="#login-phone-search",nm=({filterCountryList:e=[],onSelected:t,searchText:o,currentSelectCode:n,matchSearchArea:r,onKeyDownWithEmptyResult:a})=>{const{isMobile:s}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),l=(0,xi.s)(K.i_.Login),c=RegExp(o.replace("+","\\+"),"ig"),d=(0,m.useCallback)(({code:e,shortname:o})=>()=>{t({code:e,area:o})},[t]),u=(0,m.useCallback)(e=>{var n;if(e.stopPropagation(),e.keyCode===rs.D.Tab&&e.shiftKey)return e.preventDefault(),void(null===(n=document.querySelector(om))||void 0===n||n.focus());if(e.keyCode!==rs.D.Enter&&e.keyCode!==rs.D.Space)e.keyCode!==rs.D.Tab||!o||r||null==a||a();else if(e.target){var i;const o=null===(i=e.target)||void 0===i?void 0:i.getAttribute("id");if(!o)return;const[n,r]=o.split("-");try{t({code:r,area:n})}catch(e){console.error(e)}}},[r,a,t,o]),p=(0,m.useCallback)(e=>{var t,o;try{var n,i;const a=Array.from(null!==(t=null===(n=document.querySelector(`#${tm}`))||void 0===n?void 0:n.children)&&void 0!==t?t:[]).reverse().find(e=>e.children.length>0);var r;(null===(i=Array.from(null!==(o=null==a?void 0:a.children)&&void 0!==o?o:[]).reverse())||void 0===i?void 0:i[0])===e.target&&(null===(r=document.querySelector(om))||void 0===r||r.focus())}catch(e){console.error(e)}},[]);return(0,i.FD)(Kg,{onKeyDown:u,id:tm,role:"listbox",children:[qg.W.map(t=>{const{label:r,lists:a}=t;return(0,i.Y)(Xg,{children:(0,i.Y)(em,{id:r,role:"group",children:a.map((t,r)=>{const{name:a,code:l,shortname:u}=t;if(-1!==e.indexOf(u))return null;if(o&&!(a.match(c)||`+${l}`.match(c)||u.match(c)))return null;const g=`${n}`==`${l}`;return(0,i.Y)(Zg,{index:r,id:`${u}-${l}`,selected:g,tabIndex:0,onClick:d({shortname:u,code:l}),onKeyDown:p,role:"option","aria-selected":g,children:s?(0,i.FD)(i.FK,{children:[(0,i.Y)(Jg,{children:a}),(0,i.Y)(Qg,{children:`+${l}`})]}):(0,i.FD)(i.FK,{children:[(0,i.Y)(Jg,{dangerouslySetInnerHTML:{__html:(m=`${a} +${l}`,o?m=m.replace(c,e=>`<span style="color: #20D5EC">${e}</span>`):m)}}),g&&(0,i.Y)($g.A,{width:16,height:16,fill:"#000"})]})},a+l);var m})},r)},r)}),o&&!r&&(0,i.Y)(Zg,{selected:!1,style:{justifyContent:"center"},role:"status",children:l("registration_phone_search_empty")})]})};var im=o(81825);const rm=(0,Wt.A)("div",{target:"emwsnhg0"})(({theme:{colors:e}})=>({top:"45px",height:"35px",width:"326px",boxSizing:"border-box",borderBottom:`1px solid ${e.LineSecondary}`,background:e.BGPrimary,marginTop:"4px",display:"flex",justifyContent:"space-between",flexShrink:0}),"label:DivSearchContainer;"),am=(0,Wt.A)("div",{target:"emwsnhg1"})(({theme:e})=>({margin:"0 15px",color:e.colors.LineInput,display:"flex",alignItems:"center"}),"label:DivSearchIcon;"),sm=(0,Wt.A)("input",{target:"emwsnhg2"})(({theme:e})=>({outline:"none",border:"none",flex:"1",color:e.colors.TextPrimary,background:e.colors.BGPrimary,caretColor:e.colors.Primary}),"label:InputSearch;"),lm=({searchText:e,onKeyDownWithEmptyResult:t})=>{const o=(0,xi.s)(K.i_.Login),{matchSearchArea:n}=(0,en.Ph)($i.U),{setAreaSearchText:r,selectAreaCode:a}=(0,en.wA)($i.U),s=(0,m.useCallback)(e=>{r(e.target.value)},[r]),l=(0,m.useCallback)(e=>{13===e.keyCode&&n&&a({code:n.code,area:n.shortname})},[n,a]),c=(0,m.useCallback)(o=>{o.keyCode===rs.D.Tab&&(e&&!n||o.shiftKey)&&(null==t||t())},[n,t,e]);return(0,m.useEffect)(()=>()=>{r("")},[r]),(0,i.FD)(rm,{children:[(0,i.Y)(am,{children:(0,i.Y)(im.A,{width:14,height:14})}),(0,i.Y)(sm,{id:"login-phone-search",autoFocus:!0,maxLength:35,onKeyUp:l,placeholder:o("registration_phone_search_placeholder"),onChange:s,onKeyDown:c})]})},cm=(0,Wt.A)("div",{target:"e1llxcni0"})(({theme:e,maxHeight:t})=>[(0,va.mp)({direction:e.direction,start:"0"}),{maxHeight:t||"320px",background:e.colors.BGPrimary,border:"0.5px solid rgba(22, 24, 35, 0.12)",boxSizing:"border-box",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:"4px",position:"absolute",top:"54px",display:"flex",flexDirection:"column",zIndex:2}],"label:DivSelectorContainer;"),dm=(0,Wt.A)("div",{target:"e1llxcni1"})({flex:"1",overflow:"auto"},"label:DivListWrapper;"),um=(0,Wt.A)("div",{target:"e1llxcni2"})({position:"fixed",zIndex:11,top:0,bottom:0,left:0,right:0,background:"#fff",overflowY:"auto"},"label:DivPageSelectorContainer;"),pm=(0,Wt.A)("div",{target:"e1llxcni3"})(({theme:e})=>[(0,va.mp)({direction:e.direction,paddingEnd:"32px",paddingStart:"16px"}),{marginTop:"44px",borderTop:`1px solid ${e.colors.LineSecondary}`}],"label:DivPageSelector;"),gm=e=>(0,i.FD)(cm,{id:Gg,maxHeight:e.maxHeight,children:[(0,i.Y)(lm,{searchText:e.searchText,onKeyDownWithEmptyResult:e.onKeyDownWithEmptyResult}),(0,i.Y)(dm,{children:(0,i.Y)(nm,{matchSearchArea:e.matchSearchArea,filterCountryList:e.filterCountryList,onSelected:e.onSelected,currentSelectCode:e.currentSelectCode,searchText:e.searchText,onKeyDownWithEmptyResult:e.onKeyDownWithEmptyResult})})]});function mm(e){const{region:t,appType:o}=(0,xo.L$)((0,tn.W)(()=>["region","appType"],[])),[n,i]=(0,en.Su)($i.U),{areaCode:r}=n;(0,m.useEffect)(()=>{if(!r){let n=!1;if(qg.W.forEach(({lists:e})=>e.forEach(({code:e,shortname:o})=>{o===t&&(n=!0,i.selectAreaCode({code:e,area:o}))})),!n){let t="m"===o?{code:1,area:"US"}:{code:81,area:"JP"};(null==e?void 0:e.find(e=>e===t.area))&&(t={code:1,area:"CA"}),i.selectAreaCode(t)}}},[o,t,r,i,e])}var hm=o(92681);const vm=(0,Wt.A)("div",{target:"ewblsjs0"})({marginBottom:"9px"},"label:DivContainer;"),_m=(0,Wt.A)(yg,{target:"ewblsjs1"})(({theme:e})=>({flex:1,width:0,marginBottom:"0","& > input":{background:"transparent!important","&:-webkit-autofill":{"-webkit-box-shadow":`0 0 0 30px ${e.isDark?"#3f3f3f":"#f1f1f2"} inset !important`,"-webkit-text-fill-color":e.colors.TextPrimary}}}),"label:StyledBaseInput;");_m.defaultProps=Object.assign(Object.assign({},_m.defaultProps),{"data-e2e":"phone-number-input"});const fm=(0,Wt.A)("div",{target:"ewblsjs2"})(({theme:{colors:e},errState:t})=>[{background:e.BGInput,border:`1px solid ${e.LineSecondary2}`,transition:"all 0.3s",borderRadius:"4px",display:"flex"},()=>t?{border:`1px solid ${e.Negative}`,input:{color:e.Negative}}:{}],"label:DivPhoneInputContainer;"),bm=(0,Wt.A)("div",{target:"ewblsjs3"})({position:"relative",cursor:"pointer"},"label:DivAreaSelectionContainer;"),ym=(0,Wt.A)("div",{target:"ewblsjs4"})(({theme:{colors:e,direction:t}})=>[{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",padding:"12px",height:"44px","::after":{content:'""',width:"1px",height:"30px",background:e.LineSecondary,right:"rtl"===t?"unset":"0",left:"rtl"===t?"0":"unset",position:"absolute"}}],"label:DivAreaLabelContainer;"),wm=(0,Wt.A)("span",{target:"ewblsjs5"})(({theme:{colors:e}})=>[{fontSize:"16px",lineHeight:1,color:e.TextPrimary,marginInlineEnd:"12px"}],"label:SpanLabelContainer;"),km=(0,Wt.A)(hm.A,{target:"ewblsjs7"})(({up:e})=>[{transform:e?"rotateZ(180deg)":"rotateZ(0deg)",transition:"all .3S"}],"label:StyledArrowIcon;"),Sm=(0,m.memo)(function({errorStatus:e,filterCountryList:t,enablePasskey:o}){mm(t);const n=(0,m.useRef)(null),[r,a]=(0,en.Su)($i.U),{area:s,areaCode:l,phoneErrorMsg:c,showAreaCodeSelector:d,searchText:u,phone:p,matchSearchArea:g}=r,[h,v]=(0,m.useState)(!1),{checkPhoneNumberFormat:_}=a,{toggleAreaCodeSelector:f,selectAreaCode:b}=a,y=(0,xi.s)(K.i_.Login),w=(0,m.useCallback)(e=>{var t;d&&!(null==n||null===(t=n.current)||void 0===t?void 0:t.contains(e.target))&&f()},[d,f]);(0,m.useEffect)(()=>(window.addEventListener("mousedown",w),()=>{window.removeEventListener("mousedown",w)}),[a,w]);const k=(0,m.useCallback)(e=>{_({phone:e.target.value})},[_]),S=(0,m.useCallback)(()=>{v(!0)},[]),C=(0,m.useCallback)(()=>{v(!1)},[]),x=(0,m.useCallback)(({code:e,area:t})=>{b({code:e,area:t})},[b]),P=(0,m.useCallback)(e=>{e.keyCode!==rs.D.Enter&&e.keyCode!==rs.D.Space||f()},[f]),T=cg("phone"),O=Boolean((c||e)&&!h),A=(0,m.useMemo)(()=>`${s} +${l}`,[s,l]);return(0,i.FD)(vm,{children:[(0,i.FD)(fm,{errState:O,children:[(0,i.FD)(bm,{ref:n,children:[(0,i.FD)(ym,{onClick:f,onKeyDown:P,tabIndex:0,role:"button","aria-haspopup":"true","aria-expanded":d,"aria-controls":Gg,"aria-label":y($p.PhoneCountryCode,{readPhoneCountryCode:A}),children:[(0,i.Y)(wm,{children:A}),(0,i.Y)(km,{up:d})]}),d&&(0,i.Y)(gm,{matchSearchArea:g,filterCountryList:t,onSelected:x,currentSelectCode:l,searchText:u,onKeyDownWithEmptyResult:f})]}),(0,i.Y)(_m,{value:p,border:!1,errorState:O,placeholder:y("phone_number"),onChange:k,onFocus:S,onBlur:C,onClick:T,name:"mobile",autocomplete:"username",type:"tel",enablePasskey:o})]}),O&&(0,i.Y)(Cg,{text:y(c||e||""),type:"error"})]})});var Cm=o(7512),xm=o(28367);const Pm=(0,Wt.A)("button",{target:"e1gzcpl10"})(({theme:e})=>[(0,va.zy)({color:"TextPrimary",theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{margin:0,backgroundColor:e.colors.BGInput2,borderColor:e.colors.LineSecondary2,borderWidth:1.5,borderStyle:"solid",borderRadius:"rtl"===e.direction?"4px 0 0 4px":"0px 4px 4px 0px",borderInlineStartWidth:1.5,cursor:"pointer",fontSize:"16px",padding:"0px 16px",height:"44px",flexShrink:0,boxSizing:"content-box","&:disabled":{color:e.colors.TextQuaternary,cursor:"not-allowed"}}],"label:ButtonSendCode;");Pm.defaultProps=Object.assign(Object.assign({},Pm.defaultProps),{"data-e2e":"send-code-button"});const Tm=(0,Wt.A)(xm.A,{target:"e1gzcpl11"})({marginInlineStart:"4px",fontSize:"20px",verticalAlign:"middle",marginTop:"-2px",animation:"loading-circle-anim linear 1s infinite","@keyframes loading-circle-anim":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}},"label:StyledLoadingCircle;"),Om=(0,m.memo)(function(e){const{text:t,disabled:o,countDownSecond:n=0,loading:r}=e;return(0,i.FD)(Pm,{type:"button",onClick:e.onClick,disabled:Boolean(o)||Boolean(n),lo:!0,children:[t+(n?`: ${n}s`:""),r&&(0,i.Y)(Tm,{})]})}),Am=(e,t,o)=>{const[n,i]=(0,m.useState)(0),[r,a]=(0,m.useState)(!1),s=(0,m.useRef)({});return(0,m.useEffect)(()=>{const{hasSent:t,countDownSecond:n}=(0,Cm.o)(e,o);a(t),i(n)},[e,o,t]),(0,m.useEffect)(()=>{n>0?(s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{i(n-1)},1e3)):s.current&&clearTimeout(s.current)},[n]),{hasSent:r,countDownSecond:n}},Em=(0,Wt.A)("div",{target:"e2oypfg0"})({transition:"all 0.3s",display:"flex",justifyContent:"space-between"},"label:DivCodeInputContainer;"),Lm=(0,Wt.A)(yg,{target:"e2oypfg1"})(({theme:e})=>({flex:1,width:0,"& > input":{height:"47px",borderRadius:"rtl"===e.direction?"0 4px 4px 0":"4px 0px 0px 4px"}}),"label:StyledBaseInput;");Lm.defaultProps=Object.assign(Object.assign({},Lm.defaultProps),{"data-e2e":"digit-code-input"});const jm=(0,m.memo)(function(e){const{errorMsg:t,disabled:o,codeFromNumber:n,loading:r,autoSendFirstTime:a,email:s,isSendCodeHidden:l}=e,c=(0,xi.s)(K.i_.Login),[d,u]=(0,m.useState)(!1),[p,g]=(0,m.useState)(),[{codeFormatError:h,getCodeErrorMsg:v,code:_},{setCode:f}]=(0,en.Su)(Mp.m);(0,m.useEffect)(()=>{g(t)},[t]),(0,m.useEffect)(()=>{g(v)},[v]);const{countDownSecond:b,hasSent:y}=Am(n,r,s);(0,m.useEffect)(()=>{if(a){const{countDownSecond:t}=(0,Cm.o)(n,s);!t&&e.onClickSendCode()}return()=>{f("")}},[]);const w=(0,m.useCallback)(()=>{u(!0)},[]),k=(0,m.useCallback)(()=>{u(!1)},[]),S=(0,m.useCallback)(e=>{f(e.target.value)},[f]),C=cg("phone-code"),x=p||h,P=h?!d:Boolean(x);return(0,i.FD)("div",{children:[(0,i.FD)(Em,{children:[(0,i.Y)(Lm,{placeholder:c("common_login_reset_email_verify_title"),onFocus:w,onBlur:k,onChange:S,onClick:C,value:_,className:"code-input",autoComplete:"off",errorState:P}),!l&&(0,i.Y)(Om,{loading:r,onClick:e.onClickSendCode,disabled:Boolean(o)||Boolean(b)||r,countDownSecond:b,text:c(y?"common_registration_phone_sms_button":"common_registration_phone_input_button")})]}),P&&x&&(0,i.Y)(Cg,{text:c(x),type:"error"})]})}),Im=()=>{const e=(0,xi.s)(K.i_.Login),t=Ad(),[{sendCodeLoading:o,code:n,codeFormatError:r},{sendPhoneCodeForLogin:a,sendPhoneCodeForVerify:s}]=(0,en.Su)(Mp.m),[{phoneNotRegistered:l,loginLoading:c},{handleSmsLogin:d,handleSmsVerify:u}]=(0,en.Su)(Gi.$),{registerPhone:p}=(0,en.wA)(Ap.H),{isSecurityVerification:g}=(0,Ti.U)(()=>["isSecurityVerification"],[]),{region:h}=(0,xo.L$)((0,tn.W)(()=>["region"],[])),[v]=(0,en.Su)($i.U),{mobile:_,phoneErrorMsg:f}=v,b=_&&n&&!f&&!r,y=Bp(),w=zg(xe.tH.loginPhonePassword),k=(0,m.useCallback)(()=>{t({platform:Hi.WN.Sms});const e={mobile:_,phoneCode:n,login_only:!0};g?u(e):d(e)},[d,u,g,t,_,n]),S=(0,m.useCallback)(()=>{const e=w.errorInterceptor;g?s({mobile:_,errorInterceptor:e}):a({mobile:_,errorInterceptor:e})},[g,_,a,s,w.errorInterceptor]),C=(0,m.useCallback)(()=>{p({region:h})},[p,h]),{showLoginOptionSlider:x}=Un();Ee();const P=Ld();(0,m.useEffect)(()=>{P(Hi.WN.Sms)},[]);const T=sg();return(0,i.FD)(i.FK,{children:[!x&&(0,i.Y)(Fu,{id:"login-modal-title",children:e("Login")}),(0,i.FD)(Nu,{children:[e("phone"),(0,i.Y)(Cp,{text:e("common_login_switch_email"),path:xe.tH.loginEmail,replace:!0,"data-e2e":"email-tab"})]}),(0,i.FD)(Rg,{onSubmit:k,children:[(0,i.Y)(Sm,{enablePasskey:!0}),(0,i.Y)(jm,{disabled:Boolean(f)||!_,codeFromNumber:_,loading:o,errorMsg:y,onClickSendCode:S}),"autofill"===T&&(0,i.Y)(Hu,{type:"password",tabIndex:-1}),(0,i.Y)(Cp,{text:e("login_option_password"),path:xe.tH.loginPhonePassword}),(0,i.Y)(kg,{disabled:!b,loading:c,"data-e2e":"login-button",children:e("Login")})]}),l&&(0,i.FD)(Uu,{children:[(0,i.Y)(Bu,{children:e("common_login_sms_unregistered_pc_1")}),(0,i.Y)(Bu,{link:!0,onClick:C,children:e("common_login_sms_unregistered_pc_2")})]}),(0,i.Y)(Yg,Object.assign(Object.assign({},w),{isMobile:!1}))]})},Rm=(0,Wt.A)("div",{target:"e1c067ot0"})({display:"flex",alignItems:"center",marginTop:"9px"},"label:DivLinksContainer;"),Mm=(0,Wt.A)("span",{target:"e1c067ot1"})(({theme:e})=>({width:"1px",height:"12px",margin:"0 16px",background:e.colors.LineSecondary}),"label:SpanSplitLine;"),Dm=()=>{const e=(0,xi.s)(K.i_.Login),t=Ad(),[{loginLoading:o},{handlePasswordLogin:n}]=(0,en.Su)(Gi.$),{phoneErrorMsg:r,phone:a,areaCode:s}=(0,en.Ph)($i.U),{password:l,hasInvalid:c}=(0,en.Ph)(Op),d=Bp(),u=(0,m.useCallback)(()=>{const e=`+${s} ${a}`;t({platform:Hi.WN.PhonePassword}),n({account:e,password:l,mobile:e})},[s,n,t,l,a]),{showLoginOptionSlider:p}=Un();Ee();const g=Ld();return(0,m.useEffect)(()=>{g(Hi.WN.PhonePassword)},[]),(0,i.FD)(i.FK,{children:[!p&&(0,i.Y)(Fu,{id:"login-modal-title",children:e("Login")}),(0,i.FD)(Nu,{children:[e("phone")," ",(0,i.Y)(Cp,{text:e("common_login_switch_email"),path:xe.tH.loginEmail,replace:!0})]}),(0,i.FD)(Rg,{onSubmit:u,children:[(0,i.Y)(Sm,{enablePasskey:!0}),(0,i.Y)(Ng,{create:!1,loginError:Boolean(d)}),d&&(0,i.Y)(Cg,{text:e(d),type:"error"}),(0,i.FD)(Rm,{children:[(0,i.Y)(Cp,{text:e("forget_password"),path:xe.tH.loginForgetPhonePassword}),(0,i.Y)(Mm,{}),(0,i.Y)(Cp,{text:e("common_login_password_button"),path:xe.tH.loginPhone})]}),(0,i.Y)(kg,{disabled:Boolean(r)||!a||!l||c,loading:o,children:e("Login")})]})]})},Fm=(0,Wt.A)("h2",{target:"eph3mrd0"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:e.isMobile?"20px":"15px",display:"flex",justifyContent:"space-between",marginBottom:"5px"}],"label:H2Title;"),Nm=(0,Wt.A)("div",{target:"eph3mrd1"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextTertiary"}),{fontSize:"14px",display:"flex",justifyContent:"space-between",marginBottom:"24px"}],"label:DivDescription;"),Um=()=>{const e=(0,xi.s)(K.i_.Login),t=Ad(),[{loginLoading:o},{handlePasswordLogin:n}]=(0,en.Su)(Gi.$),{email:r}=(0,en.Ph)(Rp.N),{isMobile:a}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),[s,l]=(0,m.useState)(""),c=Bp([s]),d=(0,m.useCallback)(()=>{t({platform:Hi.WN.Email}),n({email:r,password:s,username:r})},[r,n,t,s]),u=(0,m.useCallback)(e=>{l(e.target.value)},[]),{showLoginOptionSlider:p}=Un();return(0,i.FD)(Rg,{onSubmit:d,children:[!p&&(0,i.Y)(Fm,{children:e("common_registration_email_existing_title")}),a&&(0,i.Y)(Nm,{children:e("common_registration_email_existing_text")}),(0,i.Y)(yg,{value:r,readonly:!0,disableDelete:!0}),(0,i.Y)(yg,{placeholder:e("Password"),onChange:u,password:!0,border:!0,errorState:Boolean(c)}),(0,i.Y)(Cg,{text:e(c||(a?"":"common_registration_email_existing_text")),type:c?"error":"default"}),(0,i.Y)(Ig,{}),(0,i.Y)(kg,{disabled:!s,loading:o,children:e("Login")})]})},Bm=(0,Wt.A)("div",{target:"enfnoax0"})(({isOriginalLoginContainer:e})=>({maxHeight:"463px",overflowY:"scroll",overflowX:"hidden",margin:"auto",padding:"unset",marginTop:e?"64px":"unset",width:e?"363px":"unset"}),"label:DivLoginContainer;"),Hm=(0,Wt.A)("h2",{target:"enfnoax4"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont"}),{fontSize:"32px",margin:"64px auto 16px",fontWeight:"bold",textAlign:"center"}],"label:H2TitleRedesign;"),zm=(0,Wt.A)("div",{target:"enfnoax5"})({display:"flex",justifyContent:"center",margin:"16px 0px 48px"},"label:DivSegmentControlContainer;"),Ym=()=>{var e,t;const o=(0,xi.s)(K.i_.Login),n=(0,xi.s)(K.i_.WebApp),{loginTitle:r}=(0,Ti.U)(()=>["loginTitle"],[]),[a,s]=(0,m.useState)("qr"),[l,c]=(0,m.useState)(!1),d=(0,tn.W)(()=>["abTestVersion","user","webIdCreatedTime"],[]),[u,p]=(0,m.useState)(!1),g=wp(),h=Iu(g),v=ju(h).filter(e=>"qr"!==e.type&&"email"!==e.type),_=Je(null===(t=window)||void 0===t||null===(e=t.location)||void 0===e?void 0:e.pathname),f=(0,m.useMemo)(()=>[{value:"qr",title:n(ar.p$.qrCodeKey,{},ar.p$.qrCodeDefault)},{value:"phone",title:n(ar.p$.phoneKey,{},ar.p$.phoneDefault)},{value:"other",title:n(ar.p$.otherKey,{},ar.p$.otherDefault)}],[]),b=(0,m.useCallback)(e=>{var t;s(e),"qr"===e?(t={page_name:_},ht.f.sendEvent("click_QR_login",t)):"phone"===e?(e=>{ht.f.sendEvent("click_login_button",e)})({device_platform:"pc",enter_method:"login_redesign"}):"other"===e&&vs({page_name:_})},[s]),y=(0,m.useCallback)(()=>(0,i.Y)(Hm,{"data-e2e":"login-title",id:"login-modal-title",children:o(r,{},ar.fN)}),[o,r]),w=Dn(),k=(0,m.useCallback)((e,t)=>()=>{e===sr.FACEBOOK&&w?(c(!0),_s()):t()},[w]),S=(0,m.useCallback)(()=>{p(!1)},[]),C=(0,m.useCallback)(e=>{e.keyCode===rs.D.Enter&&p(!1)},[p]);return(0,i.FD)(Cs,{children:[y(),(0,i.Y)(zm,{children:(0,i.Y)(ko.DUM,{compact:!1,size:"xs",shape:"rectangle",style:{margin:"0 auto",minHeight:"32px",height:"32px",width:"100%"},value:a,onChange:b,items:f})}),"qr"===a?(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.loginQRcode,component:bp,exact:!0}),(0,i.Y)(ki,{path:"*",component:bp})]}):"phone"===a?(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.loginPhoneOrEmail,component:Im,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhone,component:Im,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhonePassword,component:Dm,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginEmail,component:Bg,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginWithSignedEmail,component:Um,exact:!0}),(0,i.Y)(ki,{path:"*",component:Im})]}):"other"===a?(0,i.FD)(i.FK,{children:[(x=u?v.slice(0,4):v,x.map(e=>(0,i.Y)(fl,{text:o(e.starlingText),Icon:e.icon,onClick:k(e.type,e.onClick),floatingBannerText:e.lastLoginMethod&&!(null==d?void 0:d.user)?o("encouragePreviousLoginPlatform_loginPage_loginBadge_body"):void 0,focusable:!0,loading:e.loading,effect:e.effect},e.starlingText))),u&&v.length>4&&(0,i.Y)(ys,{onClick:S,onKeyDown:C,tabIndex:0,role:"button",children:(0,i.Y)(ds.A,{})})]}):null]});var x};var Wm,Vm=o(26027),Gm=o(95748),$m=o(18459);function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},qm.apply(null,arguments)}const Km=function(e){return m.createElement("svg",qm({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),Wm||(Wm=m.createElement("path",{fillRule:"evenodd",d:"M32.54 4c.278 2.368-.73 4.699-2.203 6.412-1.537 1.687-3.999 2.978-6.395 2.811-.312-2.276.9-4.697 2.26-6.174C27.739 5.372 30.406 4.09 32.539 4zm7.844 13.647c-.276.153-4.7 2.614-4.65 7.625.055 6.058 5.697 8.059 5.766 8.08-.034.14-.883 2.89-2.999 5.68-1.768 2.458-3.621 4.86-6.56 4.905-1.399.03-2.342-.345-3.326-.734-1.026-.407-2.095-.831-3.77-.831-1.773 0-2.89.437-3.966.86-.932.364-1.833.717-3.104.766-2.801.097-4.94-2.624-6.772-5.06-3.659-4.97-6.51-14.01-2.689-20.159 1.851-3.016 5.23-4.96 8.837-5.011 1.59-.031 3.114.538 4.45 1.038 1.02.381 1.932.722 2.678.722.657 0 1.543-.328 2.576-.709 1.628-.601 3.62-1.336 5.648-1.137 1.387.036 5.338.508 7.887 3.962l-.006.003z",clipRule:"evenodd"})))},Zm=(0,Wt.A)("div",{target:"exattu0"})({display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},"label:DivShowMore;");Zm.defaultProps=Object.assign(Object.assign({},Zm.defaultProps),{"data-e2e":"see-more-btn"});const Jm={[Xi.lv.FACEBOOK]:{text:"common_login_panel_button_facebook",icon:_u.A},[Xi.lv.GOOGLE]:{text:"common_login_panel_button_google",icon:fu.A},[Xi.lv.TWITTER]:{text:"common_login_panel_button_twitter",icon:Su.A},[Xi.lv.INSTAGRAM]:{text:"common_login_panel_button_instagram",icon:Vm.A},[Xi.lv.APPLE]:{text:"common_login_panel_button_apple",icon:()=>(0,i.Y)(Km,{})},[Xi.lv.LINE]:{text:"common_login_panel_button_line",icon:yu.A},[Xi.lv.KAKAOTALK]:{text:"common_login_panel_button_kakaotalk",icon:bu.A},[Xi.lv.VK]:{text:"common_login_panel_button_vk",icon:Gm.A}},Qm=({signUp:e,platformConfigOverride:t})=>{var o,n;const r=Ad(),a=Ed(),s=(0,xi.s)(K.i_.Login),l=(0,Pe.W6)();let{platformConfig:c,thirdPlatformConfig:d}=(0,Ti.U)(()=>["platformConfig","thirdPlatformConfig"],[]),u=!1;t&&(c=t,u=!0);const{isMobile:p,playerInfo:g}=(0,xo.L$)((0,Po.U)(()=>["isMobile","playerInfo"],[])),{name:h,isSmartPlayer:v}=(0,xo.L$)(g),{abTestVersion:_}=null!==(o=(0,tn.W)(()=>["abTestVersion"],[]))&&void 0!==o?o:{},f=null!==(n=un(_,"enable_fb_sdk"))&&void 0!==n?n:"v1",{setShowInstagramCantLoginModal:b}=(0,en.wA)($m.S),{handleAppleLogin:y,handlePopupAuthorize:w,handleHelloJSAuth:k,handleHelloLoginEvent:S,handleFacebookLogin:C,dealPageAuthRedirect:x}=(0,en.wA)(Hr),[P,T]=(0,m.useState)(!1),O=(e=>{const t={show_num:2,order:"FACEBOOK,GOOGLE,INSTAGRAM,LINE,TWITTER,KAKAOTALK"},{isSignUp:o,platform:n,brandName:i="",platformConfig:r=t,phoenix:a}=e,s=Boolean(i),l=/mercedes/i.test(i),c="FACEBOOK,GOOGLE,TWITTER,APPLE,INSTAGRAM,LINE,KAKAOTALK,VK".toLocaleLowerCase().split(","),d="APPLE,INSTAGRAM".toLocaleLowerCase().split(","),u="LINE,KAKAOTALK,APPLE".toLocaleLowerCase().split(",");s&&(u.push(Xi.lv.INSTAGRAM,Xi.lv.VK),l&&u.push(Xi.lv.FACEBOOK,Xi.lv.TWITTER));const p=a?{show_num:4,order:"FACEBOOK,GOOGLE,TWITTER,APPLE"}:r,g={expand:[],fold:[]};if(n){const e=c.find(e=>e===n);return e&&g.expand.push(e),g}const m=p.order.toLocaleLowerCase().split(","),h={expand:[...m.slice(0,p.show_num)],fold:[...m.slice(p.show_num)]};return s&&(h.expand=h.expand.filter(e=>!u.includes(e)),h.fold=h.fold.filter(e=>!u.includes(e))),o?(h.expand=h.expand.filter(e=>!d.includes(e)),h.fold=h.fold.filter(e=>!d.includes(e))):h.expand=h.expand.concat(h.fold),h.expand=h.expand.filter(e=>c.includes(e)),h.fold=h.fold.filter(e=>c.includes(e)),h})({platformConfig:c,isSignUp:e,brandName:h}),[A,E]=(0,m.useState)(null),L=(0,m.useCallback)(()=>{const e=ur();w({url:e,platform:Xi.lv.TWITTER})},[w]),j=(0,m.useCallback)(()=>{const e=pr();w({url:e,platform:Xi.lv.LINE})},[w]),I=(0,m.useCallback)(()=>{const e=gr();w({url:e,platform:Xi.lv.VK})},[w]),R=(0,m.useCallback)(()=>{const e=mr();w({url:e,platform:Xi.lv.KAKAOTALK})},[w]),M=(0,m.useCallback)(()=>{p?b(!0):l.push({pathname:xe.tH.loginDownloadApp,state:{fromIns:!0}})},[p,b,l]),D=Dn(),F=(0,m.useCallback)(()=>{E(null),fs()},[]),N=bl({query:{enter_method:yl.c.SSOAutoPopup},loginPath:"/login/phone-or-email"}),U=(0,m.useCallback)(()=>{E(null),bs(),N()},[]),B=(0,m.useCallback)(t=>()=>{var o,n,i;if(a({platform:t,isSignUp:e}),r({platform:t,signUp:e}),null===(i=(null!==(o=null==d?void 0:d.platforms)&&void 0!==o?o:{})[t])||void 0===i?void 0:i.enableAce)E(t);else switch(t){case Xi.lv.APPLE:y({});break;case Xi.lv.TWITTER:L();break;case Xi.lv.LINE:j();break;case Xi.lv.FACEBOOK:case Xi.lv.GOOGLE:var s;if(t===Xi.lv.FACEBOOK&&D){E(t);break}if(t===Xi.lv.FACEBOOK&&"v2"===f){C();break}k({force:t===Xi.lv.GOOGLE||null,platform:t,display:v?Dr.PAGE:Dr.POPUP,redirect_uri:"https://www.tiktok.com/login/",scope:null!==(n=null===(s=Jm[t])||void 0===s?void 0:s.scope)&&void 0!==n?n:""});break;case Xi.lv.VK:I();break;case Xi.lv.KAKAOTALK:R();break;case Xi.lv.INSTAGRAM:M()}},[r,a,e,y,L,j,D,f,k,v,I,R,M,C,d]),H=(0,m.useCallback)(()=>{T(!0)},[]),z=(0,m.useCallback)(e=>()=>{y({appleToken:e})},[y]);(0,m.useEffect)(()=>(document.addEventListener("AppleIDSignInOnSuccess",z),()=>{document.removeEventListener("AppleIDSignInOnSuccess",z)}),[z]),(0,m.useEffect)(()=>{yr(),fr()&&S()},[S]),(0,m.useEffect)(()=>{x()},[x]);const Y=(0,m.useCallback)(e=>{e.keyCode===rs.D.Enter&&T(!0)},[T]);return(0,i.FD)(i.FK,{children:[O.expand.map(e=>Jm[e]?(0,i.Y)(fl,{text:s(Jm[e].text),type:e,Icon:Jm[e].icon,onClick:B(e),isPopup:u,focusable:!0},e):null),O.fold.length>0&&e&&!P&&(0,i.FD)(Zm,{onClick:H,onKeyDown:Y,tabIndex:0,role:"button",children:[" ",(0,i.Y)(ds.A,{})]}),P&&O.fold.map(e=>Jm[e]?(0,i.Y)(fl,{text:s(Jm[e].text),Icon:Jm[e].icon,onClick:B(e),focusable:!0},e):null),(0,i.Y)(nd,{isMobile:p,visible:!!A,platform:A,onOtherLogin:U,onClose:F})]})};var Xm=o(55675);const eh=(0,m.memo)(function({disabled:e,children:t}){const{loginModalSwitchPath:o}=(0,en.Ph)(gs);return o?(0,i.Y)(Xr.Ay,{disabled:e,autoFocus:!1,children:t}):(0,i.Y)(i.FK,{children:t})}),th=(0,Wt.A)("div",{target:"ey83qp81"})(({isMobile:e})=>({padding:e?"0 30px":"unset"}),"label:DivHomeContainer;"),oh=(0,Wt.A)("h2",{target:"ey83qp83"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont"}),{fontSize:"18px",margin:"16px auto",fontWeight:"bold",textAlign:"center"}],"label:H2Title;"),nh=()=>{const e=(0,xi.s)(K.i_.Login),{isModal:t}=(0,en.Ph)(Pi.t),{isMobile:o}=(0,xo.L$)((0,Po.U)(()=>["isMobile","playerInfo"],[])),n=(0,ke.Nj)(Xm.q),[r,a]=(0,m.useState)(!1),s=(0,Pe.zy)(),l=(0,m.useMemo)(()=>{var e;return!(null===(e=(0,on.parse)(s.search))||void 0===e?void 0:e.hide_left_icon)},[s]);document.body.className=document.body.className.replace(/\s?hidden/g,"");const{pathname:c,search:d}=s,u=Gr(c),p=(0,El.Vm)(),g=bl({query:{enter_method:yl.c.SSOAutoPopup},loginPath:"/login/phone-or-email"}),h=bl({query:{enter_method:yl.c.SSOAutoPopup},loginPath:n.redirectNewModalPage});(0,m.useEffect)(()=>{n.redirectNewModalPage&&(h(),n.setRedirectNewModalPage())},[n.redirectNewModalPage]);const v=(0,m.useCallback)(()=>(0,i.Y)(oh,{"data-e2e":"login-title",id:"login-modal-title",children:(0,i.Y)(ll,{max:18,text:e("qr_code_login_prompt_popup_header")})}),[e,u]),{loginPath:_}=(0,m.useMemo)(()=>{const e=t?d:"";return{loginQRcode:xe.tH.loginQRcode+e,loginPath:u?p+e:xe.tH.loginPhoneOrEmail+e}},[t,d,u,p]),f=(0,m.useCallback)(e=>{e.keyCode===rs.D.Tab&&a(!0)},[]),b=(0,m.useMemo)(()=>({show_num:2,order:"GOOGLE,FACEBOOK"}),[]);return(0,m.useEffect)(()=>{ht.f.sendEvent("show_sso_modal")},[]),Ee(),(0,i.FD)(i.FK,{children:[o&&(0,i.Y)(tl,{showClose:!0,showLeft:l}),(0,i.FD)(th,{isMobile:o,onKeyDown:f,children:[v(),(0,i.FD)(eh,{disabled:r,children:[(0,i.Y)(Qm,{signUp:u,platformConfigOverride:b}),(0,i.Y)(jl,{underline:!1,path:_,children:(0,i.Y)(fl,{text:e(u?"common_registration_panel_button_phoneoremail":"common_login_panel_button_phoneoremailorusername"),Icon:wu.A,isPopup:!0,onClick:g,focusable:!0})})]})]})]})},ih=(0,Wt.A)("div",{target:"e1rj4s2h0"})(({theme:e})=>{return[(t=e.isMobile,t?{padding:"0px 32px 32px"}:{})];var t},"label:DivContainer;"),rh=(0,Wt.A)("div",{target:"e1rj4s2h1"})(({theme:e})=>{return[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont",fontWeight:"bold"}),(t=e.isMobile,t?{fontSize:"20px",marginTop:"24px"}:{fontSize:"33px"})];var t},"label:DivTitleContainer;"),ah=(0,Wt.A)("p",{target:"e1rj4s2h2"})(({theme:e})=>{return[(0,va.zy)({theme:e,color:"TextSecondary",fontFamily:"TikTokFont"}),(t=e.isMobile,t?{fontSize:"14px",lineHeight:"17px",margin:"8px 0"}:{fontSize:"16px",lineHeight:"22px",margin:"16px 0"})];var t},"label:PDescriptionContainer;"),sh=e=>e?{position:"absolute",bottom:"28px",left:"32px",right:"32px",width:"auto"}:{},lh=({theme:{isMobile:e}})=>[sh(e)],ch=(0,Wt.A)(kg,{target:"e1rj4s2h5"})(lh,"label:StyledTwoStepButton;"),dh=(0,Wt.A)("hr",{target:"e1rj4s2h6"})({border:0,margin:0,marginTop:"48px",marginBottom:"30px",borderBottom:"1px solid rgba(22, 24, 35, .12)"},"label:HrDivider;"),uh=(0,Wt.A)("p",{target:"e1rj4s2h7"})(({theme:e})=>[(0,va.zy)({theme:e,typography:"P2",fontWeight:"bold",fontFamily:"TikTokFont"}),{margin:0}],"label:PTitle;"),ph=(0,Wt.A)("p",{target:"e17ptbg00"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:"20px",lineHeight:"24px",marginTop:"24px",marginBottom:"8px"}],"label:PTitleContainer;"),gh=(0,Wt.A)("p",{target:"e17ptbg01"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextTertiary2",fontFamily:"TikTokFont"}),{fontSize:"14px",lineHeight:"17px",marginBottom:"8px"}],"label:PDescriptionContainer;"),mh=(0,Wt.A)(xm.A,{target:"eo6lrdp0"})({marginInlineStart:"4px",fontSize:"20px",verticalAlign:"middle",marginTop:"-2px",animation:"loading-circle-anim linear 1s infinite","@keyframes loading-circle-anim":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}},"label:StyledLoadingCircle;"),hh=(0,Wt.A)("div",{target:"e1ait7k0"})({display:"flex",margin:"20px 0",height:"18px",justifyContent:"space-between"},"label:DivContainer;"),vh=(0,Wt.A)("span",{target:"e1ait7k1"})(({theme:e,disabled:t})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{color:t?e.colors.TextQuaternary:e.colors.TextPrimary,fontSize:"14px",lineHeight:"18px"}],"label:SpanText;"),_h=(0,m.memo)(function(e){const{loading:t,codeFromNumber:o,email:n}=e,{countDownSecond:r}=Am(o,t,n),a=(0,xi.s)(K.i_.Login);return(0,i.FD)(hh,{children:[(0,i.Y)(vh,{onClick:e.onClick,disabled:Boolean(r),children:`${a("common_registration_phone_sms_button")}${r?`: ${r}s`:""}`}),t&&(0,i.Y)(mh,{})]})}),fh=(0,Wt.A)("p",{target:"e1tvj6xp0"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextTertiary2",fontFamily:"TikTokFont"}),{fontSize:"14px",lineHeight:"17px",marginBottom:"8px"}],"label:PDescriptionContainer;"),bh=(0,Wt.A)("div",{target:"e1tvj6xp1"})({height:"48px",display:"flex"},"label:DivInputContainer;"),yh=(0,Wt.A)("input",{target:"e1tvj6xp2"})(({theme:e})=>[(0,va.mp)({direction:e.direction,start:"-1000px"}),{opacity:0,position:"absolute"}],"label:Input;"),wh=(0,Wt.A)("div",{target:"e1tvj6xp3"})(({theme:e,error:t,active:o})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{position:"relative",fontSize:"20px",flex:"1",borderBottom:"1px solid",borderBottomColor:t?e.colors.Negative:e.colors.LinePrimary2,display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",marginInlineEnd:"10px",":last-child":{marginInlineEnd:"0"},"::before":{content:'""',position:"absolute",height:"16px",width:"2px",background:e.colors.Primary,margin:"auto",display:o?"block":"none",animation:"cursor-animation 1.5s linear infinite"},"@keyframes cursor-animation":{"0%":{opacity:0},"25%":{opacity:0},"50%":{opacity:1},"75%":{opacity:1},"100%":{opacity:0}}}],"label:DivLabel;"),kh=(0,m.memo)(function(e){const t=(0,xi.s)(K.i_.Login),{codeFromNumber:o,codeDesc:n,email:r,loading:a,onSubmit:s,showTitle:l=!0,autoSubmit:c=!0,errorMsg:d="",autoSendFirstTime:u,isSendCodeHidden:p}=e,[{code:g,sendCodeLoading:h,getCodeErrorMsg:v=""},{setCode:_}]=(0,en.Su)(Mp.m),f=(0,m.useRef)(null),b=(0,m.useCallback)(()=>{var e;null===(e=f.current)||void 0===e||e.focus()},[]),y=(0,m.useCallback)(e=>{if(6===g.length&&5===e.target.value.length)_("");else{const t=e.target.value.replace(/[^\d]/g,"");_(t)}},[_,g]),w=(0,m.useCallback)(e=>{e.persist()},[]);(0,m.useEffect)(()=>{if(u){const{countDownSecond:t}=(0,Cm.o)(o,r);!t&&e.onClickSendCode()}return()=>{_("")}},[]),(0,m.useEffect)(()=>{6===g.length&&c&&s()},[g,s,c]);const k=null!=n?n:t("Your code was sent to {code}",{code:o}),S=v||d,C=Boolean(S);return(0,i.FD)(i.FK,{children:[l&&(0,i.FD)(i.FK,{children:[(0,i.Y)(ph,{children:t("common_login_reset_email_verify_title")}),(0,i.Y)(fh,{children:k})]}),(0,i.FD)(bh,{onClick:b,children:[(0,i.Y)(yh,{ref:f,onChange:y,type:"tel",autoFocus:!0,value:g,autoComplete:"one-time-code",onAnimationEnd:w}),Array(6).fill("").map((e,t)=>(0,i.Y)(wh,{active:g.length===t,error:C,children:g[t]},t))]}),(0,i.Y)(Cg,{text:t(S),type:"error"}),!p&&(0,i.Y)(_h,{codeFromNumber:o,loading:h||a,onClick:e.onClickSendCode,email:r})]})});const Sh=e=>{const{onSubmit:t}=e,o=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["onSubmit"]),{isMobile:n}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[]));return n?(0,i.Y)(kh,Object.assign(Object.assign({},o),{onSubmit:e.onSubmit,autoSubmit:!1,showTitle:!1})):(0,i.Y)(jm,Object.assign({},o))},Ch=(0,Wt.A)("span",{target:"eea75y50"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{display:"inline-block",fontSize:"14px",lineHeight:"17px",margin:"12px 0",paddingInlineEnd:"12px","& + &":{paddingInlineStart:"12px",position:"relative","&::before":Object.assign({content:'""',position:"absolute",height:"12px",width:"1px",top:"2px",background:e.colors.LineSecondary},[(0,va.mp)({start:"0",direction:e.direction})])}}],"label:SpanOptionsText;"),xh=(0,Wt.A)("span",{target:"eea75y51"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),{margin:"12px 0",display:"inline-block",fontSize:"14px",fontWeight:600,zIndex:20}],"label:SpanChangeWayText;"),Ph=(0,Wt.A)(xg.K,{target:"eea75y52"})(({theme:e})=>({width:"100%",borderRadius:"0",height:"48px",fontWeight:600,border:"none",borderBottom:`1px solid ${e.colors.LineSecondary2}`,"&:last-child":{color:e.colors.TextTertiary2,marginTop:"8px"}}),"label:StyledButton;"),Th={[Vi.email]:"twostep_verification_useemail",[Vi.password]:"twostep_verification_usepassword",[Vi.phone]:"twostep_verification_usesms",[Vi.totp]:"twostep_verification_useauthenticator"},Oh=(0,m.memo)(function(e){const t=(0,xi.s)(K.i_.Login),{verifyWays:o=[]}=e;return(0,i.Y)(i.FK,{children:o.map(o=>{const n=`/login/2sv/${Wi[o]}`;return(0,i.Y)(Ch,{onClick:e.onClickType(o),children:(0,i.Y)(bi.N_,{to:n,children:t(Th[o])})},o)})})});var Ah=o(70461);const Eh=(0,Wt.A)("div",{target:"e1pjeozo0"})({position:"fixed",left:0,top:0,bottom:0,right:0,overflow:"auto",outline:"0px",zIndex:12,display:"none",transition:"all 500ms cubic-bezier(.075, .82, .165, 1)","&.enter-active":{display:"block"},"&.enter-done":{display:"block"},"&.exit":{display:"block"},"&.exit-active":{display:"none"}},"label:DivPopup;"),Lh=(0,Wt.A)("div",{target:"e1pjeozo1"})(({theme:e})=>({position:"absolute",width:"100vw",bottom:0,left:0,right:0,background:e.colors.BGPlaceholderOpaque,borderRadius:"8px 8px 0 0",overflow:"hidden",transition:"all 500ms",zIndex:11,"&.enter-active":{opacity:1,transform:"translateY(100%)"},"&.enter-done":{transform:"translateY(0)"}}),"label:DivContent;"),jh=(0,Wt.A)("div",{target:"e1pjeozo2"})(({theme:{colors:e}})=>({background:e.SDSecondary,position:"absolute",left:0,right:0,top:0,bottom:0}),"label:DivMask;"),Ih=e=>{const{visible:t}=e,o=(0,m.useRef)(null);return(0,i.Y)(Ah.A,{in:t,timeout:300,children:(0,i.FD)(Eh,{children:[(0,i.Y)(jh,{}),(0,i.Y)(Ah.A,{in:t,timeout:100,nodeRef:o,children:(0,i.Y)(Lh,{ref:o,children:e.children})})]})})},Rh={[Vi.email]:"login_send_code_email",[Vi.phone]:"login_send_code_sms",[Vi.password]:"twosv_login_switch_pw",[Vi.totp]:"2_step_verification_alt_method3"},Mh=(0,m.memo)(function(e){const t=(0,xi.s)(K.i_.Login),[o,n]=(0,m.useState)(!1),{verifyWays:r=[],onClickType:a}=e,s=(0,m.useCallback)(()=>{n(!0)},[]),l=(0,m.useCallback)(()=>{n(!1)},[]),c=(0,m.useCallback)(e=>()=>{a(e)(),n(!1)},[a]);return r.length?(0,i.FD)(i.FK,{children:[(0,i.Y)(Ih,{visible:o,children:(0,i.FD)("div",{children:[r.map((e,o)=>(0,i.Y)(Ph,{onClick:c(e),loading:!1,children:t(Rh[e])},o)),(0,i.Y)(Ph,{onClick:l,children:t("step_verification_cancel")})]})}),(0,i.Y)(xh,{onClick:s,children:t("login_try_another_method")})]}):null}),Dh=(0,m.memo)(function(){const[{verifyWays:e={},type:t},{setTwoStepType:o}]=(0,en.Su)(Wr),{isMobile:n}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),r=(0,m.useCallback)(e=>()=>{o(e)},[o]),a=(0,m.useMemo)(()=>({verifyWays:Object.keys(e).filter(e=>e!==t),onClickType:r}),[t,e,r]);return(0,i.FD)(i.FK,{children:[n?(0,i.Y)(Mh,Object.assign({},a)):a.verifyWays.length<2?(0,i.Y)(Oh,Object.assign({},a)):null,"pwd_verify"===t&&1===Object.keys(e).length&&(0,i.Y)(Ig,{})]})}),Fh={[Vi.email]:"2_step_verification_alt_method2",[Vi.password]:"2_step_verification_alt_method4",[Vi.phone]:"2_step_verification_alt_method1",[Vi.totp]:"2_step_verification_alt_method3"},Nh=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),[{verifyWays:t={},type:o},{setTwoStepType:n}]=(0,en.Su)(Wr),{isMobile:r}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),a=(0,Pe.W6)(),s=(0,m.useCallback)((e,t)=>()=>{n(t),a.push(e)},[a,n]),l=(0,m.useMemo)(()=>Object.keys(t).filter(e=>e!==o),[o,t]);return!r&&l.length>1?(0,i.FD)(i.FK,{children:[(0,i.Y)(dh,{}),(0,i.Y)(uh,{children:e("2_step_verification_try_alt_method")}),l.map((t,o)=>{const n=`/login/2sv/${Wi[t]}`;return(0,i.Y)(wg,{onClick:s(n,t),size:"small",buttonTheme:"default",children:e(Fh[t])},o)})]}):null}),Uh=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),[{sendCodeLoading:o,code:n,codeFormatError:r},{sendEmailCodeForReset:a,sendEmailCodeForLogin:s,sendEmailCodeForVerify:l}]=(0,en.Su)(Mp.m),[{verifyWays:c,not_login_ticket:d,verify_ticket:u,password:p="",loginLoading:g},{handleCodeVerify:h}]=(0,en.Su)(Wr),{changePwdByEmail:v}=(0,en.wA)(Gi.$),_=Bp(),f=(0,m.useCallback)(()=>{t.twoStepSubmit({verification_method:"email",forReset:Boolean(p)}),p?v({not_login_ticket:d,verify_ticket:u,emailCode:n,password:p,email:""}):h({code:n,not_login_ticket:d,verify_ticket:u})},[v,n,h,t,d,p,u]),b=(0,m.useCallback)(()=>{p?a({not_login_ticket:d,verify_ticket:u}):d?s({not_login_ticket:d,verify_ticket:u}):l({verify_ticket:u})},[p,a,d,s,u,l]);return(0,i.FD)(Rg,{onSubmit:f,children:[(0,i.Y)(ah,{children:e("common_login_reset_email_verify_title")}),(0,i.Y)(ah,{children:e("common_verify_email_text",{email:null==c?void 0:c.email_verify})}),(0,i.Y)(Sh,{autoSendFirstTime:!0,email:!0,codeFromNumber:u,loading:o,onClickSendCode:b,onSubmit:f,errorMsg:_}),(0,i.Y)(Dh,{}),(0,i.Y)(ch,{disabled:Boolean(r)||!n,loading:g,children:e("login_next")}),(0,i.Y)(Nh,{})]})},Bh=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),{password:o,hasInvalid:n}=(0,en.Ph)(Op),{isMobile:r}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),[{verify_ticket:a,loginLoading:s},{handlePasswordVerify:l}]=(0,en.Su)(Wr),c=Bp(),d=(0,m.useCallback)(()=>{t.twoStepSubmit({verification_method:"password",forReset:!1}),l({password:o,verify_ticket:a})},[l,t,o,a]);return(0,i.FD)(Rg,{onSubmit:d,children:[(0,i.Y)(ah,{children:e("common_verify_password_text")}),(0,i.Y)(Ng,{create:!1,loginError:Boolean(c),loginErrorText:r?c:void 0}),(0,i.Y)(Dh,{}),!r&&(0,i.Y)(Cg,{text:e(c),type:"error"}),(0,i.Y)(ch,{disabled:Boolean(n)||!o,loading:s,children:e("login_next")}),(0,i.Y)(Nh,{})]})},Hh=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),[{sendCodeLoading:o,code:n,codeFormatError:r},{sendPhoneCodeForTwoStep:a,sendPhoneCodeForResetPwd:s}]=(0,en.Su)(Mp.m),[{verifyWays:l,verify_ticket:c,not_login_ticket:d,password:u,loginLoading:p,accountQuery:g},{handleCodeVerify:h,handleSmsCodeVerifyReset:v}]=(0,en.Su)(Wr),_=Bp(),f=(0,m.useCallback)(()=>{const e={verify_ticket:c,not_login_ticket:d,mobile:null==g?void 0:g.mobile};u?s(e):a(e)},[null==g?void 0:g.mobile,d,u,s,a,c]),b=(0,m.useCallback)(()=>{t.twoStepSubmit({verification_method:"phone",forReset:Boolean(u)}),u?v({not_login_ticket:d,verify_ticket:c,code:n,password:u}):h({verify_ticket:c,code:n,not_login_ticket:d})},[n,h,v,t,d,u,c]);return(0,i.FD)(Rg,{onSubmit:b,children:[(0,i.Y)(ah,{children:e("common_login_reset_email_verify_title")}),(0,i.Y)(ah,{children:e("common_verify_sms_text",{mobile:null==l?void 0:l.mobile_sms_verify})}),(0,i.Y)(Sh,{autoSendFirstTime:!0,codeFromNumber:c,loading:o,onClickSendCode:f,onSubmit:b,errorMsg:_}),(0,i.Y)(Dh,{}),(0,i.Y)(ch,{disabled:Boolean(r)||!n,loading:p,children:e("login_next")}),(0,i.Y)(Nh,{})]})},zh=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),[{sendCodeLoading:o,code:n,codeFormatError:r}]=(0,en.Su)(Mp.m),[{not_login_ticket:a,verify_ticket:s,password:l="",loginLoading:c},{handleCodeVerify:d,handleTOTPVerifyAndRestPwd:u}]=(0,en.Su)(Wr),p=Bp(),g=(0,m.useCallback)(()=>{t.twoStepSubmit({verification_method:"totp",forReset:Boolean(l)}),l?u({verify_ticket:s,code:n,password:l}):d({code:n,not_login_ticket:a,verify_ticket:s})},[n,u,d,t,a,l,s]),h=(0,m.useCallback)(()=>{},[]);return(0,i.FD)(Rg,{onSubmit:g,children:[(0,i.Y)(ah,{children:e("2_step_verification_body")}),(0,i.Y)(Sh,{autoSendFirstTime:!0,email:!0,codeFromNumber:s,loading:o,onClickSendCode:h,onSubmit:g,errorMsg:p,isSendCodeHidden:!0}),(0,i.Y)(Dh,{}),(0,i.Y)(ch,{disabled:Boolean(r)||!n,loading:c,children:e("login_next")}),(0,i.Y)(Nh,{})]})},Yh=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),{isMobile:o}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),n=(0,Pe.W6)(),{isTwoStep:r,verifyWays:a,password:s}=(0,en.Ph)(Wr),{type:l}=(0,bi.g)(),c=Vi[l];return(0,m.useEffect)(()=>{c&&(null==a?void 0:a[c])||n.replace(xe.tH.loginHome),t.twoStepNotify({verification_method:l,forReset:Boolean(s)})},[n,t,s,l,a,c]),Ee(),(0,i.FD)(ih,{children:[o&&(0,i.Y)(tl,{}),(0,i.Y)(rh,{children:e(r?"security_step_verification":"common_verify_title")}),l===Wi.pwd_verify?(0,i.Y)(Bh,{}):l===Wi.email_verify?(0,i.Y)(Uh,{}):l===Wi.totp_verify?(0,i.Y)(zh,{}):(0,i.Y)(Hh,{})]})},Wh=tt.useAtom,Vh="b_c";var Gh=o(91939);function $h(e,t){var o,n,i,r,a,s;const l=(0,Gh.Hd)(vn.hk,"");if(l&&"{}"!==l)return l;const c=(0,Gh.$Z)()||{},d={object_id:null!==(o=c.object_id)&&void 0!==o?o:c.referer_video_id,object_type:c.object_type,share_device:null!==(i=null!==(n=c.share_device)&&void 0!==n?n:c.sender_device)&&void 0!==i?i:"",share_web_id:null!==(a=null!==(r=c.share_web_id)&&void 0!==r?r:c.sender_web_id)&&void 0!==a?a:"",share_user_id:null!==(s=c.share_user_id)&&void 0!==s?s:""};e===nc.N.Amp||e===nc.N.Embed?(d.object_type="video",d.object_id=c.referer_video_id):e===nc.N.Reflow||e===nc.N.WebApp?(d.object_type=null==t?void 0:t.object_type,d.object_id=null==t?void 0:t.object_id):e===nc.N.Push&&(d.push_type=c.push_type),Object.keys(d).forEach(e=>{d[e]||delete d[e]});const u=JSON.stringify(d);return(0,Gh.J2)(vn.hk,u),u}var qh=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const Kh=(e,t,o)=>{var n;const{user:i,region:r,wid:a,domains:s,odinId:l,vgeo:c,abTestVersion:d}=e,u=(e=>{var t;const o=e,{page_name:n,enter_from:i,is_downgrade:r,object_id:a,object_type:s}=o,l=Vh,c=(o[l],qh(o,["page_name","enter_from","is_downgrade","object_id","object_type","symbol"==typeof l?l:l+""])),d=(0,Gh.$Z)();return Object.assign({previous_page:ht.f.getPreviousInfo(n),page_name:n,enter_from:i,page_url:window.location.href,userAgent:navigator.userAgent,keyword:d.keyword,sub_keyword:d.sub_keyword,user_type_alias:window.navigator.userAgent.match(/google/gi)?"search":"user",domain_name:null!==(t=window.location.host)&&void 0!==t?t:"unknown",page_path:window.location.pathname},c)})(t),p=((e,t)=>{var o,n,i,r,a;const{user:s,region:l,wid:c,language:d}=e,{page_name:u,is_downgrade:p,object_id:g,object_type:m,utm_medium:h,utm_campaign:v,utm_source:_,embed_source:f="",vidab:b,seo_vidab:y,[Vh]:w,source:k}=t,S=Uo()(ht.f.initDimensionalData,{utm_medium:h,utm_campaign:v,utm_source:_}),C=Object.assign(Object.assign({release:"2.0.0.928",user_is_login:s?1:0,priority_region:null==s?void 0:s.region,landing_page:ht.f.getLandingPage(u),is_kids_mode:(null==s?void 0:s.ftcUser)?1:0,region:l,extraData:$h(S.launch_mode,{object_id:g,object_type:m}),is_downgrade:p,session_id:ht.f.getSessionId(c),embed_source:f,app_language:d,is_sharing:0,vidab:b,seo_vidab:y,[Vh]:w,max_touch_points:null==(o=navigator)?void 0:o.maxTouchPoints,network_downlink:null==(n=navigator.connection)?void 0:n.downlink,network_rtt:null==(i=navigator.connection)?void 0:i.rtt,network_speed_effective_type:null==(r=navigator.connection)?void 0:r.effectiveType,network_connection_type:null==(a=navigator.connection)?void 0:a.type},function(){var e;const t=new URLSearchParams(null==(e=window.location)?void 0:e.search),o=!!t.get("gclid"),n=!!t.get("fbclid"),i=!!t.get("ttclid");let r={};const a="webapp-recharge-ads_info",s=JSON.parse(localStorage.getItem(a)||localStorage.getItem("webapp-recharge-google_ads_info")||"{}"),l=s.expiryDate&&(new Date).getTime()<s.expiryDate;try{o||n||i?(r={utm_clid:t.get("fbclid")||t.get("gclid")||t.get("ttclid"),utm_gclid:t.get("gclid"),utm_fbclid:t.get("fbclid"),utm_ttclid:t.get("ttclid"),utm_original_url:window.location.href,utm_medium:t.get("utm_medium"),utm_media_source:t.get("utm_source")||t.get("utm_media_source"),utm_campaign_id:t.get("campaign_id")||t.get("campaignid")||t.get("utm_id"),utm_adset_id:t.get("adset_id")||t.get("adgroupid"),utm_ad_id:t.get("ad_id")||t.get("creative"),utm_channel:t.get("channel")||t.get("network"),utm_keyword:t.get("keyword"),utm_placement:t.get("placement"),utm_match_type:t.get("match_type"),utm_campaign_name:t.get("campaign_name")||t.get("utm_campaign"),utm_adset_name:t.get("adset_name"),utm_ad_name:t.get("ad_name"),utm_target_id:t.get("target_id"),utm_duration:0},localStorage.setItem(a,JSON.stringify({value:r,expiryDate:(new Date).getTime()+2592e6,recordTime:(new Date).getTime()}))):l&&(r=s.value,r.utm_duration=(new Date).getTime()-(s.recordTime||s.expiryDate-2592e6))}catch(e){console.log(e)}return r}()),S);return k&&(C.source=k),C})(e,t);ht.f.config({initConfig:Object.assign({channel_domain:s.tea,ab_channel_domain:s.libraWebSDK,channel_type:s.teaChannelType,channel:s.teaChannel,id:1988},o),commonHeaderConfig:{region:r,user_id:null!==(n=null==i?void 0:i.uid)&&void 0!==n?n:l,user_is_login:Boolean(i),user_unique_id:a,user_type:12,device_id:a,"header.custom":p},commonEventParams:Object.assign(Object.assign({},u),{data_collection_enabled:(0,Io.uh)(c,!!i)?1:0}),abTestVersion:d})};const Zh=(0,tt.atom)(!1);const Jh={initialized:!1,eventCommonParams:{},init(e){var t;const o=on.parse(e),{platform:n,group_id:i,last_group_id:r}=o,a=(0,kd.r)(o,["enter_method","enter_from","enter_ref_id","device_platform","ref_hash"]),{enter_from:s}=a,l=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(a,["enter_from"]);this.initialized=!0,this.eventCommonParams=Object.assign(Object.assign(Object.assign({},l),{enter_from:null!==(t=null==s?void 0:s.toString())&&void 0!==t?t:"login",platform:n,group_id:null==i?void 0:i.toString(),last_group_id:null==r?void 0:r.toString()}),ng())},setDevicePlatform(e){const t=e?"mobile_web":"desktop_web";this.eventCommonParams.device_platform=t},setEnterMethodForTeaEvents(e){this.eventCommonParams.enter_method=e},setGroupIdForTeaEvents(e){this.eventCommonParams.group_id=e},setLastGroupIdForTeaEvents(e){this.eventCommonParams.last_group_id=e}},Qh=(e,t,o)=>{const n=(0,Pe.zy)(),{loginModalShow:i,url:r}=(0,qa.mZ)(e=>({loginModalShow:e.loginModalShow,url:e.url}),gn.bN),{loginType:a}=(0,Ti.U)(()=>["loginType"],[]);Jh.initialized||(Jh.init(i?r.split("?")[1]:n.search),Jh.setDevicePlatform(o)),function(o,n){var i;const r=(0,xo.L$)((0,tn.W)(()=>["region","user","wid","abTestVersion","language","odinId"],[])),s=(0,xo.L$)((0,Po.U)(()=>["domains","vgeo"],[])),{abTestVersion:l,user:c}=r,d=A(l,null!==(i=null==c?void 0:c.uid)&&void 0!==i?i:"");!function(e,t,o){const n=t(),{initConfig:i={}}=n,r=qh(n,["initConfig"]);(0,m.useEffect)(()=>{r&&!r.skip_init&&Kh(e,r,i)},[...o]),function(){const e=Ue();(0,m.useEffect)(()=>{const t=null==e?void 0:e.listen(e=>{ht.f.resetStayDuration(e.pathname,e.pathname,window.location.href)});return()=>{null==t||t()}},[])}()}(Object.assign(Object.assign({},s),r),()=>Object.assign(Object.assign({},Object.assign(Object.assign({page_name:e,login_type:a},Jh.eventCommonParams),{skip_init:!t,initConfig:{enable_ios_sendbeacon:!0}})),{is_downgrade:(0,P.qk)(),is_non_personalized:d?"1":"0"}),n)}(0,[a,e,Jh.eventCommonParams.enter_method,t]),(0,m.useEffect)(()=>{Xh()},[]),(0,m.useEffect)(()=>{var e;a&&t&&(e={},ht.f.sendEvent("page_view",e))},[a,t])};function Xh(){return e=this,t=void 0,n=function*(){const{name:e,version:t}=ig();if("Windows"===e){const e=yield rg();ht.f.config({commonHeaderConfig:{"header.custom":{os_version:e?"11":t}}})}else ht.f.config({commonHeaderConfig:{"header.custom":{os_version:t}}})},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n}const ev=({groupId:e,lastGroupId:t,enterMethod:o,enterFrom:n,closeable:i,predictionPayload:r}={})=>{o&&(e=>{Jh.setEnterMethodForTeaEvents(e)})(o);const a=(0,ke.Nj)(Hi.$F),s=(0,ke.Nj)(Te.le),l=(0,ke.Nj)(Te.VU),[c,d]=Wh(Zh),u=sg();(0,m.useEffect)(()=>{(e=>{Jh.setGroupIdForTeaEvents(e)})(e),a.setGroupId(e)},[a,e]),(0,m.useEffect)(()=>{(e=>{Jh.setLastGroupIdForTeaEvents(e)})(t),a.setLastGroupId(t)},[a,t]),(0,m.useEffect)(()=>{o&&(s.setEnterMethod(o),a.setEnterMethod(o)),s.setEnterFrom(n);const e=Number((0,qp.isWebAuthnAvailable)());a.isPasskeyEligible=e,a.loginPanelType="none"===u?"login":"passkey_login",Xh().then(()=>{null!=i||a.setCloseable(i),r&&a.setPredictionPayload(r);const t=ye.nf.getTrackingInfo(),o=ye.nf.getResumeDataSource(),n=()=>{a.loginNotify(Object.assign(Object.assign({},ng()),{is_passkey_eligible:e})),s.loginNotify()};if(!t)return n();if(o===id&&!c)return d(!0),n();const u=ye.nf.getDurationSinceClickTimestampOnce();a.loginNotify(Object.assign(Object.assign({click_to_notify_duration:u,e2eInfo:t},ng()),{is_passkey_eligible:e})),s.loginNotify(),u&&l.sendLoginClickToNotifyDurationPerfMetric(u)})},[])},tv=e=>{const t=(0,m.useRef)(void 0),o=(0,ke.Nj)(Hi.$F),n=(0,ke.Nj)(Te.le);(0,m.useEffect)(()=>{if(void 0===t.current||void 0!==e){const t=ye.nf.getTrackingInfo();o.enterSignUp({groupId:e,e2eInfo:t}),n.signUpNotify()}t.current=e},[e,o])},ov={login:{title:"log_in",description:"Log in or sign up for an account on TikTok. Start watching to discover real people and real videos that will make your day.",keywords:"Log in, Log in to TikTok"},signup:{title:"sign_up",description:"Sign up for an account or log back into TikTok. Create an account to discover real people and real videos that will make your day.",keywords:"Sign up, Sign up for TikTok"}},nv=(0,m.memo)(({page:e})=>{var t;const o=ov[e],n=(0,xi.s)(K.i_.Login),{language:r}=(0,xo.L$)((0,tn.W)(()=>["language"],[])),{isMobile:a}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{pathname:s}=(0,Pe.zy)();return(0,i.FD)(Vo.mg,{htmlAttributes:{lang:r},children:[a&&"loginDownloadApp"===(null===(t=(0,xe.Iv)(s))||void 0===t?void 0:t.name)&&(0,i.Y)("link",{rel:"canonical",href:`${oc}/download`},"canonical"),(0,i.Y)("title",{children:`${n(o.title)} | TikTok`}),(0,i.Y)("meta",{name:"description",content:n(o.description)}),(0,i.Y)("meta",{name:"keywords",content:o.keywords})]})});function iv(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M4 24a5 5 0 1 1 10 0 5 5 0 0 1-10 0ZM19 24a5 5 0 1 1 10 0 5 5 0 0 1-10 0ZM39 19a5 5 0 1 0 0 10 5 5 0 0 0 0-10Z"}))}var rv,av;function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},sv.apply(null,arguments)}(0,nl.r)(iv);const lv=function(e){return m.createElement("svg",sv({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 42",width:"1em",height:"1em"},e),rv||(rv=m.createElement("g",{clipPath:"url(#single-logo-light_svg__clip0_396_27791)"},m.createElement("path",{fill:"#25F4EE",d:"M9.875 16.842v-1.119A8.836 8.836 0 008.7 15.64c-4.797-.006-8.7 3.9-8.7 8.707a8.706 8.706 0 003.718 7.135A8.675 8.675 0 011.38 25.55c0-4.737 3.794-8.598 8.495-8.707z"}),m.createElement("path",{fill:"#25F4EE",d:"M10.087 29.526c2.14 0 3.89-1.707 3.966-3.83l.007-18.968h3.462a6.78 6.78 0 01-.109-1.202h-4.727l-.006 18.969a3.978 3.978 0 01-3.967 3.829 3.93 3.93 0 01-1.846-.46 3.949 3.949 0 003.22 1.662zM23.992 13.166v-1.055a6.507 6.507 0 01-3.584-1.068 6.573 6.573 0 003.584 2.123z"}),m.createElement("path",{fill:"#FE2C55",d:"M20.408 11.043a6.54 6.54 0 01-1.616-4.315h-1.265a6.557 6.557 0 002.881 4.315zM8.707 20.365a3.98 3.98 0 00-3.974 3.976c0 1.528.87 2.858 2.134 3.523a3.936 3.936 0 01-.754-2.32 3.98 3.98 0 013.973-3.977c.41 0 .805.07 1.176.185V16.92a8.852 8.852 0 00-1.176-.083c-.07 0-.134.006-.204.006v3.708a3.999 3.999 0 00-1.175-.185z"}),m.createElement("path",{fill:"#FE2C55",d:"M23.992 13.166v3.676a11.25 11.25 0 01-6.579-2.116v9.621c0 4.802-3.903 8.714-8.706 8.714a8.669 8.669 0 01-4.99-1.579 8.69 8.69 0 006.37 2.781c4.796 0 8.706-3.906 8.706-8.714v-9.621a11.25 11.25 0 006.579 2.116v-4.73c-.479 0-.939-.052-1.38-.148z"}),m.createElement("path",{fill:"white",d:"M17.413 24.347v-9.621a11.251 11.251 0 006.58 2.116v-3.676a6.571 6.571 0 01-3.584-2.123 6.61 6.61 0 01-2.887-4.315h-3.463l-.006 18.968a3.978 3.978 0 01-3.967 3.83 3.99 3.99 0 01-3.225-1.656 3.991 3.991 0 01-2.134-3.523A3.98 3.98 0 018.7 20.371c.409 0 .805.07 1.176.185v-3.708c-4.702.103-8.496 3.964-8.496 8.701 0 2.289.888 4.373 2.338 5.933a8.669 8.669 0 004.989 1.58c4.797 0 8.706-3.913 8.706-8.715z"}))),av||(av=m.createElement("defs",null,m.createElement("clipPath",{id:"single-logo-light_svg__clip0_396_27791"},m.createElement("path",{fill:"black",d:"M0 0h25v42H0z"})))))},cv=(0,Wt.A)("div",{target:"e15366060"})({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:"8px"}},"label:DivIconButtonListContainer;"),dv=(0,Wt.A)("div",{target:"e15366061"})(({width:e,height:t,theme:{colors:o}})=>[{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",border:"1px solid",borderColor:o.LineSecondary,borderRadius:"50%",cursor:"pointer",width:`${e}px`,height:`${t}px`,"&:hover":{opacity:.8}}],"label:DivIconButton;"),uv=({configItem:e,width:t,height:o})=>{const n=e.icon;return(0,i.Y)(dv,{onClick:e.onClick,onKeyDown:e.onClick,width:t,height:o,tabIndex:0,role:"link",children:(0,i.Y)(n,{width:t/2,height:o/2})})},pv=({config:e,width:t,height:o})=>(0,i.Y)(cv,{children:e.map(e=>(0,i.Y)(uv,{configItem:e,width:t,height:o},e.type))}),gv=(0,Wt.A)("div",{target:"e16hbrhj0"})({width:"315px",margin:"auto",height:"44px"},"label:DivGuestModeContainer;"),mv=(0,Wt.A)("div",{target:"e16hbrhj1"})({height:"158px",paddingTop:"56px",paddingBottom:"18px",justifyContent:"space-between",alignItems:"center",display:"flex",flexDirection:"column"},"label:DivStartsOnTikTokContainer;"),hv=(0,Wt.A)("div",{target:"e16hbrhj2"})({display:"flex",flexDirection:"row",flexShrink:"0",alignItems:"center",justifyContent:"center",margin:"16px auto",overflow:"hidden",width:"315px"},"label:DivGuestModeOrContinueWithContainer;"),vv=(0,Wt.A)("div",{target:"e16hbrhj3"})(({theme:e})=>[{width:"100%",height:"1px",flexShrink:"0",background:e.colors.LineReverse2}],"label:DivGuestModeSeparatorLine;"),_v=(0,Wt.A)("div",{target:"e16hbrhj4"})([{margin:"0 6px",whiteSpace:"nowrap"}],"label:DivGuestModeSeparatorText;"),fv=(0,m.memo)(function(){const e=ju([sr.GOOGLE,sr.FACEBOOK]),t=bl({isGuestMode:!0}),o=(0,ke.Nj)(Hi.$F),n=(0,m.useCallback)(()=>{o.loginMethodExpand(),t()},[o,t]),r=(0,m.useMemo)(()=>[...e,{icon:iv,onClick:n,type:"openLogin"}],[n,e]),[a,{setLoginModalShow:s,setCloseCallback:l,setGroupId:c,setIsLoginOnLoadClosed:d}]=(0,qa.MR)(e=>e.closeCallback),p=(0,xi.s)(K.i_.WebApp),[{showFlashingButton:g}]=(0,en.Su)(Pi.t),h=(0,en.wA)(gs),v=(0,m.useCallback)(()=>{s(!1),o.loginNotifyClose({isSignUp:"0",e2eInfo:ye.nf.getTrackingInfo()}),h.setLoginModalInitialState(),a(),l(u()),c(void 0),localStorage.setItem("guest-mode-flag","1"),localStorage.setItem("timeOfLastPopup",Date.now().toString()),d({isLoginOnLoadClosed:!0})},[s,o,h,a,l,c,d]),{value:_}=(0,m.useContext)(Yt),f=(0,m.useMemo)(()=>_?(0,i.Y)(lv,{width:40,height:48}):(0,i.Y)(xu,{width:40,height:48}),[_]);return Ee(),(0,i.FD)(i.FK,{children:[(0,i.FD)(mv,{children:[f,(0,i.Y)(tu.Fm,{type:"H6",color:"TextPrimary",children:p("tiktok_instant_app_loading_status_header")})]}),(0,i.Y)(gv,{children:(0,i.Y)(fl,{text:p("pcWeb_guestLogin_without"),showFlashingButton:g,onClick:v,buttonTheme:"primary",focusable:!0},"login-guest-button")}),(0,i.FD)(hv,{children:[(0,i.Y)(vv,{}),(0,i.Y)(_v,{children:(0,i.Y)(tu.Fm,{type:"P5-Regular",color:"TextQuaternary",children:p("webapp_orContinueWith")})}),(0,i.Y)(vv,{})]}),(0,i.Y)(pv,{config:r,width:44,height:44})]})}),bv=o.p+"c287bca871661e22ee8a.png",yv=o.p+"47624c235266dedd8e4d.png",wv=(0,Wt.A)("div",{target:"e10o7n900"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont"}),{fontSize:"24px",lineHeight:"32px",margin:"32px auto 12px",fontWeight:"bold",textAlign:"center"}],"label:DivTitle;"),kv=(0,Wt.A)("div",{target:"e10o7n901"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary"}),{fontSize:"18px",lineHeight:"25px",display:"flex",justifyContent:"space-between",marginBottom:"40px"}],"label:DivDescription;"),Sv=(0,Wt.A)("img",{target:"e10o7n902"})({width:"80%",margin:"0 auto 16px"},"label:ImgQR;"),Cv=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{appType:t}=(0,en.Ph)(f.L,{selector:e=>{var t;return{appType:null===(t=e.appContext)||void 0===t?void 0:t.appType}},dependencies:[]}),o="m"===t?bv:yv;return(0,i.FD)(i.FK,{children:[(0,i.Y)(kv,{"data-e2e":"instagram-desc",children:e("login_risk_popup_pc_body_2")}),(0,i.Y)(Sv,{src:o,"data-e2e":"instagram-img"})]})}),xv=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),t=(0,Pe.zy)(),{fromIns:o}=t.state||{};return Ee(),(0,i.FD)(i.FK,{children:[(0,i.Y)(wv,{"data-e2e":"instagram-title",children:e(o?"login_new_ins_PC_title":"login_risk_popup_pc_title")}),(0,i.Y)(Cv,{}),(0,i.Y)(Vo.mg,{children:(0,i.Y)("link",{rel:"canonical",href:`${oc}/download`},"canonical")})]})}),Pv=(0,Wt.A)("div",{target:"eop2wpq1"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextSecondary",fontFamily:"TikTokFont"}),{marginBottom:"16px",fontSize:"18px",lineHeight:"24px",display:"flex",justifyContent:"space-between"}],"label:DivDescription;"),Tv=()=>{const e=(0,ke.Nj)(Hi.$F),t=(0,xi.s)(K.i_.Login),[{forceResetResponse:o,loginLoading:n},{handleForceResetPwdByEmail:r,handleForceResetPwdByPhone:a,clearForceResetRes:s}]=(0,en.Su)(Gi.$),{conditional_login_ticket:l,type:c,email:d,mobile:u}=(0,xo.L$)(o),[{sendCodeLoading:p,ticket:g,code:h,codeFormatError:v},{sendPhoneCodeForForceResetPwd:_,sendEmailCodeForForceResetPwd:f}]=(0,en.Su)(Mp.m),{password:b,contentValid:y,lengthValid:w}=(0,en.Ph)(Op),k=Bp(),S=(0,m.useCallback)(()=>{"email"===c?f({conditional_login_ticket:l}):_({conditional_login_ticket:l})},[c,f,l,_]),C=(0,m.useCallback)(()=>{const t={code:h,ticket:null!=g?g:"",password:b,conditional_login_ticket:l};e.forceResetSubmit(),"email"===c?r(t):a(t)},[h,l,r,a,e,b,g,c]),x=!h||!b||!y||!w||Boolean(v),P="email"===c?t("setting_password_code_email_text",{email:d}):t("setting_password_code_sms_text",{mobile:u}).replace(/(\D{1})(4)(\D{1})/,(e,t,o,n)=>`${t}6${n}`);return(0,m.useEffect)(()=>()=>{s()},[]),Ee(),(0,i.FD)(Rg,{onSubmit:C,children:[(0,i.Y)(Fu,{children:t("common_login_reset_password_title")}),(0,i.Y)(Pv,{children:t("changepw_banner")}),(0,i.Y)(jm,{email:"email"===c,autoSendFirstTime:!0,disabled:!l,codeFromNumber:l,loading:p,onClickSendCode:S}),(0,i.Y)(Cg,{text:P,type:"default"}),(0,i.Y)(Ng,{loginError:Boolean(k)}),(0,i.Y)(Cg,{text:t(k),type:"error"}),(0,i.Y)(kg,{disabled:x,loading:n,children:t("Login")})]})},Ov=(0,Wt.A)("div",{target:"e1419m800"})({marginBottom:"9px",position:"relative"},"label:DivEmailContainer;"),Av=(0,Wt.A)("ul",{target:"e3y4xh60"})(({theme:e})=>({position:"absolute",top:"44px",borderRadius:"4px",background:e.colors.BGPrimary,border:"1px solid",borderColor:e.colors.LineSecondary,zIndex:2,marginTop:"4px",width:"100%",padding:"0"}),"label:UlList;"),Ev=(0,Wt.A)("li",{target:"e3y4xh61"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextTertiary2"}),{display:"flex",padding:"0 12px",justifyContent:"space-between",alignItems:"center",height:"34px",lineHeight:"34px",fontSize:"13px",cursor:"pointer"},{":hover":{backgroundColor:"rgba(22, 24, 35, .03)"}}],"label:LiListItem;"),Lv=(0,m.memo)(function({focused:e}){const{emailSuffixConfig:t}=(0,Ti.U)(()=>["emailSuffixConfig"],[]),[{email:o=""},{setSuggestEmailSuffixConfig:n}]=(0,en.Su)(Rp.N),[r,a]=(0,m.useState)(!1);(0,m.useEffect)(()=>{if(e){const e=o.split("@")[1];if(o.includes("@")&&".com"!==e.slice(-4))return void a(!0)}a(!1)},[e,r,o]);const s=(0,m.useCallback)(e=>()=>{a(!1),n(e)},[n]);return r?(0,i.Y)(Av,{children:t.map((e,t)=>{var n;return(0,i.FD)(Ev,{onClick:s(`@${e}`),children:[null!==(n=null==o?void 0:o.split("@")[0])&&void 0!==n?n:"","@",e]},t)})}):null}),jv=(0,m.memo)(function(e){const t=(0,xi.s)(K.i_.Login),{isMobile:o}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{emailRegistered:n,errorMsg:r=""}=e,[{emailErrorMsg:a="",email:s=""},{setEmailInfo:l}]=(0,en.Su)(Rp.N),[c,d]=(0,m.useState)(!1),u=(0,m.useCallback)(()=>{d(!0)},[]),p=(0,m.useCallback)(()=>{setTimeout(()=>{d(!1)},300)},[]),g=(0,m.useCallback)(e=>{const t=e.target.value;l({email:t,valid:!0})},[l]);(0,m.useEffect)(()=>{if(!c&&!o){const e=(0,xp.Ro)(s);l({email:s,valid:e})}},[o,s,c,l]);const h=(Boolean(a||r)||n)&&(!c||o),v=a||r;return(0,i.FD)(Ov,{children:[(0,i.Y)(yg,{placeholder:t("common_login_reset_email_input_placeholder"),onFocus:u,onBlur:p,onInput:g,value:s,errorState:h,autocomplete:"email",name:"email",type:"email"}),!o&&(0,i.Y)(Lv,{focused:c}),h&&(0,i.Y)(Cg,{text:t(v),type:"error"})]})}),Iv=()=>{const e=(0,xi.s)(K.i_.Login),t=Ad(),{emailErrorMsg:o,email:n=""}=(0,en.Ph)(Rp.N),[{loginLoading:r},{changePwdByEmail:a}]=(0,en.Su)(Gi.$),[{sendCodeLoading:s,code:l,codeFormatError:c},{sendEmailCodeForReset:d}]=(0,en.Su)(Mp.m),{password:u,lengthValid:p,contentValid:g}=(0,en.Ph)(Op),h=Bp(),v=(0,m.useCallback)(()=>{t({platform:Hi.WN.Email,forgetPwd:!0}),a({password:u,email:n,emailCode:l})},[t,a,u,n,l]),_=(0,m.useCallback)(()=>{d({email:n,email_logic_type:2})},[n,d]),f=!n||!u||!l||!g||!p||Boolean(c)||Boolean(o);return Ee(),(0,i.FD)(Rg,{onSubmit:v,children:[(0,i.Y)(Fu,{children:e("common_login_reset_password_title")}),(0,i.FD)(Nu,{children:[e("setting_password_email_verify_title"),(0,i.Y)(Cp,{text:e("forget_password_switch_phone"),path:xe.tH.loginForgetPhonePassword,replace:!0})]}),(0,i.Y)(jv,{}),(0,i.Y)(jm,{email:!0,disabled:Boolean(o)||!n,codeFromNumber:n,loading:s,onClickSendCode:_}),(0,i.Y)(Ng,{loginError:Boolean(h)}),(0,i.Y)(Cg,{text:e(h),type:"error"}),(0,i.Y)(kg,{disabled:f,loading:r,children:e("Login")})]})},Rv=()=>{const e=(0,xi.s)(K.i_.Login),t=Ad(),[o]=(0,en.Su)($i.U),{phoneErrorMsg:n,mobile:r,phone:a}=o,[{sendCodeLoading:s,codeFormatError:l,code:c},{sendPhoneCodeForResetPwd:d}]=(0,en.Su)(Mp.m),[{loginLoading:u},{changePwdByMobile:p}]=(0,en.Su)(Gi.$),{password:g,lengthValid:h,contentValid:v}=(0,en.Ph)(Op),_=Bp(),f=(0,m.useCallback)(()=>{t({platform:Hi.WN.Sms,forgetPwd:!0}),p({password:g,mobile:r,phoneCode:c})},[t,p,g,r,c]),b=(0,m.useCallback)(()=>{d({mobile:r})},[r,d]),y=!r||!g||!c||!v||!h||Boolean(n)||Boolean(l);return Ee(),(0,i.FD)(Rg,{onSubmit:f,children:[(0,i.Y)(Fu,{children:e("common_login_reset_password_title")}),(0,i.FD)(Nu,{children:[e("setting_bind_phone_input_title"),(0,i.Y)(Cp,{text:e("forget_password_switch_email"),path:xe.tH.loginForgetEmailPassword,replace:!0})]}),(0,i.Y)(Sm,{}),(0,i.Y)(jm,{disabled:Boolean(n)||!a,codeFromNumber:r,loading:s,onClickSendCode:b}),(0,i.Y)(Ng,{loginError:Boolean(_)}),(0,i.Y)(Cg,{text:e(_),type:"error"}),(0,i.Y)(kg,{disabled:y,loading:u,children:e("Login")})]})},Mv=()=>{const e=(0,xi.s)(K.i_.Login);return Ee(),(0,i.FD)(i.FK,{children:[(0,i.Y)(Fu,{children:e("Login")}),(0,i.Y)(Um,{})]})},Dv=(0,Wt.A)("div",{target:"e11sre0o0"})(({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",width:"100%",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"}),"label:DivContainer;"),Fv=(0,Wt.A)("img",{target:"e11sre0o1"})({width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover"},"label:ImgAvatar;"),Nv=(0,Wt.A)(ko.Fm,{target:"e11sre0o2"})({lineHeight:"120%",fontWeight:"bold",textAlign:"center",marginTop:"32px"},"label:StyledDivTitle;"),Uv=(0,Wt.A)(ko.Fm,{target:"e11sre0o3"})({marginTop:"20px",lineHeight:"130%"},"label:StyledDivDesc;"),Bv=(0,Wt.A)("div",{target:"e11sre0o4"})({width:"100%",marginTop:"32px"},"label:DivButtonWrapper;"),Hv=(0,Wt.A)(ko.I05,{target:"e11sre0o5"})({width:"100%"},"label:StyledButton;");function zv(){var e;const t=(0,Pe.W6)(),o=(0,xi.s)(K.i_.Login),{loginLoading:n,errorCode:r,errorMsg:a}=(0,en.Ph)(Gi.$),{handleM2BindLogin:s}=(0,en.wA)(Gi.$),l=(0,ke.Nj)(Hi.$F),c=(null==t||null===(e=t.location)||void 0===e?void 0:e.state)||{m2_lookup_ticket:"",bind_info:{nickname:"",avatar_url:"",email:""}},d=c.m2_lookup_ticket,u=c.bind_info,p=(0,m.useMemo)(()=>(null==u?void 0:u.nickname)||"",[u]),g=(0,m.useMemo)(()=>(null==u?void 0:u.email)||"",[u]),h=(0,m.useMemo)(()=>(null==u?void 0:u.avatar_url)||"",[u]),v=(0,m.useCallback)(()=>{d&&(l.m2AppleBackPageClick(),s({m2_lookup_ticket:d}))},[d,s,l]);return(0,m.useEffect)(()=>{l.m2AppleBackPageShow()},[l]),(0,m.useEffect)(()=>{r&&a&&(0,er.P)(a)},[a,r]),d&&u?(0,i.FD)(Dv,{children:[h&&(0,i.Y)(Fv,{src:decodeURIComponent(h),alt:"User Avatar"}),(0,i.Y)(Nv,{size:24,align:"center",weight:"bold",as:"div",children:o("M2account_iOS_signInWithApple_alreadyLinkedPage_title",{s_currentUsername:p},"Hello, @{s_currentUsername}")}),(0,i.Y)(Uv,{size:15,align:"center",children:o("M2account_iOS_signInWithApple_alreadyLinkedPage_desc",{s_currentUsername:p,s_emailAddress:g},"Your Apple Account's email address {s_emailAddress} is already linked to your TikTok account, @{s_currentUsername}. You can log in using your Apple Account or email address in the future.")}),(0,i.Y)(Bv,{children:(0,i.Y)(Hv,{label:o("M2account_iOS_signInWithApple_alreadyLinkedPage_btn"),variant:"primary",onClick:v,loading:n})})]}):(t.replace("/login"),null)}var Yv=o(30465),Wv=o.n(Yv);function Vv(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"m23.41 34.28 11.18-17.66a1 1 0 0 0-.3-1.38l-1.95-1.23a1 1 0 0 0-1.38.3l-9.65 15.25-5.6-6.33a1 1 0 0 0-1.41-.09l-1.72 1.53a1 1 0 0 0-.09 1.41l7.5 8.47a2.15 2.15 0 0 0 3.42-.27Z"}),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 24a22 22 0 1 1-44 0 22 22 0 0 1 44 0Zm-4 0a18 18 0 1 1-36 0 18 18 0 0 1 36 0Z"}))}function Gv(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 11.2a8.47 8.47 0 1 1 0 16.94 8.47 8.47 0 0 1 0-16.94Zm5.17 8.47a5.17 5.17 0 1 0-10.35-.01 5.17 5.17 0 0 0 10.34 0Z"}),m.createElement("path",{d:"M15.87 36.25a12.65 12.65 0 0 1 16.26 0c.94-.62 1.8-1.35 2.56-2.16A15.94 15.94 0 0 0 24 30c-4.1 0-7.85 1.55-10.69 4.1.77.8 1.62 1.53 2.56 2.15Z"}),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 24a22 22 0 1 1 44 0 22 22 0 0 1-44 0ZM24 6a18 18 0 1 0 0 36 18 18 0 0 0 0-36Z"}))}(0,nl.r)(Vv),(0,nl.r)(Gv);var $v=o(82970);function qv(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function Kv(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class Zv extends Di.E{setBindRes(e,t){e.userBindRes=t}setLoading(e,t){e.isLoading=t}bindAppleId(e){return e.pipe((0,it.M)(()=>{(0,Ii.Z)(this.getActions().setLoading(!0))}),(0,Li.Z)(({m2_lookup_ticket:e,code:t,userConfirmed:o,okCallback:n})=>{const i={code:e?void 0:t,user_confirm:o,m2_lookup_ticket:e};return(0,$v.z)([this._service.m2BindAppleId(i),(0,Oi.of)({okCallback:n})])}),(0,Li.Z)(([e,{okCallback:t}])=>{const{data:o}=e;if(!o.error_code||[zi.v1.M2LogoutAppleIdBind1POnly,zi.v1.M2LogoutAppleIdBindWillLoose].includes(o.error_code))return(0,Oi.of)(this.getActions().setBindRes(e)).pipe((0,it.M)(()=>{null==t||t(e)}));const n=this.t("webapp_error_tryagain_toast"),i=e.error,r="object"==typeof i?Object.assign(Object.assign({},i),{description:(null==i?void 0:i.description)||n}):e;return this._loginResultHandle.handleLoginResult((0,Oi.of)(r)).pipe((0,it.M)(()=>{null==t||t(e)}))})).pipe((0,it.M)(()=>{this.getActions().setLoading(!1)}))}constructor(e,t,o){super(),this._service=e,this._loginResultHandle=t,this.t=o,this.defaultState={}}}qv([(0,Fi.h5)(),Kv("design:type",Function),Kv("design:paramtypes",["undefined"==typeof AppleIdBindingModuleState?Object:AppleIdBindingModuleState,Object]),Kv("design:returntype",void 0)],Zv.prototype,"setBindRes",null),qv([(0,Fi.h5)(),Kv("design:type",Function),Kv("design:paramtypes",["undefined"==typeof AppleIdBindingModuleState?Object:AppleIdBindingModuleState,Boolean]),Kv("design:returntype",void 0)],Zv.prototype,"setLoading",null),qv([(0,Fi.Mj)(),Kv("design:type",Function),Kv("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),Kv("design:returntype",void 0)],Zv.prototype,"bindAppleId",null),Zv=qv([(0,Ni.nV)("Account"),function(e,t){return function(e,o){t(e,o,2)}}(0,(0,Ui.y)(ce.hp)),Kv("design:type",Function),Kv("design:paramtypes",[void 0===Yi.r?Object:Yi.r,void 0===Gi.$?Object:Gi.$,void 0===ia.I18NTranslate?Object:ia.I18NTranslate])],Zv);function Jv(){const[{userBindRes:e,isLoading:t},{bindAppleId:o}]=(0,en.Su)(Zv),{lastAppleAuthInfo:n}=(0,qa.mZ)();return[e,(0,m.useCallback)(e=>{return t=this,i=void 0,a=function*(){return n?new Promise(t=>{o(Object.assign(Object.assign({},e),{code:n.code,okCallback:t}))}):Promise.reject(new Error("missing apple id information"))},new((r=void 0)||(r=Promise))(function(e,o){function n(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r(function(e){e(o)})).then(n,s)}l((a=a.apply(t,i||[])).next())});var t,i,r,a},[n]),t]}var Qv=o(34974);function Xv(){const e=(0,xo.L$)((0,tn.W)(()=>["user","language","env"],[])),t=(0,en.Ph)(Pi.t),o=(0,ke.Nj)(Te.le),n=(0,Qv.F)(e),i=(0,Qv.F)(t);return(0,m.useCallback)(()=>{const{language:e,env:t,user:r}=n.current,{redirectUrl:a,aid:s}=i.current,l=encodeURIComponent($r(e,"boe"===(null==t?void 0:t.type),a)),c=ye.BL.getTrackingInfo(),d=r?Object.assign({status:Hi.zm.Success,error_code:0},c):Object.assign({status:Hi.zm.Failed,error_code:-1,error_desc:"no account info"},c);var u;u=d,ht.f.sendEvent("monitor_logout",u),o.logout(d),location.href=`https://${location.host}/passport/web/logout/?aid=${s}&account_sdk_source=web&next=${l}&`},[])}var e_,t_,o_,n_,i_,r_,a_;function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},s_.apply(null,arguments)}const l_=function(e){return m.createElement("svg",s_({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 344 147",width:"1em",height:"1em"},e),e_||(e_=m.createElement("path",{fill:"#6DE7E3",d:"M105.328 116.792c1.544 3.455 62.137 3.136 91.597 2.971 9.16 0 27.826-.594 29.212-2.971 1.733-2.97 5.199-80.951 1.238-83.427-3.961-2.475-118.33-3.782-122.047-1.238-3.121 2.137-1.331 81.687 0 84.665z"})),t_||(t_=m.createElement("path",{fill:"white",d:"M120.35 37.81c-2.069.386-2.276 24.908-1.376 32.964.164 1.474 1.563 3.283 3.029 3.503 8.275 1.246 35.358-.306 35.879-.97 2.22-2.826 1.718-32.878-.735-35.498-1.763-1.883-34.793-.373-36.797 0z"})),o_||(o_=m.createElement("path",{fill:"#6633F5",d:"M225.895 54.628l-57.222-.742.042-3.2 57.222.743-.042 3.2zM166.371 75.356l59.373.99.054-3.199-59.374-.99-.053 3.2zM120.538 96.837l75.439-.743-.032-3.2-75.439.743.032 3.2zM125.701 74.494c-.335-4.027.65-13.49 6.61-18.402-2.517-7.148-.838-12.923 5.738-13.39 6.107-.433 8.839 9.825 5.159 13.39 4.46 2.178 7.094 12.09 8 17.928l-13.408.67-12.099-.196z"})),n_||(n_=m.createElement("path",{fill:"#6633F5",fillRule:"evenodd",d:"M236.13 32.06c1.465 12.386.734 25.17.372 37.59-.243 8.345 3.337 42.789-7.921 44.891-8.372 1.564-17.163 1.531-25.641 1.531-26.907.151-54.026.886-80.894-1.029-12.069-.861-13.207-5.797-13.671-17.788-.73-18.842-.743-37.913-.138-56.758.252-7.877-.59-15.47 9.159-16.036 31.81-1.85 64.027-.79 95.833.42 6.114.232 12.319.325 18.392 1.159 3.516.482 4.146 2.949 4.509 6.02zM111.435 40.6a803.514 803.514 0 00.19 56.655c.399 10.317.226 13.852 10.649 14.596 26.853 1.914 53.77 1.113 80.662 1.021 8.281 0 16.88.051 25.057-1.476 7.602-1.42 5.149-36.306 5.31-41.84.357-12.26 1.096-24.891-.351-37.12-.186-1.579-.03-2.988-1.766-3.226-5.968-.819-12.07-.904-18.079-1.132-31.702-1.205-63.818-2.266-95.526-.423-7.373.429-5.95 6.828-6.146 12.944z",clipRule:"evenodd"})),i_||(i_=m.createElement("path",{fill:"#FF727B",d:"M220.717 57.236c-6.833 9.408-22.982 11.182-30.202 10.893-1.114 22.404 0 46.788 32.554 59.414 18.938-5.323 34.534-36.763 27.231-59.414-7.798 1.857-24.88-1.733-29.583-10.893z"})),r_||(r_=m.createElement("path",{fill:"white",fillRule:"evenodd",d:"M243.576 81.259l-23.364 25.002-17.433-13.56 3.683-4.735L219.57 98.16l19.622-20.999 4.384 4.097z",clipRule:"evenodd"})),a_||(a_=m.createElement("path",{fill:"#FFDD2A",d:"M245.659 41.207c5.716-1.66 7.898-7.954 8.726-10.46 1.494 7.317 5.829 10.46 10.026 11.822-7.241.928-9.12 5.508-12.625 11.016 0-6.207-1.238-8.912-6.127-12.378zM89.434 102.389l-1.61-7.303 3.126-.689 1.609 7.303-3.125.689zM81.896 108.442c.835-.163 4.099-.51 5.714-.591l-.16-3.196c-1.684.084-5.119.442-6.168.647l.614 3.14zM100.349 106.479l-6.065.743-.389-3.176 6.065-.743.389 3.176zM89.643 108.728v8.912h3.2v-8.912h-3.2z"})))},c_=(0,Wt.A)(ko.pfZ,{target:"e1elpzzt1"})(e=>({marginTop:e.isModalMode?52:0,marginBottom:e.isModalMode?40:20,marginLeft:"auto",marginRight:"auto"}),"label:Avatar;"),d_=(0,Wt.A)("div",{target:"e1elpzzt2"})({width:"100%",textAlign:"center",marginBottom:24,padding:"0 50px"},"label:DivContainer;"),u_=(0,Wt.A)(ko.I05,{target:"e1elpzzt3"})({width:"100%",marginTop:40},"label:ConfirmBtn;"),p_=(0,Wt.A)("div",{target:"e1elpzzt4"})({padding:"16px 8px 16px 16px",width:450},"label:DivModalContainer;"),g_=Wt.A.div`
  display: flex;
  gap: 8px;
  & > svg {
    flex-shrink: 0;
  }
`,m_=({isModalMode:e})=>{const[t,o]=(0,m.useState)(!1),n=(0,Qv.F)(e),{errorMsg:r}=(0,en.Ph)(Gi.$),a=(0,xi.s)(K.i_.Login),[s,l]=(0,m.useState)(!0),[c,d]=(0,m.useState)(!1),[u,p,g]=Jv(),h=(0,Qv.F)(u),v=(0,m.useMemo)(()=>{var e;return null==u||null===(e=u.error)||void 0===e?void 0:e.bind_info},[u]),_=(0,m.useMemo)(()=>{const e=(null==v?void 0:v.mobile)||(null==v?void 0:v.email);return e?(0,i.Y)("b",{children:e}):c?a("M4appleBinding_bindAppleAccPage__desc3_usernamePlaceholder"):""},[c,v]),{justCloseTheLoginModal:f}=(0,qa.b1)(),{lastAppleAuthInfo:b}=(0,qa.mZ)(),y=Xv(),w=(0,Qv.F)(p),{user:k}=(0,xo.L$)((0,tn.W)(()=>["user"],[])),S=(0,m.useCallback)(()=>{(0,er.P)(a("M2appleBinding_FYP_appleBound_toast")),Wv()(y,3e3),o(!0),n.current&&f()},[]),C=(0,m.useCallback)(()=>{var e;const t=null===(e=h.current)||void 0===e?void 0:e.error;return w.current({userConfirmed:!0,m2_lookup_ticket:null==t?void 0:t.m2_lookup_ticket}).then(S)},[w,S]);return(0,m.useEffect)(()=>{l(!0),w.current({userConfirmed:!1}).then(e=>{if(!(null==e?void 0:e.data.error_code))return S(),void(n.current&&f());l(!1),d(e.data.error_code===zi.v1.M2LogoutAppleIdBindWillLoose)})},[w,S]),s?(0,i.Y)("div",{style:{height:e?320:"calc(100vh - 160px)",display:"grid",placeItems:"center"},children:(0,i.Y)(ko.sgs,{size:"large"})}):r?(0,i.Y)("div",{style:{height:e?320:"calc(100vh - 160px)",display:"grid",placeItems:"center"},children:(0,i.Y)(so,{iconElem:(0,i.Y)(It.A,{width:72,height:72}),title:r,desc:"",buttonText:a("refresh"),onButtonClick:()=>{location.reload()}})}):(0,i.FD)(d_,{children:[(0,i.Y)(c_,{isModalMode:e,src:null==k?void 0:k.avatarUri[0],size:120,alt:"avatar"}),(0,i.Y)(ko.Fm,{weight:"bold",size:24,as:"h2",style:{marginBottom:e?24:20},children:a("M4appleBinding_bindAppleAccPage_header_skippable",{s_currentUsername:null==v?void 0:v.target_bind_username})}),(0,i.FD)(g_,{style:{marginBottom:8},children:[(0,i.Y)(Vv,{fontSize:20}),(0,i.Y)(ko.Fm,{align:"start",size:16,as:"div",children:a("M4appleBinding_bindAppleAccPage__desc1",{s_otherUsername:(0,i.Y)("b",{children:null==v?void 0:v.current_bind_username})})})]}),(0,i.FD)(g_,{style:{marginBottom:8},children:[(0,i.Y)(Gv,{fontSize:20}),(0,i.Y)(ko.Fm,{align:"start",size:16,as:"div",children:a("M4appleBinding_bindAppleAccPage__desc2",{s_currentUsername:(0,i.Y)("b",{children:null==v?void 0:v.target_bind_username}),s_otherUsername:(0,i.Y)("b",{children:null==v?void 0:v.current_bind_username})})})]}),(0,i.FD)(g_,{children:[(0,i.Y)(Gv,{fontSize:20}),(0,i.Y)(ko.Fm,{align:"start",size:16,as:"div",children:a("M4appleBinding_bindAppleAccPage__desc3",{s_otherUsername:(0,i.Y)("b",{children:null==v?void 0:v.current_bind_username}),s_emailOrPhoneNumberOrUsername:_})})]}),(0,i.Y)(u_,{variant:"primary",loading:g,disabled:!b||t,label:a("M4appleBinding_bindAppleAccPage_btn1"),size:e?void 0:"large",onClick:C})]})},h_=(0,Wt.A)("div",{target:"e144yew60"})({width:500,marginLeft:"auto",marginRight:"auto"},"label:DivContainer;"),v_=()=>{const{user:e,language:t}=(0,xo.L$)((0,tn.W)(()=>["user","language"],[])),[{isModal:o}]=(0,en.Su)(Pi.t);return(0,m.useEffect)(()=>{e||(location.href=`/login?lang=${t}`)},[e]),e?o?(0,i.Y)(p_,{children:(0,i.Y)(m_,{isModalMode:!0})}):(0,i.Y)(h_,{children:(0,i.Y)(m_,{})}):(0,i.Y)($a.R,{center:!0,style:{margin:"auto"}})};var __,f_,b_,y_,w_;function k_(){const e=(0,ke.Nj)(Er),[t,o]=(0,m.useState)(!1);return{appleSdkInitiating:t,handleAppleSDKInit:(0,m.useCallback)(()=>{o(!0),e.init().finally(()=>{o(!1)})},[e,o])}}function S_(){const e=(0,ke.Nj)(Te.VU),t=(0,ke.Nj)(Er);return{handleAuthentication:(0,m.useCallback)(()=>{return o=this,n=void 0,r=function*(){var o;const n=yield t.login(),{error_code:i,code:r,error_msg:a,error:s,email:l}=n;if(e.handleThirdGetToken({error_code:i?-1:0,error_message:null!==(o=null!=r?r:s)&&void 0!==o?o:a}),r)return{code:r,email:l}},new((i=void 0)||(i=Promise))(function(e,t){function a(e){try{l(r.next(e))}catch(e){t(e)}}function s(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(o,n||[])).next())});var o,n,i,r},[])}}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},C_.apply(null,arguments)}const x_=function(e){return m.createElement("svg",C_({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 278 119",width:"1em",height:"1em"},e),__||(__=m.createElement("path",{fill:"#FFDD2A",fillRule:"evenodd",d:"M214.943 34.858l-2.849-12.448 3.119-.714 2.849 12.448-3.119.714zM214.165 41.636l-11.248 1.5-.423-3.173 11.248-1.5.423 3.173zM231.733 38.333l-10.198 1.5-.466-3.166 10.198-1.5.466 3.166zM219.57 55.134l-1.8-11.998 3.164-.474 1.8 11.998-3.164.474z",clipRule:"evenodd"})),f_||(f_=m.createElement("path",{fill:"#6DE7E3",d:"M95.324 49.646c2.25 14.148 6.959 44.063 7.799 50.542.763 5.886 5.81 5.653 10.798 4.949 6.899-.975 61.339-6.15 64.938-6.9 3.6-.749 4.499-1.199 4.05-5.398-.45-4.2-5.999-52.34-6.449-60.89-.45-8.548-4.05-9.148-8.849-8.998-4.799.15-56.989 4.35-66.588 4.95-11.683.73-6.575 13.856-5.699 21.745z"})),b_||(b_=m.createElement("path",{fill:"#6633F5",fillRule:"evenodd",d:"M126.128 51.477l-1.049-9.298 3.179-.36 1.05 9.299-3.18.359zM160.624 46.989l-.9-7.499 3.177-.381.9 7.498-3.177.382zM140.822 38.27l3.187-.282c.22 2.483-.633 26.08 6.511 19.925l2.088 2.424c-13.171 9.507-11.786-17.4-11.786-22.067z",clipRule:"evenodd"})),y_||(y_=m.createElement("path",{fill:"#6633F5",fillRule:"evenodd",d:"M167.186 63.332c-5.694 17.824-32.491 23.35-40.494 4.179l2.953-1.233c6.874 16.467 29.686 11.126 34.492-3.92l3.049.974zM107.387 80.16l3.17-.436c.596 4.325.186 10.966 2.216 15.155.423.873 1.211 1.006 2.121.876 3.363-.48 11.405-1.6 15.004-2.1l.44 3.17c-3.6.5-11.636 1.619-14.991 2.098-2.277.325-4.421-.518-5.453-2.648-2.168-4.472-1.872-11.51-2.507-16.114zM117.112 20.04c-2.299.3-7.689.991-10.821 1.352-2.958.342-3.953 1.305-3.547 4.348.484 3.628 1.406 12.251 1.805 16.094l-3.183.33c-.4-3.856-1.318-12.429-1.794-16-.635-4.764 1.683-7.412 6.352-7.95a932.006 932.006 0 0010.774-1.347l.414 3.173zM171.732 92.04c2.298-.31 7.684-1.026 10.815-1.402 2.957-.355 3.947-1.322 3.527-4.364-.5-3.625-1.461-12.244-1.878-16.085l3.182-.345c.418 3.854 1.374 12.423 1.866 15.993.657 4.76-1.649 7.418-6.316 7.978a934.527 934.527 0 00-10.767 1.396l-.429-3.171zM178.709 17.654c-3.175 0-11.524.495-15.342.746l-.21-3.193c3.78-.249 12.248-.753 15.552-.753 2.813 0 4.491 2.19 5.196 4.69 1.557 5.527 1.204 12.306 1.648 17.93l-3.19.252c-.426-5.399-.039-11.993-1.538-17.314-.303-1.073-.82-2.358-2.116-2.358z",clipRule:"evenodd"})),w_||(w_=m.createElement("path",{fill:"#FF727B",fillRule:"evenodd",d:"M64.003 90.296c-9.232.424-14.574-8.066-14.069-16.666l3.195.188c-.37 6.296 2.908 13.227 9.944 13.295-.853-5.302 2.505-15.77 9.597-12.83 8.949 3.71.401 13.992-5.343 15.51 3.81 6.841 13.526 6.642 18.694 1.533l2.25 2.276c-6.933 6.852-20.068 6.29-24.268-3.306zm7.442-13.057c5.723 2.373-2.508 8.88-5.189 9.525-.496-2.768.801-11.344 5.189-9.525z",clipRule:"evenodd"})))},P_=(0,Wt.A)(x_,{target:"e1u7ogom0"})(e=>({width:278,height:119,marginTop:32,marginBottom:e.isModalMode?12:32}),"label:VerifyBannerImg;"),T_=(0,Wt.A)("div",{target:"e1u7ogom1"})(e=>({marginTop:e.isModalMode?16:40,padding:e.isModalMode?"0 26px":void 0}),"label:VerifyBtnCon;"),O_=(0,Wt.A)("div",{target:"e1u7ogom2"})({padding:"48px 16px 0 24px",width:324,paddingBottom:32},"label:DivModalContainer;");const A_=({isModalMode:e})=>{const t=(0,Pe.W6)(),o=(0,xi.s)(K.i_.Login),{appleSdkInitiating:n,handleAppleSDKInit:r}=k_(),{setLastAppleToken:a}=(0,qa.b1)(),{handleAuthentication:s}=S_(),l=(0,ke.Nj)(Hi.$F),c=(0,m.useCallback)(()=>{return o=void 0,n=void 0,r=function*(){l.m2AppleTransferPageShow({popup_type:e?"popup_window":"popup_page"});const o=yield s();o&&(a(o),t.push({pathname:xe.tH.m2TransferAppleId,search:e?"?is_modal=1&is_confirm=1":"is_confirm=1"}))},new((i=void 0)||(i=Promise))(function(e,t){function a(e){try{l(r.next(e))}catch(e){t(e)}}function s(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(o,n||[])).next())});var o,n,i,r},[e]);return(0,m.useEffect)(()=>{r()},[]),(0,i.FD)("div",{style:{textAlign:"center"},children:[(0,i.Y)(P_,{isModalMode:e}),(0,i.Y)(ko.Fm,{align:"center",size:16,weight:"medium",as:"div",children:o("M3appleBinding_forceBindPage_desc")}),(0,i.Y)(T_,{isModalMode:e,children:(0,i.Y)(ko.I05,{style:{width:"100%"},variant:"primary",loading:n,label:o("M4appleBinding_forceBindPage_btn"),size:e?void 0:"large",onClick:c})})]})},E_=(0,Wt.A)("div",{target:"e12ix0wy0"})({width:402,marginTop:77,marginLeft:"auto",marginRight:"auto"},"label:DivContainer;"),L_=()=>{const[{isModal:e}]=(0,en.Su)(Pi.t),{user:t,language:o}=(0,xo.L$)((0,tn.W)(()=>["user","language"],[]));return(0,m.useEffect)(()=>{t||(location.href=`/login?lang=${o}`)},[t]),e?(0,i.Y)(O_,{children:(0,i.Y)(A_,{isModalMode:!0})}):(0,i.Y)(E_,{children:(0,i.Y)(A_,{})})},j_=()=>{const{lastAppleAuthInfo:e}=(0,qa.mZ)(),t=(0,bi.SQ)();return(0,m.useMemo)(()=>!!new URLSearchParams(t).get("is_confirm"),[t])&&e?(0,i.Y)(v_,{}):(0,i.Y)(L_,{})},I_=(0,m.memo)(()=>{const{enterMethod:e,closeable:t,groupId:o,lastGroupId:n,predictionPayload:r,popupType:a,loginModalShow:s,isGuestMode:l,isGuestModeUI:c}=(0,qa.mZ)(e=>({enterMethod:e.enterMethod,closeable:e.closeable,groupId:e.groupId,lastGroupId:e.lastGroupId,predictionPayload:e.predictionPayload,popupType:e.popupType,loginModalShow:e.loginModalShow,isGuestMode:e.isGuestMode,isGuestModeUI:e.isGuestModeUI}),gn.bN),{pathname:d,search:u}=(0,Pe.zy)(),{enter_from:p}=(0,Ki.parse)(u.slice(1));ev({enterFrom:String(p),enterMethod:e,closeable:t,groupId:o,lastGroupId:n,predictionPayload:r}),Ce({pid:"login"});const{forceResetResponse:g}=(0,en.Ph)(Gi.$),{isMobile:h}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),v=(0,m.useMemo)(()=>[xe.tH.m2TransferAppleId].includes(d),[d]),_=(0,m.useCallback)(e=>{e.keyCode!==rs.D.Esc&&e.stopPropagation()},[]),{showLoginOptionSlider:f}=Un(),b=[xe.tH.loginForgetEmailPassword,xe.tH.loginForgetPhonePassword,xe.tH.loginDownloadApp,xe.tH.loginSSO,xe.tH.loginGuestMode],[y,w]=(0,m.useState)(!0);return(0,m.useEffect)(()=>{var e;w(!l&&!c||h||!s||"1"===(null!==(e=localStorage.getItem("guest-mode-flag"))&&void 0!==e?e:"0")&&!c)},[c,l,h,s]),!h&&y&&f&&s&&a!==ls.O.QR_BOTTOM_RIGHT?(0,i.FD)(Bm,{isOriginalLoginContainer:b.includes(d)||d.startsWith("/login/2sv"),children:[(0,i.Y)(nv,{page:"login"}),(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.loginTwoStepVerify,component:Yh,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginForgetEmailPassword,component:g?Tv:Iv,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginForgetPhonePassword,component:g?Tv:Rv,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginDownloadApp,component:xv,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginSSO,component:nh,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginGuestMode,component:fv,exact:!0}),(0,i.Y)(ki,{path:"*",component:Ym})]})]}):(0,i.FD)(kl,{isMobile:h,popupType:a,isGuestModeRedesign:d===xe.tH.loginGuestMode,onKeyDown:_,isM2AppleIdTransfer:v,children:[(0,i.Y)(nv,{page:"login"}),(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.m2TransferAppleId,component:j_,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginHome,component:kp,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginQRcode,component:bp,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhoneOrEmail,component:Im,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhone,component:Im,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhonePassword,component:Dm,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginEmail,component:Bg,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginWithSignedEmail,component:Mv,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginTwoStepVerify,component:Yh,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginM2Bind,exact:!0,component:zv}),(0,i.Y)(ki,{path:xe.tH.loginForgetEmailPassword,component:g?Tv:Iv,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginForgetPhonePassword,component:g?Tv:Rv,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginDownloadApp,component:xv,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginSSO,component:nh,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginGuestMode,component:fv,exact:!0}),(0,i.Y)(ki,{path:"*",component:kp})]})]})});function R_(){const[e,t]=(0,m.useState)(0),o=(0,m.useCallback)(()=>{t(0)},[]);return{popupHeight:e,handlePopupShow:(0,m.useCallback)(e=>{t(e)},[]),handlePopupHide:o}}var M_,D_,F_,N_,U_,B_,H_,z_;(D_=M_||(M_={})).CUSTOM="CUSTOM",D_.ACTUAL_FMP="ACTUAL_FMP",(N_=F_||(F_={})).ABORT="ABORT",N_.CRASH="CRASH",(B_=U_||(U_={})).normal="normal",B_.noRecord="noRecord",B_.noInternet="noInternet",B_.error="error",(z_=H_||(H_={})).START="START",z_.IN_PROGRESS="IN_PROGRESS",z_.FAILURE="FAILURE",z_.FINISH="FINISH",z_.ABORT="ABORT";const Y_=()=>"undefined"==typeof window||void 0===window.performance||"function"!=typeof window.performance.getEntriesByType?{}:[...window.performance.getEntriesByType("mark").filter(e=>e.name.startsWith("pns_privacy_product_mark")),...window.performance.getEntriesByType("measure").filter(e=>e.name.startsWith("pns_privacy_product_duration"))].map(e=>({duration:e.duration,entryType:e.entryType,name:e.name,startTime:e.startTime})).reduce((e,t)=>(e[t.name]="mark"===t.entryType?Math.floor(t.startTime):Math.floor(t.duration),e),{}),W_=()=>{if("undefined"==typeof window||void 0===window.performance||"function"!=typeof window.performance.measure||"function"!=typeof window.performance.getEntriesByName)return-1;window.performance.measure("DCL","fetchStart","domContentLoadedEventEnd");const e=window.performance.getEntriesByName("DCL");return e.length>0?e[0].duration:-1},V_=(e,t,o)=>{((e,t)=>{if(!t)return;const o={method:e,params:t};if("undefined"!=typeof NativeModules){var n,i;const e=null===(i=NativeModules)||void 0===i||null===(n=i.hybridMonitor)||void 0===n?void 0:n.request;return void(null==e||e(o,()=>{}))}const r=(()=>{var e;let t="unknown";var o;const n=null!==(o=null===(e=navigator)||void 0===e?void 0:e.userAgent)&&void 0!==o?o:"";return/android|Android/i.test(n)&&(t="Android"),/iPhone|iPad|iPod|iOS/i.test(n)&&(t="iOS"),{os:t,isAndroid:"Android"===t,isIOS:"iOS"===t}})();var a,s,l,c,d;if(r.isIOS)null===(d=window)||void 0===d||null===(c=d.webkit)||void 0===c||null===(l=c.messageHandlers)||void 0===l||null===(s=l.bdhmRequest)||void 0===s||null===(a=s.postMessage)||void 0===a||a.call(s,o);else if(r.isAndroid){var u,p,g;null===(g=window)||void 0===g||null===(p=g.iesJsBridgeTransferMonitor)||void 0===p||null===(u=p.request)||void 0===u||u.call(p,JSON.stringify(o))}})("timing.mark",{key:e,value:void 0===t?Date.now():t,description:o||""})},G_=(e,t="")=>"undefined"==typeof location||"undefined"==typeof URLSearchParams?"":new URLSearchParams(location.search).get(e)||t,$_=()=>{var e,t;return{scm_version:"undefined"==typeof window?"":null!==(t=null===(e=window.gfdatav1)||void 0===e?void 0:e.ver)&&void 0!==t?t:"",path:"undefined"==typeof location?"":location.pathname,enter_from:G_("enter_from"),host:"undefined"==typeof location?"":location.host}};function q_(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function K_(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){q_(e,t,o[t])})}return e}function Z_(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}const J_={pageCrash:!1,cuj:!1};class Q_{constructor(){this.slardarWindowGlobalName="",this.slardarHybridGlobalName="",this._shouldReportJSError={pageCrash:!1,cuj:!1},this.initSlardar=e=>{try{const{slardarContainer:t,slardarWindowGlobalName:o,slardarHybridGlobalName:n,sparkMonitor:i,reportActualFMP:r,shouldReportJSError:a}=null!=e?e:{};"string"==typeof o&&(this.slardarWindowGlobalName=o),"string"==typeof n&&(this.slardarHybridGlobalName=n),"function"==typeof r&&(this.reportTTAPActualFMP=r),void 0!==i&&(this.sparkMonitor=i),void 0!==t&&"function"==typeof t.sendEvent&&"function"==typeof t.reportActualFMP&&(this.slardarContainer=t),this._shouldReportJSError=K_({},J_,null!=a?a:{})}catch(e){}},this.initJSB=e=>{this.jsbBridge=e},this.sendEvent=e=>{try{var t,o;if(this.slardarWindowGlobalName&&"function"==typeof(null===(t=window)||void 0===t?void 0:t[this.slardarWindowGlobalName])&&window[this.slardarWindowGlobalName]("sendEvent",null!=e?e:{}),this.slardarHybridGlobalName&&"function"==typeof(null===(o=window)||void 0===o?void 0:o[this.slardarHybridGlobalName])){const t=null!=e?e:{},{name:o="",categories:n}=t,i=Z_(t,["name","categories"]);window[this.slardarHybridGlobalName]("emit","custom",K_({eventName:o,level:0,category:n},i))}this.slardarContainer&&this.slardarContainer.sendEvent(e)}catch(e){}},this._sendError=(e,t)=>{if(this._shouldReportJSError)try{var o,n;if(this.slardarWindowGlobalName&&"function"==typeof(null===(o=window)||void 0===o?void 0:o[this.slardarWindowGlobalName])&&window[this.slardarWindowGlobalName]("captureException",e,t),this.slardarHybridGlobalName&&"function"==typeof(null===(n=window)||void 0===n?void 0:n[this.slardarHybridGlobalName])){const o=null!=t?t:{},{name:n=""}=o,i=Z_(o,["name"]);window[this.slardarHybridGlobalName]("captureException",e,K_({eventName:n,level:0},i))}this.slardarContainer&&"function"==typeof this.slardarContainer.captureException&&this.slardarContainer.captureException(e,t)}catch(e){}},this.sendPageCrashError=(e,t)=>{this._shouldReportJSError.pageCrash&&this._sendError(e,t)},this.sendCUJError=(e,t)=>{this._shouldReportJSError.cuj&&this._sendError(e,t)},this.teaReport=e=>{var t,o;"undefined"!=typeof window&&"function"==typeof(null===(t=window)||void 0===t?void 0:t.collectEvent)&&(null===(o=window)||void 0===o||o.collectEvent(e.name,K_({},e.metrics,e.categories,$_()))),this.jsbBridge&&this.jsbBridge.x.reportAppLog({eventName:e.name,params:K_({},e.metrics,e.categories,$_())})},this.resetTeaModule=()=>{this.jsbBridge=void 0},this.resetSlardarModule=()=>{this.slardarContainer=void 0,this.slardarWindowGlobalName="",this.slardarHybridGlobalName="",this.sparkMonitor=void 0,this.reportTTAPActualFMP=void 0}}}var X_,ef,tf;(tf=ef||(ef={})).FBJS="pns_privacy_product_mark_fbjs",tf.AFMP="pns_privacy_product_mark_afmp";const of=(null===(X_=performance.timing)||void 0===X_?void 0:X_.navigationStart)||performance.timeOrigin;function nf(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function rf(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){nf(e,t,o[t])})}return e}function af(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}class sf{resetForSPA(){this._hasReportedActualFMP=!1}constructor(e){this._hasReportedActualFMP=!1,this._hasReportedFBJS=!1,this.reportFBJS=()=>{var e,t,o,n;if(this._hasReportedFBJS)return;this._hasReportedFBJS=!0;const i=Date.now();window.TTAP_APPPARSE_STARTTIME=i,"function"==typeof(null===(e=this._trackingContext.sparkMonitor)||void 0===e?void 0:e.mark)?this._trackingContext.sparkMonitor.mark("fbjs"):this._trackingContext.slardarHybridGlobalName&&"function"==typeof(null===(t=window)||void 0===t?void 0:t[this._trackingContext.slardarHybridGlobalName])&&V_("fbjs"),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"pns_privacy_product_mark_fbjs"),this._trackingContext.sendEvent({name:ef.FBJS,metrics:{cost_ms:i-of},categories:rf({},$_())})},this.reportActualFMP=(e=U_.normal)=>{var t,o,n,i;if(this._hasReportedActualFMP)return;this._hasReportedActualFMP=!0;const r=[U_.normal,U_.noRecord].includes(e),a=Date.now();var s,l,c,d,u,p;if(null===(o=performance)||void 0===o||null===(t=o.mark)||void 0===t||t.call(o,"pns_privacy_product_mark_afmp"),r)if("function"==typeof(null===(s=this._trackingContext.sparkMonitor)||void 0===s?void 0:s.mark)?this._trackingContext.sparkMonitor.mark("fmp"):this._trackingContext.slardarHybridGlobalName&&"function"==typeof(null===(l=window)||void 0===l?void 0:l[this._trackingContext.slardarHybridGlobalName])&&V_("fmp"),"function"==typeof(null===(c=this._trackingContext)||void 0===c?void 0:c.reportTTAPActualFMP))this._trackingContext.reportTTAPActualFMP();else if(this._trackingContext.slardarWindowGlobalName&&"function"==typeof(null===(d=window)||void 0===d?void 0:d[this._trackingContext.slardarWindowGlobalName])){var g;(null===(g=window)||void 0===g?void 0:g[this._trackingContext.slardarWindowGlobalName])("sendCustomPerfMetric",{name:"actual_fmp",value:a-of})}this._trackingContext.slardarHybridGlobalName&&"function"==typeof(null===(n=window)||void 0===n?void 0:n[this._trackingContext.slardarHybridGlobalName])&&(null===(p=window)||void 0===p||null===(u=p[this._trackingContext.slardarHybridGlobalName])||void 0===u||u.call(p,"sendCustomPerfMetric",{name:"actual_fmp",value:a-of})),this._trackingContext.sendEvent({name:ef.AFMP,metrics:af(rf({costMs:a-of},Y_()),{pns_privacy_product_mark_dcl:W_()}),categories:rf({isSuccess:r?"1":"0",scene:e},$_())}),this._trackingContext.teaReport({name:ef.AFMP,metrics:af(rf({costMs:a-of},Y_()),{pns_privacy_product_mark_dcl:W_()}),categories:{isSuccess:r?"1":"0",scene:e}}),"function"==typeof(null===(i=this._trackingContext.slardarContainer)||void 0===i?void 0:i.reportActualFMP)&&this._trackingContext.slardarContainer.reportActualFMP()},this._trackingContext=e}}const lf=()=>{var e,t,o;return(null===(t=performance)||void 0===t||null===(e=t.timing)||void 0===e?void 0:e.navigationStart)||(null===(o=performance)||void 0===o?void 0:o.timeOrigin)},cf=()=>{window._bound_error_time||(window._bound_error_time=!0,(()=>{var e;if(null===(e=console)||void 0===e?void 0:e.error){const e=console.error;console.error=(t,...o)=>{(e=>{let t=0;try{performance.mark("error"),t=performance.measure("navigationStart_to_error","navigationStart","error").duration,performance.clearMarks("error"),performance.clearMeasures("navigationStart_to_error")}catch(e){t=Date.now()-lf()}"object"==typeof e&&(e._triggerTime=t)})(t),e.apply(void 0,[t,...o])}}})())};class df{resetForSPA(){this._hasReportedPageReady=!1,this._hasReportedPageCrash=!1,this._hasReportedUserDrop=!1,this._pageReadyTimestamp=-1,this._cuj={}}constructor(e){this._hasReportedPageReady=!1,this._hasReportedPageCrash=!1,this._hasReportedUserDrop=!1,this._pageReadyTimestamp=-1,this._cuj={},this.reportPageReady=()=>{if(this._hasReportedPageReady||this._hasReportedUserDrop||this._hasReportedPageCrash)return;this._hasReportedPageReady=!0;let e=0;try{performance.mark("pageReady"),e=performance.measure("navigationStart_to_pageReady","navigationStart","pageReady").duration}catch(t){e=Date.now()-lf()}this._pageReadyTimestamp=e,this._trackingContext.sendEvent({name:"page_ready",metrics:{time:e}})},this.reportUserDrop=()=>{if(this._hasReportedPageReady||this._hasReportedUserDrop)return;this._hasReportedUserDrop=!0;let e=0;try{performance.mark("userDrop"),e=performance.measure("navigationStart_to_userDrop","navigationStart","userDrop").duration}catch(t){e=Date.now()-lf()}this._trackingContext.sendEvent({name:"user_drop",metrics:{time:e},categories:{reason:this._hasReportedPageCrash?F_.CRASH:F_.ABORT}})},this.reportPageCrash=(e,t=!1,o)=>{var n,i,r;if(this._hasReportedUserDrop||this._hasReportedPageCrash)return;this._hasReportedPageCrash=!0;const{name:a="",message:s,stack:l,_triggerTime:c=0}=null!=e?e:{};let d=0;if(!d)try{performance.mark("pageCrashReporting"),d=performance.measure("navigationStart_to_pageCrashReporting","navigationStart","pageCrashReporting").duration}catch(e){d=Date.now()-lf()}const u=t?c:d,p=u<this._pageReadyTimestamp||!this._hasReportedPageReady,g=d<this._pageReadyTimestamp||!this._hasReportedPageReady;var m,h,v;this._trackingContext.sendEvent({name:"page_crash",metrics:{time:null!=u?u:0},categories:{isTriggeredBeforePageReady:p,isReportedBeforePageReady:g,name:a,message:null!==(m=null==s||null===(n=s.substring)||void 0===n?void 0:n.call(s,0,256))&&void 0!==m?m:"",stack:null!==(h=null==l||null===(i=l.substring)||void 0===i?void 0:i.call(l,0,256))&&void 0!==h?h:"",componentStack:null!==(v=null==o||null===(r=o.substring)||void 0===r?void 0:r.call(o,0,256))&&void 0!==v?v:""}}),e&&this._trackingContext.sendPageCrashError(e,{name:"page_crash",isTriggeredBeforePageReady:""+p,isReportedBeforePageReady:""+g})},this.reportCUJ=(e,t,o)=>{var n,i;const r=`cuj_${e}_${H_.START}`,a=`cuj_${e}_${t}`.replace(/\s/g,"_");let s=0,l=0;try{performance.mark(a),s=performance.measure(`navigationStart_to_${a}`,"navigationStart",a).duration,l=performance.measure(`${r}_to_${a}`,r,a).duration}catch(o){if(s=Date.now()-lf(),t===H_.START)this._cuj[e]={[H_.START]:Date.now()},l=0;else{if(!this._cuj[e])return;var c;this._cuj[e][t]=Date.now(),l=this._cuj[e][t]-(null!==(c=this._cuj[e][H_.START])&&void 0!==c?c:0)}}const{error:d,detail:u,stepName:p}=null!=o?o:{};var g;const m="string"==typeof d?d:null!==(g=null==d?void 0:d.toString())&&void 0!==g?g:"";var h;const v=u||(null!==(h=null==d?void 0:d.stack)&&void 0!==h?h:"");var _,f;this._trackingContext.sendEvent({name:"pns_cuj",metrics:{timestamp:s,duration:l},categories:{status:t,name:e,stepName:p,error:null!==(_=null==m||null===(n=m.substring)||void 0===n?void 0:n.call(m,0,256))&&void 0!==_?_:"",detail:null!==(f=null==v||null===(i=v.substring)||void 0===i?void 0:i.call(v,0,256))&&void 0!==f?f:""}}),t===H_.FAILURE&&d&&this._trackingContext.sendCUJError(d,{stepName:p,cujName:e,status:t,name:"pns_cuj"})},this._trackingContext=e}}const uf={},pf=(e="")=>{let t=!1;class o{resetForSPA(){this._stabilityTracker.resetForSPA(),this._perfTracker.resetForSPA()}reset(){this.resetForSPA(),t=!1,this._trackingContext.resetSlardarModule(),this._trackingContext.resetTeaModule()}isInitialized(){return t}constructor(e=""){let n;return this._pageReadyTiming=M_.ACTUAL_FMP,this.init=e=>{try{if(t)return;t=!0;const{slardarContainer:o,slardarWindowGlobalName:n,slardarHybridGlobalName:i,sparkMonitor:r,reportActualFMP:a,pageReadyTiming:s=M_.CUSTOM,jsbBridge:l,shouldReportJSError:c={},shouldRegisterUserDrop:d=!0}=null!=e?e:{};this._pageReadyTiming=s,this._trackingContext.initSlardar({slardarContainer:o,slardarWindowGlobalName:n,slardarHybridGlobalName:i,sparkMonitor:r,reportActualFMP:a,shouldReportJSError:c}),l&&this._trackingContext.initJSB(l),cf(),d&&this._registerUserDropEvent()}catch(e){}},this._registerUserDropEvent=()=>{window.addEventListener("beforeunload",this.reportUserDrop,!0)},this.reportPageReady=e=>{this._stabilityTracker.reportPageReady(),this._pageReadyTiming===M_.ACTUAL_FMP&&this._perfTracker.reportActualFMP(e)},this.reportUserDrop=()=>{this._stabilityTracker.reportUserDrop()},this.reportPageCrash=(e,t=!1,o)=>{this._stabilityTracker.reportPageCrash(e,t,o)},this.reportFBJS=()=>{this._perfTracker.reportFBJS()},this.reportActualFMP=e=>{this._perfTracker.reportActualFMP(e)},this.reportCUJ=(e,t,o)=>{this._stabilityTracker.reportCUJ(e,t,o)},e?(uf[e]=this,n=this):(o._instance||(o._instance=this),n=o._instance),this._trackingContext=new Q_,this._perfTracker=new sf(this._trackingContext),this._stabilityTracker=new df(this._trackingContext),n}}return e?(uf[e]||(uf[e]=new o(e)),uf[e]):new o},gf=pf();class mf extends m.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){!1!==this.props.shouldReport&&gf.reportPageCrash(e,!0,t.componentStack),this.props.onError&&this.props.onError(e,t)}render(){var e;return this.state.hasError?null!==(e=this.props.fallback)&&void 0!==e?e:(0,Le.jsx)("div",{}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}const hf=({children:e,cujName:t,shouldReportPageCrush:o=!1,fallback:n})=>{const i=(0,m.useCallback)(e=>{t&&gf.reportCUJ(t,H_.FAILURE,{error:e})},[t]);return(0,Le.jsx)(mf,{shouldReport:o,fallback:n,onError:i,children:e})};var vf=o(60012);const _f="0.0.0",ff="pns_sdk_common_modules";var bf,yf,wf,kf;function Sf(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}(yf=bf||(bf={})).US_EAST="US-East",yf.US_EASTRED="US-EastRed",yf.SINGAPORE_CENTRAL="Singapore-Central",yf.EU_TTP="EU-TTP",yf.EU_TTP2="EU-TTP2",yf.US_TTP="US-TTP",yf.US_TTP2="US-TTP2",(kf=wf||(wf={})).PRODUCTION="production",kf.DEV="dev",kf.BOE="boe";class Cf{constructor(e,t){this.sendEvent=e=>{this._client&&this._client.sendEvent&&this._client.sendEvent(e)},this.reportActualFMP=()=>{};const{slardar:o}=null!=e?e:{},{region:n=bf.US_EAST,bid:i=ff,mode:r=wf.PRODUCTION,consumerBid:a,version:s=_f}=null!=t?t:{};this._client=(0,vf.kT)();let l={};switch(n){case bf.US_EASTRED:case bf.EU_TTP:case bf.EU_TTP2:l={domain:"https://mon-i18n.tiktokv.com",pluginPathPrefix:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/slardar/fe/sdk-web/plugins"};break;case bf.US_TTP:case bf.US_TTP2:l={domain:"https://mon16-normal-useast5.tiktokv.us",pluginPathPrefix:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/slardar/fe/sdk-web/plugins"};break;case bf.US_EAST:case bf.SINGAPORE_CENTRAL:default:l={domain:"https://mon.tiktokv.com",pluginPathPrefix:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/slardar/fe/sdk-web/plugins"}}var c,d;this._client&&(this._client("init",(c=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Sf(e,t,o[t])})}return e}({},l,o),d=null!=(d={bid:i,pid:a||window.location.href,release:s,env:r,plugins:{pageview:!1,jsError:!1,tti:!1,performance:!1,resource:!1,ajax:!1,fetch:!1,fmp:!1,blankScreen:!1}})?d:{},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(d)).forEach(function(e){Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(d,e))}),c)),this._client("start"))}}var xf=o(25130);function Pf(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Tf(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Pf(e,t,o[t])})}return e}function Of(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Af,Ef,Lf=class{constructor(e){this._tea=null,this._slardar=null,this._useSingleton=!1,this._isInitialized=!1,this.init=(e,t)=>{if(this._isInitialized)return;this._isInitialized=!0;const{bid:o=ff,version:n=_f}=null!=t?t:{};this._name=`${o}_${n}_${Date.now()}`,this._trackingModule=this._useSingleton?gf:pf(this._name),this._tea=((e,t)=>{let o=null;if(!1!==(null==e?void 0:e.tea))try{const{tea:n}=null!=e?e:{},{appId:i,region:r,debug:a}=null!=t?t:{},s=(e=>{let t={};switch(e){case bf.US_EASTRED:t={channel:"in",channel_type:"tcpy",channel_domain:"https://mcs-i18n.tiktok.com"};break;case bf.EU_TTP:t={channel:"ie",channel_type:"ttp",channel_domain:"https://mcs-ie.tiktokw.eu"};break;case bf.EU_TTP2:t={channel:"ie2",channel_type:"ttp",channel_domain:"https://mcs-ie2.tiktokw.eu"};break;case bf.US_TTP:t={channel_type:"ttp",channel_domain:"https://mcs.tiktokv.us"};break;case bf.US_TTP2:t={channel_type:"ttp",channel_domain:"https://mcs.tiktokw.us"};break;case bf.SINGAPORE_CENTRAL:t={channel:"sg",channel_type:"tcpy",channel_domain:"https://mcs-sg.tiktokv.com"};break;case bf.US_EAST:t={channel:"va",channel_type:"tcpy",channel_domain:"https://mcs-va.tiktokv.com"}}return t})(r),l=Tf({},s,null!=n?n:{});(e=>!(!e||!e.channel_type||!e.channel&&!e.channel_domain))(l)&&(o=new xf.g(`${ff}_${_f}_${Date.now()}`),o.init(Tf({app_id:null!=i?i:1988,log:a},l)),o.start())}catch(e){}return o})(e,t),this._teaEventNameFormatter=null==e?void 0:e.teaEventNameFormatter,this._slardar=((e,t)=>{let o=null;if(!1!==(null==e?void 0:e.slardar))try{o=new Cf(e,t)}catch(e){}return o})(e,t),this._slardar&&this._trackingModule.init({slardarContainer:this._slardar})},this.reportCUJ=(e,t,o)=>{if(e)try{var n,i;this._trackingModule.reportCUJ(e,t,o),this._tea&&this._tea.event(null!==(i=null===(n=this._teaEventNameFormatter)||void 0===n?void 0:n.call(this,e))&&void 0!==i?i:e,function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Of(e,t,o[t])})}return e}({status:t},null!=o?o:{}))}catch(e){}},this._useSingleton=null!=e&&e}},jf=Lf,If=class{init(e){this.debug=e.debug,this.meta=e.meta}send(e){}info(e,t){}warn(e,t){}error(e,t){}getMeta(...e){return{}}destruct(){}constructor(){this.debug=!1,this.meta={}}};(Ef=Af||(Af={})).INFO="info",Ef.WARN="warn",Ef.ERROR="error";class Rf extends If{init(e,t){this.meta=e.meta,this.debug=e.debug,e.monitorModuleConfig&&this._monitorModule.init(e.monitorModuleConfig,t),e.customLoggingModule&&e.customLoggingModule instanceof If?this._customLogger=e.customLoggingModule:this.warn("[LoggingModule]: init - incorrect implementation of LoggingModule")}sendDebugMessage(e){if(this.debug){const{level:t}=e;console[t](e.message,e);try{chrome.runtime.sendMessage(e)}catch(e){}}}send(e){this.sendDebugMessage(e)}getMeta(){return this.meta}info(e,t){var o;"function"==typeof(null===(o=this._customLogger)||void 0===o?void 0:o.info)&&this._customLogger.info(e,t),this.send({message:e,level:Af.INFO,meta:this.meta,data:t})}warn(e,t){var o;"function"==typeof(null===(o=this._customLogger)||void 0===o?void 0:o.warn)&&this._customLogger.warn(e,t),this.send({message:e,level:Af.WARN,meta:this.meta,data:t})}error(e,t){var o;"function"==typeof(null===(o=this._customLogger)||void 0===o?void 0:o.error)&&this._customLogger.error(e,t),this.send({message:e,level:Af.ERROR,meta:this.meta,data:t})}destruct(){var e;"function"==typeof(null===(e=this._customLogger)||void 0===e?void 0:e.destruct)&&this._customLogger.destruct()}reportCUJ(e,t,o){this._monitorModule.reportCUJ(e,t,o)}constructor(){return super(),this._monitorModule=new jf,this.debug=!1,Rf._instance||(Rf._instance=this),Rf._instance}}var Mf=new Rf,Df=o(47775),Ff=o.n(Df),Nf=o(52942);function Uf(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Bf(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Uf(e,t,o[t])})}return e}const Hf=/^(https?:\/\/)/;class zf{constructor(){return this.init=e=>{Mf.info("[ServiceModule]: init"),this._domain=e.domain||"https://www.tiktok.com",this._commonParams=e.commonParams||{}},this.sendRequest=(e,t,o,n)=>{const i=Hf.test(e)?e:`${this._domain}${e}`,r=new URL(i),a=Array.from(r.searchParams.entries()).reduce((e,t)=>{const[o,n]=t;return void 0===n&&""===n||(e[o]=n),e},{}),s=null!=n?n:{},{params:l,timeout:c}=s,d=function(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(s,["params","timeout"]);let u=Bf({},this._commonParams,a,null!=l?l:{});"GET"===t&&o&&"object"==typeof o&&(u=Bf({},u,o));const p=new URLSearchParams((e=>{if(!e)return"";const t=new URLSearchParams;return Object.entries(e).forEach(([e,o])=>{Array.isArray(o)?o.forEach(o=>{t.append(e,o)}):null!=o&&t.append(e,o)}),t.toString()})(u)),g=new URL(`${r.origin}${r.pathname}?${p.toString()}`),m=Ff()({},d,{method:t,timeout:null!=c?c:0,data:o});return Mf.info("[ServiceModule]: sendRequest start",m),(0,Nf.A)(g.href,m).then(e=>(Mf.info("[ServiceModule]: sendRequest finish",e),e)).catch(e=>{throw Mf.error("[ServiceModule]: sendRequest error",e),e})},this.destruct=()=>{Mf.info("[ServiceModule]: destruct")},zf._instance||(zf._instance=this),zf._instance}}var Yf=new zf;function Wf(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Vf(e){return function(){var t=this,o=arguments;return new Promise(function(n,i){var r=e.apply(t,o);function a(e){Wf(r,n,i,a,s,"next",e)}function s(e){Wf(r,n,i,a,s,"throw",e)}a(void 0)})}}class Gf{init(e){this._actionFactoryMap={},this._actionConfig=e}registerActionFactory(e,t){this._actionFactoryMap[e]=t}_createAction(e){if(!Object.prototype.hasOwnProperty.call(this._actionFactoryMap,e))throw new Error(`[ActionManager]: ${e} not registered`);const t=this._actionFactoryMap[e].createAction();return t.init(this._actionConfig),t}executeAction(e){var t=this;return Vf(function*(){let o;try{o=t._createAction(e.processor)}catch(t){return void Mf.error(`[Action ${e.processor}]: create error`,t)}try{yield o.execute(e.params)}catch(t){Mf.error(`[Action ${e.processor}]: execute error`,t)}o.destruct()})()}executeActions(e){var t=this;return Vf(function*(){const o=e.action_list;for(const e of o)yield t.executeAction(e)})()}destruct(){this._actionFactoryMap={},Mf.info("[ActionManager]: destruct")}constructor(){return this._actionFactoryMap={},Gf._instance||(Gf._instance=this),Gf._instance}}var $f=new Gf;function qf(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}const Kf=(0,J.V)().imFrontier;var Zf,Jf,Qf,Xf,eb=new class{init(e){var t,n=this;return(t=function*(){if(null!==n._sdk)return void Mf.info("[CommunicationReceiver]: SyncSdk isInitiated!");const{uid:t,wid:i,debug:r,slardarInstance:a,teaInstance:s}=e,l=!!t,c=l?"67":"85",d={apiUrl:"https://www.tiktok.com",uid:l?t:"0",did:l?t:i.toString(),aid:1988,frontier:{url:Kf,appKey:"e252eea4204adef812c32f35a4b80f4b",fpid:32,service:33554513,method:2},debug:r,slardar:a,tea:s};try{const{SyncSdk:t}=yield Promise.all([o.e(873),o.e(113),o.e(904),o.e(706),o.e(537),o.e(261),o.e(960),o.e(563)]).then(o.bind(o,12861));n._sdk=new t(d),yield n._sdk.init(),n._sdk.registerBusiness(c,t=>{const o=(new TextDecoder).decode(t.data);Mf.info(`[CommunicationServiceSDK]: CommunicationReceiver received data ${o}`),e.onReceiveData(o)})}catch(e){Mf.error(`[CommunicationServiceSDK]: CommunicationReceiver init and register bytesync failed: ${e}`)}},function(){var e=this,o=arguments;return new Promise(function(n,i){var r=t.apply(e,o);function a(e){qf(r,n,i,a,s,"next",e)}function s(e){qf(r,n,i,a,s,"throw",e)}a(void 0)})})()}destruct(){Mf.info("[CommunicationServiceSDK]: CommunicationReceiver destruct"),this._sdk&&(this._sdk.dispose(),this._sdk=null)}constructor(){this._sdk=null}};(Jf=Zf||(Zf={})).POPUP="PopupShowProcessor",Jf.SCREEN_TIME="ScreenTimeProcessor",Jf.LOGOUT="LogoutProcessor",Jf.REDIRECT="RedirectProcessor",Jf.PPF="PPFProcessor",Jf.PPFRefresh="PPFRefreshProcessor",(Xf=Qf||(Qf={})).POPUP_V2="POPUP_V2",Xf.COMMUNICATION="COMMUNICATION";var tb,ob,nb,ib,rb;function ab(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function sb(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}!function(e){e.PRODUCTION="production",e.DEV="dev",e.BOE="boe"}(tb||(tb={})),(nb=ob||(ob={}))[nb.COLD_START=0]="COLD_START",nb[nb.PULL=4]="PULL",(rb=ib||(ib={})).US_EAST="US-East",rb.US_EASTRED="US-EastRed",rb.SINGAPORE_CENTRAL="Singapore-Central",rb.EU_TTP="EU-TTP",rb.EU_TTP2="EU-TTP2",rb.US_TTP="US-TTP",rb.US_TTP2="US-TTP2";var lb,cb,db=class{init(e){this.apiDomain=e.apiDomain,this.dataLoaderEndpoint=`${this.apiDomain}${this.apiPath}`}_fetch(e,t){return Mf.info("[CommunicationLoaderModule]: fetch ",this.dataLoaderEndpoint),Yf.sendRequest(this.dataLoaderEndpoint,"GET",function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){sb(e,t,o[t])})}return e}({scene:e},t))}loadData(e,t){var o,n=this;return(o=function*(){try{const o=yield n._fetch(e,t),i=null==o?void 0:o.data,{status_code:r}=null!=i?i:{};return 0===r?n.processData(i):void Mf.error("[CommunicationLoaderModule]: fetch - invalid response",o)}catch(e){return void Mf.error("[CommunicationLoaderModule]: fetch - fail to fetch",e)}},function(){var e=this,t=arguments;return new Promise(function(n,i){var r=o.apply(e,t);function a(e){ab(r,n,i,a,s,"next",e)}function s(e){ab(r,n,i,a,s,"throw",e)}a(void 0)})})()}destruct(){}constructor(){this.apiDomain="",this.dataLoaderEndpoint="",this.apiPath=this.getAPIPath()}};class ub extends db{getAPIPath(){return"/tiktok/popup/dispatch/v1"}processData(e){if(e&&(e.policy_notices||e.popup_responses))return{schema_version:"",message_id:"",create_time:"",action_list:[{processor:Zf.POPUP,params:JSON.stringify(e),necessary:!0}]}}}(cb=lb||(lb={})).SDK_INIT="sdk_init",cb.EXECUTE="execute",cb.SEND_CALLBACK="send_callback";const pb={sdk_init:"pns_communication_service_init",execute:"pns_communication_service_execute",send_callback:"pns_communication_service_send_callback"};function gb(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function mb(e){return function(){var t=this,o=arguments;return new Promise(function(n,i){var r=e.apply(t,o);function a(e){gb(r,n,i,a,s,"next",e)}function s(e){gb(r,n,i,a,s,"throw",e)}a(void 0)})}}function hb(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class vb{init(e){if(!this._isInitialized){var t;Mf.init({debug:null!==(t=e.debug)&&void 0!==t&&t,monitorModuleConfig:{teaEventNameFormatter:e=>pb[e]}},{region:e.deploymentRegion,bid:"pns_communication_service",appId:e.appId,mode:e.mode,debug:e.debug,consumerBid:e.scene,version:"1.0.1"}),Mf.reportCUJ(lb.SDK_INIT,H_.START);try{this._isInitialized=!0,this._dataLoader=new ub,this._dataLoader.init(e),this._callbackAPI=`${e.apiDomain}/tiktok/popup/callback/v1`,$f.init({lang:e.lang}),eb.init(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){hb(e,t,o[t])})}return e}({onReceiveData:this._executeActions},e)),Yf.init({domain:e.apiDomain,commonParams:{region:e.region,priority_region:e.region,aid:e.appId,device_id:e.wid,app_language:e.lang,device_platform:e.isMobile?"web_mobile":"web_pc"}}),this._onComplete=e.onComplete,Mf.reportCUJ(lb.SDK_INIT,H_.FINISH)}catch(e){Mf.reportCUJ(lb.SDK_INIT,H_.FAILURE,{error:e})}}}isInitialized(){return Mf.info("[CommunicationServiceSDK]: SDK isInitialized!"),this._isInitialized}registerActionFactory(e){for(const t of e)$f.registerActionFactory(t.key,t.instance)}onActionsComplete(){Mf.info("[CommunicationServiceSDK]: onActionsComplete"),this._onComplete&&this._onComplete()}sendCallbackRequest(e){var t=this;return mb(function*(){Mf.reportCUJ(lb.SEND_CALLBACK,H_.START);try{const o="object"==typeof e?new URLSearchParams((e=>{const t={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const n=e[o];void 0!==n&&(t[o]=String(n))}return t})(e)):e;yield Yf.sendRequest(t._callbackAPI,"POST",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),Mf.info("[Action]: sendCallback success"),Mf.reportCUJ(lb.SEND_CALLBACK,H_.FINISH)}catch(e){Mf.error("[Action]: sendCallback error",e),Mf.reportCUJ(lb.SEND_CALLBACK,H_.FAILURE,{error:e})}})()}destruct(){Mf.info("[CommunicationServiceSDK]: destruct"),Yf.destruct(),Mf.destruct(),$f.destruct(),eb.destruct(),this._dataLoader=void 0,this._isInitialized=!1}constructor(){this._isInitialized=!1,this._actionExecutionInProgress=!1,this._isActionExecuting=()=>!!this._actionExecutionInProgress&&(Mf.info("[CommunicationServiceSDK]: actionExecutionInProgress is true!"),!0);var e,t=this;this.execute=(e=mb(function*(e,o){if(t._isInitialized&&!t._isActionExecuting()){Mf.reportCUJ(lb.EXECUTE,H_.START);try{var n;t._actionExecutionInProgress=!0,Mf.reportCUJ(lb.EXECUTE,H_.IN_PROGRESS,{stepName:"LOAD_DATA_START"});const i=yield null===(n=t._dataLoader)||void 0===n?void 0:n.loadData(e,o);if(Mf.reportCUJ(lb.EXECUTE,H_.IN_PROGRESS,{stepName:"LOAD_DATA_FINISH"}),!i)return t._actionExecutionInProgress=!1,void Mf.reportCUJ(lb.EXECUTE,H_.FINISH);yield $f.executeActions(i),t.onActionsComplete(),t._actionExecutionInProgress=!1,Mf.reportCUJ(lb.EXECUTE,H_.FINISH)}catch(e){t._actionExecutionInProgress=!1,Mf.reportCUJ(lb.EXECUTE,H_.FAILURE,{error:e})}}}),function(t,o){return e.apply(this,arguments)});var o=this;return this._executeActions=function(){var e=mb(function*(e){if(o._isActionExecuting())return;o._actionExecutionInProgress=!0;const t=JSON.parse(e);yield $f.executeActions(t),o.onActionsComplete(),o._actionExecutionInProgress=!1});return function(t){return e.apply(this,arguments)}}(),vb._instance||(vb._instance=this),vb._instance}}var _b=new vb;function fb(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}class bb{init(e){this.lang=e.lang}destruct(){Mf.info(`[Action ${this._actionType}]: destruct`),this.dataModel=null}constructor(){this.lang="";var e,t,o=this;this.execute=(e=function*(e){o.processData(e);try{o.executeAction()}catch(e){return e instanceof Error?Promise.reject(e):Promise.reject(new Error(`[Action ${o._actionType}]: execute fail with unknown error`))}return new Promise(e=>{o._executionResolve=e})},t=function(){var t=this,o=arguments;return new Promise(function(n,i){var r=e.apply(t,o);function a(e){fb(r,n,i,a,s,"next",e)}function s(e){fb(r,n,i,a,s,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}),this.completeAction=()=>{this._executionResolve?this._executionResolve():Mf.error(`[Action ${this._actionType}]: try to complete action before execution`);try{var e;null===(e=this.onActionComplete)||void 0===e||e.call(this)}catch(e){e instanceof Error?Mf.error(`[Action ${this._actionType}]: onActionComplete fail with error: ${e.message}`):Mf.error(`[Action ${this._actionType}]: onActionComplete fail with unknown error`)}},this._actionType=this.getActionType(),this.dataModel=null}}class yb{}var wb=_b;class kb extends bb{getActionType(){return Zf.LOGOUT}processData(e){this.dataModel=JSON.parse(e)}executeAction(){window.location.href="https://www.tiktok.com/logout"}}class Sb extends yb{createAction(){return new kb}}const Cb="pns-communication-service";var xb,Pb,Tb,Ob,Ab,Eb,Lb,jb,Ib,Rb=function(e){return e.CALLBACK="callback",e.H5="h5",e}({}),Mb=function(e){return e.INFO="info",e.ACTION="action",e}({});(Pb=xb||(xb={})).POP="pop",Pb.PC_BANNER="pc_banner",Pb.MOBILE_BANNER="mobile_banner",Pb.WEBVIEW="webview",(Ob=Tb||(Tb={})).V1="v1",Ob.V2="v2",Ob.CUSTOMIZED="customized",(Eb=Ab||(Ab={})).TEXT="text",Eb.LINK="link",Eb.BUTTON="button",(jb=Lb||(Lb={})).EXTERNAL="external",jb.INTERNAL="internal",jb.SUB_POPUP="sub_popup",function(e){e.INFO="info",e.WARN="warn",e.ERROR="error"}(Ib||(Ib={}));const Db="/tiktok/popup/dispatch/v1",Fb="/api/policy/notice/",Nb=Db,Ub="/tiktok/popup/callback/v1",Bb=Ub;var Hb,zb,Yb,Wb,Vb,Gb,$b,qb,Kb,Zb,Jb,Qb,Xb,ey;function ty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function oy(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){ty(e,t,o[t])})}return e}function ny(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}function iy({lang:e,body:t,bodyLinks:o,popupMeta:n,style:i,callback:r}){if(!t)return;if(!o||0===o.length||!/%s/.test(t))return[{type:Ab.TEXT,text:t}];const a=/%s/g,s=[],l=t;let c=0;return o.forEach(({text:t,action:o})=>{var d;const u=a.exec(l);if(!u)return;const p=oy({type:(null==o?void 0:o.link)?Ab.LINK:Ab.BUTTON,text:t},(null==o?void 0:o.link)&&{link:ly({link:o.link,lang:e}),linkType:o.link_type===$b.LINK_TYPE_ENUM_EXTERNAL?Lb.EXTERNAL:Lb.INTERNAL},(null==o||null===(d=o.actions)||void 0===d?void 0:d.includes(Jb.ACTION_TYPE_ENUM_CALLBACK))&&{callback:r(n,i,o,!1)});s.push({type:Ab.TEXT,text:l.slice(c,u.index)}),s.push(p),c=Number(u.index)+u[0].length}),s.push({type:Ab.TEXT,text:l.slice(c)}),s}function ry({rawButtons:e,popupMeta:t,style:o,callback:n}){if(!e)return;const i=[];return e.forEach(({text:e,is_bold:r,is_highlight:a,action:s})=>{const l={text:e,isBold:Boolean(r),isHighlight:Boolean(a),callback:n(t,o,s,!0)};i.push(l)}),i}function ay(e){switch(e){case Vb.POPUP_STYLE_ENUM_PC_BANNER:return xb.PC_BANNER;case Vb.POPUP_STYLE_ENUM_MOBILE_BANNER:return xb.MOBILE_BANNER;case Vb.POPUP_STYLE_ENUM_WEBVIEW:return xb.WEBVIEW;case Vb.POPUP_STYLE_ENUM_POP:default:return xb.POP}}(zb=Hb||(Hb={})).initError="initError",zb.beforeFetchData="beforeFetchData",zb.afterFetchData="afterFetchData",zb.fetchDataError="fetchDataError",zb.popupDataReady="popupDataReady",zb.processDataError="processDataError",zb.beforeSendCallback="beforeSendCallback",zb.afterSendCallback="afterSendCallback",zb.sendCallbackError="sendCallbackError",zb.beforeNavigateToNextPopup="beforeNavigateToNextPopup",zb.afterNavigateToNextPopup="afterNavigateToNextPopup",zb.allPopupsCompleted="allPopupsCompleted",zb.beforeDestruct="beforeDestruct",(Wb=Yb||(Yb={})).CALLBACK="callback",Wb.H5="h5",(Gb=Vb||(Vb={}))[Gb.POPUP_STYLE_ENUM_BOTTOM=0]="POPUP_STYLE_ENUM_BOTTOM",Gb[Gb.POPUP_STYLE_ENUM_POP=1]="POPUP_STYLE_ENUM_POP",Gb[Gb.POPUP_STYLE_ENUM_FULLSCREEN=2]="POPUP_STYLE_ENUM_FULLSCREEN",Gb[Gb.POPUP_STYLE_ENUM_WEBVIEW=3]="POPUP_STYLE_ENUM_WEBVIEW",Gb[Gb.POPUP_STYLE_ENUM_PC_BANNER=4]="POPUP_STYLE_ENUM_PC_BANNER",Gb[Gb.POPUP_STYLE_ENUM_MOBILE_BANNER=5]="POPUP_STYLE_ENUM_MOBILE_BANNER",(qb=$b||($b={}))[qb.LINK_TYPE_ENUM_INTERNAL=0]="LINK_TYPE_ENUM_INTERNAL",qb[qb.LINK_TYPE_ENUM_EXTERNAL=1]="LINK_TYPE_ENUM_EXTERNAL",qb[qb.LINK_TYPE_ENUM_SUB_POPUP=2]="LINK_TYPE_ENUM_SUB_POPUP",qb[qb.LINK_TYPE_UPGRADE=3]="LINK_TYPE_UPGRADE",(Zb=Kb||(Kb={}))[Zb.POPUP_OPERATION_ENUM_LEGACY_0=0]="POPUP_OPERATION_ENUM_LEGACY_0",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_1=1]="POPUP_OPERATION_ENUM_LEGACY_1",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_2=2]="POPUP_OPERATION_ENUM_LEGACY_2",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_3=3]="POPUP_OPERATION_ENUM_LEGACY_3",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_4_AGREE=4]="POPUP_OPERATION_ENUM_LEGACY_4_AGREE",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_5_REMIND_ME_LATER=5]="POPUP_OPERATION_ENUM_LEGACY_5_REMIND_ME_LATER",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_7_LEARN_MORE=6]="POPUP_OPERATION_ENUM_LEGACY_7_LEARN_MORE",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_8_CONFIRM=7]="POPUP_OPERATION_ENUM_LEGACY_8_CONFIRM",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_9_NOT_NOW=8]="POPUP_OPERATION_ENUM_LEGACY_9_NOT_NOW",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_10_DOWNLOAD_YOUR_DATA=9]="POPUP_OPERATION_ENUM_LEGACY_10_DOWNLOAD_YOUR_DATA",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_11_SUBMIT_APPEAL=10]="POPUP_OPERATION_ENUM_LEGACY_11_SUBMIT_APPEAL",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_20_DOWNLOAD_YOUR_DATA=11]="POPUP_OPERATION_ENUM_LEGACY_20_DOWNLOAD_YOUR_DATA",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_100_GOT_IT=12]="POPUP_OPERATION_ENUM_LEGACY_100_GOT_IT",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_101_LEARN_MORE=13]="POPUP_OPERATION_ENUM_LEGACY_101_LEARN_MORE",Zb[Zb.POPUP_OPERATION_ENUM_LEGACY_200_LEARN_MORE=14]="POPUP_OPERATION_ENUM_LEGACY_200_LEARN_MORE",(Qb=Jb||(Jb={}))[Qb.ACTION_TYPE_ENUM_CALLBACK=0]="ACTION_TYPE_ENUM_CALLBACK",Qb[Qb.ACTION_TYPE_ENUM_UPDATE_CONSENT=1]="ACTION_TYPE_ENUM_UPDATE_CONSENT",Qb[Qb.ACTION_TYPE_ENUM_FETCH_COMPLIANCE_SETTING=2]="ACTION_TYPE_ENUM_FETCH_COMPLIANCE_SETTING",(ey=Xb||(Xb={}))[ey.POPUP_CALLBACK_TYPE_ENUM_UNKNOWN=0]="POPUP_CALLBACK_TYPE_ENUM_UNKNOWN",ey[ey.POPUP_CALLBACK_TYPE_ENUM_USER_ID=1]="POPUP_CALLBACK_TYPE_ENUM_USER_ID",ey[ey.POPUP_CALLBACK_TYPE_ENUM_DEVICE_ID=2]="POPUP_CALLBACK_TYPE_ENUM_DEVICE_ID";const sy="${locale}";function ly({link:e,lang:t}){return e.replace(sy,t)}function cy({lang:e,body:t,bodyLinks:o,popupMeta:n,callback:i}){if(!t)return;if(!o||0===o.length)return[{type:Ab.TEXT,text:t}];const r=[],a=t;let s=0;const l=/%s/g;return o.forEach(({name:t,link:o="",operation:c,dismiss:d,approve:u,new_web_tab:p,extra:g,link_type:m})=>{const h=l.exec(a);if(!h)return;const v=ly({link:o,lang:e}),_=Boolean(u||d),f=m===Yb.CALLBACK||u,b={type:o?Ab.LINK:Ab.BUTTON,text:t,link:v,linkType:p?Lb.EXTERNAL:Lb.INTERNAL,onClick:i(_,!!f,ny(oy({},n),{extra:g,operation:null==c?void 0:c.toString()}))};r.push({type:Ab.TEXT,text:a.slice(s,h.index)}),r.push(b),s=Number(h.index)+h[0].length}),r.push({type:Ab.TEXT,text:a.slice(s)}),r}function dy({lang:e,first_button_highlight:t,rawButtons:o,popupMeta:n,callback:i}){if(0===o.length)return;const r=[];return o.forEach(({text:o,is_bold:a,link_type:s,link:l,extra:c,approve:d,operation:u,dismiss:p,dismiss_all:g,new_web_tab:m,is_close_style:h},v)=>{const _=Boolean(d||p||g),f=s===Yb.CALLBACK||d,b={text:o,isCloseStyle:h,isBold:Boolean(a),isHighlight:0===v&&t,link:l?ly({link:l,lang:e}):void 0,linkType:m?Lb.EXTERNAL:Lb.INTERNAL,onClick:i(_,!!f,ny(oy({},n),{extra:c,operation:null==u?void 0:u.toString()}),l?{link:ly({link:l,lang:e}),linkType:m?Lb.EXTERNAL:Lb.INTERNAL}:void 0)};r.push(b)}),r}function uy(e){if(e)return{url:e,width:"auto",height:"48px"}}function py(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function gy(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class my{init(e,t){Mf.info("[PopupModule]: init",e),this._lang=e.lang,this._popupApi=e.apiPath||Nb,this._callbackApi=e.callbackApiPath||Bb,this._scene=e.scene||0,this._dataProcessor=e.dataProcessor||Tb.V2,this._customizedProcessor=e.customizeDataProcessor,this._navigateToNextPopup=t.navigateToNextPopup,this._completeAllPopups=t.completeAllPopups,this._beforeSendCallback=t.beforeSendCallback,this._afterSendCallback=t.afterSendCallback,this._adjustAPIConfig()}_adjustAPIConfig(){this._popupApi===Db?(this._callbackApi=Ub,this._dataProcessor=Tb.V2):this._popupApi===Fb&&(this._callbackApi="/api/policy/notice/approve/",this._dataProcessor=Tb.V1)}fetch(e){return Mf.info("[PopupModule]: fetch ",this._popupApi),Yf.sendRequest(this._popupApi,"GET",function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){gy(e,t,o[t])})}return e}({scene:this._scene},e))}processData(e){switch(Mf.info("[PopupModule]: process data",e),this._dataProcessor){case Tb.V1:return this._processV1Data(e.data);case Tb.V2:return this._processV2Data(e.data);case Tb.CUSTOMIZED:return this._processCustomizedData(e);default:return this._processV2Data(e.data)}}_processV1Data(e){const t="string"==typeof e?JSON.parse(e):e;Mf.info("[PopupModule]: process V1 response",t);const o=null==t?void 0:t.policy_notices;if(!o||0===o.length)return[];const n=[];return o.forEach(e=>{if(!e)return;const t={business:e.business,policy_version:e.policy_version,style:e.style,scene:this._scene},o={eventInfo:{style:e.style,business:e.business},popupType:e.style,title:e.title,icon:uy(e.icon_url),iconDark:uy(e.icon_url_dark),body:cy({lang:this._lang,body:e.body,bodyLinks:e.body_link_list,popupMeta:t,callback:this.callbackFunctionV1}),buttons:dy({lang:this._lang,first_button_highlight:Boolean(e.first_button_highlight),rawButtons:e.actions||[],popupMeta:t,callback:this.callbackFunctionV1})};n.push(o)}),n}_processV2Data(e){const t="string"==typeof e?JSON.parse(e):e;return Mf.info("[PopupModule]: process V2 response",t),t.popup_responses.map(e=>{const t=e.popup_ui,o=e.popup_meta;return{eventInfo:{style:t.style,business:o.business},popupType:ay(t.style),icon:uy(t.icon_url),iconDark:uy(t.icon_url_dark),title:t.title,buttons:ry({rawButtons:t.buttons,popupMeta:o,style:t.style,callback:this.callbackFunctionV2}),body:iy({lang:this._lang,body:t.body,bodyLinks:t.body_links,popupMeta:e.popup_meta,style:t.style,callback:this.callbackFunctionV2})}})}_processCustomizedData(e){if(Mf.info("[PopupModule]: process customized response"),!e||!this._customizedProcessor)return[];try{return this._customizedProcessor(e)}catch(e){Mf.error("[PopupModule]: process customized response fail",e)}return[]}destruct(){Mf.info("[PopupModule]: destruct")}constructor(){this.callbackFunctionV1=(e,t,o,n)=>()=>{t&&this._sendCallback(o).then(()=>{Mf.info("[PopupModule]: send callback finished")}).catch(e=>{Mf.error("[PopupModule]: send callback fail",e)}),n&&(n.linkType===Lb.EXTERNAL?window.open(n.link):window.location.href=n.link),e&&this._navigateToNextPopup()},this.callbackFunctionV2=(e,t,o,n)=>()=>{if((null==o?void 0:o.actions)&&o.actions.includes(Jb.ACTION_TYPE_ENUM_CALLBACK)&&this._sendCallback({business:e.business,version:e.version,style:t,extra:o.extra,operation:o.operation}).then(()=>{Mf.info("[PopupModule]: send callback finished")}).catch(e=>{Mf.error("[PopupModule]: send callback fail",e)}),n&&(null==o?void 0:o.link)){const e=ly({link:o.link,lang:this._lang});o.link_type===$b.LINK_TYPE_ENUM_EXTERNAL?window.open(e):window.location.href=e}(null==o?void 0:o.dismiss_all)?this._completeAllPopups():(null==o?void 0:o.dismiss)&&this._navigateToNextPopup()};var e,t,o=this;return this._sendCallback=(e=function*(e){o._beforeSendCallback();try{const t="object"==typeof e?new URLSearchParams(e):e;yield Yf.sendRequest(o._callbackApi,"POST",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),o._afterSendCallback(!0)}catch(e){o._afterSendCallback(!1,e)}},t=function(){var t=this,o=arguments;return new Promise(function(n,i){var r=e.apply(t,o);function a(e){py(r,n,i,a,s,"next",e)}function s(e){py(r,n,i,a,s,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}),my._instance||(my._instance=this),my._instance}}var hy=new my;class vy{init(e){Mf.info("[LifeCycleModule]: init"),Mf.info("[LifeCycleModule]: init Popup module"),hy.init(e,{navigateToNextPopup:this.navigateToNextPopup,completeAllPopups:this.completeAllPopups,beforeSendCallback:this.beforeSendCallback,afterSendCallback:this.afterSendCallback}),this._currentEvent=new Set}addEventListener(e,t){Mf.info("[LifeCycleModule]: add event listener to ",e);const o=this._eventListeners.get(e)||[];this._eventListeners.set(e,[...o,t])}removeEventListener(e,t){Mf.info("[LifeCycleModule]: remove event listener from ",e);const o=this._eventListeners.get(e);if(!o)return;const n=o.filter(e=>e!==t);this._eventListeners.set(e,n)}removeAllEventListeners(e){Mf.info("[LifeCycleModule]: remove all event listeners from ",e),this._eventListeners.set(e,[])}fetchPopupData(e){return Mf.info("[LifeCycleModule]: fetch popup data"),this.dispatchEvent(Hb.beforeFetchData),hy.fetch(e).then(e=>{this.dispatchEvent(Hb.afterFetchData),Mf.info("[LifeCycleModule]: fetch popup data done, start processing response"),this.processData(e)}).catch(e=>{Mf.error("[LifeCycleModule]: fetch failure - ",e),this.dispatchEvent(Hb.fetchDataError)})}processData(e){try{const t=hy.processData(e);(null==t?void 0:t.length)?(Mf.info("[LifeCycleModule]: process response done, popup data ready"),this._currentPopupIndex=0,this._popupData=t,this.dispatchEvent(Hb.popupDataReady)):Mf.info("[LifeCycleModule]: process popup response done, no popup data")}catch(e){Mf.error("[LifeCycleModule]: process popup response error - ",e)}}hasPopupData(){return Mf.info("[LifeCycleModule]: has popup data"),this._popupData.length>0}getAllPopupData(){return Mf.info("[LifeCycleModule]: get all popup data"),this._popupData}getCurrentPopupData(){return Mf.info("[LifeCycleModule]: get current popup data"),this._popupData[this._currentPopupIndex]}hasNextPopup(){Mf.info("[LifeCycleModule]: has next popup");const e=this._popupData.length,t=this._currentPopupIndex+1;return 0!==this._popupData.length&&t<e}destruct(){Mf.info("[LifeCycleModule]: destruct"),hy.destruct(),this._currentPopupIndex=-1,this._popupData=[],this._currentEvent.clear()}constructor(){return this._eventListeners=new Map,this._currentPopupIndex=-1,this._popupData=[],this.dispatchEvent=e=>{if(Mf.info("[LifeCycleModule]: dispatch start - ",e),this._currentEvent.has(e))return void Mf.error("[LifeCycleModule]: Dispatch is already in process",{currentEvent:[...this._currentEvent],upcomingEvent:e});this._currentEvent.add(e);const t=this._eventListeners.get(e);t&&t.forEach(t=>{try{t()}catch(t){Mf.warn(`[LifeCycleModule]: error executing listener for event: ${e}`,t)}}),this._currentEvent.delete(e),Mf.info("[LifeCycleModule]: dispatch finish - ",e)},this.beforeSendCallback=()=>{Mf.info("[LifeCycleModule]: before sendCallback"),this.dispatchEvent(Hb.beforeSendCallback)},this.afterSendCallback=(e,t)=>{e?(Mf.info("[LifeCycleModule]: after sendCallback"),this.dispatchEvent(Hb.afterSendCallback)):(Mf.error("[LifeCycleModule]: send callback failure",t),this.dispatchEvent(Hb.sendCallbackError))},this.navigateToNextPopup=()=>{Mf.info("[LifeCycleModule]: navigate to next popup"),this._currentPopupIndex+1<this._popupData.length?this._currentPopupIndex=this._currentPopupIndex+1:(Mf.warn("[LifeCycleModule]: navigate to next popup failure - no next popup"),this.dispatchEvent(Hb.allPopupsCompleted))},this.completeAllPopups=()=>{Mf.info("[LifeCycleModule]: complete all popup"),this._currentPopupIndex=this._popupData.length},vy._instance||(vy._instance=this),vy._instance}}var _y=new vy;function fy(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function by(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){fy(e,t,o[t])})}return e}const yy={appId:-1,region:"",wid:-1,lang:"en",isDebug:!1,isMobile:!1,apiDomain:"",apiPath:Nb,callbackApiPath:Bb,dataProcessor:Tb.V2,scene:0,timeout:1e3};class wy{init(e){if(this._isInitialized)return;const t=by({},yy,e);Mf.init(by({debug:Boolean(t.isDebug),meta:{appID:t.appId,wid:t.wid,lang:t.lang}},t.logging&&{customLoggingModule:t.logging})),Mf.info("[SDK]: init global module"),Yf.init({domain:t.apiDomain,commonParams:{region:t.region,priority_region:t.region,aid:t.appId,device_id:t.wid,app_language:t.lang,device_platform:t.isMobile?"web_mobile":"web_pc"}}),_y.init(t),hy.init(t,{navigateToNextPopup:_y.navigateToNextPopup,completeAllPopups:_y.completeAllPopups,beforeSendCallback:_y.beforeSendCallback,afterSendCallback:_y.afterSendCallback}),this._isInitialized=!0}fetchPopupData(e){return Mf.info("[SDK]: fetch popup data"),_y.fetchPopupData(e)}hasPopupData(){return Mf.info("[SDK]: has popup data"),_y.hasPopupData()}getPopupData(){return Mf.info("[SDK]: get popup data"),this.hasPopupData()?_y.getCurrentPopupData():null}hasNextPopup(){return Mf.info("[SDK]: has next popup"),_y.hasNextPopup()}addEventListener(e,t){if(Mf.info("[SDK]: addEventListener"),!e||!Hb[e]||"function"!=typeof t){const e="[SDK]: addEventListener - invalid param for adding new event listener";return void Mf.error(e,new Error(e))}_y.addEventListener(e,t)}removeEventListener(e,t){Mf.info("[SDK]: removeEventListener"),e&&Hb[e]&&"function"==typeof t?_y.removeEventListener(e,t):Mf.warn("[SDK]: removeEventListener - invalid param for removing event listener")}removeAllEventListeners(e){Mf.info("[SDK]: removeAllEventListener"),e&&Hb[e]?_y.removeAllEventListeners(e):Mf.warn("[SDK]: removeEventListener - invalid param for removing all event listener")}destruct(){Mf.info("[SDK]: destruct");for(const e of Object.keys(Hb)){const t=Hb[e];this.removeAllEventListeners(t)}_y.destruct(),Yf.destruct(),Mf.destruct(),this._isInitialized=!1}constructor(){return this._isInitialized=!1,wy._instance||(wy._instance=this),wy._instance}}var ky=new wy;const Sy=(0,Wt.A)("div",{target:"e1mpj5ji0"})({width:"100vw",left:0,position:"fixed",display:"flex",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, .06)",":after":{content:'""',background:"rgba(33, 33, 33, .08)",position:"absolute",left:"0",bottom:"0",width:"100%",height:"1px",transform:"scaleY(0.5)"}},"label:DivBannerContainer;"),Cy=(0,Wt.A)("div",{target:"e1mpj5ji1"})({padding:"12px 12px 12px 16px",display:"flex",justifyContent:"space-between",gap:"8px"},"label:DivBannerWrapper;"),xy=(0,Wt.A)("div",{target:"e1mpj5ji2"})({display:"flex",alignItems:"center",gap:"16px"},"label:DivLeftContainer;"),Py=(0,Wt.A)("div",{target:"e1mpj5ji3"})({display:"flex",alignItems:"flex-start",gap:"24px"},"label:DivRightContainer;"),Ty=(0,Wt.A)("div",{target:"e1mpj5ji4"})({alignSelf:"center",lineHeight:"18px"},"label:DivContentWrapper;"),Oy=(0,Wt.A)("div",{target:"e1mpj5ji5"})({margin:"9px 0"},"label:DivButton;");var Ay,Ey,Ly,jy,Iy,Ry;!function(e){e.EXTERNAL="external",e.INTERNAL="internal",e.SUB_POPUP="sub_popup"}(Ay||(Ay={})),function(e){e.POP="pop",e.PC_BANNER="pc_banner",e.MOBILE_BANNER="mobile_banner",e.WEBVIEW="webview"}(Ey||(Ey={})),function(e){e.TEXT="text",e.LINK="link",e.BUTTON="button"}(Ly||(Ly={})),function(e){e.LINK_INTERNAL="link_internal",e.LINK_EXTERNAL="link_external",e.SUB_POP_UP="sub_pop_up",e.UPDATE_CONSENT="update_consent",e.FETCH_CMPL_SETTING="fetch_cmpl_setting",e.UPGRADE="upgrade"}(jy||(jy={})),(Ry=Iy||(Iy={})).FULLSCREEN="fullscreen",Ry.POP="pop",Ry.BOTTOM="bottom";class My{registerBlockCells(e,t){this._renderMapping[e]=t}cellByType(e){return this._renderMapping[e]}registerVisibility(e,t){this._visibilityMap[e]=t}close(e){this._visibilityMap[e](!1)}handleAction(e,t,o){if(null==o||o.onAction(e),e.dismiss&&(this.close(t.business),null==o||o.onDismiss()),e.actionType===jy.LINK_EXTERNAL||e.actionType===jy.LINK_INTERNAL){if(!(e.link&&e.link.length>0))return"Action: Link url invalid.";window.open(e.link,e.actionType===jy.LINK_EXTERNAL?"_blank":"_self")}}constructor(){return this._renderMapping={},this._visibilityMap={},My._instance||(My._instance=this),My._instance}}var Dy,Fy=new My;class Ny{onDisplay(){var e,t;null===(t=this._customizedCallback)||void 0===t||null===(e=t.onDisplay)||void 0===e||e.call(t,this._meta),this._logger.onDisplay()}onDismiss(){var e,t;null===(t=this._customizedCallback)||void 0===t||null===(e=t.onDismiss)||void 0===e||e.call(t,this._meta),this._logger.onDismiss()}onAction(e){var t,o;null===(o=this._customizedCallback)||void 0===o||null===(t=o.onAction)||void 0===t||t.call(o,this._meta,e),this._logger.onAction(e)}onError(e){var t,o;null===(o=this._customizedCallback)||void 0===o||null===(t=o.onError)||void 0===t||t.call(o,this._meta,e),this._logger.onError(e)}constructor(e,t,o,n){this._meta=e,this._block=t,this._customizedCallback=n,this._logger=o}}!function(e){e.INTERACT="interact"}(Dy||(Dy={}));const Uy={interact:"pns_communication_service_popup_execute"};var By=new Lf(!0);function Hy(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function zy(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Hy(e,t,o[t])})}return e}function Yy(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}const Wy="pns_web_popup_show",Vy="pns_web_popup_dismiss",Gy="pns_web_popup_click";class $y{onDisplay(){var e;null===(e=this._report)||void 0===e||e.call(this,Wy,zy({},this._eventParam)),By.reportCUJ(Dy.INTERACT,H_.START,{stepName:Wy})}onDismiss(){var e;null===(e=this._report)||void 0===e||e.call(this,Vy,zy({},this._eventParam)),By.reportCUJ(Dy.INTERACT,H_.FINISH,{stepName:Vy})}onAction(e){var t;null===(t=this._report)||void 0===t||t.call(this,Gy,Yy(zy({},this._eventParam),{action:e.actionType})),By.reportCUJ(Dy.INTERACT,(null==e?void 0:e.dismiss)?H_.IN_PROGRESS:H_.FINISH,{stepName:Gy})}onError(e){var t;null===(t=this._report)||void 0===t||t.call(this,"pns_web_popup_error",Yy(zy({},this._eventParam),{errMsg:e})),By.reportCUJ(Dy.INTERACT,H_.FAILURE,{error:e})}constructor(e,t,o){this._report=o,this._eventParam=Yy(zy({},e),{style:t.style})}}function qy(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ky(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){qy(e,t,o[t])})}return e}function Zy(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}const Jy={style:Ey.MOBILE_BANNER},Qy=e=>{const{content:t,open:o,colorScheme:n,config:i,eventReport:r,meta:a,callback:s}=e;if(!o)return null;const l=(0,m.useMemo)(()=>new $y(a,Jy,r),[a,r]),c=(0,m.useMemo)(()=>new Ny(a,Jy,l,s),[a,l,s]);(0,m.useEffect)(()=>{c.onDisplay()},[]);const{buttons:d,icon:u,iconDark:p,body:g,title:h,eventInfo:v}=t,_=(0,m.useRef)(null),f=(0,m.useCallback)(e=>{var t;"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),null===(t=_.current)||void 0===t||t.click())},[]),b="dark"===n?p:u;var y,w;return(0,Le.jsx)(Sy,{role:"alert",style:{top:null!==(y=null==i?void 0:i.topOffset)&&void 0!==y?y:"0",zIndex:null!==(w=null==i?void 0:i.zIndex)&&void 0!==w?w:999,backgroundColor:"var(--ui-sheet-backdrop-1)"},children:(0,Le.jsxs)(Cy,{children:[(0,Le.jsxs)(xy,{children:[b&&(0,Le.jsx)("img",{alt:"icon",src:b.url,height:b.height,width:b.width}),(0,Le.jsxs)(Ty,{children:[h&&(0,Le.jsx)(ko.Fm,{as:"h4",size:15,color:"UIShapeText1OnNeutral",weight:"medium",children:h}),(0,Le.jsx)(ko.Fm,{as:"p",size:15,color:"UIShapeText1OnNeutral",children:null==g?void 0:g.map(e=>{return e.type===Ly.TEXT?e.text:(0,Le.jsx)(ko.QKx,{color:"UIShapeText1OnNeutral",label:e.text,href:null!==(t=e.link)&&void 0!==t?t:"",target:e.linkType===Ay.EXTERNAL?"_blank":"_self",onClick:t=>{var o;e.action?(t.preventDefault(),Fy.handleAction(e.action,a,c)):(null==r||r(_w,Zy(Ky({},v),{button_info:e.text})),null===(o=e.onClick)||void 0===o||o.call(e))},weight:"medium"},e.text);var t})})]})]}),(0,Le.jsx)(Py,{children:null==d?void 0:d.map(e=>e.isCloseStyle?(0,Le.jsx)("div",{onClick:()=>{var t;e.action?Fy.handleAction(e.action,a,c):(null==r||r(_w,Zy(Ky({},v),{button_info:e.text})),null===(t=e.onClick)||void 0===t||t.call(e))},onKeyDown:f,ref:_,tabIndex:0,role:"button",children:(0,Le.jsx)(ko.gn,{size:"24px",style:{cursor:"pointer"},color:"BrandTikTokBackground"})},e.text):(0,Le.jsx)(Oy,{children:(0,Le.jsx)(ko.I05,{label:e.text,shape:"borderless",variant:"primary",onClick:()=>{var t;e.action?Fy.handleAction(e.action,a,c):(null==r||r(_w,Zy(Ky({},v),{button_info:e.text})),null===(t=e.onClick)||void 0===t||t.call(e))}})},e.text))})]})})},Xy=(0,Wt.A)("div",{target:"e1krb51j0"})(({theme:e})=>({width:"100vw",left:"0",marginTop:"1px",position:"fixed",boxShadow:"0 2px 8px rgba(0, 0, 0, .06)",display:"flex",justifyContent:"center",":after":{content:'""',background:"rgba(33, 33, 33, .08)",position:"absolute",left:"0",bottom:"0",width:"100%",height:"1px",transform:"scaleY(0.5)"}}),"label:DivBannerContainer;"),ew=(0,Wt.A)("div",{target:"e1krb51j1"})({width:1150,maxWidth:1150,padding:"16px 24px",display:"flex",justifyContent:"space-between",gap:"24px"},"label:DivBannerWrapper;"),tw=(0,Wt.A)("div",{target:"e1krb51j2"})({display:"flex",alignItems:"center",gap:"16px"},"label:DivLeftContainer;"),ow=(0,Wt.A)("div",{target:"e1krb51j3"})([{display:"flex",alignItems:"center",gap:"24px"}],"label:DivRightContainer;"),nw=(0,Wt.A)("div",{target:"e1krb51j4"})({alignSelf:"center"},"label:DivContentWrapper;"),iw=(0,Wt.A)("div",{target:"e1krb51j5"})({margin:"9px 0"},"label:DivButton;");function rw(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function aw(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){rw(e,t,o[t])})}return e}function sw(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}const lw={style:Ey.PC_BANNER},cw=e=>{const{content:t,open:o,colorScheme:n,config:i,eventReport:r,meta:a,callback:s}=e;if(!o)return null;const l=(0,m.useMemo)(()=>new $y(a,lw,r),[a,r]),c=(0,m.useMemo)(()=>new Ny(a,lw,l,s),[a,l,s]);(0,m.useEffect)(()=>{c.onDisplay()},[]);const{buttons:d,icon:u,iconDark:p,body:g,title:h,eventInfo:v}=t,_=(0,m.useRef)(null),f=(0,m.useCallback)(e=>{var t;"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),null===(t=_.current)||void 0===t||t.click())},[]),b="dark"===n?p:u;var y,w;return(0,Le.jsx)(Xy,{role:"alert",style:{top:null!==(y=null==i?void 0:i.topOffset)&&void 0!==y?y:"59px",zIndex:null!==(w=null==i?void 0:i.zIndex)&&void 0!==w?w:999,backgroundColor:"var(--brand-tiktok-background)"},children:(0,Le.jsxs)(ew,{children:[(0,Le.jsxs)(tw,{children:[b&&(0,Le.jsx)("img",{alt:"icon",src:b.url,height:b.height,width:b.width}),(0,Le.jsxs)(nw,{children:[h&&(0,Le.jsx)(ko.Fm,{as:"h4",color:"UIText1",size:16,weight:"medium",children:h}),g&&(0,Le.jsx)(ko.Fm,{as:"p",size:16,weight:"medium",color:"UIText2",children:g.map(e=>{return e.type===Ly.TEXT?e.text:(0,Le.jsx)(ko.QKx,{color:"UIText1Display",label:e.text,href:null!==(t=e.link)&&void 0!==t?t:"",target:e.linkType===Ay.EXTERNAL?"_blank":"_self",onClick:t=>{var o;e.action?(t.preventDefault(),Fy.handleAction(e.action,a,c)):(null==r||r(_w,sw(aw({},v),{button_info:e.text})),null===(o=e.onClick)||void 0===o||o.call(e))},weight:"medium"},e.text);var t})})]})]}),(0,Le.jsx)(ow,{children:null==d?void 0:d.map(e=>e.isCloseStyle?(0,Le.jsx)("div",{onClick:()=>{var t;e.action?Fy.handleAction(e.action,a,c):(null==r||r(_w,sw(aw({},v),{button_info:e.text})),null===(t=e.onClick)||void 0===t||t.call(e))},onKeyDown:f,ref:_,tabIndex:0,role:"button",children:(0,Le.jsx)(ko.gn,{size:"24px",style:{cursor:"pointer"}})},e.text):(0,Le.jsx)(iw,{children:(0,Le.jsx)(ko.I05,{label:e.text,shape:"borderless",variant:"primary",onClick:()=>{var t;e.action?Fy.handleAction(e.action,a,c):(null==r||r(_w,sw(aw({},v),{button_info:e.text})),null===(t=e.onClick)||void 0===t||t.call(e))}})},e.text))})]})})},dw=(0,Wt.A)("div",{target:"e140os950"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"8px",padding:"0 24px"},"label:ButtonContainer;"),uw=(0,Wt.A)("img",{target:"e140os951"})({display:"block",margin:"8px auto"},"label:Img;");function pw(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function gw(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){pw(e,t,o[t])})}return e}function mw(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}),e}const hw={style:Ey.POP},vw=e=>{var t;const{icon:o,iconDark:n,buttons:i,body:r,title:a,eventInfo:s}=e.content,{meta:l,callback:c,eventReport:d}=e,u="dark"===e.colorScheme?n:o,p=(0,m.useMemo)(()=>new $y(l,hw,d),[l,d]),g=(0,m.useMemo)(()=>new Ny(l,hw,p,c),[l,p,c]);var h;return(0,m.useEffect)(()=>{g.onDisplay()},[]),(0,Le.jsxs)(ko.nOL,{open:e.open,onOpenChange:()=>{},style:{padding:"32px 0",zIndex:null!==(h=null===(t=e.config)||void 0===t?void 0:t.zIndex)&&void 0!==h?h:9999},children:[u&&(0,Le.jsx)(uw,{src:u.url,height:u.height,width:u.width}),a&&(0,Le.jsx)(ko.Fm,{as:"h2",align:"center",size:20,weight:"bold",style:{wordBreak:"break-word",lineHeight:"24px",padding:"0 20px"},children:a}),(null==r?void 0:r.length)&&(0,Le.jsx)(ko.Fm,{as:"p",size:15,align:"center",style:{lineHeight:"18px",padding:"7px 24px 24px",whiteSpace:"pre-wrap"},children:r.map(t=>{return t.type===Ly.TEXT?t.text:(0,Le.jsx)(ko.QKx,{color:"UIText1Display",weight:"medium",label:t.text,href:null!==(o=t.link)&&void 0!==o?o:"",target:t.linkType===Ay.EXTERNAL?"_blank":"_self",onClick:o=>{var n,i;t.action?(o.preventDefault(),Fy.handleAction(t.action,l,g)):(null===(n=e.eventReport)||void 0===n||n.call(e,_w,mw(gw({},s),{button_info:t.text})),null===(i=t.onClick)||void 0===i||i.call(t))}},t.text);var o})}),(null==i?void 0:i.length)&&(0,Le.jsx)(dw,{children:i.map(t=>(0,Le.jsx)(ko.I05,{style:t.isBold?{fontWeight:"bold"}:{},label:t.text,variant:t.isHighlight?"primary":"secondary",onClick:()=>{var o,n;t.action?Fy.handleAction(t.action,l,g):(null===(o=e.eventReport)||void 0===o||o.call(e,_w,mw(gw({},s),{button_info:t.text})),null===(n=t.onClick)||void 0===n||n.call(t))}},t.text))})]})};const _w="qa_tns_general_dialog_click";function fw(){return(0,Le.jsx)("link",{rel:"stylesheet",href:Jr})}const bw=e=>{const[t,o]=(0,m.useState)(null),{eventReport:n,noFetchDataAtInit:i,SDKConfig:r,visible:a,onReadyToClose:s,onReadyToShow:l,colorScheme:c,textDirection:d,componentConfig:u}=e;if((0,m.useEffect)(()=>(ky.init(r),i||ky.fetchPopupData().catch(null),ky.addEventListener(Hb.popupDataReady,()=>{ky.getPopupData()&&(o(ky.getPopupData()),l())}),ky.addEventListener(Hb.afterNavigateToNextPopup,()=>{o(ky.getPopupData())}),ky.addEventListener(Hb.allPopupsCompleted,()=>{s()}),()=>{ky.destruct()}),[]),(0,m.useEffect)(()=>{a&&t&&n&&n("tns_general_dialog_show",t.eventInfo)},[a]),!t)return null;const p={business:"",popup_id:"",policyVersion:""},{popupType:g}=t,h=function(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(t,["popupType"]);let v;switch(g){case xb.MOBILE_BANNER:v=(0,Le.jsx)(Qy,{colorScheme:c,content:h,open:a,config:null==u?void 0:u.mBanner,meta:p,eventReport:n});break;case xb.PC_BANNER:v=(0,Le.jsx)(cw,{colorScheme:c,content:h,open:a,config:null==u?void 0:u.pcBanner,meta:p,eventReport:n});break;case xb.POP:default:v=(0,Le.jsx)(vw,{colorScheme:c,content:h,open:a,config:null==u?void 0:u.popup,meta:p,eventReport:n})}return(0,Le.jsxs)(ko.juU,{colorSchemePreference:c,textDirection:d,children:[(0,Le.jsx)(fw,{}),v]})},yw=(0,Wt.A)("div",{target:"euhfx3x0"})(({theme:e})=>({width:"100vw",height:"100vh",overflow:"auto",padding:"32px 16px",zIndex:"9999",position:"fixed",top:0,left:0}),"label:FullScreenView;"),ww=(0,Wt.A)("div",{target:"euhfx3x1"})({display:"flex",flexDirection:"column"},"label:ContainerView;"),kw=(0,Wt.A)("div",{target:"euhfx3x2"})({padding:0,width:"100%"},"label:TopContainerView;"),Sw=(0,Wt.A)("div",{target:"euhfx3x3"})({padding:0,alignSelf:"flex-end",width:"100%"},"label:BottomContainerView;"),Cw=(0,Wt.A)("div",{target:"euhfx3x4"})({flexGrow:1,overflowY:"auto",padding:0},"label:ScrolledContainerView;"),xw=(0,Wt.A)("div",{target:"euhfx3x5"})({display:"flex",gap:"16px"},"label:ButtonGroup;"),Pw=(0,Wt.A)("div",{target:"euhfx3x6"})({flex:1},"label:ButtonItem;"),Tw={subtext:"UIText2",description:"UIText3"},Ow={center:"center",right:"end"},Aw={"H1-Regular":{size:24,weight:"normal"},"H1-Medium":{size:24,weight:"medium"},"H1-Bold":{size:24,weight:"bold"},"H2-Regular":{size:20,weight:"normal"},"H2-Medium":{size:20,weight:"medium"},"H2-Bold":{size:20,weight:"bold"},"H3-Regular":{size:17,weight:"normal"},"H3-Medium":{size:17,weight:"medium"},"H3-Bold":{size:17,weight:"bold"},"H4-Regular":{size:15,weight:"normal"},"H4-Medium":{size:15,weight:"medium"},"H4-Bold":{size:15,weight:"bold"},"P1-Regular":{size:14,weight:"normal"},"P1-Medium":{size:14,weight:"medium"},"P1-Bold":{size:14,weight:"bold"},"P2-Regular":{size:13,weight:"normal"},"P2-Medium":{size:13,weight:"medium"},"P2-Bold":{size:13,weight:"bold"},"P3-Regular":{size:12,weight:"normal"},"P3-Medium":{size:12,weight:"medium"},"P3-Bold":{size:12,weight:"bold"},"SmallText1-Regular":{size:11,weight:"normal"},"SmallText1-Medium":{size:11,weight:"medium"},"SmallText1-Bold":{size:11,weight:"bold"},"SmallText2-Regular":{size:10,weight:"normal"},"SmallText2-Medium":{size:10,weight:"medium"},"SmallText2-Bold":{size:10,weight:"bold"},"Headline-Regular":{size:16,weight:"normal"},"Headline-Medium":{size:16,weight:"medium"},"Headline-Bold":{size:16,weight:"bold"},"Longform-Regular":{size:16,weight:"normal"},"Longform-Medium":{size:16,weight:"medium"},"Longform-Bold":{size:16,weight:"bold"},"LargeTitle-Regular":{size:32,weight:"normal"},"LargeTitle-Medium":{size:32,weight:"medium"},"LargeTitle-Bold":{size:32,weight:"bold"}},Ew=e=>{const{meta:t,content:o,callback:n}=e;var i;const r=null!==(i=Tw[o.subtype])&&void 0!==i?i:"UIText1";var a,s;const l=null!==(s=Aw[null!==(a=o.font)&&void 0!==a?a:"P2-REGULAR"])&&void 0!==s?s:{size:13,weight:"normal"};var c,d;const u=null!==(d=Ow[null!==(c=o.align)&&void 0!==c?c:"left"])&&void 0!==d?d:"start",p=(0,m.useMemo)(()=>function(e){const t=e.bodyLinks;if(!e.text||0===e.text.length)throw new Error("TextBlock content is empty.");if(!t||0===t.length)return[{type:"text",name:e.text}];const o=[],n=/%s/g,i=e.text;let r=0;return t.forEach(({name:e,action:t})=>{const a=n.exec(i);if(!a)throw new Error("TextBlock link text can not match.");o.push({type:"text",name:i.slice(r,a.index)});const s={type:"link",name:e,action:t};o.push(s),r=Number(a.index)+a[0].length}),o.push({type:"text",name:i.slice(r)}),o}(o),[o,n]),g=(0,m.useCallback)(e=>{if(e.action){const o=Fy.handleAction(e.action,t,n);o&&n.onError(o)}else n.onError("TextBlock link action is empty.")},[n,t]);return(0,Le.jsx)(ko.Fm,{align:u,size:l.size,color:r,weight:l.weight,as:"div",children:p.length>0?p.map((e,t)=>"text"===e.type?e.name:(0,Le.jsx)(ko.QKx,{color:"UIText1Display",weight:"medium",label:e.name,href:"",target:"_blank",onClick:t=>{t.preventDefault(),g(e)}},t)):""})},Lw={primary:"primary",secondary:"secondary",borderless:"secondary",destructive:"primary"},jw={primary:"default",secondary:"default",borderless:"borderless",destructive:"borderless"},Iw=e=>{const{meta:t,buttonElement:o,callback:n}=e,i=o.action;var r;const a=null!==(r=o.text)&&void 0!==r?r:"";if(!i)throw new Error("ButtonBlock no action found.");if(!a.length)throw new Error("ButtonBlock title is empty.");const s=o.subtype;var l;const c=null!==(l=Lw[s])&&void 0!==l?l:"primary";var d;const u=null!==(d=jw[s])&&void 0!==d?d:"default",p=(0,m.useCallback)(()=>{const e=Fy.handleAction(i,t,n);e&&n.onError(e)},[n,t,i]);var g;return(0,Le.jsx)(ko.I05,{label:a,variant:c,shape:u,style:{width:"100%"},onClick:p},null!==(g=o.groupId)&&void 0!==g?g:"")};Fy.registerBlockCells("info",e=>{var t;const{colorScheme:o,meta:n,block:i,callback:r}=e,a=null===(t=i.elements)||void 0===t?void 0:t.get("content");if(!a)throw new Error("InfoBlock content is empty.");const s="dark"===o?a.iconUrlDark:a.iconUrl;var l;const c=null!==(l=a.iconStyle)&&void 0!==l?l:124,d=a.subtype;return["text","subtext","description"].includes(d)?(0,Le.jsx)(Ew,{meta:n,content:a,callback:r}):"divider"===d?(0,Le.jsx)("hr",{}):"image"===d?(0,Le.jsx)("div",{style:{display:"flex",alignItems:"center",padding:0},children:(0,Le.jsx)("img",{src:s,height:c,width:"100%"})}):null}),Fy.registerBlockCells("action",e=>{const{meta:t,block:o,callback:n}=e,i=Array.from(o.elements||new Map);if(!i.some(([e])=>["action_right","action_center","action_left"].includes(e)))throw new Error("ActionBlock no button found.");return(0,Le.jsx)(xw,{children:i.map(([e,o])=>(0,Le.jsx)(Pw,{children:(0,Le.jsx)(Iw,{meta:t,buttonElement:o,callback:n})},e))})});const Rw=e=>{const{position:t,colorScheme:o,meta:n,blocks:i,callback:r}=e,a={top:kw,middle:Cw,bottom:Sw}[t];return(0,Le.jsx)(a,{children:i.map((e,t)=>{const i=Fy.cellByType(e.type);if(!i)throw new Error(`No block cell registered for type: ${e.type}`);const a=e.format;var s,l,c,d;const u=`${null!==(s=a.paddingTop)&&void 0!==s?s:0}px ${null!==(l=a.paddingRight)&&void 0!==l?l:0}px \n        ${null!==(c=a.paddingBottom)&&void 0!==c?c:0}px ${null!==(d=a.paddingLeft)&&void 0!==d?d:0}px`;var p,g,m,h;const v=`${null!==(p=a.marginTop)&&void 0!==p?p:0}px ${null!==(g=a.marginRight)&&void 0!==g?g:0}px \n        ${null!==(m=a.marginBottom)&&void 0!==m?m:0}px ${null!==(h=a.marginLeft)&&void 0!==h?h:0}px`;return(0,Le.jsx)("div",{style:{padding:u,margin:v},children:(0,Le.jsx)(i,{colorScheme:o,meta:n,block:e,callback:r})},t)})})},Mw=e=>{const{blockData:t,metaData:o}=e;if("dialog"===t.style)return null;const n=(0,m.useCallback)(()=>{Fy.close(o.business)},[]),i=t.upperLeftBack?(0,Le.jsx)(ko.PH3,{icon:(0,Le.jsx)(ko.WZi,{}),onClick:n}):null,r=t.upperLeftBack?(0,Le.jsx)(ko.PH3,{icon:(0,Le.jsx)(ko.gn,{}),onClick:n}):null;return(0,Le.jsx)(ko.Gil,{title:"",hideSeparator:!0,leading:i,style:{},trailing:r,hideBackground:!0})},Dw=e=>{const{colorScheme:t,metaData:o,blockData:n,blockCallback:i}=e,r=n.style===Iy.FULLSCREEN?"100vh":"80vh",a=n.style===Iy.FULLSCREEN?"100%":"",s=n.style;(0,m.useEffect)(()=>{i.onDisplay()},[]);const l=(0,Le.jsxs)(ww,{style:{maxHeight:r,height:a},children:[(0,Le.jsx)(Mw,{metaData:o,blockData:n,callback:i}),(0,Le.jsx)(Rw,{position:"top",colorScheme:t,meta:o,blocks:n.topPinnedBlocks,callback:i}),(0,Le.jsx)(Rw,{position:"middle",colorScheme:t,meta:o,blocks:n.blocks,callback:i}),(0,Le.jsx)(Rw,{position:"bottom",colorScheme:t,meta:o,blocks:n.bottomPinnedBlocks,callback:i})]});return(()=>{switch(s){case Iy.BOTTOM:return(0,Le.jsx)(ko.jdl,{open:!0,onOpenChange:()=>{},style:{padding:"32px 16px",zIndex:9999},children:l});case Iy.FULLSCREEN:return(0,Le.jsx)(yw,{style:{visibility:"visible",backgroundColor:"var(--brand-tiktok-background)"},children:l});case Iy.POP:default:return(0,Le.jsx)(ko.nOL,{open:!0,onOpenChange:()=>{},style:{padding:"32px 16px",zIndex:9999},children:l})}})()},Fw=e=>{const{eventReport:t,colorScheme:o,blockData:n,metaData:i,callback:r}=e,a=(0,m.useMemo)(()=>new $y(i,n,t),[i,n,t]),s=(0,m.useMemo)(()=>new Ny(i,n,a,r),[i,n,a,r]);return(0,Le.jsx)(mf,{shouldReport:!1,onError:e=>s.onError(e.toString()),children:(0,Le.jsx)(Dw,{colorScheme:o,metaData:i,blockData:n,blockCallback:s})})};function Nw(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Uw(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Nw(e,t,o[t])})}return e}var Bw=({monitorConfig:{config:e,sdkConfig:t}={},children:o})=>((0,m.useMemo)(()=>{var o,n,i;By.init(Uw({teaEventNameFormatter:e=>Uy[e]},e),(n=Uw({bid:null!==(o=null==t?void 0:t.bid)&&void 0!==o?o:"pns_communication_service",version:"1.0.0",appId:1988},t),i=null!=(i={region:null==t?void 0:t.deploymentRegion})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t.push.apply(t,o)}return t}(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}),n))},[]),(0,Le.jsx)(hf,{cujName:Dy.INTERACT,children:o}));function Hw(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function zw(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){Hw(e,t,o[t])})}return e}function Yw(){return(0,Le.jsx)("link",{rel:"stylesheet",href:Jr})}const Ww=e=>{const{pnsPopupConfig:t,eventReport:o,colorScheme:n,textDirection:i}=e;return(0,m.useEffect)(()=>{null==o||o("pns_web_popup_request",{type:"popup"})},[]),t.blockData?(0,Le.jsxs)(ko.juU,{colorSchemePreference:n,textDirection:i,children:[(0,Le.jsx)(Yw,{}),(0,Le.jsx)(Fw,{eventReport:o,colorScheme:n,blockData:t.blockData,metaData:t.metaData,callback:t.callback})]}):null},Vw=e=>{const{pnsPopupConfig:t,eventReport:o,colorScheme:n,textDirection:i,componentConfig:r}=e;let a,s=null,l=null;var c;if(t.popupData)switch(l=function(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(c=t.popupData,["popupType"]),({popupType:a}=c),a){case Ey.MOBILE_BANNER:s=(0,Le.jsx)(Qy,{colorScheme:n,content:l,open:!0,config:null==r?void 0:r.mBanner,meta:t.metaData,eventReport:o,callback:t.callback});break;case Ey.PC_BANNER:s=(0,Le.jsx)(cw,{colorScheme:n,content:l,open:!0,config:null==r?void 0:r.pcBanner,meta:t.metaData,eventReport:o,callback:t.callback});break;case Ey.POP:default:s=(0,Le.jsx)(vw,{colorScheme:n,content:l,open:!0,config:null==r?void 0:r.popup,meta:t.metaData,eventReport:o,callback:t.callback})}return(0,m.useEffect)(()=>{null==o||o("pns_web_popup_request",{type:a})},[]),(0,Le.jsxs)(ko.juU,{colorSchemePreference:n,textDirection:i,children:[(0,Le.jsx)(Yw,{}),s]})},Gw=e=>{const{pnsPopupConfig:t}=e,[o,n]=(0,m.useState)(!0);if((0,m.useEffect)(()=>{Fy.registerVisibility(t.metaData.business,n)},[]),!o)return null;let i=null;return t.blockData&&(i=(0,Le.jsx)(Ww,zw({},e))),t.popupData&&(i=(0,Le.jsx)(Vw,zw({},e))),i},$w=e=>(0,Le.jsx)(Bw,{monitorConfig:e.monitorConfig,children:(0,Le.jsx)(Gw,zw({},e))}),qw=ky.fetchPopupData;function Kw({link:e,lang:t}){return e.replace("${locale}",t)}function Zw({lang:e,body:t,bodyLinks:o}){if(!t)return;if(!o||0===o.length)return[{type:Ly.TEXT,text:t}];const n=[],i=t;let r=0;const a=/%s/g;return o.forEach(({name:t,link:o="",operation:s,dismiss:l,approve:c,new_web_tab:d,extra:u,link_type:p})=>{const g=a.exec(i);if(!g)return;const m=Kw({link:o,lang:e}),h=Boolean(c||l),v=p===Rb.CALLBACK||c;let _;_=o?d?jy.LINK_EXTERNAL:jy.LINK_INTERNAL:"";const f={type:o?Ly.LINK:Ly.BUTTON,text:t,link:m,linkType:d?Ay.EXTERNAL:Ay.INTERNAL,action:{actionType:_,link:m,dismiss:h,callback:v,extra:u,operation:s}};n.push({type:Ly.TEXT,text:i.slice(r,g.index)}),n.push(f),r=Number(g.index)+g[0].length}),n.push({type:Ly.TEXT,text:i.slice(r)}),n}function Jw({lang:e,first_button_highlight:t,rawButtons:o}){if(0===o.length)return;const n=[];return o.forEach(({text:o,is_bold:i,link_type:r,link:a,extra:s,approve:l,operation:c,dismiss:d,dismiss_all:u,new_web_tab:p,is_close_style:g},m)=>{const h=Boolean(l||d||u),v=r===Rb.CALLBACK||l;let _;_=a?p?jy.LINK_EXTERNAL:jy.LINK_INTERNAL:"";const f={text:o,isCloseStyle:g,isBold:Boolean(i),isHighlight:0===m&&t,link:a?Kw({link:a,lang:e}):void 0,linkType:p?Ay.EXTERNAL:Ay.INTERNAL,action:{actionType:_,link:a?Kw({link:a,lang:e}):void 0,dismiss:h,callback:v,extra:s,operation:c}};n.push(f)}),n}function Qw(e){if(e)return{url:e,width:"auto",height:"48px"}}function Xw({links:e,lang:t}){if(!e||0===e.length)return;const o=[];return e.forEach(({text:e,action:n})=>{var i,r,a;const s={name:e,action:{actionType:null!==(i=null===(a=n.action_type)||void 0===a?void 0:a[0])&&void 0!==i?i:"",actionId:n.id,link:Kw({link:null!==(r=n.link)&&void 0!==r?r:"",lang:t}),dismiss:n.dismiss,defaultOn:n.default_on,callback:n.callback,extra:n.extra,operation:n.operation,isHighlighted:n.is_highlighted}};o.push(s)}),o}const ek=e=>{const{data:t,uiConfig:o}=e,{isDark:n,direction:r="ltr",showFullSideNav:a,debug:s,deploymentRegion:l}=o;return t&&(0,i.Y)($w,{eventReport:ht.f.event.bind(ht.f),pnsPopupConfig:t,colorScheme:n?"dark":"light",textDirection:r,componentConfig:a?{pcBanner:{topOffset:"0"}}:void 0,monitorConfig:{sdkConfig:{bid:"pns_communication_service",debug:s,appId:1988,deploymentRegion:l}}})};class tk extends bb{getActionType(){return Zf.POPUP}_generatePopupDataV1(e){const t={eventInfo:{style:e.style,business:e.business},popupType:e.style,title:e.title,icon:Qw(e.icon_url),iconDark:Qw(e.icon_url_dark),body:Zw({lang:this.lang,body:e.body,bodyLinks:e.body_link_list}),buttons:Jw({lang:this.lang,first_button_highlight:Boolean(e.first_button_highlight),rawButtons:e.actions||[]})};return this._style=e.style,t}_processV1ResData(e){return{metaData:{business:e.business,popup_id:e.business,policyVersion:e.policy_version},popupData:this._generatePopupDataV1(e),callback:{onAction:this._onActionCallback,onDismiss:this._onDismissCallback}}}_generateBlocks(e){const t=[];return e.forEach(e=>{var o,n,i,r,a,s,l,c,d,u,p;const g={marginLeft:null===(n=e.format)||void 0===n?void 0:n.margin_left,marginRight:null===(i=e.format)||void 0===i?void 0:i.margin_right,marginTop:null===(r=e.format)||void 0===r?void 0:r.margin_top,marginBottom:null===(a=e.format)||void 0===a?void 0:a.margin_bottom,paddingLeft:null===(s=e.format)||void 0===s?void 0:s.padding_left,paddingRight:null===(l=e.format)||void 0===l?void 0:l.padding_right,paddingTop:null===(c=e.format)||void 0===c?void 0:c.padding_top,paddingBottom:null===(d=e.format)||void 0===d?void 0:d.padding_bottom,cornerRadius:null===(u=e.format)||void 0===u?void 0:u.corner_radius,cornerPosition:null===(p=e.format)||void 0===p?void 0:p.corner_position},m=new Map;switch(e.type){case Mb.ACTION:var h,v,_;[{name:"action_left",rawAction:null===(h=e.elements)||void 0===h?void 0:h.action_left},{name:"action_center",rawAction:null===(v=e.elements)||void 0===v?void 0:v.action_center},{name:"action_right",rawAction:null===(_=e.elements)||void 0===_?void 0:_.action_right}].forEach(({name:e,rawAction:t})=>{var o,n,i;if(t){var r,a,s,l,c,d,u,p,g;const h={subtype:null!==(o=t.subtype)&&void 0!==o?o:"",action:{actionType:null!==(n=null===(a=t.action)||void 0===a||null===(r=a.action_type)||void 0===r?void 0:r[0])&&void 0!==n?n:"",actionId:null===(s=t.action)||void 0===s?void 0:s.id,link:Kw({link:null!==(i=null===(l=t.action)||void 0===l?void 0:l.link)&&void 0!==i?i:"",lang:this.lang}),dismiss:null===(c=t.action)||void 0===c?void 0:c.dismiss,defaultOn:null===(d=t.action)||void 0===d?void 0:d.default_on,callback:null===(u=t.action)||void 0===u?void 0:u.callback,extra:null===(p=t.action)||void 0===p?void 0:p.extra,isHighlighted:null===(g=t.action)||void 0===g?void 0:g.is_highlighted},text:t.text};m.set(e,h)}});break;case Mb.INFO:default:var f;if(null===(f=e.elements)||void 0===f?void 0:f.content){const t=e.elements.content,n={subtype:null!==(o=t.subtype)&&void 0!==o?o:"",text:t.text,font:t.font,align:t.align,iconUrl:t.icon_url,iconUrlDark:t.icon_url_dark,iconStyle:t.icon_style,groupId:t.group_id,bodyLinks:Xw({links:t.body_links,lang:this.lang})};m.set("content",n)}}const b={id:e.id,type:e.type,format:g,elements:m};t.push(b)}),t}_generateBlockData(e){var t,o,n;const i={topPinnedBlocks:this._generateBlocks(null!==(t=e.top_pinned_blocks)&&void 0!==t?t:[]),blocks:this._generateBlocks(null!==(o=e.blocks)&&void 0!==o?o:[]),bottomPinnedBlocks:this._generateBlocks(null!==(n=e.bottom_pinned_blocks)&&void 0!==n?n:[]),style:e.style,upperRightClose:e.upper_right_close,upperLeftBack:e.upper_left_back,dismissOutside:e.dismiss_click_outside};return this._style=e.style,i}_processV2ResData(e){var t,o,n,i;return{metaData:{business:null===(o=e.popup_meta)||void 0===o?void 0:o.business,popup_id:null===(n=e.popup_meta)||void 0===n?void 0:n.popup_id,policyVersion:null!==(t=null===(i=e.popup_meta)||void 0===i?void 0:i.version)&&void 0!==t?t:""},blockData:this._generateBlockData(e.popup_ui),callback:{onAction:this._onActionCallback,onDismiss:this._onDismissCallback}}}processData(e){const t=JSON.parse(e),o=t.popup_responses,n=t.policy_notices;o&&0!==o.length?this.dataModel=this._processV2ResData(o[0]):n&&0!==n.length&&(this.dataModel=this._processV1ResData(n[0]))}executeAction(){const e=document.getElementById(Cb),t=(0,i.Y)(ek,{data:this.dataModel,uiConfig:this._uiConfig});if(!e)throw new Error("popup action error: no root element found");r.render(t,e)}constructor(e){super(),this._onActionCallback=(e,t)=>{if(t.callback){const o={business:e.business,policy_version:e.policyVersion,style:this._style,extra:t.extra,operation:t.operation};wb.sendCallbackRequest(o)}},this._onDismissCallback=()=>{this.completeAction()},this._uiConfig=e}}class ok extends yb{createAction(){return new tk(this._uiConfig)}constructor(e){super(),this._uiConfig=e}}const nk=()=>{var e,t;const o=null!==(e=(0,tn.W)(()=>["language","wid","region","user","env"],[]))&&void 0!==e?e:null,n=null!==(t=(0,Po.U)(()=>["isMobile","vregion"],[]))&&void 0!==t?t:null,i=(0,m.useCallback)(()=>{var e,t;if(!o||!n)return!1;const{language:i,wid:r,region:a,user:s,env:l}=o,{isMobile:c,vregion:d}=n,u={apiDomain:"",appId:1988,uid:null!==(e=null==s?void 0:s.uid)&&void 0!==e?e:"",wid:null!=r?r:"",lang:null!=i?i:"en",isMobile:null!=c&&c,region:null!=a?a:"",debug:"boe"===(null==l?void 0:l.type)||"ppe"===(null==l?void 0:l.type),deploymentRegion:"-"!==d?d:void 0,slardarInstance:null===v.ng||void 0===v.ng||null===(t=v.ng._slardar)||void 0===t?void 0:t.rawInstance(),teaInstance:ht.f.getInstance()};try{wb.init(u)}catch(e){return console.error("init CommunicationServiceSDK failed"),!1}return!0},[o,n]);return{initCommunicationServiceSDK:i}},ik=()=>{var e,t;const{initCommunicationServiceSDK:o}=nk(),{isDark:n,direction:r}=(0,ve.u)(),{showFullSideNav:a}=Nn(),{env:s}=null!==(e=(0,tn.W)(()=>["env"],[]))&&void 0!==e?e:{},{vregion:l}=null!==(t=(0,Po.U)(()=>["vregion"],[]))&&void 0!==t?t:{},[c,d]=(0,m.useState)(!1);return(0,m.useEffect)(()=>{const e=o();d(e),wb.registerActionFactory([{key:Zf.POPUP,instance:new ok({showFullSideNav:a,isDark:n,direction:r,debug:"boe"===(null==s?void 0:s.type)||"ppe"===(null==s?void 0:s.type),deploymentRegion:"-"!==l?l:void 0})},{key:Zf.LOGOUT,instance:new Sb}])},[o,n,r,a,s,l]),(0,m.useEffect)(()=>{c&&wb.execute(ob.COLD_START)},[c]),(0,i.Y)("div",{id:Cb})};var rk=o(75602),ak=o(78285),sk=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function lk(e){if(void 0===e)return{};const t={};return e.forEach(e=>{t[e.id_value]=e}),t}const ck="ppf_eligibility_v2",dk=(0,rk.atomWithStorage)(ck,void 0,(0,rk.createJSONStorage)(),{getOnInit:!0});dk.debugLabel="eligibility_list_atom";const uk=(0,tt.atom)(e=>lk(e(dk)),(e,t,o)=>{t(dk,void 0!==o?Object.values(o):void 0)});let pk=!1,gk=!1;const{useServiceState:mk,useServiceDispatchers:hk,getStaticApi:vk}=(0,C.i)(uk,(e,t)=>{const o=(e=!1)=>sk(void 0,void 0,void 0,function*(){if(!gk&&(!pk||e)){gk=!0;try{const e=yield(o=void 0,n=void 0,i=void 0,r=function*(){return ak.h.post("/tiktok/ppf/api/eligibility/v2",{baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})},new(i||(i=Promise))(function(e,t){function a(e){try{l(r.next(e))}catch(e){t(e)}}function s(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(o,n||[])).next())}));0===e.status_code?(pk||(pk=!0),t(uk,lk(e.eligibility_list))):console.error("Feature access control not initialized",e)}catch(e){console.error("Feature access control initialization error",e)}finally{gk&&(gk=!1)}}var o,n,i,r});return{getState:()=>e(uk),isInitialized:()=>pk,fetchAndInitialize(){return sk(this,void 0,void 0,function*(){return yield o(!1)})},refresh(){return sk(this,void 0,void 0,function*(){return yield o(!0)})},updateEligibility(o){const n=e(uk);n[o.id_value]=o,t(uk,n)}}});class _k extends bb{getActionType(){return Zf.PPF}processData(e){this.dataModel=JSON.parse(e)}executeAction(){this._config.onServerPush(this.dataModel)}constructor(e){super(),this._config=e}}class fk extends yb{createAction(){return new _k(this._config)}constructor(e){super(),this._config=e}}class bk extends bb{getActionType(){return Zf.PPFRefresh}processData(e){}executeAction(){this._config.onServerPush()}constructor(e){super(),this._config=e}}class yk extends yb{createAction(){return new bk(this._config)}constructor(e){super(),this._config=e}}const wk=()=>'""',kk=()=>{},Sk=()=>{};class Ck{get storage(){return this.storageObject||(this.storageObject=this.tryParseJson(this.getter(this.key,"{}"))),this.storageObject}getStorage(){return this.storage}setItem(e,t){this.storage[e]=t,this.setter(this.key,JSON.stringify(this.storage))}getItem(e){return this.storage[e]}removeItem(e){this.storage[e]=void 0,this.setter(this.key,JSON.stringify(this.storage))}removeAll(){this.storageObject=null,this.remove(this.key)}tryParseJson(e){try{return JSON.parse(e)}catch(e){return{}}}constructor(e,t){this.key=e,this.type=t,this.storageObject=null,this.getter=wk,this.setter=kk,this.remove=Sk,this.getter="local"===t?Cn._S:Cn.Hd,this.setter="local"===t?Cn.AP:Cn.J2,this.remove="local"===t?Cn.sc:Cn.X}}const xk=new Ck("webapp-common-config","local");new Ck("webapp-common-config","session"),new Ck("frequency-control-config","local"),new Ck("flip-control-config","local"),new Ck("webapp-video-mute","local"),new Ck("keyboard-shortcut-config","local"),new Ck("webapp-comment-url","session"),new Ck("search-entry-block-map-storage","local"),new Ck("fyp-feed-cache","local");const Pk=new Ck("search_history_map","local"),Tk=(new Ck("multi-account-info","local"),(e,t,o)=>{if(Pk.removeAll(),o){var n;o.logoutSubmit(null!=t?t:{});const e=null===(n=o.getCommonTrackingInfo)||void 0===n?void 0:n.call(o);e&&((0,Cn.J2)(ye.MM.TRACKING_INFO,JSON.stringify(e)),(0,Cn.J2)(ye.MM.CLICK_TIMESTAMP,Date.now().toString()))}else i=null!=t?t:{},ht.f.sendEvent("logout_submit",i);var i;let r="https://www.tiktok.com/logout";e&&(r+=`?redirect_url=${encodeURIComponent(e)}`),window.location.href=r}),Ok=()=>{const{initCommunicationServiceSDK:e}=nk(),t=vk().isInitialized(),o=null!==(n=null===(i=function(e){const t=mk();return null==t?void 0:t[e]}("account_control"))||void 0===i?void 0:i.action_list)&&void 0!==n?n:[];var n,i;const r=o.map(e=>e.processor);(0,m.useEffect)(()=>{e()},[e]),(0,m.useEffect)(()=>{t&&r.forEach(e=>{switch(e){case"PopupAPIProcessor":const e=o.find(e=>"PopupAPIProcessor"===e.processor);wb.execute(ob.PULL,{extra:null==e?void 0:e.params});break;case"LogoutProcessor":!function(e){var t,o;if(e&&"LogoutProcessor"===e.processor)try{const n=JSON.parse(null!==(t=e.params)&&void 0!==t?t:"{}");(null==n?void 0:n.webapp)&&(null===(o=localStorage)||void 0===o||o.removeItem(ck),Tk())}catch(e){}}(o.find(e=>"LogoutProcessor"===e.processor))}})},[t,...r])},Ak=function(){return function(){const e=Bn();(0,m.useEffect)(()=>{e&&vk().fetchAndInitialize()},[e]),function(){const e=Bn(),{initCommunicationServiceSDK:t}=nk();(0,m.useEffect)(()=>{e&&(t(),function(){const{updateEligibility:e}=vk();wb.registerActionFactory([{key:Zf.PPF,instance:new fk({onServerPush:e})}])}(),function(){const{refresh:e}=vk();wb.registerActionFactory([{key:Zf.PPFRefresh,instance:new yk({onServerPush:e})}])}())},[t,e])}()}(),Ok(),null};var Ek=o(70364),Lk=o.n(Ek),jk=o(35131);const Ik=e=>{var t,o;const{onHide:n,hideByDefault:r}=e,a=(0,m.useRef)(!1),[s,l]=(0,m.useState)(!1),c=(0,m.useCallback)(()=>{null==n||n(),l(!1)},[n]),{language:d,wid:u,region:p}=null!==(t=(0,tn.W)(()=>["language","wid","region"],[]))&&void 0!==t?t:{},{isMobile:g}=null!==(o=(0,Po.U)(()=>["isMobile"],[]))&&void 0!==o?o:{},{isDark:h,direction:v}=(0,ve.u)(),{showFullSideNav:_}=Nn(),f=(0,m.useCallback)(e=>{a.current||(a.current=!0,qw({scene:555,extra:JSON.stringify(e)}).catch(null))},[]),b=(0,m.useCallback)(e=>{qw({scene:555,extra:JSON.stringify(e)}).catch(null)},[]);if((0,m.useEffect)(()=>(jk.LZ.on(jk.Rh,Lk()(f,2e3)),jk.LZ.on(jk.gk,Lk()(b,2e3)),()=>{jk.LZ.clear(jk.Rh),jk.LZ.clear(jk.gk)}),[f,b]),!u||!p||!d)return null;const y={appId:1988,wid:u,isMobile:g,region:p,lang:d,apiDomain:"https://www.tiktok.com",apiPath:Fb};return(0,i.Y)("div",{id:"web-universal-popup",children:(0,i.Y)(bw,{eventReport:ht.f.event.bind(ht.f),noFetchDataAtInit:r,SDKConfig:y,visible:s,colorScheme:h?"dark":"light",textDirection:v,onReadyToClose:c,onReadyToShow:()=>l(!0),componentConfig:_?{pcBanner:{topOffset:"0"}}:void 0})})},Rk=function(e){return(()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[]));return"v1"===(null!==(e=un(t,"pns_communication_service_sdk"))&&void 0!==e?e:"v0")})()?(0,i.FD)(i.FK,{children:[(0,i.Y)(ik,{}),(0,i.Y)(Ak,{})]}):(0,i.Y)(Ik,Object.assign({},e))},Mk=(0,Wt.A)("li",{target:"euwmh3o0"})({display:"flex",alignItems:"center",position:"relative",borderBottom:"",padding:"12px 12px",boxSizing:"border-box"},"label:LiGroupItem;"),Dk=e=>(0,i.Y)(Mk,{children:(0,i.Y)(tu.Fm,{type:"P3-Semibold",children:e.groupLabel})}),Fk=(0,Wt.A)("li",{target:"e1x05iuc0"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontWeight:"normal",fontFamily:"TikTokFont",typography:"P3"}),{alignItems:"center",position:"relative",borderBottom:"",padding:"12px 12px",boxSizing:"border-box",":hover":{background:e.colors.BGView}}],"label:LiGroupItem;"),Nk=e=>{const{label:t,defaultChecked:o,onClickRadio:n}=e,r=(0,m.useCallback)(e=>{n(e.target.value)},[n]);return(0,i.Y)(Fk,{children:(0,i.Y)(tu.v3,{label:t,defaultChecked:o,name:"region",value:t,labelPosition:"before",onChange:r})})},Uk=(0,Wt.A)("form",{target:"e1mlcez20"})(({theme:{colors:e},isMobile:t,isModal:o})=>({display:"flex",flexDirection:"row",alignItems:"center",padding:"12px 16px",background:e.BGInput,borderRadius:"92px",overflow:"hidden",height:"40px",margin:t?"16px 16px":"16px 10px",position:o?"absolute":"fixed",width:t?"92%":"100%",maxWidth:"400px",top:t?"60px":"90px",zIndex:2}),"label:FormElement;"),Bk=(0,Wt.A)("div",{target:"e1mlcez21"})(({theme:{colors:e},isFocused:t})=>({display:"none",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",border:t?`2px solid ${e.Negative}`:`1.5px solid ${e.LinePrimary}`,borderRadius:"92px",zIndex:-1}),"label:DivInputBorder;"),Hk=(0,Wt.A)("input",{target:"e1mlcez22"})(({theme:{colors:e,typography:t,fontFamilies:o,fontWeights:n},withIcon:i})=>Object.assign(Object.assign({fontFamily:o.TikTokFont,fontWeight:n.normal},t.P2),{border:"none",background:"transparent",outline:"none",padding:"0",width:i?"306px":"346px",color:e.TextPrimary,caretColor:e.Primary,appearance:"textfield",[`:focus ~ ${Bk}`]:{display:"block"},"::placeholder":{color:e.TextTertiary},":placeholder-shown":{textOverflow:"ellipsis"}}),"label:InputElement;");Hk.defaultProps=Object.assign(Object.assign({},Hk.defaultProps),{"data-e2e":"search-user-input"});const zk=(0,Wt.A)("span",{target:"e1mlcez24"})(({theme:{colors:e}})=>({width:"1px",height:"28px",margin:"-3px 0",background:e.LineSecondary}),"label:SpanSplitter;"),Yk=(0,Wt.A)("button",{target:"e1mlcez25"})(({theme:{colors:e,direction:t}})=>[{padding:"11px 16px 11px 12px",margin:"-12px -16px",fontSize:"0",cursor:"pointer",outline:"none",border:"none",background:"transparent",":hover":{background:e.BGView},":active":{background:e.BGInput2},"&:focus, :focus-visible":{outline:"none!important"}},(0,va.mp)({direction:t,marginStart:"0"})],"label:ButtonSearch;");Yk.defaultProps=Object.assign(Object.assign({},Yk.defaultProps),{"data-e2e":"search-button"});const Wk=(0,Wt.A)("div",{target:"e1mlcez26"})(({focused:e,theme:t})=>({outline:e?`2px solid ${t.colors.Negative}`:"none"}),"label:DivSearchIconContainer;"),Vk=(0,m.memo)(function({searchValue:e,setSearchValue:t,onSubmit:o,isMobile:n}){const r=(0,xi.s)(K.i_.Login),{colors:a}=(0,ve.u)(),s=(0,m.useRef)(null),[{isModal:l}]=(0,en.Su)(Pi.t),c=(0,m.useCallback)(e=>{e.preventDefault(),null==o||o()},[o]),[d,u]=(0,m.useState)(!1),[p,g]=(0,m.useState)(!1),[h,v]=(0,m.useState)(!1),_=(0,m.useCallback)(e=>()=>{e&&p||u(e)},[p]),f=(0,m.useCallback)(()=>{g(!0),u(!1)},[]),b=(0,m.useCallback)(()=>{g(!1)},[]),y=(0,m.useCallback)(e=>{e.keyCode!==rs.D.Enter&&e.keyCode!==rs.D.Space||(e.preventDefault(),e.stopPropagation(),null==o||o())},[o]),w=(0,m.useCallback)(e=>{e.keyCode===rs.D.Tab&&v(e.target!==s.current)},[]),k=(0,m.useRef)(null),S=r("accessibilityLabels_search_button"),C=(0,m.useCallback)(e=>{const o=e.target.value;(e=>!e.startsWith(" "))(o)&&t(o)},[t,e]);return(0,i.FD)(Uk,{className:"search-input",action:"/search",onSubmit:c,onKeyUp:w,isMobile:n,isModal:l,children:[(0,i.Y)(Hk,{ref:k,value:e,onChange:C,placeholder:S,name:"q",type:"search",autoComplete:"off",role:"combobox"}),(0,i.Y)(zk,{}),(0,i.Y)(Yk,{type:"submit",ref:s,onFocus:_(!0),onBlur:_(!1),onMouseDown:f,onMouseUp:b,onKeyDown:y,"aria-label":r(Gp.SearchBtn),children:(0,i.Y)(Wk,{focused:d,children:(0,i.Y)(im.A,{fill:e?a.TextSecondary:a.TextQuaternary,width:24,height:24})})}),(0,i.Y)(Bk,{isFocused:h})]})}),Gk=(0,m.memo)(function({disabled:e,children:t}){const{loginModalSwitchPath:o}=(0,en.Ph)(gs);return o?(0,i.Y)(Xr.Ay,{disabled:e,autoFocus:!1,children:t}):(0,i.Y)(i.FK,{children:t})}),$k=(0,Wt.A)("div",{target:"e1r43con0"})(({isMobile:e})=>({padding:e?"0 30px":"unset","@media (max-width: 432px)":{padding:"0 16px"}}),"label:DivHomeContainer;"),qk=(0,Wt.A)("ul",{target:"e1r43con1"})({padding:"0px 0px",margin:0,listStyle:"none",boxSizing:"border-box",userSelect:"none"},"label:UlCountryListContainer;"),Kk=e=>e.reduce((e,t)=>{const o=t.localizedCountryName[0].toUpperCase().normalize("NFD").replace(/\p{Diacritic}/gu,"");return Object.assign(Object.assign({},e),{[o]:[...e[o]||[],t]})},{}),Zk=(e,t,o,n)=>{const i=[];return n&&i.push({itemType:"header",label:o},{itemType:"region",label:n.localizedCountryName,region:n}),Object.entries(t).forEach(t=>{const o=t[0].normalize("NFD").replace(/\p{Diacritic}/gu,""),n=t[1].sort((e=>(t,o)=>e.compare(t.localizedCountryName,o.localizedCountryName))(e));i.push({itemType:"header",label:o}),n.forEach(e=>{i.push({itemType:"region",label:e.localizedCountryName,region:e})})}),i},Jk=()=>{var e;const t=(0,xi.s)(K.i_.Login),{isMobile:o}=(0,xo.L$)((0,Po.U)(()=>["isMobile","playerInfo"],[])),{language:n="en"}=null!==(e=(0,tn.W)(()=>["language"],[]))&&void 0!==e?e:{},r=Intl.Collator(n),[a,s]=(0,m.useState)(!1),[l,c]=(0,m.useState)([]),[d,u]=(0,m.useState)(!1),[{region:p,regionList:g,initializedTTPConfig:h},{fetchRegionList:v,setUserSelectedRegion:_}]=(0,en.Su)(Ap.H),f=(0,m.useCallback)(()=>{v()},[v]);(0,m.useEffect)(()=>{var e;e={enter_from:"sign_up_page"},ht.f.sendEvent("region_selection_page_show",e)},[]),(0,m.useEffect)(()=>{h&&f()},[h]);const b=(0,m.useCallback)(e=>{e.keyCode===rs.D.Tab&&s(!0)},[]),y=(0,m.useMemo)(()=>{const e=(d?l:g).filter(e=>e.countryCode.toUpperCase()!==(null==p?void 0:p.countryCode.toUpperCase())),o=l.some(e=>e.countryCode.toUpperCase()===(null==p?void 0:p.countryCode.toUpperCase()));return d&&!o?Zk(r,Kk(e),t("regionOption_selectCountry_list_description")):Zk(r,Kk(e),t("regionOption_selectCountry_list_description"),p)},[d,l,g,p,r]),w=(0,ke.Nj)(Hi.$F),k=e=>{const t=null==g?void 0:g.find(t=>t.localizedCountryName===e);var o;t&&(_(t),o={enter_from:"sign_up_page",origin_region:null==p?void 0:p.countryCode,region_selected:t.countryCode},ht.f.sendEvent("select_account_region",o),w.setSignUpRegionSourceParams({region_source:1,origin_region:null==p?void 0:p.countryCode,region_selected:t.countryCode}))},S=(0,m.useMemo)(()=>y.flatMap(e=>"header"===e.itemType?(0,i.Y)(Dk,{groupLabel:e.label},e.label):"region"===e.itemType&&e.region?(0,i.Y)(Nk,{label:e.label,onClickRadio:k,defaultChecked:e.region.countryCode.toUpperCase()===(null==p?void 0:p.countryCode.toUpperCase())},e.label):[]),[y]),[C,x]=(0,m.useState)(""),P=(0,m.useCallback)(()=>{c(g.filter(e=>e.localizedCountryName.toUpperCase().includes(C.toUpperCase()))),u(!0)},[C]);return Ee(),(0,i.Y)(i.FK,{children:(0,i.FD)(Gk,{disabled:a,children:[o&&(0,i.Y)(tl,{title:t("regionOption_selectCountry_list_title"),showRight:!1}),(0,i.Y)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:(0,i.Y)(Vk,{searchValue:C,setSearchValue:x,onSubmit:P,isMobile:o})}),(0,i.Y)($k,{isMobile:o,onKeyDown:b,children:(0,i.Y)(qk,{children:S})})]})})},Qk={H0:{tag:"h1",fontSize:32,lineHeightMultiplier:1.2,letterSpacingMultiplier:0,font:"TikTok Display"},H1:{tag:"h1",fontSize:24,lineHeightMultiplier:1.25,letterSpacingMultiplier:.01,font:"TikTok Display"},H2:{tag:"h2",fontSize:20,lineHeightMultiplier:1.25,letterSpacingMultiplier:.015,font:"TikTok Display"},H3:{tag:"h3",fontSize:17,lineHeightMultiplier:1.3,letterSpacingMultiplier:0,font:"TikTok Sans"},H4:{tag:"h4",fontSize:15,lineHeightMultiplier:1.3,letterSpacingMultiplier:.004,font:"TikTok Sans"},P1:{tag:"p",fontSize:14,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0067,font:"TikTok Sans"},P2:{tag:"p",fontSize:13,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0097,font:"TikTok Sans"},P3:{tag:"p",fontSize:12,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0134,font:"TikTok Sans"},P4:{tag:"p",fontSize:11,lineHeightMultiplier:1.3,letterSpacingMultiplier:.0177,font:"TikTok Sans"},Longform:{tag:"p",fontSize:16,lineHeightMultiplier:1.5,letterSpacingMultiplier:.0019,font:"TikTok Sans"}},Xk=({fontSize:e,lineHeight:t,letterSpacing:o})=>({fontSize:e/16+"rem !important",lineHeight:t/16+"rem",letterSpacing:o});const eS=(0,Wt.A)(ko.Fm,{shouldForwardProp:e=>"lineHeight"!==e&&"fontSize"!==e,target:"e1vx58lt0"})(e=>[Xk(e)],"label:StyledTUXText;"),tS=e=>t=>{var{style:o,color:n}=t,r=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(t,["style","color"]);const{tag:a,fontSize:s,lineHeightMultiplier:l,letterSpacingMultiplier:c,font:d}=Qk[e];return(0,i.Y)(eS,Object.assign({as:a,fontSize:s,lineHeight:s*l,letterSpacing:s*c,font:d,style:Object.assign(Object.assign({},o),{fontSize:s}),color:n},r))},oS=ko.Fm;oS.H0=tS("H0"),oS.H1=tS("H1"),oS.H2=tS("H2"),oS.H3=tS("H3"),oS.H4=tS("H4"),oS.P1=tS("P1"),oS.P2=tS("P2"),oS.P3=tS("P3"),oS.P4=tS("P4"),oS.Longform=tS("Longform");var nS=o(60163);const iS=(e,t)=>{t.forEach(t=>{ht.f.event("interest_submit",Object.assign(Object.assign({},e),{enter_method:t}))})},rS=e=>{ht.f.event("interest_selector_skip",e)};const aS=(0,x.p)("interestSelectorAtom@tiktok/webapp-atoms",{isInterestSelected:{},selectedCount:0,version:"v0",selectedInterests:[]}),{useAtomService:sS,useServiceState:lS,useServiceDispatchers:cS}=(0,C.i)(aS,(e,t)=>({setItemSelected(e){t(aS,t=>Object.assign(Object.assign({},t),{isInterestSelected:Object.assign(Object.assign({},t.isInterestSelected),{[e]:!0}),selectedCount:t.selectedCount+1}))},setItemDeselected(e){t(aS,t=>Object.assign(Object.assign({},t),{isInterestSelected:Object.assign(Object.assign({},t.isInterestSelected),{[e]:!1}),selectedCount:t.selectedCount-1}))},setVersion(e){t(aS,t=>Object.assign(Object.assign({},t),{version:e}))},updateInterestSelection(e,o){t(aS,t=>{const n=Object.assign(Object.assign({},t.isInterestSelected),{[e]:o}),i=Object.values(n).filter(Boolean).length;return Object.assign(Object.assign({},t),{isInterestSelected:n,selectedCount:i})})},submitInterests(){return t=this,o=void 0,i=function*(){try{const t=e(aS).isInterestSelected,o=Object.entries(t).filter(([,e])=>e).map(([e])=>e);iS({},o);const{status_code:n,status_msg:i}=yield function(e){return t=this,o=void 0,i=function*(){var t;return ak.h.post("/api/fyp/interest",{signal:(new AbortController).signal,query:{category_type:null==(t=e.category_type)?void 0:t.join(","),fromWeb:1},baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})},new((n=void 0)||(n=Promise))(function(e,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n(function(e){e(o)})).then(a,s)}l((i=i.apply(t,o||[])).next())});var t,o,n,i}({category_type:o});if(0!==n)throw new Error(i)}catch(e){console.warn(e)}},new((n=void 0)||(n=Promise))(function(e,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n(function(e){e(o)})).then(a,s)}l((i=i.apply(t,o||[])).next())});var t,o,n,i}})),dS="2.5rem",uS=(0,Wt.A)("div",{target:"e1mzwt2j0"})({width:"20rem",maxHeight:`calc(5 * (${dS} + 1rem))`,gap:"1rem",display:"flex",justifyContent:"center",alignItems:"center",overflowY:"clip",flexWrap:"wrap",paddingTop:"0.5rem"},"label:DivInterestPanelContainer;"),pS=(0,Wt.A)(ko.I05,{target:"e1mzwt2j1"})(({theme:{colors:e},isItemSelected:t})=>({height:dS,"& > div":{"& > .TUXButton-label":{}},"&.TUXButton.TUXButton":{borderWidth:"1px",borderStyle:"solid",boxShadow:`0px 2px 8px 0px ${e.ShadowSecondary}`,borderColor:t?ko.Tj4.UIText1:ko.Tj4.UIShapeNeutral4,transition:"border-color 0.3s ease-in-out",":not(:hover)":{backgroundColor:ko.Tj4.UIPageFlat3}}}),"label:StyledTUXInterestItem;"),gS=(0,Wt.A)("div",{target:"e1mzwt2j2"})({fontSize:"24px",display:"flex",alignItems:"center","&.icon-enter":{opacity:0,transition:"opacity 0.15s ease-in"},"&.icon-enter-active":{opacity:1},"&.icon-exit":{opacity:1},"&.icon-exit-active":{opacity:0,transition:"opacity 0.15s ease-out"}},"label:DivIconContainer;"),mS=(0,m.memo)(function({interest:e}){const[t,{setItemSelected:o,setItemDeselected:n}]=sS(t=>t.isInterestSelected[e.id],gn.bN),r=(0,xi.s)(K.i_.WebApp),[a,s]=(0,m.useState)(!1),[l,c]=(0,m.useState)(!0),d=(0,m.useCallback)(e=>{e?c(!1):s(!1)},[]),u=(0,m.useCallback)(e=>{e?c(!0):s(!0)},[]),p=(0,m.useCallback)(()=>(0,i.Y)(nS.A,{children:(0,i.Y)(Ah.A,{timeout:150,classNames:"icon",mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>d(t),onExited:()=>u(t),children:(0,i.FD)(gS,{children:[a&&(0,i.Y)(ko.IuZ,{size:"14"}),l&&(0,i.Y)(ko.mPD,{size:"14",color:"UIText3"})]})},t?"check":"plus")}),[d,u,t,a,l]);return(0,i.Y)(pS,{size:"medium",shape:"capsule",variant:"secondary",label:r(e.text_key,{},e.text),trailingIcon:p(),onClick:()=>t?n(e.id):o(e.id),isItemSelected:t})}),hS=(0,m.memo)(function({interestList:e}){return(0,i.Y)(uS,{children:e.map(e=>(0,i.Y)(mS,{interest:e},e.id))})}),vS=(0,Wt.A)("div",{target:"erjdrsu0"})({width:"100%",gap:"1.5rem",padding:"1.5rem",display:"flex"},"label:DivInterestSelectorButtonWrapper;");const _S=(0,m.memo)(function({onClose:e,onSkip:t,showContinueButton:o}){const[{selectedCount:n},{submitInterests:r}]=sS(e=>({selectedCount:e.selectedCount}),gn.bN),a=(0,xi.s)(K.i_.WebApp),[s,l]=(0,m.useState)(!1),c=(0,m.useCallback)(()=>{return t=this,o=void 0,i=function*(){l(!0),yield r(),e()},new((n=void 0)||(n=Promise))(function(e,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n(function(e){e(o)})).then(a,s)}l((i=i.apply(t,o||[])).next())});var t,o,n,i},[e,r]),d=(0,m.useCallback)(()=>{rS({}),t()},[t]);return o?(0,i.Y)(vS,{children:(0,i.Y)(ko.I05,{label:a("bricFriction_popUp_noPhone_cont"),onClick:n>0?c:d,loading:s,style:{width:"100%"}})}):(0,i.FD)(vS,{children:[(0,i.Y)(ko.I05,{label:a("pcWeb_chooseInterest_skip_btn"),variant:"secondary",onClick:d,style:{width:"50%"}}),(0,i.Y)(ko.I05,{label:a("pcWeb_chooseInterest_done_btn"),onClick:c,disabled:0===n,loading:s,style:{width:"50%"}})]})}),fS=(0,Wt.A)("div",{target:"e4k2dvg0"})({paddingLeft:"1.5rem",paddingRight:"1.5rem"},"label:DivInterestSelectorContainer;"),bS=(0,Wt.A)("div",{target:"e4k2dvg1"})({display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"2rem"},"label:DivTitleContainer;"),yS=(0,Wt.A)("div",{target:"e4k2dvg2"})({display:"flex",alignItems:"center",justifyContent:"center",height:"17.5rem"},"label:DivInterestPanelContainer;"),wS=(0,Wt.A)("div",{target:"e4k2dvg3"})({paddingLeft:"0.75rem",paddingRight:"0.75rem"},"label:DivInterestButtonContainer;"),kS={animals:"",comedy:"",travel:"",food:"",sports:"","beauty & style":"",art:"",gaming:"","science & education":"",dance:"",diy:"",auto:"",music:"","life hacks":"","oddly satisfying":"",outdoors:"",fandom:"",default:""},SS=Wt.A.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 14px;
  width: 100%;
  padding: 0 24px;
  box-sizing: border-box;
  max-height: 280px;
  overflow-y: auto;
  -webkit-mask-image: linear-gradient(to bottom, black calc(100% - 40px), transparent 100%);
  mask-image: linear-gradient(to bottom, black calc(100% - 40px), transparent 100%);

  &::-webkit-scrollbar {
    display: none;
  }
  -ms-overflow-style: none;
  scrollbar-width: none;
`,CS=(0,Wt.A)("div",{target:"eoemehj0"})(()=>({display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px 10px 20px",borderRadius:"999px",border:`1px solid ${(0,So.yZ)("UIShapeNeutral4")}`,cursor:"pointer",transition:"all 0.2s ease-in-out",boxShadow:"0 2px 10px 0 var(--private-shadow-subtle, rgba(0, 0, 0, 0.07))",backgroundColor:(0,So.yZ)("UIPageFlat3"),color:(0,So.yZ)("UIText1Display"),svg:{color:(0,So.yZ)("UIText1Display")},"&.selected":{borderColor:"var(--UI-Shape-Primary, #FE2C55)",backgroundColor:"var(--UI-Shape-Primary, #FE2C55)",color:(0,So.yZ)("UIShapeText1OnPrimary"),svg:{color:(0,So.yZ)("UIShapeText1OnPrimary")}},'[data-theme="dark"] &':{backgroundColor:"#2c2c2c"},'[data-theme="dark"] &.selected':{backgroundColor:"var(--UI-Shape-Primary, #FE2C55)"}}),"label:DivInterestItemContainer;"),xS=Wt.A.div`
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  color: var(--UI-Text-1-Display, #202020);
  text-align: center;
  font-family: var(--TikTok-Sans, 'TikTok Sans');
  font-style: normal;
  font-weight: 400;
  line-height: 100%;

  svg {
    width: 100%;
    height: 100%;
  }
`,PS=Wt.A.span`
  ${(()=>{const{fontSize:e,lineHeightMultiplier:t,letterSpacingMultiplier:o}=Qk.P1;return Xk({fontSize:e,lineHeight:e*t,letterSpacing:e*o})})()}
  font-weight: 600;
  color: ${(0,So.yZ)("UIText1Display")};
  font-size: 15px;
  font-style: normal;
  font-weight: 500;
  line-height: 130%;
  letter-spacing: 0.061px;

  .selected & {
    color: ${(0,So.yZ)("UIShapeText1OnPrimary")};
  }
`;function TS(e){return m.createElement("svg",(0,ol._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),m.createElement("path",{d:"M35.75 13.5c.47.3.7.45.83.66.1.19.14.4.12.6-.02.25-.18.48-.48.95L24.87 33.03l-.15.23-.72 1.11a2.5 2.5 0 0 1-3.96.3l-.93-1.05-.14-.15-6.77-7.61c-.38-.42-.56-.63-.62-.86a1 1 0 0 1 .03-.62c.09-.22.3-.4.72-.78l1.34-1.2c.42-.37.63-.56.86-.62a1 1 0 0 1 .62.04c.22.09.4.3.78.71l5.67 6.37 10.43-15.93c.3-.47.46-.7.67-.82a1 1 0 0 1 .6-.13c.24.03.48.18.95.49l1.5.98Z"}))}(0,nl.r)(TS);const OS=(0,m.memo)(({interest:e})=>{const t=(0,xi.s)(K.i_.WebApp),[o,{setItemSelected:n,setItemDeselected:r}]=sS(t=>t.isInterestSelected[e.id],gn.bN),a=(0,m.useCallback)(()=>{o?r(e.id):n(e.id)},[o,r,n,e.id]),s=(l=(e=>{const t=e.toLowerCase();return kS[t]?t:"default"})(e.text),kS[l]||kS.default);var l;return(0,i.FD)(CS,{onClick:a,className:o?"selected":"",children:[(0,i.Y)(xS,{children:o?(0,i.Y)(TS,{}):s}),(0,i.Y)(PS,{children:t(e.text_key,{},e.text)})]})}),AS=(0,m.memo)(({interestList:e})=>(0,i.Y)(SS,{children:e.map(e=>(0,i.Y)(OS,{interest:e},e.id))})),ES=Wt.A.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  padding: 24px 27px 0px 27px;
  box-sizing: border-box;
`,LS=(0,Wt.A)(So.I0)`
  width: 100%;

  &.tux-button-disabled {
    background-color: ${(0,So.yZ)("UIShapeNeutral2")};
    border-color: ${(0,So.yZ)("UIShapeNeutral2")};
    color: ${(0,So.yZ)("UIText3")};
  }
`;const jS=(0,m.memo)(({onClose:e,selectedCount:t,submitInterests:o,showLoginButton:n=!0,className:r})=>{const a=(0,xi.s)(K.i_.WebApp),[s,l]=(0,m.useState)(!1),c=(0,ke.Nj)(Hi.$F),d=t<3,u=Math.min(t,3),p=(0,m.useCallback)(()=>{return t=void 0,n=void 0,r=function*(){l(!0),yield o(),e()},new((i=void 0)||(i=Promise))(function(e,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(t,n||[])).next())});var t,n,i,r},[e,o]),g=function({actionWhenUserLoggedIn:e,modalConfig:t={},sideEffect:o,alwaysOpenLoginModal:n}){const i=(0,tn.W)(()=>["user"],[]),r=(0,qa.b1)();return(0,m.useCallback)((...a)=>{if(null==o||o(...a),(null==i?void 0:i.user)&&!n){if(!t.isLinkPhoneOrEmail)return null==e?void 0:e(...a);r.openModal(t)}else r.openModal(t)},[e,null==i?void 0:i.user,r,t,o,n])}({modalConfig:{query:{enter_method:"interest_selector"}},sideEffect:()=>{c.loginNotify(Object.assign({enter_method:"interest_selector"},ye.nf.getTrackingInfo()))}});return(0,i.FD)(ES,{className:r,children:[(0,i.Y)(LS,{text:`${a("intSelector_new_selectPopUpCTA1_btn")} (${u}/3)`,disabled:d,loading:s,onClick:p,themePreset:"primary"}),n&&(0,i.Y)(LS,{themePreset:"secondary",text:a("log_in"),onClick:g})]})});var IS=o(35039);const RS=(0,Wt.A)("div",{target:"e1sbfgbz0"})(({theme:e,asText:t,isModal:o,isMobile:n,isGuestModeRedesign:i,isNujInterestSelectorControl:r})=>({width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:r?e.colors.BGSecondary:"transparent",padding:t?"unset":i?"0 28px 30px 28px":"16px 30px",marginBottom:t?0:o||n||i?"unset":"64px"}),"label:DivAgreement;");RS.defaultProps=Object.assign(Object.assign({},RS.defaultProps),{"data-e2e":"policy-confirm-tips"});const MS=(0,Wt.A)("p",{target:"e1sbfgbz1"})(({theme:e,asText:t})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextTertiary"}),{fontSize:"12px",lineHeight:"15px",width:"337px",textAlign:t?"unset":"center",marginBottom:0},e.isMobile&&(0,va.jJ)({min:Bs,style:{width:"unset",fontSize:"24px",lineHeight:"38px"}})],"label:PText;"),DS=(0,Wt.A)("a",{target:"e1sbfgbz2"})(({theme:e})=>({color:e.colors.TextPrimary,"&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}}),"label:ALink;"),FS=(0,m.memo)(function({i18nKey:e,show:t,asText:o,className:n}){var r,a,s,l;const{language:c,abTestVersion:d}=(0,xo.L$)((0,tn.W)(()=>["language","abTestVersion"],[])),{isMobile:u}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),[{region:p,initializedTTPConfig:g},{fetchStoreRegion:h}]=(0,en.Su)(Ap.H),v=null!==(r=un(d,"sign_up_webapp_region_change"))&&void 0!==r?r:"v1",_=null!==(a=un(d,"login_modal_ui_revamp"))&&void 0!==a?a:"v1",f=(0,qa.mZ)(e=>e.loginModalShow),b=(0,IS.Z)(),{showLoginOptionSlider:y}=Un(),w="v2"===v,k=(0,m.useCallback)(()=>{h()},[h]);(0,m.useEffect)(()=>{g&&!p&&k()},[g]);const S=u?[xe.tH.signupHome,xe.tH.loginHome]:[xe.tH.signupPhoneOrEmail,xe.tH.signupPhone,xe.tH.signupEmail,xe.tH.signupHome,xe.tH.signupInterestSelector,xe.tH.loginHome,xe.tH.loginGuestMode],C="v1"===_?[]:[xe.tH.signupCreateAccount,xe.tH.signupCreatePassword,xe.tH.signupCreateUsername,xe.tH.signupAgeGate,xe.tH.signupAgeGateConfirm,xe.tH.loginForgetEmailPassword,xe.tH.loginForgetPhonePassword,xe.tH.signupCountrySelector],x=[xe.tH.loginPhoneOrEmail,xe.tH.loginPhone,xe.tH.loginEmail,xe.tH.loginPhonePassword],{pathname:P}=(0,Pe.zy)(),T=null!==(s=t&&!C.find(e=>e===P.replace(/\/$/,"")))&&void 0!==s?s:S.find(e=>e===P.replace(/\/$/,"")),O=y&&x.find(e=>e===P.replace(/\/$/,"")),A=null!==(l=null==p?void 0:p.countryCode.toUpperCase())&&void 0!==l?l:"",E=Gr(P),L=!("HU"===A&&E)&&(T||O),j=(0,xi.s)(K.i_.Login),I=()=>(0,i.Y)(i.FK,{children:(null==p?void 0:p.enabledRegionOption)?(0,i.Y)(US,{text:null==p?void 0:p.localizedCountryName}):null==p?void 0:p.localizedCountryName}),R=()=>(0,i.Y)(BS,{href:`https://www.tiktok.com/legal/terms-of-use?lang=${c}`,text:j("common_registration_terms_use"),policyType:"terms_of_service"}),M=()=>{const e="TR"===b&&"tr-TR"===c,t=e?"https://www.tiktok.com/legal/page/row/privacy-policy/tr#privacy-policy-addendum-for-tr":`https://www.tiktok.com/legal/privacy-policy?lang=${c}`,o=j(e?"signUpTR_panel_acknowledgement_placeholder3":"common_registration_privacy_policy");return(0,i.Y)(BS,{href:t,text:o,policyType:"privacy_policy"})};return L?(0,i.Y)(RS,{className:n,asText:o,isModal:f,isMobile:u,isGuestModeRedesign:P===xe.tH.loginGuestMode,children:(()=>{if("TR"===A){const e=j("turkeyUsersConsent_chooseInterests_popUp_description").split(/%\d*\$s/);return(0,i.FD)(MS,{asText:o,children:[e[0]," ",R(),e[1]," ",M(),e[2]]})}if("US"===A){const t=j(null!=e?e:"common_registration_email_input_agreement").split(/%\d*\$s/);return(0,i.FD)(MS,{asText:o,children:[t[0]," ",R(),t[1]," ",M(),t[2]]})}if(w&&(null==p?void 0:p.enabledRegionOption)){if("CO"===A){const e=j("regionOption_signUp_COdisclaimer_description").split(/%\d*\$s/);return(0,i.FD)(MS,{asText:o,children:[e[0]," ",I(),e[1]," ",R(),e[2]," ",M(),e[3]]})}if(bt.includes(A)){const e=j("regionOption_signUp_disclaimer_description").split(/%\d*\$s/);return(0,i.FD)(MS,{asText:o,children:[e[0]," ",I(),e[1]," ",R(),e[2]," ",M(),e[3]," ",(0,i.Y)(BS,{href:`https://www.tiktok.com/legal/page/global/cookie-policy/${c}`,text:j("regionOption_signUp_disclaimer_placeholder"),policyType:"cookie_policy"}),e[4]]})}{const e=j("regionOption_signUp_nonEUdisclaimer_description").split(/%\d*\$s/);return(0,i.FD)(MS,{asText:o,children:[e[0]," ",I(),e[1]," ",R(),e[2]," ",M(),e[3]]})}}{const t=j(null!=e?e:"common_registration_email_input_agreement").split(/%\d*\$s/);return(0,i.FD)(MS,{asText:o,children:[t[0]," ",R(),t[1]," ",M(),t[2]]})}})()}):null}),NS="sign_up_page";function US({text:e}){(0,m.useEffect)(()=>{((e,t="settings_page")=>{ht.f.sendEvent("account_region_status_show",{regionStatus:e,enter_from:t})})(void 0,NS)},[]);const t=(0,m.useCallback)(()=>{((e="settings_page")=>{ht.f.sendEvent("account_region_status_click",{enter_from:e})})(NS)},[]);return(0,i.Y)(jl,{path:xe.tH.signupCountrySelector,underline:!1,text:e,onClick:t})}function BS({href:e,text:t,policyType:o}){(0,m.useEffect)(()=>{var e;e={enter_from:NS,policy_type:o},ht.f.sendEvent("policy_link_show",e)},[]);const n=(0,m.useCallback)(()=>{var e;e={enter_from:NS,policy_type:o},ht.f.sendEvent("policy_link_clicked",e)},[o]);return(0,i.Y)(DS,{target:"_blank",rel:"noopener noreferrer",href:e,onClick:n,children:t})}const HS=(0,Wt.A)("div",{target:"e1c0xggv0"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",height:"100%",width:"100%",padding:"32px 32px 12px 32px",boxSizing:"border-box",fontFamily:"'proxima-nova', sans-serif",backgroundColor:e.colors.BGPrimary,color:e.colors.TextPrimary,borderRadius:"16px",overflow:"hidden",'[data-theme="dark"] &':{backgroundColor:"#1e1e1e"}}),"label:DivInterestSelectorContainerV1;"),zS=Wt.A.div`
  display: flex;
  padding: 0 20px;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  align-self: stretch;
  margin-bottom: 16px;
  position: relative;
`,YS=(0,Wt.A)(So.Fm,{target:"e1c0xggv1"})(({theme:e})=>({color:e.colors.TextPrimary,textAlign:"center",fontSize:"24px",fontWeight:700,lineHeight:"125%",margin:0,width:"312px"}),"label:H1Title;"),WS=(0,Wt.A)("div",{target:"e1c0xggv2"})(({theme:e})=>({display:"flex",width:"40px",height:"40px",justifyContent:"center",alignItems:"center",position:"absolute",insetInlineEnd:"12px",top:"12px",borderRadius:"50%",cursor:"pointer",zIndex:1,transition:"background-color 0.2s ease","&:hover":{backgroundColor:e.colors.BGHover},"& svg":{width:"20px",height:"20px"}}),"label:DivCloseButtonWrapper;"),VS=Wt.A.div`
  width: 100%;
  padding-top: 4px;
  margin-top: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
`;const GS=(0,m.memo)(({isOpen:e,onClose:t,showLoginButton:o,renderExtraFooter:n,footerClassName:r,submitButtonsClassName:a,agreementAsText:s})=>{var l,c;const d=(0,xi.s)(K.i_.WebApp),p=(0,en.wA)(gs),[{closeCallback:g},{setCloseCallback:h,setGroupId:v,setIsLoginOnLoadClosed:_}]=(0,qa.MR)(e=>({closeCallback:e.closeCallback}),gn.bN),[f,{submitInterests:b}]=sS(e=>({selectedCount:e.selectedCount,isInterestSelected:e.isInterestSelected}),gn.bN),y=(0,ke.Nj)(Hi.$F),w=(0,xo.L$)((0,Po.U)(()=>["vgeo","interestList","claConfig"],[])),{vgeo:k}=w,S=(0,m.useRef)(!1),C=(0,m.useCallback)(()=>{return e=void 0,t=void 0,n=function*(){const e=Object.keys(f.isInterestSelected).filter(e=>f.isInterestSelected[e]);iS({},e),yield b()},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n},[f.isInterestSelected,b]);(0,m.useEffect)(()=>{var t;e&&(t={},ht.f.event("interest_selector_show",t))},[e]),(0,m.useEffect)(()=>{if(S.current&&!e){localStorage.setItem("guest-mode-flag","1"),localStorage.setItem("timeOfLastPopup",Date.now().toString());const e=(0,Io.uh)(k,!1);y.updateTeaDataCollectionEnabled(e),y.loginNotifyClose({isSignUp:"1",e2eInfo:ye.nf.getTrackingInfo()}),p.setLoginModalInitialState(),g(),h(u()),v(void 0),_({isLoginOnLoadClosed:!0})}S.current=e},[e,k,y,p,g,h,v,_]);let x=[];try{const e=w.interestList;if("string"==typeof e){const t=JSON.parse(e);x=null!==(l=null==t?void 0:t.interest_list)&&void 0!==l?l:[]}else x="object"==typeof e&&null!==e&&Array.isArray(e.interest_list)?e.interest_list:[]}catch(e){console.error("Error parsing interest list...",e)}const P=parseInt(null!==(c=localStorage.getItem("ppe-max-interest-count"))&&void 0!==c?c:"17"),{isNujInterestSelectorControl:T}=Hn();return(0,i.Y)(So.nO,{visible:e,width:"468px",children:(0,i.FD)(HS,{children:[(0,i.Y)(WS,{onClick:()=>{rS({}),t()},children:(0,i.Y)(zl,{})}),(0,i.Y)(zS,{children:(0,i.Y)(YS,{children:d("intSelector_new_selectPopUp_header")})}),(0,i.Y)(AS,{interestList:null==x?void 0:x.slice(0,P)}),(0,i.FD)(VS,{className:r,children:[(0,i.Y)(jS,{onClose:t,selectedCount:f.selectedCount,submitInterests:C,showLoginButton:o,className:a}),(0,i.Y)(FS,{asText:s,isNujInterestSelectorControl:T}),null==n?void 0:n()]})]})})}),$S=(0,Wt.A)("div",{target:"e1ta8erl0"})({display:"flex",justifyContent:"center",gap:"16px",marginTop:"16px",marginBottom:"24px"},"label:DivLoginBubblesContainer;"),qS=(0,Wt.A)("div",{target:"e1ta8erl1"})(({theme:e})=>({width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:e.colors.BGSecondary||"#f1f1f2","&:hover":{backgroundColor:e.colors.BGHover||"#e8e8e9"},"&.email":{backgroundColor:"#ffc300","&:hover":{backgroundColor:"#ffc300"},svg:{width:"24px",height:"24px"},"svg path":{fill:"#fff"}},"&.qr, &.facebook, &.line, &.kakaotalk":{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}},"&.google":{backgroundColor:e.colors.BGPrimary||"#fff","&:hover":{backgroundColor:e.colors.BGPrimary||"#fff"}},"&.apple":{background:e.colors.BGTertiary||"rgba(0, 0, 0, 0.05)","&:hover":{background:e.colors.BGTertiary||"rgba(0, 0, 0, 0.05)"},svg:{position:"relative",top:"-2px",width:"26px",height:"26px",flexShrink:0,aspectRatio:"1/1"},"svg path":{fill:e.colors.TextPrimary||"#000"}},svg:{width:"40px",height:"40px"},'[data-theme="dark"] &.google':{backgroundColor:"var(--UI-Shape-Neutral-4, rgba(255, 255, 255, 0.13))","&:hover":{backgroundColor:"var(--UI-Shape-Neutral-4, rgba(255, 255, 255, 0.13))"}},'[data-theme="dark"] &.apple':{background:"var(--UI-Shape-Neutral-4, rgba(255, 255, 255, 0.13))","&:hover":{background:"var(--UI-Shape-Neutral-4, rgba(255, 255, 255, 0.13))"},"svg path":{fill:"#fff"}}}),"label:DivBubble;"),KS=(0,m.memo)(function(e){const{loginOptions:t}=e;return(0,i.Y)($S,{children:t.map(e=>{const t=e.icon;return(0,i.Y)(qS,{onClick:e.onClick,className:e.type,children:(0,i.Y)(t,{})},e.starlingText)})})});var ZS=o(66283);const JS=(0,Wt.A)("div",{target:"e14trqju0"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivV2Container;"),QS=ZS.AH`
  margin-top: 16px;
  padding-top: 0;
  align-items: center;

  & > div[data-e2e='policy-confirm-tips'] p {
    text-align: center;
  }
`,XS=ZS.AH`
  padding: 12px 24px 16px 24px;
`,eC=(0,Wt.A)("div",{target:"e14trqju1"})(({theme:e})=>({marginTop:"28px",color:e.colors.TextSecondary||"rgba(22, 24, 35, 0.5)",fontSize:"11px",fontWeight:400,lineHeight:"130%",display:"flex",alignItems:"center",width:"100%",textAlign:"center",".line":{flex:"1 0 0",borderTop:`0.5px solid ${(0,So.yZ)("UIShapeNeutral2")}`,margin:"0 8px"},span:{whiteSpace:"nowrap"}}),"label:DivOrLoginBy;"),tC=(0,m.memo)(function(e){const{isOpen:t,onClose:o}=e,n=(0,xi.s)(K.i_.WebApp),r=wp(),a=Iu(r),s=ju(a,{forceShowQR:!0,isLogin:!0});return(0,i.Y)(JS,{children:(0,i.Y)(GS,{isOpen:t,onClose:o,showLoginButton:!1,footerClassName:QS,submitButtonsClassName:XS,agreementAsText:!0,renderExtraFooter:()=>(0,i.FD)(i.FK,{children:[(0,i.FD)(eC,{children:[(0,i.Y)("div",{className:"line"}),(0,i.Y)("span",{children:n("intSelector_new_selectPopUpLoginMethods_label")}),(0,i.Y)("div",{className:"line"})]}),(0,i.Y)(KS,{loginOptions:s})]})})})}),oC=(0,m.memo)(function(){var e,t;const o=(0,xi.s)(K.i_.WebApp),{showContinueButton:n}=(()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),o=null!==(e=un(t,"guest_mode_interest"))&&void 0!==e?e:"v0";return{showGuestModeInterestSelector:"v0"!==o,showContinueButton:"v2"!==o}})(),r=(0,en.wA)(gs),{isNujInterestSelectorWithLoginButton:a,isNujInterestSelectorWithLoginBubble:s}=Hn(),[{closeCallback:l},{setLoginModalShow:c,setCloseCallback:d,setGroupId:p,setIsLoginOnLoadClosed:g}]=(0,qa.MR)(e=>({loginModalShow:e.loginModalShow,closeCallback:e.closeCallback,isGuestMode:e.isGuestMode,isGuestModeUI:e.isGuestModeUI}),gn.bN),h=(0,ke.Nj)(Hi.$F),v=(0,xo.L$)((0,Po.U)(()=>["vgeo","interestList","claConfig"],[])),{vgeo:_}=v,[f,b]=(0,m.useState)(!0);let y=[];try{const t=v.interestList;if("string"==typeof t){const o=JSON.parse(t);y=null!==(e=null==o?void 0:o.interest_list)&&void 0!==e?e:[]}else y="object"==typeof t&&null!==t&&Array.isArray(t.interest_list)?t.interest_list:[]}catch(e){console.error("Error parsing interest list...",e)}const w=parseInt(null!==(t=localStorage.getItem("ppe-max-interest-count"))&&void 0!==t?t:"10"),k=pi(),S=(0,m.useCallback)(()=>{b(!1),c(!1),localStorage.setItem("guest-mode-flag","1"),localStorage.setItem("timeOfLastPopup",Date.now().toString());const e=(0,Io.uh)(_,!1);h.updateTeaDataCollectionEnabled(e),h.loginNotifyClose({isSignUp:"1",e2eInfo:ye.nf.getTrackingInfo()}),r.setLoginModalInitialState(),l(),d(u()),p(void 0),g({isLoginOnLoadClosed:!0})},[c,h,r,l,d,p,g,k]);return a?(0,i.Y)(GS,{isOpen:f,onClose:S}):s?(0,i.Y)(tC,{isOpen:f,onClose:S}):(0,i.FD)(fS,{children:[(0,i.Y)(bS,{children:(0,i.Y)(oS.H1,{weight:"bold",children:o("pcWeb_chooseInterest_header")})}),(0,i.Y)(yS,{children:(0,i.Y)(hS,{interestList:null==y?void 0:y.slice(0,w)})}),(0,i.Y)(wS,{children:(0,i.Y)(_S,{onClose:S,onSkip:S,showContinueButton:n})})]})});function nC(){const{registerLimited:e}=(0,en.Ph)(Qr.T),t=(0,Pe.W6)();(0,m.useEffect)(()=>{e&&t.replace(xe.tH.signupCreateAccount)},[t,e])}function iC(){const e=(0,IS.Z)(),t=(0,Pe.W6)(),{validateAge:o}=(0,en.wA)(Qr.T),[{fromNotRegisterLogin:n,thirdPlatformNotRegistered:i},{registerThirdPlatform:r,registerPhone:a}]=(0,en.Su)(Ap.H),s=(0,m.useCallback)(()=>{"KR"===e?t.push(xe.tH.signupPolicyConfirm):n===Ap.o.Third&&i?r({ageCheckDone:!0,platform:i.platform,profileKey:i.profileKey,region:e}):n===Ap.o.Phone?a({ageCheckDone:!0,region:e}):t.push(xe.tH.signupPhoneOrEmail)},[e,n,t,a,r,i]),l=(0,m.useCallback)(e=>{e||s()},[s]);return{handleCheckAge:(0,m.useCallback)(()=>{o({canSkip:!1,checkPassCallback:l,region:e})},[l,o,e]),nextStep:s}}function rC(){const{initial:e,registerLimited:t,ageGateAction:o}=(0,en.Ph)(Qr.T),n=(0,Pe.W6)();(0,m.useEffect)(()=>{e&&!t&&o!==Qr.p.FTC&&n.replace(xe.tH.signupHome)},[e,o,n,t])}var aC=o(13687);function sC(e,t){const o=[],n=new RegExp(`(${Object.keys(t).join("|")})`),i=e.split(n);for(const[e,n]of i.entries()){const i=t[n];i?o.push(i.key?i:m.cloneElement(i,Object.assign({key:e},i.props),i.props.children)):o.push(n)}return o}const lC=(0,Wt.A)("div",{target:"e1nc6q650"})(({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",maxWidth:e.isMobile?"300px":"400px",paddingTop:e.isMobile?"24px":"32px",textAlign:"center"}),"label:DivContainer;"),cC=(0,Wt.A)("div",{target:"e1nc6q651"})(({theme:e})=>({display:"flex",padding:e.isMobile?"0":"0 32px 32px 32px"}),"label:DivFooterContainer;"),dC=(0,Wt.A)("div",{target:"e1nc6q652"})(({theme:e})=>({padding:e.isMobile?"12px 20px 20px 20px":"16px 32px 24px 32px"}),"label:DivBodyContainer;"),uC=(0,Wt.A)("h1",{target:"e1nc6q653"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"24px",lineHeight:"30px",padding:e.isMobile?"0 20px":"0 32px"}],"label:H1ModalTitle;"),pC=(0,Wt.A)("p",{target:"e1nc6q654"})([({theme:e})=>(0,va.zy)({theme:e,color:"TextSecondary",fontFamily:"TikTokFont"}),{fontSize:"16px",lineHeight:"20px",margin:"24px 0",textAlign:"center"}],"label:PDesc;"),gC=(0,Wt.A)("a",{target:"e1nc6q655"})(({theme:e})=>({fontWeight:"bold",color:e.colors.TextSecondary,"&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}}),"label:ALink;"),mC={style:"pop",business:"hungary_tos"},hC={borderWidth:"0.5px",borderRadius:"0",fontWeight:"normal"},vC=e=>{const t=(0,xi.s)(K.i_.Login),{isMobile:o}=e,{language:n}=(0,xo.L$)((0,tn.W)(()=>["language"],[])),r=(0,IS.Z)(),[a,s]=(0,m.useState)(!1),l="HU"===r&&!a,c=(0,ke.Nj)(aC.W),d=(0,m.useCallback)(()=>{s(!0),c.handleUniversalPopClick(Object.assign(Object.assign({},mC),{button_info:"accept"}))},[]),u=(0,m.useCallback)(()=>{c.handleUniversalPopClick(Object.assign(Object.assign({},mC),{button_info:"decline"})),Tk(`https://www.tiktok.com/foryou?lang=${n}`)},[]);return(0,m.useEffect)(()=>{l&&c.handleUniversalPopShow(mC)},[l]),l?(0,i.Y)(Ja.aF,{visible:!0,maskCloseable:!1,type:o?"mobile":"pc",children:(0,i.FD)(lC,{children:[(0,i.Y)(uC,{children:t("HUToS_signupConsent_halfSheet_headline")}),(0,i.FD)(dC,{children:[(0,i.Y)(pC,{children:sC(t("HUToS_signupConsent_halfSheet_par1").replace("{s_termsOfService}","TOS_PLACEHOLDER").replace("{s_privacyPolicy}","PP_PLACEHOLDER").replace("{s_cookiesPolicy}","CP_PLACEHOLDER"),{TOS_PLACEHOLDER:(0,i.Y)(_C,{href:`https://www.tiktok.com/legal/page/eea/terms-of-service/${n}`,text:t("HUToS_signupConsent_halfSheet_par1tos")}),PP_PLACEHOLDER:(0,i.Y)(_C,{href:`https://www.tiktok.com/legal/page/eea/privacy-policy/${n}`,text:t("HUToS_signupConsent_halfSheet_par1pp")}),CP_PLACEHOLDER:(0,i.Y)(_C,{href:`https://www.tiktok.com/legal/page/global/cookie-policy/${n}`,text:t("HUToS_signupConsent_halfSheet_par1cp")})})}),(0,i.Y)(pC,{children:sC(t("HUToS_signupConsent_halfSheet_par2").replace("{s_summaryOfOurTerms}","SOT_PLACEHOLDER").replace("{s_privacyHighlights}","PH_PLACEHOLDER"),{SOT_PLACEHOLDER:(0,i.Y)(_C,{href:`https://www.tiktok.com/legal/page/global/summary-of-terms-and-conditions-eea/${n}`,text:t("HUToS_signupConsent_halfSheet_par2sot")}),PH_PLACEHOLDER:(0,i.Y)(_C,{href:"https://www.tiktok.com/privacy/privacy-highlights",text:t("HUToS_signupConsent_halfSheet_par2ph")})})})]}),(0,i.FD)(cC,{children:[(0,i.Y)(kg,{buttonTheme:"default",onClick:u,style:o?hC:{fontWeight:"500"},children:t("HUToS_signupConsent_halfSheet_declineButton")}),(0,i.Y)(kg,{buttonTheme:"default",onClick:d,style:o?hC:{marginLeft:"8px",fontWeight:"500"},children:t("HUToS_signupConsent_halfSheet_acceptButton")})]})]})}):null};function _C({href:e,text:t}){return(0,i.Y)(gC,{target:"_blank",rel:"noopener noreferrer",href:e,children:t})}const fC=(0,Wt.A)("div",{target:"e7y6k0x0"})(({theme:e,isModal:t})=>[(0,va.zy)({theme:e,fontWeight:"bold",fontFamily:"TikTokDisplayFont"}),{textAlign:"center",fontSize:t?"20px":"32px",lineHeight:t?"24px":"38px"}],"label:DivTitle;"),bC=(0,Wt.A)("div",{target:"e7y6k0x1"})(({theme:e,isModal:t})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextSecondary"}),{fontSize:t?"14px":"18px",lineHeight:t?"18px":"24px",textAlign:"center",padding:"16px 8px"}],"label:DivDescription;"),yC=e=>e?{paddingTop:"32px",width:"300px"}:{marginTop:"110px"},wC=(0,Wt.A)("div",{target:"e7y6k0x2"})(({isModal:e=!1})=>[yC(e)],"label:DivContainer;"),kC=({isModal:e=!1})=>{const t=(0,xi.s)(K.i_.Login),{setShowAgeConfirm:o}=(0,en.wA)(Qr.T),n=(0,Pe.W6)(),r=(0,m.useCallback)(()=>{o(!1),n.push(xe.tH.signupCreateAccount)},[n,o]),a=(0,m.useMemo)(()=>e?{borderLeft:"none",borderRight:"none",borderBottom:"none",borderRadius:"0 0 8px 8px",fontWeight:500}:void 0,[e]);return Ee(),(0,i.FD)(wC,{isModal:e,children:[(0,i.Y)(fC,{isModal:e,children:t("mus_agegate_error_ftc_title")}),(0,i.Y)(bC,{isModal:e,children:t("mus_agegate_error_ftc_desc")}),(0,i.Y)(kg,{onClick:r,buttonTheme:e?"default":"primary",bottonTheme:"text",style:a,children:t("Continue")})]})};var SC=o(68652),CC=function(e){return e.ToS="tiktok_terms_of_service",e.Privacy="tiktok_privacy_policy",e.Marketing="receive_notifications_of_marketing_content_and_promotions",e}({});const xC=[{content:"updatedConsent_web_modal_radio2",link:"https://www.tiktok.com/legal/page/row/terms-of-service/ko",linkText:"updatedConsent_web_modal_radio2Link",value:"tiktok_terms_of_service"},{content:"updatedConsent_web_modal_radio3",link:"https://www.tiktok.com/legal/page/global/terms-and-conditions-kr/ko",linkText:"updatedConsent_web_modal_radio3Link",value:"tiktok_privacy_policy"},{content:"updatedConsent_web_modal_radio4",link:"https://www.tiktok.com/legal/page/global/consent-to-collection-and-use-of-your-personal-information-for-marketing-purposes",linkText:"updatedConsent_web_modal_radio4Link",value:"receive_notifications_of_marketing_content_and_promotions"}];var PC=function(e){return e.Big="big",e.Small="small",e}({});const TC=(0,Wt.A)("div",{target:"e14eam340"})(({size:e})=>({width:"big"===e?"32px":"24px",position:"relative",flexShrink:0}),"label:DivCheckboxWrapper;"),OC=(0,Wt.A)("input",{target:"e14eam341"})({display:"block",width:"24px",height:"24px",opacity:0},"label:InputCheckbox;"),AC=(e,t)=>"small"===e?{width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px"}:{width:t?"24px":"22px",height:t?"24px":"22px"},EC=(0,Wt.A)("label",{target:"e14eam342"})(({theme:e,circle:t=!0,size:o})=>[(0,va.mp)({direction:e.direction,start:"0"}),{position:"absolute",top:0,"-webkit-tap-highlight-color":"transparent"},AC(o,t)],"label:LabelCheck;"),LC=(0,Wt.A)("i",{target:"e14eam343"})(({theme:e,checked:t,circle:o=!0,size:n,focus:i=!1})=>[(0,va.mp)({direction:e.direction,start:"0"}),{position:"absolute",top:0,borderRadius:o?"50%":"unset",border:"1px solid",borderColor:t?e.colors.Primary:e.colors.TextReverse3,marginInlineEnd:"8px",display:"inline-block",background:t?e.colors.Primary:e.colors.BGPrimary,transition:"all .1s",padding:"3px 0",textAlign:"center",boxSizing:"border-box",outline:i?`2px solid ${e.colors.Negative}`:"none"},AC(n,o)],"label:ICheckboxIcon;"),jC=({id:e,value:t,checked:o,onChange:n,circle:r,size:a=PC.Big})=>{const{colors:s}=(0,ve.u)(),[l,c]=(0,m.useState)(!1),d=(0,m.useCallback)(e=>{n(e.target.checked,t)},[n,t]),u=(0,m.useCallback)(()=>{c(!0)},[]),p=(0,m.useCallback)(()=>{c(!1)},[]);return(0,i.FD)(TC,{size:a,children:[(0,i.Y)(OC,{type:"checkbox",value:t,id:e,onClick:d,onFocus:u,onBlur:p,"aria-labelledby":Vg}),(0,i.Y)(EC,{htmlFor:e,circle:r,size:a,children:(0,i.Y)(LC,{checked:o,circle:r,size:a,focus:l,children:(0,i.Y)($g.A,{fill:o?"#fff":s.BGPrimary,fontSize:"14px"})})})]})},IC=(e,t)=>e?{position:"fixed",bottom:"0px",left:"0",right:"0",padding:"12px 32px"}:{marginTop:t||"9px"},RC=(0,Wt.A)("div",{target:"eb49p770"})(({theme:e})=>[{paddingBottom:e.isMobile?"64px":"5px",marginTop:e.isMobile?"8px":"unset"}],"label:DivPolicyContainer;"),MC=(0,Wt.A)("h3",{target:"eb49p771"})(({theme:e})=>{return[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont",fontWeight:"bold"}),(t=e.isMobile,t?{fontSize:"17px",lineHeight:"22px",marginBottom:"24px",textAlign:"left"}:{fontSize:"32px",lineHeight:"38px",marginBottom:"32px",textAlign:"center",marginTop:"64px"})];var t},"label:H3Title;"),DC=(0,Wt.A)("div",{target:"eb49p773"})({padding:"12px 0",display:"flex",i:{outline:"unset"}},"label:DivCheckItem;"),FC=(0,Wt.A)("div",{target:"eb49p774"})({display:"flex",flexDirection:"column"},"label:DivCheckboxContent;"),NC=(0,Wt.A)("p",{target:"eb49p776"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),{fontSize:"14px",lineHeight:"18px",display:"inline"}],"label:PCheckboxContent;"),UC=(0,Wt.A)("h4",{target:"eb49p778"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"15px",lineHeight:"19.5px",display:"inline",margin:0}],"label:H4CheckboxTitle;"),BC=(0,Wt.A)("div",{target:"eb49p7710"})(({theme:e,marginTop:t,backgroundColor:o})=>[IC(e.isMobile,t),{background:o||e.colors.BGPrimary}],"label:DivButtonWrapper;"),HC=(0,Wt.A)("a",{target:"eb49p7711"})(({theme:e})=>({color:e.colors.Primary,fontSize:"14px",fontWeight:500,"&:visited":{color:e.colors.Primary},"&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`},display:"flex",alignItems:"center",marginTop:"4px"}),"label:ALink;");function zC({consent:e,language:t,link:o}){return e===CC.Marketing?"ko-KR"===t?`${o}/ko`:`${o}/en`:o}const YC=()=>{const e=(0,Pe.W6)(),{isMobile:t}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{language:o="en",region:n=""}=(0,xo.L$)((0,tn.W)(()=>["language","region"],[])),[{fromNotRegisterLogin:r,thirdPlatformNotRegistered:a},{registerThirdPlatform:s,registerPhone:l,setKRMarketingConsent:c}]=(0,en.Su)(Ap.H),d=(0,xi.s)(K.i_.Login),u=(0,ke.Nj)(aC.W),[p,g]=(0,m.useState)([{item:CC.ToS,value:!1},{item:CC.Privacy,value:!1},{item:CC.Marketing,value:!1}]),h=p.every(e=>!!e.value);(0,m.useEffect)(()=>{u.hanldeKRConsentShow()},[]);const v=(0,m.useCallback)(()=>{const e=!h;u.hanldeKRConsentClick("total",e),c(e),g(p.map(t=>({item:t.item,value:e})))},[h,p,u,c]),_=(0,m.useCallback)((e,t)=>{const o=Number(t),n=[...p],i=!n[o].value;u.hanldeKRConsentClick(`agree_to_${xC[o].value}`,i),n[o].value=i,xC[o].value===CC.Marketing&&c(i),g(n)},[p,c,u]),f=(0,m.useCallback)(()=>{u.hanldeKRConsentClickNext(h),r===Ap.o.Third&&a?s({ageCheckDone:!0,platform:a.platform,profileKey:a.profileKey,region:n}):r===Ap.o.Phone?l({ageCheckDone:!0,region:n}):e.push(xe.tH.signupPhone)},[r,e,l,s,a,n]),b=(0,m.useCallback)(e=>()=>{u.hanldeKRConsentClickSeeDetail(e===CC.Marketing?`agree_to_${e}`:e)},[]),y=(0,m.useMemo)(()=>({width:t?"100%":"unset",marginTop:t?"0":"12px",marginLeft:"auto",marginRight:"auto"}),[t]),w=!!p.find(e=>e.item===CC.Privacy&&!1===e.value)||!!p.find(e=>e.item===CC.ToS&&!1===e.value);return(0,i.FD)(RC,{children:[(0,i.Y)(MC,{"data-e2e":"policy-confirm-title",children:d("updatedConsent_web_modal_header")}),(0,i.FD)(DC,{children:[(0,i.Y)(jC,{"data-e2e":"policy-confirm-box",circle:!0,checked:h,onChange:v,id:"signup-policy-all"}),(0,i.Y)(UC,{"data-e2e":"policy-confirm-item",children:d("updatedConsent_web_modal_radio1")})]}),xC.map(({content:e,link:t,linkText:n,value:r},a)=>(0,i.Y)("div",{children:(0,i.FD)(DC,{children:[(0,i.Y)(jC,{id:`signup-policy-${r}`,value:a.toString(),checked:p[a].value,onChange:_,circle:!0}),(0,i.FD)(FC,{children:[(0,i.Y)(NC,{children:d(e)}),(0,i.FD)(HC,{target:"_blank",rel:"noopener noreferrer",href:zC({consent:r,language:o,link:t}),onClick:b(r),children:[d(n),(0,i.Y)(SC.A,{})]})]})]})},a)),(0,i.Y)(BC,{marginTop:"40px",backgroundColor:"unset",children:(0,i.Y)(kg,{disabled:w,onClick:f,style:y,"data-e2e":"next-button",children:d("updatedConsent_web_modal_btn")})})]})};var WC=function(e){return e[e.DISMISS=1]="DISMISS",e[e.CONTINUE=2]="CONTINUE",e[e.NATIVE=3]="NATIVE",e[e.URL=4]="URL",e[e.EXIT=5]="EXIT",e}({});const VC=(0,Wt.A)("div",{target:"eo2b7p50"})(({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",maxWidth:e.isMobile?"300px":"400px",paddingTop:e.isMobile?"0":"32px",textAlign:"center",overflow:"hidden"}),"label:DivContainer;"),GC=(0,Wt.A)("div",{target:"eo2b7p51"})(({theme:e})=>({display:"flex",padding:e.isMobile?"0":"0 32px 32px 32px",gap:e.isMobile?"0":"8px",overflow:"hidden"}),"label:DivFooterContainer;"),$C=(0,Wt.A)("div",{target:"eo2b7p52"})(({theme:e})=>({padding:e.isMobile?"20px":"0 32px"}),"label:DivBodyContainer;"),qC=(0,Wt.A)("h1",{target:"eo2b7p53"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"24px",lineHeight:"30px",padding:e.isMobile?"0 20px":"0 32px"}],"label:H1ModalTitle;"),KC=(0,Wt.A)("p",{target:"eo2b7p54"})([({theme:e})=>(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),({theme:e})=>({fontSize:"16px",lineHeight:"20px",margin:e.isMobile?"0":"24px 0",textAlign:"center"})],"label:PDesc;"),ZC={borderWidth:"0.5px",borderRadius:"0",fontWeight:"normal",margin:"0"},JC={[WC.CONTINUE]:"continue",[WC.URL]:"url",[WC.EXIT]:"exit",[WC.DISMISS]:"dismiss",[WC.NATIVE]:"native"},QC=e=>{const{isMobile:t,onContinue:o}=e,{setShowFeedbackModal:n}=(0,en.wA)(Qr.T),{showFeedbackModal:r,feedbackModal:a={}}=(0,en.Ph)(Qr.T),{modal:s={},business:l=""}=a,{title:c="",description:d="",options:u}=s,p=(0,Pe.W6)(),g=(0,ke.Nj)(aC.W),h={style:"pop",business:l},v=(0,m.useCallback)((e,t)=>()=>{switch(g.handleUniversalPopClick(Object.assign(Object.assign({},h),{button_info:e?JC[e]:""})),e){case WC.CONTINUE:n(!1),null==o||o();break;case WC.URL:window.open(t,"_blank");break;case WC.EXIT:n(!1),p.push(xe.tH.signupHome);break;case WC.DISMISS:default:n(!1)}},[o,p,n]),_=(0,m.useMemo)(()=>u&&0!==u.length?[...u].reverse().map(e=>(0,i.Y)(kg,{buttonTheme:"default",style:t?ZC:{fontWeight:"500"},onClick:v(e.option_type,e.option_url),children:e.option_content},e.option_content)):(0,i.Y)(i.FK,{}),[u,t,v]);return(0,m.useEffect)(()=>{r&&g.handleUniversalPopShow(h)},[r]),(0,i.Y)(Ja.aF,{visible:r,maskCloseable:!1,type:t?"mobile":"pc",children:(0,i.FD)(VC,{children:[c&&(0,i.Y)(qC,{children:c}),(0,i.Y)($C,{children:(0,i.Y)(KC,{children:d})}),(0,i.Y)(GC,{children:_})]})})},XC=["Month_1","Month_2","Month_3","Month_4","Month_5","Month_6","Month_7","Month_8","Month_9","Month_10","Month_11","Month_12"],ex=()=>XC.map((e,t)=>({value:t+1,key:e})),tx=(e=1)=>{let t=31;return 2===e?t=29:-1!==[4,6,9,11].indexOf(e)&&(t=30),Array(t).fill(0).map((e,t)=>({value:t+1,key:`${t+1}`}))};var ox=function(e){return e[e.Next=0]="Next",e[e.Previous=1]="Previous",e[e.Open=2]="Open",e[e.CloseOnly=3]="CloseOnly",e[e.CloseSelect=4]="CloseSelect",e[e.JumpFirst=5]="JumpFirst",e[e.JumpLast=6]="JumpLast",e[e.PageDown=7]="PageDown",e[e.PageUp=8]="PageUp",e[e.Select=9]="Select",e[e.Type=10]="Type",e[e.Tab=11]="Tab",e[e.Ignore=12]="Ignore",e[e.CloseModal=13]="CloseModal",e}({});const nx=(e,t)=>{if(null===t||-1===t||null===e.current)return;const o=34*t,n=34*(t+1),i=e.current.clientHeight,{scrollTop:r}=e.current;o<r?e.current.scrollTop=o:n>i+r&&(e.current.scrollTop=n-i)};function ix(e=[],t,o=[]){return e.filter(e=>0===String(e.key).toLowerCase().indexOf(t.toLowerCase())&&o.indexOf(e)<0)}const rx=(0,Wt.A)("div",{target:"e1phcp2x0"})(({theme:e})=>({background:e.colors.BGInput,borderRadius:"4px",position:"relative","& + &":{marginInlineStart:"8px"},cursor:"pointer"}),"label:DivSelector;");rx.defaultProps=Object.assign(Object.assign({},rx.defaultProps),{"data-e2e":"select-container"});const ax=(0,Wt.A)("div",{target:"e1phcp2x1"})(({hasValue:e,theme:t,error:o})=>({width:"115px",height:"44px",padding:"0 12px",display:"flex",justifyContent:"space-between",alignItems:"center",color:o?t.colors.Negative:e?t.colors.TextPrimary:t.colors.TextQuaternary,fontSize:"16px"}),"label:DivSelectLabel;"),sx=(0,Wt.A)(hm.A,{target:"e1phcp2x2"})(({theme:e,up:t})=>({color:e.colors.TextPrimary,transform:t?"rotateZ(180deg)":"rotateZ(0deg)",transition:"all .3S"}),"label:StyledArrowTriangleDownLargeFill;"),lx=(0,Wt.A)($g.A,{target:"e1phcp2x3"})({width:"16px",height:"16px",marginInlineStart:"12px"},"label:StyledSelectIcon;"),cx=(0,Wt.A)("div",{target:"e1phcp2x4"})(({theme:e,show:t})=>[(0,va.mp)({direction:e.direction,end:"0",start:"0"}),{width:"120px",maxHeight:"320px",overflow:"auto",position:"absolute",background:e.colors.BGPrimary,borderRadius:"4px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",top:"50px",zIndex:12,display:t?"block":"none",transition:"display .3s"}],"label:DivOptionsWrapper;");cx.defaultProps=Object.assign(Object.assign({},cx.defaultProps),{"data-e2e":"select-list"});const dx=(0,Wt.A)("div",{target:"e1phcp2x5"})(({theme:e,selected:t})=>({height:"34px",overflow:"auto",fontSize:"16px",padding:"0 12px",cursor:"pointer",display:"flex",alignItems:"center",color:e.colors.TextPrimary,background:t?e.colors.BGView:"unset",":hover, :focus":{background:e.colors.BGView}}),"label:DivOption;"),ux=e=>{const t=(0,xi.s)(K.i_.Login),{placeholder:o,options:n,selectItem:r,onClick:a,error:s,ariaLabel:l}=e,{key:c,value:d}=null!=r?r:{},p=(0,m.useRef)(null),g=(0,m.useRef)(null),[h,v]=(0,m.useState)(!1),{setLoginModalShow:_}=(0,qa.b1)(),{isModal:f}=(0,Ti.U)(()=>["isModal"],[]),b=(0,m.useMemo)(()=>e=>e.value===d,[d]),y=(0,m.useMemo)(()=>n.findIndex(b),[b,n]),w=(0,m.useCallback)(e=>{var t;h&&!(null==p||null===(t=p.current)||void 0===t?void 0:t.contains(e.target))&&v(!1)},[h]);(0,m.useEffect)(()=>(window.addEventListener("mousedown",w),()=>{window.removeEventListener("mousedown",w)}),[w]);const k=n.concat().map(({value:e,key:o})=>({value:e,key:t(null!=o?o:"")})),{keyboardHandler:S,visualFocusIndex:C}=(({panelOpen:e,options:t,initialFocusIndex:o=-1,setPanelShow:n,panelContainerRef:i,onSelect:r,onOpen:a=u(),onClose:s=u(),stopPropagation:l=!0,isModal:c=!1,setModalShow:d=u(),trapFocusWhenPanelOpen:p=!0})=>{const[g,h]=(0,m.useState)(o),v=(0,m.useRef)(),_=(0,m.useRef)(""),f=(0,m.useCallback)(u=>{l&&u.stopPropagation();const m=((e,t,o=!0,n=!1)=>{const{keyCode:i,altKey:r,ctrlKey:a,metaKey:s,key:l}=e,c=[rs.D.Enter,rs.D.Space,rs.D.Up,rs.D.Down];if(!t&&c.includes(i))return ox.Open;if(!t&&n&&i===rs.D.Esc)return ox.CloseModal;if(i===rs.D.Backspace||i===rs.D.Clear||1===l.length&&i!==rs.D.Space&&!r&&!a&&!s)return t?ox.Type:ox.Open;if(t)switch(i){case rs.D.Up:return r?ox.CloseSelect:ox.Previous;case rs.D.Down:return r?ox.Ignore:ox.Next;case rs.D.Esc:return ox.CloseOnly;case rs.D.Enter:case rs.D.Space:return ox.CloseSelect;case rs.D.PageUp:return ox.PageUp;case rs.D.PageDown:return ox.PageDown;case rs.D.Home:return ox.JumpFirst;case rs.D.End:return ox.JumpLast;case rs.D.Tab:return o?ox.Tab:ox.CloseSelect;default:return ox.Ignore}return ox.Ignore})(u,e,p,c);switch(m){case ox.Open:n(!0),o>-1&&h(o),null==a||a();break;case ox.CloseOnly:e&&n(!1),null==s||s();break;case ox.CloseModal:d(!1),null==s||s();break;case ox.CloseSelect:g>-1&&(r(t[g]),n(!1),null==s||s());break;case ox.Tab:u.preventDefault();break;case ox.Previous:case ox.Next:case ox.PageUp:case ox.PageDown:case ox.JumpFirst:case ox.JumpLast:{const e=function(e,t,o){switch(o){case ox.JumpFirst:return 0;case ox.JumpLast:return t;case ox.Previous:return Math.max(0,e-1);case ox.Next:return Math.min(t,e+1);case ox.PageUp:return Math.max(0,e-10);case ox.PageDown:return Math.min(t,e+10);default:return e}}(g,t.length-1,m);h(e),nx(i,e);break}case ox.Type:try{"number"==typeof v.current&&window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=""},500),_.current+=u.key;const e=function(e=[],t,o=0){const n=[...e.slice(o),...e.slice(0,o)],i=ix(n,t)[0];if(i)return e.indexOf(i);if((r=t.split("")).every(e=>e===r[0])){const o=ix(n,t[0]);return e.indexOf(o[0])}return-1;var r}(t,_.current,g+1);e>-1?(h(e),nx(i,e)):(window.clearTimeout(v.current),_.current="")}catch(e){console.warn("[Role=select] Type Error: ",e)}break;default:return}},[o,c,s,a,r,t,i,e,d,n,l,p,g]);return{keyboardHandler:f,visualFocusIndex:g,setVisualFocusIndex:h}})({panelOpen:h,options:k,initialFocusIndex:y,setPanelShow:v,panelContainerRef:g,onSelect:a,isModal:f,setModalShow:_}),x=(0,m.useCallback)(e=>()=>{a(e),v(!1)},[a,v]),P=(0,m.useCallback)(()=>{v(!h)},[h]);return(0,i.FD)(rx,{ref:p,tabIndex:0,role:"combobox",onKeyDown:S,"aria-label":l,"aria-expanded":h,"aria-haspopup":"listbox","aria-controls":h?`${o}-options-list-container`:"","aria-activedescendant":C>-1?`${o}-options-item-${C}`:void 0,children:[(0,i.FD)(ax,{onClick:P,hasValue:Boolean(c),error:s,children:[t(null!=c?c:o),(0,i.Y)(sx,{up:h})]}),(0,i.Y)(cx,{show:h,ref:g,role:"listbox",id:`${o}-options-list-container`,children:n.map((e,n)=>{var r;return(0,i.FD)(dx,{id:`${o}-options-item-${n}`,selected:d===e.value||C===n,onClick:x(e),role:"option","aria-selected":d===e.value,children:[t(`${null!==(r=e.key)&&void 0!==r?r:e.value}`),d===e.value&&(0,i.Y)(lx,{})]},n)})})]})},px=(0,Wt.A)("div",{target:"e18rms3f0"})({display:"flex",marginBottom:"4px"},"label:DivAgeSelector;"),gx=(0,Wt.A)("div",{target:"e18rms3f1"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"16px",lineHeight:"22px",marginBottom:"4px"}],"label:DivTitle;"),mx=(0,Wt.A)("div",{target:"e18rms3f2"})(({theme:e,type:t})=>[(0,va.zy)({theme:e,color:"error"===t?"Negative":"TextTertiary"}),{fontSize:"14px",lineHeight:"20px",marginBottom:"16px"}],"label:DivDescription;"),hx=ex(),vx=(()=>{const e=new Date(1900,0,1,0,0,0),t=new Date((new Date).getFullYear()-1,11,31,0,0,0);return Array(t.getFullYear()-e.getFullYear()+1).fill(t.getFullYear()).map((e,t)=>({value:e-t,key:""+(e-t)}))})(),_x=(0,m.memo)(function(){const e=(0,ke.Nj)(Hi.$F),[{ageErrorMsg:t,year:o,month:n,date:r},{setBirthday:a,setMonth:s,setYear:l,setDate:c}]=(0,en.Su)(Qr.T),d=(0,xi.s)(K.i_.Login);(0,m.useEffect)(()=>{n&&o&&r&&a({year:o.value,month:n.value,date:r.value})},[o,n,r,a]),(0,m.useEffect)(()=>{e.ageGateShow()},[]);const u=(0,m.useCallback)(e=>{s(e)},[s]),p=(0,m.useCallback)(e=>{c(e)},[c]),g=(0,m.useCallback)(e=>{l(e)},[l]),h=t||"mus_age_gate_tips";return(0,i.FD)(i.FK,{children:[(0,i.Y)(gx,{children:d("common_registration_agegate_title")}),(0,i.FD)(px,{children:[(0,i.Y)(ux,{error:Boolean(t),placeholder:"Month",selectItem:n,options:hx,ariaLabel:d($p.SelectorMonth),onClick:u}),(0,i.Y)(ux,{error:Boolean(t),placeholder:"Day",selectItem:r,options:tx(null==n?void 0:n.value),ariaLabel:d($p.SelectorDay),onClick:p}),(0,i.Y)(ux,{error:Boolean(t),placeholder:"Year",selectItem:o,options:vx,ariaLabel:d($p.SelectorYear),onClick:g})]}),(0,i.Y)(mx,{type:t?"error":"default",children:d(h)})]})}),fx=(0,Wt.A)("h2",{target:"e1lzrlvq0"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokDisplayFont"}),{fontSize:"32px",margin:"16px auto",fontWeight:"bold",textAlign:"center",wordWrap:"break-word"}],"label:H2Title;"),bx=(0,Wt.A)("div",{target:"e1lzrlvq1"})({width:"375px",margin:"auto"},"label:DivLoginContainer;"),yx=(0,Wt.A)("div",{target:"e1lzrlvq2"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:"15px",display:"flex",justifyContent:"space-between",marginBottom:"5px"}],"label:DivDescription;"),wx=()=>{const e=(0,xi.s)(K.i_.Login),{handleCheckAge:t,nextStep:o}=iC(),{signupLoading:n}=(0,en.Ph)(Ap.H),{birthday:r,ageErrorMsg:a,showErrorByToast:s,checkAgeLoading:l}=(0,en.Ph)(Qr.T);return(0,m.useEffect)(()=>{a&&s&&rn.F.open({content:e(a),duration:3})},[a,e,s]),Ee(),(0,i.FD)(bx,{children:[(0,i.Y)(fx,{children:e("common_login_panel_entry_2")}),(0,i.Y)(_x,{}),(0,i.Y)(QC,{isMobile:!1,onContinue:o}),(0,i.Y)(kg,{disabled:!r,loading:n||l,onClick:t,"data-e2e":"next-button",children:e("common_registration_email_input_button")})]})},kx="is_br_uux_km_create",Sx=(0,Wt.A)("div",{target:"eopmsux0"})({marginBottom:"16px",position:"relative"},"label:DivUsernameContainer;"),Cx=(0,Wt.A)("div",{target:"eopmsux1"})(({theme:e})=>[(0,va.mp)({direction:e.direction,end:"12px"}),{position:"absolute",boxSizing:"border-box",paddingTop:"14.5px",width:"20px",height:"44px",top:0,div:{position:"absolute",width:"15px",height:"15px",margin:"2px",border:"2px solid rgba(22, 24, 35, .34)",borderRadius:"50%",animation:"lds-ring 1.2s cubic-bezier(.5, 0, .5, 1) infinite",borderColor:"rgba(22, 24, 35, .34) transparent transparent transparent",":nth-of-type(1)":{animationDelay:"-.45s"},":nth-of-type(2)":{animationDelay:"-.3s"},":nth-of-type(3)":{animationDelay:"-.15s"}},"@keyframes lds-ring":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}],"label:DivNameCheckLoading;"),xx=(0,Wt.A)("div",{target:"e1ulspo0"})(({theme:{colors:e,direction:t}})=>[{position:"relative",marginTop:"11px",borderRadius:"4px",border:"1px solid",background:e.BGPrimary,borderColor:e.LineSecondary,zIndex:2,width:"100%",":before":{content:'""',height:"14px",position:"absolute",background:e.BGPrimary,width:"14px",top:"-7px",left:"rtl"===t?"unset":"14px",right:"rtl"===t?"14px":"unset",zIndex:-1,borderInlineEnd:`1px solid ${e.LineSecondary2}`,borderTop:`1px solid ${e.LineSecondary2}`,transform:"rtl"===t?"rotateZ(45deg)":"rotateZ(-45deg)"}}],"label:DivSuggestListWrapper;"),Px=(0,Wt.A)("div",{target:"e1ulspo1"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextTertiary"}),{fontSize:"13px",lineHeight:"17px",padding:"16px 12px 9px"}],"label:DivLabel;"),Tx=(0,Wt.A)("ul",{target:"e1ulspo2"})({padding:"0",margin:"0",maxHeight:"200px",overflowY:"auto"},"label:UlList;"),Ox=(0,Wt.A)("li",{target:"e1ulspo3"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextPrimary"}),{display:"flex",padding:"0 12px",justifyContent:"space-between",alignItems:"center",height:"34px",lineHeight:"34px",fontSize:"13px",cursor:"pointer"},{":hover":{backgroundColor:"rgba(22, 24, 35, .03)"}}],"label:LiListItem;"),Ax=(0,m.memo)(function(){var e,t;const[{usernameInfo:o},{setUsername:n}]=(0,en.Su)(Ap.H),r=(0,xi.s)(K.i_.Login),a=(0,m.useCallback)(e=>()=>{n(e)},[n]);return(null==o?void 0:o.isValid)||!(null==o||null===(e=o.suggestList)||void 0===e?void 0:e.length)?null:(0,i.FD)(xx,{children:[(0,i.Y)(Px,{children:r("common_registration_email_input_suggested")}),(0,i.Y)(Tx,{children:null==o||null===(t=o.suggestList)||void 0===t?void 0:t.map((e,t)=>(0,i.Y)(Ox,{onClick:a(`${e}`),children:e},t))})]})}),Ex=(0,m.memo)(function({autoFocus:e,ftc:t,placeholder:o,tip:n}){var r,a;const[{usernameInfo:s,username:l,checkNameLoading:c},{validateUsername:d,validateFTCUsername:u,setUsername:p,setUsernameInfo:g}]=(0,en.Su)(Ap.H),{isMobile:h}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),v=(0,xi.s)(K.i_.Login),_=(0,m.useCallback)(e=>{const t=e.target.value;p(t)},[p]);(0,m.useEffect)(()=>{l?t?u({name:l}):d({name:l}):g(void 0)},[t,g,l,u,d]);const f=h?"":"common_registration_username_text";return(0,i.FD)(Sx,{children:[(0,i.Y)(yg,{autoFocus:e,placeholder:v(null!=o?o:"common_registration_username_placeholder"),onChange:_,errorState:s&&!s.isValid&&!c,autoComplete:"off",name:"new-username",value:l,disableDelete:c}),c&&(0,i.FD)(Cx,{children:[(0,i.Y)("div",{}),(0,i.Y)("div",{}),(0,i.Y)("div",{}),(0,i.Y)("div",{})]}),(0,i.Y)(Cg,{text:v(null!==(a=null!==(r=null==s?void 0:s.errorMsg)&&void 0!==r?r:n)&&void 0!==a?a:f),type:(null==s?void 0:s.errorMsg)?"error":"default"}),!h&&(0,i.Y)(Ax,{})]})}),Lx=()=>{const e=(0,xi.s)(K.i_.Login),[{usernameInfo:t,errorMsg:o,signupLoading:n},{usernameRegister:r}]=(0,en.Su)(Ap.H),[{registerLimited:a},{setBirthday:s}]=(0,en.Su)(Qr.T);rC();const{password:l,lengthValid:c,contentValid:d}=(0,en.Ph)(Op),u=(0,IS.Z)(),p=(0,m.useCallback)(()=>{r({password:l,region:u})},[l,r,u]),g=!1===(null==t?void 0:t.isValid)||!l||!d||!c;return Ee(),(0,m.useEffect)(()=>{const e=(0,Cn.Hd)(kx);if(e)try{const t=parseInt(e);if(!t||Date.now()>t)return void(0,Cn.X)(kx);s({year:9999,month:12,date:31})}catch(e){(0,Cn.X)(kx)}},[s]),(0,i.FD)(Rg,{onSubmit:p,children:[(0,i.Y)(fx,{children:e("common_login_panel_entry_2")}),(0,i.Y)(yx,{children:e("common_login_sms_popup_option_1")}),(0,i.Y)(Ex,{autoFocus:!0,placeholder:e("common_registration_username_placeholder"),tip:"mus_create_account_desc_pc",ftc:!0}),(0,i.Y)(Ng,{loginError:Boolean(o)}),a&&(0,i.Y)(FS,{show:!0}),(0,i.Y)(Cg,{text:e(null!=o?o:""),type:"error"}),(0,i.Y)(kg,{disabled:g,loading:n,children:e("common_notification_unlogged_button")})]})},jx=(0,Wt.A)("div",{target:"e6sea5o0"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:e.isMobile?"normal":"bold"}),{height:e.isMobile?"16px":"44px",lineHeight:e.isMobile?"16px":"44px",textAlign:"center",fontSize:"16px",marginTop:e.isMobile?"unset":"10px",width:"100%",cursor:"pointer"}],"label:DivTextContainer;"),Ix=(0,m.memo)(function(){var e;const t=(0,xi.s)(K.i_.Login),{setLoginSuccess:o}=(0,en.wA)(Gi.$),{isMobile:n}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),r=(0,Pe.W6)(),a=(null===(e=(0,Pe.W5)(xe.tH.signupCreatePassword))||void 0===e?void 0:e.isExact)&&n,s=(0,m.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),a?r.push(xe.tH.signupCreateUsername):o()},[r,a,o]),l=(0,m.useCallback)(e=>{e.keyCode===rs.D.Enter&&(e.preventDefault(),e.stopPropagation(),o())},[o]);return(0,i.Y)(jx,{onClick:s,onKeyDown:l,tabIndex:0,children:t("common_registration_username_skip")})}),Rx=()=>{const e=(0,xi.s)(K.i_.Login),{usernameInfo:t,username:o}=(0,en.Ph)(Ap.H),[{loginLoading:n},{setAccount:r}]=(0,en.Su)(Gi.$),{password:a,lengthValid:s,contentValid:l}=(0,en.Ph)(Op),c=(0,m.useCallback)(()=>{r({password:a,username:o})},[r,a,o]),d=!((null==t?void 0:t.isValid)&&a&&l&&s);return Ee(),(0,i.FD)(Rg,{onSubmit:c,children:[(0,i.Y)(fx,{children:e("common_login_panel_entry_2")}),(0,i.Y)(yx,{children:e("common_registration_password_title")}),(0,i.Y)(Ng,{autoFocus:!0}),(0,i.Y)(yx,{children:e("common_registration_username_title")}),(0,i.Y)(Ex,{}),(0,i.Y)(kg,{disabled:d,loading:n,children:e("common_notification_unlogged_button")}),(0,i.Y)(Ix,{})]})},Mx=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{usernameInfo:t,username:o}=(0,en.Ph)(Ap.H),[{loginLoading:n},{setAccount:r}]=(0,en.Su)(Gi.$),a=(0,m.useCallback)(()=>{r({username:o})},[r,o]),s=!(null==t?void 0:t.isValid);return Ee(),(0,i.FD)(Rg,{onSubmit:a,children:[(0,i.Y)(fx,{children:e("common_login_panel_entry_2")}),(0,i.Y)(yx,{children:e("common_registration_username_title")}),(0,i.Y)(Ex,{}),(0,i.Y)(kg,{disabled:s,loading:n,children:e("common_notification_unlogged_button")}),(0,i.Y)(Ix,{})]})});var Dx=o(86553),Fx=o(48410);const Nx=(0,Wt.A)("div",{target:"e19c4o080"})({marginBottom:"16px",display:"flex"},"label:DivContainer;"),Ux=(0,Wt.A)("label",{target:"e19c4o081"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextSecondary",fontFamily:"TikTokFont"}),{fontSize:"12px",lineHeight:"16px",display:"inline"}],"label:LabelCheckboxText;");Ux.defaultProps=Object.assign(Object.assign({},Ux.defaultProps),{"data-e2e":"collect-email-conconsent-text"});const Bx=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{emailConsent:t}=(0,Ti.U)(()=>["emailConsent"],[]),o=(0,IS.Z)(),{isMobile:n}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),[{emailConsent:r},{setEmailConsent:a}]=(0,en.Su)(Ap.H),s=(0,m.useCallback)(e=>{Fx.H.clickEmailConsent({checked:e}),a(e)},[a]);return(0,m.useEffect)(()=>{t&&(Fx.H.showEmailConsent(),["MY","PK","BD"].includes(o)&&a(!0))},[o,t,a]),t?(0,i.FD)(Nx,{children:[(0,i.Y)(jC,{"data-e2e":"collect-email-conconsent-box",size:n?PC.Small:PC.Big,checked:Boolean(r),onChange:s,id:"email-consent",circle:n}),(0,i.Y)(Ux,{htmlFor:"email-consent",id:Vg,children:e("EDM_onboarding_email_consent_checkbox_list")})]}):null}),Hx=(0,Wt.A)("p",{target:"esdrtey0"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary"}),{fontSize:"12px",lineHeight:"15px",marginBottom:"8px",marginTop:"-4px",display:"flex"}],"label:PRegister;"),zx=(0,Wt.A)("span",{target:"esdrtey1"})(({theme:e})=>[(0,va.zy)({theme:e,color:"Primary"}),{display:"flex",alignItems:"center"}],"label:SpanLink;"),Yx=()=>{const e=(0,xi.s)(K.i_.Login),{ageGateAction:t,birthday:o}=(0,en.Ph)(Qr.T),[{errorMsg:n,signupLoading:r},{emailRegister:a}]=(0,en.Su)(Ap.H),{emailErrorMsg:s,email:l=""}=(0,en.Ph)(Rp.N),[{sendCodeLoading:c,code:d,codeFormatError:u,emailRegistered:p},{sendEmailCodeForSignup:g}]=(0,en.Su)(Mp.m),{password:h,lengthValid:v,contentValid:_}=(0,en.Ph)(Op),f=(0,IS.Z)(),b=(0,m.useCallback)(()=>{g({email:l,region:f})},[l,g,f]),y=(0,m.useCallback)(()=>{a({password:h,code:d,email:l,region:f})},[l,d,a,h,f]),w=!l||!h||!d||!_||!v||Boolean(u)||Boolean(s)||Boolean(!o&&t);Ee();const k=Ld();return(0,m.useEffect)(()=>{k(Hi.WN.Sms)},[]),(0,i.FD)(Rg,{onSubmit:y,children:[(0,i.Y)(fx,{children:e("common_login_panel_entry_2")}),Boolean(t)&&(0,i.Y)(_x,{}),Boolean(t)&&(0,i.Y)(QC,{isMobile:!1}),(0,i.FD)(yx,{children:[e("email")," ",(0,i.Y)(Cp,{text:e("common_registration_switch_phone"),path:xe.tH.signupPhone,replace:!0})]}),(0,i.Y)(jv,{emailRegistered:p}),p&&(0,i.FD)(Hx,{children:[e("common_registration_email_existing_title"),",",(0,i.Y)(jl,{path:xe.tH.loginWithSignedEmail,underline:!1,children:(0,i.FD)(zx,{children:[e("log_in"),(0,i.Y)(Dx.A,{})]})})]}),(0,i.Y)(Ng,{}),(0,i.Y)(jm,{email:!0,disabled:Boolean(s||!l||!o&&t),codeFromNumber:l,loading:c,errorMsg:n,onClickSendCode:b}),(0,i.Y)(Bx,{}),(0,i.Y)(kg,{loading:r,disabled:w,children:e("common_registration_email_input_button")})]})},Wx=()=>{const e=(0,xi.s)(K.i_.Login),[{birthday:t,ageGateAction:o}]=(0,en.Su)(Qr.T),[{sendCodeLoading:n,code:r,codeFormatError:a},{sendPhoneCodeForLogin:s}]=(0,en.Su)(Mp.m),[{loginLoading:l},{handleSmsLogin:c}]=(0,en.Su)(Gi.$),d=Ad(),u=(0,IS.Z)(),[p]=(0,en.Su)($i.U),{mobile:g,phoneErrorMsg:h,phone:v}=p,_=g&&r&&!h&&!a&&(t||!o),f=Bp(),b=(0,m.useCallback)(()=>{d({platform:Hi.WN.Sms,signUp:!0}),c({birthday:t,phoneCode:r,mobile:g,login_only:!1,region:u})},[t,c,d,g,r,u]),y=(0,m.useCallback)(()=>{s({mobile:g,isSignUp:!0,region:u})},[g,s,u]);Ee();const w=Ld();return(0,m.useEffect)(()=>{w(Hi.WN.Sms)},[]),(0,i.FD)(Rg,{onSubmit:b,children:[(0,i.Y)(fx,{children:e("common_login_panel_entry_2")}),Boolean(o)&&(0,i.Y)(_x,{platform:Hi.WN.Sms}),Boolean(o)&&(0,i.Y)(QC,{isMobile:!1}),(0,i.FD)(yx,{children:[e("phone")," ",(0,i.Y)(Cp,{text:e("common_registration_switch_email"),path:xe.tH.signupEmail,replace:!0})]}),(0,i.Y)(Sm,{}),(0,i.Y)(jm,{disabled:Boolean(h||!v||!t&&o),codeFromNumber:g,loading:n,errorMsg:f,onClickSendCode:y}),(0,i.Y)(kg,{loading:l,disabled:!_,children:e("common_registration_email_input_button")})]})},Vx=(0,m.memo)(()=>{const{initial:e}=(0,en.Ph)(Qr.T),t=(0,qa.mZ)(e=>e.groupId);tv(t),Ce({pid:"signup"}),nC(),function(){const{isMobile:e}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{showAgeConfirm:t}=(0,en.Ph)(Qr.T),o=(0,Pe.W6)();(0,m.useEffect)(()=>{t&&!e&&o.push(xe.tH.signupAgeGateConfirm)},[o,t,e])}();const{handlePopupHide:o,handlePopupShow:n}=R_(),r=(0,Pe.W6)(),{pathname:a}=(0,Pe.zy)(),s=(0,m.useCallback)(e=>{e.keyCode!==rs.D.Esc&&e.stopPropagation()},[]),l=(0,IS.Z)(),{isModal:c}=(0,en.Ph)(Pi.t),[d,u]=(0,m.useState)(!1);return"KR"!==l||c||d||(u(!0),r.push(xe.tH.signupPolicyConfirm)),e||a===xe.tH.signupHome?(0,i.FD)(kl,{onKeyDown:s,isCountrySelector:a===xe.tH.signupCountrySelector,isInterestSelector:a===xe.tH.signupInterestSelector,children:[(0,i.Y)(nv,{page:"signup"}),(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.signupHome,component:kp,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupPhoneOrEmail,component:Wx,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupPhone,component:Wx,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupEmail,component:Yx,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCreatePassword,component:Rx,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCreateUsername,component:Mx,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCreateAccount,component:Lx,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupAgeGate,component:wx,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupAgeGateConfirm,component:kC,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupPolicyConfirm,component:YC,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCountrySelector,component:Jk,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupInterestSelector,component:oC,exact:!0}),(0,i.Y)(ki,{path:"*",component:kp})]}),(0,i.Y)(vC,{isMobile:!1}),!c&&(0,i.Y)(Rk,{hideByDefault:!0,onShow:n,onHide:o})]}):(0,i.Y)($a.R,{center:!0,style:{margin:"auto"}})}),Gx=()=>(0,i.FD)(i.FK,{children:[(0,i.Y)(ki,{path:xe.tH.loginHome,component:I_}),(0,i.Y)(ki,{path:xe.tH.signupHome,component:Vx}),(0,i.Y)(ns,{}),(0,i.Y)(ss,{})]});var $x=o(33075),qx=function(e){return e[e.Video=1e3]="Video",e[e.VideoEUCopyright=1001]="VideoEUCopyright",e[e.VideoNetzdg=1002]="VideoNetzdg",e[e.VideoNetzdgReport=1003]="VideoNetzdgReport",e[e.VideoNetzdgReportDelay=10031]="VideoNetzdgReportDelay",e[e.VideoAvia=1004]="VideoAvia",e[e.Photo=1005]="Photo",e[e.PhotoNetzdg=1006]="PhotoNetzdg",e[e.PhotoKopig=1007]="PhotoKopig",e[e.PhotoAvia=1008]="PhotoAvia",e[e.VideoTco=1009]="VideoTco",e[e.PhotoTco=1010]="PhotoTco",e[e.VideoGeneralMask=1011]="VideoGeneralMask",e[e.PaidContentVideo=1012]="PaidContentVideo",e[e.PaidContentCollectionInfo=1013]="PaidContentCollectionInfo",e[e.VideoCopyrightStayDown=1014]="VideoCopyrightStayDown",e[e.VideoCreatorFund=1015]="VideoCreatorFund",e[e.VideoNow=1016]="VideoNow",e[e.PhotoNow=1017]="PhotoNow",e[e.VideoNowNetzdg=1018]="VideoNowNetzdg",e[e.VideoNowAvia=1019]="VideoNowAvia",e[e.PhotoNowNetzdg=1020]="PhotoNowNetzdg",e[e.PhotoNowKopig=1021]="PhotoNowKopig",e[e.PhotoNowAvia=1022]="PhotoNowAvia",e[e.VideoPhotosensitiveMask=1023]="VideoPhotosensitiveMask",e[e.VideoDMCA=1024]="VideoDMCA",e[e.PhotoDMCA=1025]="PhotoDMCA",e[e.VideoTrademark=1026]="VideoTrademark",e[e.PhotoTrademark=1027]="PhotoTrademark",e[e.EffectVideoTrademark=1028]="EffectVideoTrademark",e[e.EffectVideoCopyright=1029]="EffectVideoCopyright",e[e.VideoNotRecommend=1030]="VideoNotRecommend",e[e.PaidContentVideoNetzDG=1031]="PaidContentVideoNetzDG",e[e.PaidContentVideoAvia=1032]="PaidContentVideoAvia",e[e.CopyrightStrike=1033]="CopyrightStrike",e[e.TrademarkStrike=1034]="TrademarkStrike",e[e.VideoDSA=1035]="VideoDSA",e[e.VideoGNE=1036]="VideoGNE",e[e.PhotoDSA=1037]="PhotoDSA",e[e.VideoLHDSAArticleNine=1038]="VideoLHDSAArticleNine",e[e.PhotoNotRecommend=1039]="PhotoNotRecommend",e[e.PaidContentVideoDSA=1040]="PaidContentVideoDSA",e[e.EffectDSA=1041]="EffectDSA",e[e.SeriesVideoCopyright=1042]="SeriesVideoCopyright",e[e.SeriesVideoTrademark=1043]="SeriesVideoTrademark",e[e.SeriesCollectionCopyright=1044]="SeriesCollectionCopyright",e[e.SeriesCollectionTrademark=1045]="SeriesCollectionTrademark",e[e.Account=2e3]="Account",e[e.AccountProfile=2001]="AccountProfile",e[e.AccountUnderAge=2002]="AccountUnderAge",e[e.AccountLiveBan=2003]="AccountLiveBan",e[e.AccountOriginal=2004]="AccountOriginal",e[e.AccountOriginalForVideo=20041]="AccountOriginalForVideo",e[e.AccountLinkSuspend=2005]="AccountLinkSuspend",e[e.AccountLinkReset=20051]="AccountLinkReset",e[e.AccountInfringementBan=2006]="AccountInfringementBan",e[e.AccountSCMLabel=2008]="AccountSCMLabel",e[e.AccountLinkBan=2009]="AccountLinkBan",e[e.AccountAGSBan=2010]="AccountAGSBan",e[e.AccountAGSElement=20101]="AccountAGSElement",e[e.AccountAGSWarning=20102]="AccountAGSWarning",e[e.AccountAGSLastWarning=20103]="AccountAGSLastWarning",e[e.AccountPostBan=20104]="AccountPostBan",e[e.AccountIFFBan=20105]="AccountIFFBan",e[e.AccountIFFTimeExtend=20106]="AccountIFFTimeExtend",e[e.AccountStickerAccessBan=20107]="AccountStickerAccessBan",e[e.AccountProfileCopyright=2011]="AccountProfileCopyright",e[e.AccountProfileTrademark=2012]="AccountProfileTrademark",e[e.AccountBRICBan=2013]="AccountBRICBan",e[e.AccountImpersonationBan=2014]="AccountImpersonationBan",e[e.AccountIPStrikeBan=2015]="AccountIPStrikeBan",e[e.AccountProfileDSA=2016]="AccountProfileDSA",e[e.AccountCST=2017]="AccountCST",e[e.AccountEscalationTool=2018]="AccountEscalationTool",e[e.AccountADS=2019]="AccountADS",e[e.AccountCircumvention=2020]="AccountCircumvention",e[e.AccountHolistic=2021]="AccountHolistic",e[e.CCoC=2027]="CCoC",e[e.Comment=3e3]="Comment",e[e.CommentKopig=3001]="CommentKopig",e[e.CommentKopigReport=3002]="CommentKopigReport",e[e.CommentNetzdg=3003]="CommentNetzdg",e[e.CommentNetzdgReport=3004]="CommentNetzdgReport",e[e.CommentNetzdgReportDelay=30041]="CommentNetzdgReportDelay",e[e.CommentAvia=3005]="CommentAvia",e[e.CommentDSA=3006]="CommentDSA",e[e.CommentWithPhoto=3007]="CommentWithPhoto",e[e.OneLinerDSA=3008]="OneLinerDSA",e[e.SeriesReviewDSA=3009]="SeriesReviewDSA",e[e.RessoComment=3100]="RessoComment",e[e.CommentWithPhotoDSA=3101]="CommentWithPhotoDSA",e[e.AudioTns=4e3]="AudioTns",e[e.AudioCopyrightMM=4001]="AudioCopyrightMM",e[e.AudioMuteByCreator=4002]="AudioMuteByCreator",e[e.AudioDSA=4003]="AudioDSA",e[e.AudioNotRecommend=4004]="AudioNotRecommend",e[e.AudioCopyrightMcc=4005]="AudioCopyrightMcc",e[e.Live=5e3]="Live",e[e.LiveComment=5001]="LiveComment",e[e.LiveCommentMachine=50011]="LiveCommentMachine",e[e.LiveAgsRoom=5002]="LiveAgsRoom",e[e.LiveInfringement=5003]="LiveInfringement",e[e.LiveGNE=5004]="LiveGNE",e[e.LiveCommentDSA=5005]="LiveCommentDSA",e[e.DirectMessage=6e3]="DirectMessage",e[e.GroupChat=6001]="GroupChat",e[e.PublicBulletin=6002]="PublicBulletin",e[e.GroupChatEnforcement=6003]="GroupChatEnforcement",e[e.Anchor=7e3]="Anchor",e[e.Hashtag=8e3]="Hashtag",e[e.HashtagDSA=8001]="HashtagDSA",e[e.POIComment=3e5]="POIComment",e[e.POICommentIllegal=300004]="POICommentIllegal",e[e.SubSpaceCommentIllegal=300006]="SubSpaceCommentIllegal",e}({});const Kx=Object.freeze({LogOut:0,InternalWeb:1,ExternalWeb:2,Native:3,InternalAppealWeb:4,ExternalAppealWeb:5}),Zx=[qx.AccountEscalationTool,qx.AccountCircumvention,qx.AccountBRICBan],Jx=(0,m.memo)(()=>{const[{showAccountBanModal:e,accountAppealRes:t,verifyTicket:o,userId:n},{setShowAccountBanModal:r}]=(0,en.Su)($x.T),a=ct(oa),s=(e,i)=>[Kx.InternalAppealWeb,Kx.ExternalAppealWeb].includes(e.btn_type)?()=>{var r;const s=null!==(r=e.btn_url)&&void 0!==r?r:"";a.setAccountStatusInfo({accountAppealRes:t,url:s,verifyTicket:o,userId:n}),a.setVisible(!0),i()}:e.btn_type===Kx.ExternalWeb?()=>{e.btn_url?window.open(e.btn_url):i()}:i,l=(0,m.useCallback)(()=>{r({show:!1})},[r]),c=(null==t?void 0:t.pop_content_with_url)?(null==(d=t.pop_content_with_url)?void 0:d.text)?(null==d||null===(p=d.links)||void 0===p||null===(u=p[0])||void 0===u?void 0:u.text)?d.text.replace("%s",d.links[0].text):d.text:"":null==t?void 0:t.pop_content;var d,u,p;const g=(h=null==t?void 0:t.button_list,v=l,(null!=h?h:[]).filter(e=>e.btn_type===Kx.LogOut||!(e.btn_type!==Kx.ExternalWeb||!e.btn_url)||!![Kx.InternalAppealWeb,Kx.ExternalAppealWeb].includes(e.btn_type)&&!!Zx.includes(null==t?void 0:t.appeal_type)).map(e=>{var t;return{variant:e.btn_style===Kx.LogOut?"primary":"secondary",text:null!==(t=e.btn_content)&&void 0!==t?t:"",onClick:s(e,v)}}));var h,v;const{value:_}=(0,m.useContext)(Yt),{isRTL:f}=(0,Co.m)();return(0,i.Y)("div",{children:(0,i.Y)(ko.juU,{colorSchemePreference:_?"dark":"light",textDirection:f?"rtl":"ltr",zIndexConfig:Ut.zIndex,children:(0,i.Y)(ko.yl7,{zIndex:9999,title:null==t?void 0:t.pop_title,message:c,actionVariant:"text",isVisible:e,actionDirection:"vertical",actions:g})})})});var Qx=o(63619),Xx=o(48632);const eP=(0,Wt.A)("div",{target:"e1pdjumk0"})(({theme:e})=>[(0,va.mp)({direction:e.direction,start:"0"}),{background:e.colors.BGPrimary,borderRadius:"8px 8px 0 0",width:"100%",padding:"16px",textAlign:"center"}],"label:DivContainer;"),tP=(0,Wt.A)("div",{target:"e1pdjumk1"})(({fill:e})=>({height:"64px",width:"64px",borderRadius:"50%",position:"relative",background:"rgba(22, 24, 35, .03)",display:"inline-block","&::before, &::after":{width:"5px",height:"23px",display:"block",content:'""',background:null!=e?e:"#fe3824",position:"absolute",left:"50%",transform:"translate(-50%, 16px)"},"&::after":{height:"5px",transform:"translate(-50%, 43px)"}}),"label:DivIcon;"),oP=(0,Wt.A)("i",{target:"e1pdjumk2"})(({theme:e})=>[(0,va.mp)({direction:e.direction,end:"16px"}),{position:"absolute",top:"16px",cursor:"pointer"}],"label:IClose;"),nP=(0,Wt.A)("p",{target:"e1pdjumk3"})([({theme:e})=>(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),{lineHeight:"20px",fontSize:"17px",margin:"24px 0",textAlign:"center"}],"label:PDesc;"),iP={US:{1357:"login_deactivated_popup_website_text_US"},1357:"login_deactivated_popup_website_text_nonUS",1384:"ban_age_gate_removed_pc_text"},rP={1357:"login_deactivated_popup_webapp_text",1384:"ban_age_gate_removed_mobile_text"},aP=(0,m.memo)(()=>{const e=(0,xi.s)(K.i_.Login),[{showRiskModal:t,errorCode:o,showInstagramRisk:n=!1},r]=(0,en.Su)($m.S),{region:a,appType:s}=(0,xo.L$)((0,tn.W)(()=>["region","appType"],[])),{isMobile:l}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),c=((e,t,o)=>{var n,i;if(o)return t?rP[o]:null!==(n=null===(i=iP[e])||void 0===i?void 0:i[o])&&void 0!==n?n:iP[o]})(a,l,o)||(n?"login_new_ins_mobile_body":"login_risk_popup_body"),d=(0,m.useCallback)(()=>{r.setShowRiskModal(!1),r.setShowInstagramCantLoginModal(!1)},[r]),u=(0,m.useCallback)(()=>{const e=(({pid:e,downloadLink:t="",appType:o,pageName:n,enterMethod:i,samsung:r=!1,wid:a,utmCampaign:s,activationAd:l,region:c,config:d,modalType:u,extraOnelinkParams:p})=>{const{samsungEnableRegion:g}=(0,xo.L$)(d),{region:m=[],isFull:h}=(0,xo.L$)(g),v=r||navigator.userAgent.indexOf("SamsungBrowser")>-1&&(h||m.includes(c)),_="1"===(0,Cn.Hd)("is_from_samsung_quick_access");t||(t=v?"https://snssdk1233.onelink.me/bIdt":"t"===o?"https://www.tiktok.com/download-link/ol/BAuo":"https://www.tiktok.com/download-link/ol/bIdt");const f=(0,Cn.Hd)("webapp_launch_mode"),b=(0,Cn.Hd)("webapp_original_traffic_type");let y="tiktokwebother";e?y=e:"paid"===f?y="tiktokwebsem":("referral_amp"===f||"organic"===f)&&(y="tiktokwebseo");const w=(0,Me.qu)(navigator.userAgent)||(0,Me.KJ)(navigator.userAgent)?"mobile":"pc",k=n,S=null!=l?l:`${i?`enter_method:${i};`:""}${u?`modal_type:${u};`:""}`,C={jump_time:Date.now(),af_adset:f,pid:y,af_siteid:w,c:k,af_ad:S,web_id:a,wid:a,af_ad_id:b};"paid"===f&&(C.is_retargeting=!0,C.af_click_lookback="1d");const x=(0,Cn.Hd)("utm_source"),P=(0,Cn.Hd)("utm_medium"),T=(0,Cn.Hd)("utm_campaign"),O=(0,Cn.Hd)("utm_term"),A=(0,Cn.Hd)("utm_content"),E=s?`${s},${T}`:T,L=(0,Cn.Hd)("referer_url"),j=(0,Cn.Hd)("referer_video_id"),I=`${x?`source:${x};`:""}${P?`medium:${P};`:""}${E?`campaign:${E};`:""}${O?`term:${O};`:""}${A?`content:${A};`:""}`,R=`${L?`referer_url:${L}};`:""}${j?`referer_video_id:${j};`:""}`;if(I&&(C.af_adset_id=I),R&&(C.af_channel=R),v&&_&&(C.pid="samsungbrowser",C.c=`samsungbrowser_${null==c?void 0:c.toLowerCase()}`,C.af_click_lookback="1d",C.af_android_url="https://apps.samsung.com/appquery/appDetail.as?appId=com.zhiliaoapp.musically",C.af_dp="snssdk1233://"),"undefined"!=typeof window){C.canonical=encodeURIComponent(`${oc}${decodeURIComponent(location.pathname)}`);const e=on.parse(location.search);e.embed_source&&(C.embed_source=e.embed_source)}return p&&Object.assign(C,p),`${t}?${on.stringify(C)}`})({appType:s,enterMethod:"login_anti_spam",pageName:ht.f.commonParams.page_name});(e=>{const t=navigator.userAgent&&-1!==navigator.userAgent.indexOf("CriOS")?"_self":"_blank",o=window.open(e,t);o&&(o.opener=null)})(e)},[s]);return(0,i.Y)(Ih,{visible:t||n,maskCloseable:!1,children:(0,i.FD)(eP,{"data-e2e":"instagram-modal",children:[(0,i.Y)(tP,{}),(0,i.Y)(oP,{onClick:d,"data-e2e":"instagram-modal-close",children:(0,i.Y)($s.A,{})}),(0,i.Y)(nP,{"data-e2e":"instagram-modal-desc",children:e(c)}),(0,i.Y)(kg,{onClick:u,"data-e2e":"instagram-modal-button",children:e("login_risk_popup_button")})]})})}),sP=()=>{const[{phoneNotRegistered:e=!1},{setPhoneNotRegistered:t}]=(0,en.Su)(Gi.$),{registerPhone:o}=(0,en.wA)(Ap.H),n=(0,Pe.W6)(),r=(0,IS.Z)(),a=(0,m.useCallback)(()=>{t(!1),o({region:r})},[t,o,r]),s=(0,m.useCallback)(()=>{t(!1),n.goBack()},[t,n]),l=(0,m.useMemo)(()=>[{text:"common_login_sms_popup_option_1",onClick:a},{text:"common_login_sms_popup_option_2",onClick:s}],[s,a]);return(0,i.Y)(Eg,{visible:e,title:"common_login_sms_popup_text",actions:l})},lP=(0,Wt.A)("div",{target:"e7p76pd0"})({padding:"0 32px",flex:"1",minHeight:"550x"},"label:DivMobileBody;");const cP=e=>{const{children:t,onSubmit:o}=e,n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["children","onSubmit"]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(tl,Object.assign({},n)),(0,i.Y)(lP,{children:o?(0,i.Y)(Rg,{onSubmit:e.onSubmit,children:t}):t})]})},dP=()=>{var e;const t=(0,xi.s)(K.i_.Login),o=Ad(),{birthday:n}=(0,en.Ph)(Qr.T),{mobile:r}=(0,en.Ph)($i.U),[{code:a},{sendPhoneCodeForLogin:s,sendPhoneCodeForVerify:l}]=(0,en.Su)(Mp.m),[{loginLoading:c},{handleSmsLogin:d,handleSmsVerify:u}]=(0,en.Su)(Gi.$),{isSecurityVerification:p}=(0,Ti.U)(()=>["isSecurityVerification"],[]),g=null===(e=(0,Pe.W5)(xe.tH.signupPhoneDigit))||void 0===e?void 0:e.isExact,h=Bp(),v=(0,IS.Z)(),_=(0,m.useCallback)(()=>{p?l({mobile:r}):s({mobile:r,region:v})},[p,r,v,s,l]),f=(0,m.useCallback)(()=>{o({platform:Hi.WN.Sms,signUp:g});const e={birthday:g?n:void 0,mobile:r,phoneCode:a,login_only:!g};p?u(e):d(e)},[o,g,n,r,a,p,u,d]);return Ee(),(0,i.FD)(i.FK,{children:[(0,i.Y)(kh,{codeFromNumber:r,onClickSendCode:_,onSubmit:f,loading:c,errorMsg:h}),!g&&(0,i.Y)(Cp,{text:t("login_option_password"),path:xe.tH.loginPhonePassword})]})},uP=(0,Wt.A)("div",{target:"e1ntpldy0"})(({theme:e})=>({height:"40px",borderBottom:`1px solid ${e.colors.LinePrimary2}`,display:"flex",padding:"0 16px",boxSizing:"border-box",width:"100%",marginInlineStart:"50%",transform:"rtl"===e.direction?"translateX(50%)":"translateX(-50%)",marginBottom:"40px"}),"label:DivTabWrapper;"),pP=(0,Wt.A)("div",{target:"e1ntpldy1"})(({theme:e,selected:t})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:t?"TextPrimary":"TextQuaternary"}),{textAlign:"center",lineHeight:"40px",transition:"all .1s",flex:1,margin:"0 10px",borderBottom:"2px solid",borderBottomColor:t?e.colors.TextPrimary:"transparent",whiteSpace:"nowrap"}],"label:DivTab;"),gP=(0,m.memo)(function(e){const{tabs:t,currentTab:o}=e;return(0,i.Y)(uP,{children:t.map(({text:n,e2e:r},a)=>(0,i.Y)(pP,{onClick:e.onSwitchTab(a),selected:t[o].text===n,"data-e2e":r,children:n},a))})}),mP=(0,Wt.A)("div",{target:"eybrrr40"})(({theme:e})=>[(0,va.mp)({direction:e.direction,end:"0"}),{width:"20px",position:"fixed",top:"50%",transform:"translateY(-50%)",textAlign:"center"}],"label:DivLetterListContainer;"),hP=(0,Wt.A)("div",{target:"eybrrr41"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont"}),{fontWeight:600,fontSize:"12px",lineHeight:"14px",color:"rgba(22, 24, 35, .5)"}],"label:DivLetterItem;"),vP=e=>(0,i.Y)(mP,{children:qg.W.map(t=>(0,i.Y)(hP,{onClick:e.onClick(t.label),children:t.label},t.label))});const _P=e=>{const{onClose:t}=e,o=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["onClose"]),n=(0,xi.s)(K.i_.Login),r=(0,m.useRef)(null),a=(0,m.useCallback)(e=>()=>{var t,o;const n=document.getElementById(e);null==r||null===(o=r.current)||void 0===o||o.scrollTo(0,null!==(t=null==n?void 0:n.offsetTop)&&void 0!==t?t:0)},[]);return(0,i.FD)(um,{ref:r,children:[(0,i.Y)(tl,{onClose:e.onClose,showRight:!1,title:n("select_region"),showClose:!0}),(0,i.FD)(pm,{children:[(0,i.Y)(nm,Object.assign({},o)),(0,i.Y)(vP,{onClick:a})]})]})},fP=(0,Wt.A)("div",{target:"eex98o0"})({marginBottom:"12px"},"label:DivContainer;"),bP=(0,Wt.A)(yg,{target:"eex98o1"})({flex:1,width:0,marginBottom:"0"},"label:StyledBaseInput;");bP.defaultProps=Object.assign(Object.assign({},bP.defaultProps),{"data-e2e":"phone-number-input"});const yP=(0,Wt.A)("div",{target:"eex98o2"})(({theme:{colors:e},errState:t})=>[{transition:"all 0.3s",display:"flex",borderBottom:"1px solid",input:{color:t?e.Negative:"unset",paddingInlineStart:"8px"},borderColor:t?e.Negative:e.LineSecondary2}],"label:DivPhoneInputContainer;"),wP=(0,Wt.A)("div",{target:"eex98o3"})(({theme:{colors:e,direction:t}})=>[{display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",padding:"2px",height:"44px","::after":{content:'""',width:"1px",height:"10px",background:e.LineSecondary,right:"rtl"===t?"unset":"0",left:"rtl"===t?"0":"unset",position:"absolute"}}],"label:DivAreaLabelContainer;"),kP=(0,Wt.A)("span",{target:"eex98o4"})(({theme:{colors:e}})=>[{fontSize:"15px",lineHeight:1,color:e.TextPrimary,fontWeight:400}],"label:SpanLabelContainer;"),SP=(0,Wt.A)(ds.A,{target:"eex98o5"})({fontSize:"16px",margin:"0 4px"},"label:StyledArrowIcon;"),CP=(0,m.memo)(function({filterCountryList:e}){mm(e);const[t,o]=(0,en.Su)($i.U),{area:n,areaCode:r,phoneErrorMsg:a,showAreaCodeSelector:s,searchText:l,phone:c,matchSearchArea:d}=t,{checkPhoneNumberFormat:u}=o,{toggleAreaCodeSelector:p,selectAreaCode:g}=o,h=(0,xi.s)(K.i_.Login),v=Hp(),_=(0,m.useCallback)(e=>{u({phone:e.target.value.replace(/[^\d]/g,"")})},[u]),f=(0,m.useCallback)(({code:e,area:t})=>{g({code:e,area:t})},[g]),b=Boolean(a||v);return(0,i.FD)(fP,{children:[(0,i.FD)(yP,{errState:b,children:[(0,i.FD)(wP,{onClick:p,role:"select",children:[(0,i.FD)(kP,{children:[n," +",r]}),(0,i.Y)(SP,{})]}),s&&(0,i.Y)(_P,{onClose:p,matchSearchArea:d,filterCountryList:e,onSelected:f,currentSelectCode:r,searchText:l}),(0,i.Y)(bP,{value:c,border:!1,errState:b,placeholder:h("phone_number"),onChange:_,name:"mobile",inputMode:"tel"})]}),b&&(0,i.Y)(Cg,{text:h(a||v||""),type:"error"})]})}),xP=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{phone:t,mobile:o}=(0,en.Ph)($i.U),[{sendCodeLoading:n},{sendPhoneCodeForLogin:r,sendPhoneCodeForVerify:a}]=(0,en.Su)(Mp.m),{isSecurityVerification:s}=(0,Ti.U)(()=>["isSecurityVerification"],[]),l=(0,Pe.W5)(xe.tH.signupPhoneOrEmail),c=zg(xe.tH.loginEmail,xe.tH.loginPhonePassword),d=(0,m.useCallback)(()=>{const e={mobile:o,nextUrl:l?xe.tH.signupPhoneDigit:xe.tH.loginPhoneDigit,errorInterceptor:l?void 0:c.errorInterceptor};s?a(e):r(e)},[s,a,o,r,l,c.errorInterceptor]);return(0,i.FD)(Rg,{onSubmit:d,children:[(0,i.Y)(CP,{}),l&&(0,i.Y)(FS,{show:!0,asText:!0,i18nKey:"common_registration_phone_input_agreement"}),(0,i.Y)(kg,{loading:n,disabled:!t,"data-e2e":"login-button",children:e(l?"common_registration_phone_input_button":"Login")}),!l&&(0,i.Y)(Yg,Object.assign(Object.assign({},c),{isMobile:!0}))]})}),PP=(0,m.memo)(function(){var e;const t=(0,xi.s)(K.i_.Login),o=(0,Pe.W6)(),n=(0,Pe.W5)(`${xe.tH.loginPhoneOrEmail}/:type`),r="email"===(null==n||null===(e=n.params)||void 0===e?void 0:e.type)?1:0,a=(0,m.useMemo)(()=>[{text:t("Phone")},{text:t("common_login_email_input_tab"),e2e:"email-tab"}],[t]),s=(0,m.useCallback)(e=>()=>{0===e?o.replace(xe.tH.loginPhone):o.replace(xe.tH.loginEmail)},[o]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(gP,{tabs:a,currentTab:r,onSwitchTab:s}),0===r&&(0,i.Y)(xP,{}),1===r&&(0,i.Y)(Ug,{})]})}),TP=()=>{const e=(0,xi.s)(K.i_.Login),t=Ad(),[{loginLoading:o},{handlePasswordLogin:n}]=(0,en.Su)(Gi.$),{mobile:r}=(0,en.Ph)($i.U),{password:a}=(0,en.Ph)(Op),s=Bp(),l=(0,m.useCallback)(()=>{t({platform:Hi.WN.PhonePassword}),n({account:r,password:a,mobile:r})},[n,t,r,a]);return(0,i.FD)(Rg,{onSubmit:l,children:[(0,i.Y)(ph,{children:e("common_login_password_title")}),(0,i.Y)(Ng,{create:!1,loginError:Boolean(s)}),(0,i.Y)(Cg,{text:e(s),type:"error"}),(0,i.Y)(jg,{}),(0,i.Y)(kg,{loading:o,disabled:!a,children:e("Login")})]})},OP=()=>{const e=(0,xi.s)(K.i_.Login),{hideHomePage:t,loginTitle:o}=(0,Ti.U)(()=>["hideHomePage","loginTitle"],[]),n=t?o:"Login";return Ee(),(0,i.FD)(cP,{title:e(n,{},ar.fN),children:[(0,i.Y)(ki,{path:xe.tH.loginPhonePassword,component:TP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhoneOrEmail,component:PP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhone,component:PP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginEmail,component:PP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhoneDigit,component:dP,exact:!0})]})},AP=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),[{sendCodeLoading:t},{sendEmailCodeForReset:o}]=(0,en.Su)(Mp.m),[{emailErrorMsg:n,email:r=""},{setEmailInfo:a}]=(0,en.Su)(Rp.N),s=Hp(),l=(0,m.useCallback)(()=>{const e=(0,xp.Ro)(r);a({email:r,valid:e}),e&&o({email:r,email_logic_type:2,nextUrl:xe.tH.emailResetDigit})},[o,r,a]);return(0,i.FD)(Rg,{onSubmit:l,children:[(0,i.Y)(ph,{children:e("setting_password_email_verify_title")}),(0,i.Y)(gh,{children:e("common_login_reset_email_input_text")}),(0,i.Y)(jv,{errorMsg:s}),(0,i.Y)(kg,{loading:t,disabled:Boolean(n)||!r,children:e("common_registration_phone_input_button")})]})}),EP=(0,m.memo)(function(){const{email:e=""}=(0,en.Ph)(Rp.N),[{code:t},{sendEmailCodeForReset:o}]=(0,en.Su)(Mp.m),[{checkCodeLoading:n,errorMsg:r},{checkEmailCodeForReset:a,setErrorMsg:s}]=(0,en.Su)(Up);(0,m.useEffect)(()=>{s("")},[t,s]);const l=(0,m.useCallback)(()=>{o({email:e,email_logic_type:2})},[e,o]),c=(0,m.useCallback)(()=>{a({email:e,code:t})},[t,a,e]);return(0,i.Y)(kh,{codeFromNumber:e,onClickSendCode:l,onSubmit:c,loading:n,errorMsg:r,email:!0})}),LP=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),[{code:t},{sendPhoneCodeForForceResetPwd:o,sendEmailCodeForForceResetPwd:n}]=(0,en.Su)(Mp.m),[{forceResetResponse:r},{clearForceResetRes:a}]=(0,en.Su)(Gi.$),{conditional_login_ticket:s,mobile:l,email:c,type:d}=(0,xo.L$)(r),[{checkCodeLoading:u,errorMsg:p},{checkCodeForForceReset:g,setErrorMsg:h}]=(0,en.Su)(Up);(0,m.useEffect)(()=>{h("")},[t,h]);const v=(0,m.useCallback)(()=>{d===ar.Sk.Email?n({conditional_login_ticket:s}):o({conditional_login_ticket:s})},[n,o,s,d]),_=(0,m.useCallback)(()=>{g({conditional_login_ticket:s,code:t,type:d})},[g,s,t,d]);(0,m.useEffect)(()=>()=>{a()},[]);const f=d===ar.Sk.Email?e("setting_password_code_email_text",{email:c}):e("setting_password_code_sms_text",{mobile:l}).replace(/(\D{1})(4)(\D{1})/,(e,t,o,n)=>`${t}6${n}`);return(0,i.Y)(kh,{autoSendFirstTime:!0,codeDesc:f,codeFromNumber:s,onClickSendCode:v,onSubmit:_,loading:u,errorMsg:p,email:d===ar.Sk.Email})}),jP=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{phone:t,mobile:o}=(0,en.Ph)($i.U),[n,{sendPhoneCodeForResetPwd:r}]=(0,en.Su)(Mp.m),{sendCodeLoading:a}=n,s=(0,m.useCallback)(()=>{r({mobile:o,nextUrl:xe.tH.phoneResetDigit})},[r,o]);return(0,i.FD)(Rg,{onSubmit:s,children:[(0,i.Y)(ph,{children:e("setting_bind_phone_input_title")}),(0,i.Y)(gh,{children:e("common_login_reset_phone_input_text")}),(0,i.Y)(CP,{}),(0,i.Y)(kg,{loading:a,disabled:!t,children:e("common_registration_phone_input_button")})]})}),IP=(0,m.memo)(function(){const{mobile:e}=(0,en.Ph)($i.U),[{code:t},{sendPhoneCodeForResetPwd:o}]=(0,en.Su)(Mp.m),[{checkCodeLoading:n,errorMsg:r},{checkPhoneCodeForReset:a,setErrorMsg:s}]=(0,en.Su)(Up);(0,m.useEffect)(()=>{s("")},[t,s]);const l=(0,m.useCallback)(()=>{o({mobile:e})},[e,o]),c=(0,m.useCallback)(()=>{a({mobile:e,code:t})},[e,t,a]);return(0,i.Y)(kh,{codeFromNumber:e,onClickSendCode:l,onSubmit:c,loading:n,errorMsg:r})}),RP=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),t=(0,ke.Nj)(Hi.$F),o=Ad(),{password:n,lengthValid:r,contentValid:a}=(0,en.Ph)(Op),{ticket:s,type:l,conditional_login_ticket:c}=(0,en.Ph)(Up),[{loginLoading:d},{handleChangePwdByTicket:u,handleForceResetPwd:p}]=(0,en.Su)(Gi.$),g=Bp(),h=(0,m.useCallback)(()=>{c?(t.forceResetSubmit(),p({ticket:s,password:n,conditional_login_ticket:c,type:l})):(o({platform:"email"===l?Hi.WN.Email:Hi.WN.Sms}),u({password:n,ticket:s,type:l}))},[t,l,c,p,s,n,u]),v=!(s&&n&&r&&a);return(0,i.FD)(Rg,{onSubmit:h,children:[(0,i.Y)(ph,{children:e("common_login_reset_password_title")}),(0,i.Y)(Ng,{autoFocus:!0,loginErrorText:g}),(0,i.Y)(kg,{loading:d,disabled:v,children:e("Login")})]})}),MP=(0,Wt.A)("div",{target:"e1ku7a1t0"})(({theme:e})=>[{background:e.colors.BGPlaceholderDefault,padding:"8px 16px",color:e.colors.TextTertiary,width:"100vw",marginInlineStart:"-32px"}],"label:DivTips;"),DP=()=>{var e;const t=(0,xi.s)(K.i_.Login),{forceResetResponse:o}=(0,en.Ph)(Gi.$),n=(null===(e=(0,Pe.W5)([xe.tH.loginForgetPhonePassword,xe.tH.loginForgetEmailPassword]))||void 0===e?void 0:e.isExact)&&o,r=o?"":t("Reset");return Ee(),(0,i.FD)(cP,{title:r,showLeft:!n,children:[n&&(0,i.Y)(MP,{children:t("changepw_banner")}),(0,i.Y)(ki,{path:xe.tH.loginForgetEmailPassword,component:o?LP:AP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.emailResetDigit,component:EP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginForgetPhonePassword,component:o?LP:jP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.phoneResetDigit,component:IP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.resetPassword,component:RP,exact:!0})]})},FP=()=>{const e=(0,xi.s)(K.i_.Login);return Ee(),(0,i.Y)(cP,{title:e("Login"),children:(0,i.Y)(Um,{})})},NP=(0,Wt.A)("div",{target:"e5i7jb00"})({padding:"0 16px 112px",textAlign:"center"},"label:DivHomeContainer;"),UP=(0,Wt.A)(ko.pfZ,{target:"e5i7jb01"})({marginTop:"48px",marginBottom:32,display:"inline-block"},"label:StyledAvatar;"),BP=(0,Wt.A)("div",{target:"e5i7jb02"})({position:"fixed",bottom:0,left:0,right:0,padding:"0 16px 46px",background:"white"},"label:DivConfirmBtnContainer;"),HP=(0,Wt.A)(ko.I05,{target:"e5i7jb03"})({width:"100%"},"label:StyledConfirmBtn;"),zP=Wt.A.div`
  display: flex;
  gap: 12px;
  padding: 0 32px;

  & > svg {
    flex-shrink: 0;
  }
`,YP=()=>{const[e,t]=(0,m.useState)(!1),{errorMsg:o}=(0,en.Ph)(Gi.$),[n,r,a]=Jv(),s=(0,xi.s)(K.i_.Login),[l,c]=(0,m.useState)(!0),[d,u]=(0,m.useState)(!1),p=(0,m.useMemo)(()=>{var e;return null==n||null===(e=n.error)||void 0===e?void 0:e.bind_info},[n]),g=(0,m.useMemo)(()=>{const e=(null==p?void 0:p.mobile)||(null==p?void 0:p.email);return e?(0,i.Y)("b",{children:e}):d?s("M4appleBinding_bindAppleAccPage__desc3_usernamePlaceholder"):""},[d,p]),h=(0,Qv.F)(n),{lastAppleAuthInfo:v}=(0,qa.mZ)(),_=Xv(),f=(0,m.useCallback)(()=>{(0,er.P)(s("M2appleBinding_FYP_appleBound_toast")),Wv()(_,3e3),t(!0)},[]),b=(0,Qv.F)(r),{user:y}=(0,xo.L$)((0,tn.W)(()=>["user"],[])),w=(0,m.useCallback)(()=>{var e;const t=null===(e=h.current)||void 0===e?void 0:e.error;return b.current({userConfirmed:!0,m2_lookup_ticket:null==t?void 0:t.m2_lookup_ticket}).then(f).catch(e=>{console.error(e),e instanceof Error&&(0,er.P)(e.message,0)})},[b,f]);return(0,m.useEffect)(()=>{c(!0),b.current({userConfirmed:!1}).then(e=>{(null==e?void 0:e.data.error_code)?(c(!1),u(e.data.error_code===zi.v1.M2LogoutAppleIdBindWillLoose)):f()})},[b]),l?(0,i.Y)(ko.sgs,{size:"large",style:{margin:"auto"}}):o?(0,i.Y)(so,{style:{margin:"auto"},iconElem:(0,i.Y)(It.A,{width:72,height:72}),title:o,desc:"",buttonText:s("refresh"),onButtonClick:()=>{location.reload()}}):(0,i.FD)(i.FK,{children:[(0,i.FD)(NP,{children:[(0,i.Y)(UP,{style:{width:159,height:159},alt:"avatar",src:null==y?void 0:y.avatarUri[0]}),(0,i.Y)(ko.Fm,{as:"div",align:"center",weight:"bold",size:32,style:{padding:"0 32px",marginBottom:24},children:s("M4appleBinding_bindAppleAccPage_header_skippable",{s_currentUsername:null==p?void 0:p.target_bind_username})}),(0,i.FD)(zP,{children:[(0,i.Y)(Vv,{fontSize:20}),(0,i.Y)(ko.Fm,{as:"div",size:16,align:"start",children:s("M4appleBinding_bindAppleAccPage__desc1",{s_otherUsername:(0,i.Y)("b",{children:null==p?void 0:p.current_bind_username})})})]}),(0,i.FD)(zP,{style:{marginBottom:8},children:[(0,i.Y)(Gv,{fontSize:20}),(0,i.Y)(ko.Fm,{align:"start",size:16,as:"div",children:s("M4appleBinding_bindAppleAccPage__desc2",{s_currentUsername:(0,i.Y)("b",{children:null==p?void 0:p.target_bind_username}),s_otherUsername:(0,i.Y)("b",{children:null==p?void 0:p.current_bind_username})})})]}),(0,i.FD)(zP,{children:[(0,i.Y)(Gv,{fontSize:20}),(0,i.Y)(ko.Fm,{as:"div",size:16,align:"start",children:s("M4appleBinding_bindAppleAccPage__desc3",{s_otherUsername:(0,i.Y)("b",{children:null==p?void 0:p.current_bind_username}),s_emailOrPhoneNumberOrUsername:g})})]})]}),(0,i.Y)(BP,{children:(0,i.Y)(HP,{loading:a,disabled:!v||e,size:"large",label:s("M4appleBinding_bindAppleAccPage_btn1"),onClick:w})})]})},WP=(0,Wt.A)("div",{target:"e1119cid0"})({padding:"0 16px 112px",textAlign:"center"},"label:DivHomeContainer;"),VP=(0,Wt.A)(l_,{target:"e1119cid1"})({width:"343px",height:"147px",marginTop:48},"label:StyledVerifyBanner;"),GP=(0,Wt.A)("div",{target:"e1119cid2"})({position:"fixed",padding:"0 16px 46px",bottom:0,left:0,right:0,background:"white"},"label:DivVerifyBtnContainer;"),$P=(0,Wt.A)(ko.I05,{target:"e1119cid3"})({width:"100%"},"label:StyledVerifyBtn;");const qP=()=>{const e=(0,Pe.W6)(),t=(0,xi.s)(K.i_.Login),{appleSdkInitiating:o,handleAppleSDKInit:n}=k_(),{setLastAppleToken:r}=(0,qa.b1)(),{handleAuthentication:a}=S_(),s=(0,ke.Nj)(Hi.$F),l=(0,m.useCallback)(()=>{return t=void 0,o=void 0,i=function*(){s.m2AppleTransferPageShow({popup_type:"popup_window"});const t=yield a();r(t),e.push({pathname:xe.tH.m2TransferAppleId,search:"is_confirm=1"})},new((n=void 0)||(n=Promise))(function(e,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n(function(e){e(o)})).then(a,s)}l((i=i.apply(t,o||[])).next())});var t,o,n,i},[]);return(0,m.useEffect)(()=>{n()},[]),(0,i.FD)(i.FK,{children:[(0,i.FD)(WP,{children:[(0,i.Y)(VP,{}),(0,i.Y)(ko.Fm,{as:"div",weight:"bold",align:"center",size:32,children:t("M3appleBinding_forceBindPage_desc")})]}),(0,i.Y)(GP,{children:(0,i.Y)($P,{loading:o,size:"large",label:t("M4appleBinding_forceBindPage_btn"),onClick:l})})]})},KP=()=>{const{user:e,language:t}=(0,xo.L$)((0,tn.W)(()=>["user","language"],[])),{query:o}=(0,T.xw)(),n=(0,Pe.W6)(),{search:r}=(0,Pe.zy)(),a=(0,m.useMemo)(()=>{var e;return!(null===(e=(0,on.parse)(r))||void 0===e?void 0:e.hide_left_icon)},[r]),{redirectUrl:s}=(0,en.Ph)(Pi.t),{onClose:l}=Fd(),c=(0,m.useMemo)(()=>l?()=>l({redirectUrl:s}):"1"===o.back_on_close?()=>{n.goBack()}:void 0,[l,s]),{lastAppleAuthInfo:d}=(0,qa.mZ)(),u=(0,m.useMemo)(()=>!!new URLSearchParams(r).get("is_confirm"),[r]);return(0,m.useEffect)(()=>{e||(location.href=`/login?lang=${t}`)},[e]),(0,i.FD)(i.FK,{children:[(0,i.Y)(tl,{showClose:!0,showLeft:a,onClose:c}),u&&d?(0,i.Y)(YP,{}):(0,i.Y)(qP,{})]})},ZP=(0,Wt.A)("div",{target:"e1lb37av0"})({flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",background:"var(--ui-bg-1)",padding:"0 32px"},"label:DivContainer;"),JP=(0,Wt.A)("img",{target:"e1lb37av1"})({width:"120px",height:"120px",borderRadius:"50%",objectFit:"cover",marginTop:"110px"},"label:ImgAvatar;"),QP=(0,Wt.A)(ko.Fm,{target:"e1lb37av2"})({marginTop:"28px",lineHeight:"130%"},"label:StyledDivTitle;"),XP=(0,Wt.A)(ko.Fm,{target:"e1lb37av3"})({marginTop:"16px",lineHeight:"130%"},"label:StyledDivDesc;"),eT=(0,Wt.A)("div",{target:"e1lb37av4"})({width:"100%",paddingBottom:"72px"},"label:DivButtonWrapper;"),tT=(0,Wt.A)(ko.I05,{target:"e1lb37av5"})({width:"100%",height:"48px"},"label:StyledButton;");function oT(){const e=(0,Pe.W6)(),t=(0,xi.s)(K.i_.Login),{loginLoading:o,errorCode:n,errorMsg:r}=(0,en.Ph)(Gi.$),{handleM2BindLogin:a}=(0,en.wA)(Gi.$),s=(0,ke.Nj)(Hi.$F),l=e.location.state||{m2_lookup_ticket:"",bind_info:{nickname:"",avatar_url:"",email:""}},c=l.m2_lookup_ticket,d=l.bind_info,u=(0,m.useMemo)(()=>(null==d?void 0:d.nickname)||"",[d]),p=(0,m.useMemo)(()=>(null==d?void 0:d.email)||"",[d]),g=(0,m.useMemo)(()=>(null==d?void 0:d.avatar_url)||"",[d]);(0,m.useEffect)(()=>{n&&r&&(0,er.P)(r)},[n,r]);const h=(0,m.useCallback)(()=>{c&&(s.m2AppleBackPageClick(),a({m2_lookup_ticket:c}))},[c,a,s]);return(0,m.useEffect)(()=>{s.m2AppleBackPageShow()},[s]),c&&d?(0,i.FD)(ZP,{children:[(0,i.FD)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[g&&(0,i.Y)(JP,{src:g,alt:"User Avatar"}),(0,i.Y)(QP,{size:24,align:"center",weight:"bold",as:"div",children:t("M2account_iOS_signInWithApple_alreadyLinkedPage_title",{s_currentUsername:u},"Hello, @{s_currentUsername}")}),(0,i.Y)(XP,{size:15,align:"center",as:"div",children:t("M2account_iOS_signInWithApple_alreadyLinkedPage_desc",{s_currentUsername:u,s_emailAddress:p},"Your Apple Account's email address {s_emailAddress} is already linked to your TikTok account, @{s_currentUsername}. You can log in using your Apple Account or email address in the future.")})]}),(0,i.Y)(eT,{children:(0,i.Y)(tT,{label:t("M2account_iOS_signInWithApple_alreadyLinkedPage_btn"),variant:"primary",onClick:h,loading:o})})]}):(e.replace("/login"),null)}const nT=(0,m.memo)(()=>{const{enterMethod:e,closeable:t,groupId:o,lastGroupId:n}=(0,qa.mZ)(e=>({enterMethod:e.enterMethod,closeable:e.closeable,groupId:e.groupId,lastGroupId:e.lastGroupId}),gn.bN),{search:r}=(0,Pe.zy)(),{enter_from:a}=(0,Ki.parse)(r.slice(1));return ev({enterFrom:String(a),enterMethod:e,closeable:t,groupId:o,lastGroupId:n}),Ce({pid:"login"}),(0,i.FD)(i.FK,{children:[(0,i.Y)(nv,{page:"login"}),(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.m2TransferAppleId,component:KP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginHome,component:kp,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginQRcode,component:bp,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginPhoneOrEmail,component:OP}),(0,i.Y)(ki,{path:xe.tH.loginPhoneDigit,component:OP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginWithSignedEmail,component:FP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginForgetEmailPassword,component:DP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginForgetPhonePassword,component:DP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginReset,component:DP}),(0,i.Y)(ki,{path:xe.tH.loginTwoStepVerify,component:Yh,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginTwoStepVerify,component:Yh,exact:!0}),(0,i.Y)(ki,{path:xe.tH.loginM2Bind,exact:!0,component:oT}),(0,i.Y)(ki,{path:"*",component:kp})]}),(0,i.Y)(sP,{})]})}),iT=()=>{const{showAgeConfirm:e}=(0,en.Ph)(Qr.T);return(0,i.Y)(Ja.aF,{visible:e,children:(0,i.Y)(kC,{isModal:!0})})};var rT=o(34476);const aT=(0,Wt.A)("div",{target:"e1i2f2310"})({position:"absolute",marginTop:"24px",left:0,right:0},"label:DivWrapper;"),sT=new Date(1900,0,1,0,0,0),lT=new Date((new Date).getFullYear()-1,11,31,0,0,0),cT=ex(),dT=(0,m.memo)(function(){const e=(0,ke.Nj)(Hi.$F),[{year:t,month:o,date:n},{setBirthday:r,setMonth:a,setYear:s,setDate:l}]=(0,en.Su)(Qr.T),c=(0,xi.s)(K.i_.Login);(0,m.useEffect)(()=>{e.ageGateShow()},[]);const d=(0,m.useCallback)(e=>{var t;return(0,i.Y)(m.Fragment,{children:c(null===(t=cT[e])||void 0===t?void 0:t.key)})},[c]),u=(0,m.useCallback)(e=>{const t=e.getDate(),o=e.getMonth()+1,n=e.getFullYear();a({value:o,key:String(o-1)}),s({value:n,key:String(n)}),l({value:t,key:String(t)}),r({year:n,month:o,date:t})},[r,l,a,s]),p=(0,m.useMemo)(()=>{if(!(null==t?void 0:t.value)||!(null==o?void 0:o.value)||!(null==n?void 0:n.value)){const e=new Date;return new Date(lT.getFullYear(),e.getMonth(),e.getDate())}return new Date(t.value,o.value,n.value)},[t,o,n]);return(0,i.Y)(aT,{children:(0,i.Y)(rT.A,{className:"date-selector",defaultDate:p,mode:"date",maxDate:lT,minDate:sT,onDateChange:u,formatMonth:d})})}),uT=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{birthday:t,checkAgeLoading:o,ageErrorMsg:n="",showErrorByToast:r}=(0,en.Ph)(Qr.T),{signupLoading:a}=(0,en.Ph)(Ap.H),{user:s}=(0,xo.L$)((0,tn.W)(()=>["user"],[])),{handleCheckAge:l,nextStep:c}=iC();(0,m.useEffect)(()=>{n&&r&&(0,er.P)(e(n))},[r,n,e]);const d=Boolean(n)&&!r;return Ee(),(0,i.FD)(cP,{title:e("sign_up"),children:[(0,i.Y)(ph,{"data-e2e":"birthday-text",children:e("common_registration_agegate_title")}),(0,i.Y)(gh,{"data-e2e":"birthday-desc",children:e("mus_age_gate_tips")}),(0,i.Y)(yg,{errorState:d,disableDelete:!0,placeholder:e("birthdate_placeholder"),value:t,readonly:!0}),d&&(0,i.Y)(Cg,{text:e(n),type:"error"}),(0,i.Y)(kg,{disabled:!t||Boolean(s),onClick:l,loading:a||o,"data-e2e":"next-button",children:e("common_registration_email_input_button")}),(0,i.Y)(dT,{}),(0,i.Y)(QC,{isMobile:!0,onContinue:c})]})}),pT=(0,Wt.A)("div",{target:"ekgsvu50"})({height:"30px",overflow:"hidden",marginTop:"32px"},"label:DivWrapper;"),gT=(0,Wt.A)("div",{target:"ekgsvu51"})(({theme:{colors:e}})=>[{position:"relative",background:e.BGPrimary,borderColor:e.LineSecondary,width:"100%",display:"flex",overflowX:"auto",alignItems:"center",paddingBottom:"10px"}],"label:DivSuggestListWrapper;"),mT=(0,Wt.A)("span",{target:"ekgsvu52"})(({theme:e,disabled:t})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:t?"TextTertiary":"TextPrimary",fontWeight:"semiBold"}),{padding:"6px 10px",fontSize:"13px",lineHeight:"14px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",marginInlineEnd:"8px",whiteSpace:"nowrap"}],"label:SpanItem;"),hT=(0,m.memo)(function({labelText:e="common_registration_email_input_suggested",list:t=[],onSelect:o}){const n=(0,xi.s)(K.i_.Login);return(0,i.Y)(pT,{children:(0,i.FD)(gT,{children:[(0,i.Y)(mT,{disabled:!0,children:n(e)}),t.map((e,t)=>(0,i.Y)(mT,{onClick:o(`${e}`),children:e},t))]})})}),vT=(0,m.memo)(function(){var e;const[{usernameInfo:t},{setUsername:o}]=(0,en.Su)(Ap.H),n=(0,m.useCallback)(e=>()=>{o(e)},[o]);return(null==t?void 0:t.isValid)||!(null==t||null===(e=t.suggestList)||void 0===e?void 0:e.length)?null:(0,i.Y)(hT,{onSelect:n,list:null==t?void 0:t.suggestList})}),_T=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{usernameInfo:t}=(0,en.Ph)(Ap.H),o=(0,Pe.W6)();rC();const n=(0,m.useCallback)(()=>{o.push({pathname:xe.tH.signupCreatePassword,state:{createAccount:!0}})},[o]);return Ee(),(0,i.FD)(cP,{title:e("sign_up"),onSubmit:n,children:[(0,i.FD)(ph,{children:[" ",e("common_login_sms_popup_option_1")]}),(0,i.FD)(gh,{children:[" ",e("mus_create_account_desc")," "]}),(0,i.Y)(Ex,{ftc:!0}),(0,i.Y)(kg,{disabled:!(null==t?void 0:t.isValid),children:e("common_registration_email_input_button")}),(0,i.Y)(vT,{})]})}),fT=()=>{const e=(0,xi.s)(K.i_.Login),[{loginLoading:t},{setAccount:o}]=(0,en.Su)(Gi.$),{usernameRegister:n}=(0,en.wA)(Ap.H),{password:r,lengthValid:a,contentValid:s}=(0,en.Ph)(Op),l=(0,Pe.zy)(),{createAccount:c}=(0,xo.L$)(l.state),d=(0,IS.Z)(),u=(0,m.useCallback)(()=>{c?n({password:r,region:d}):o({password:r,nextUrl:xe.tH.signupCreateUsername})},[o,r,c,n,d]),p=!r||!s||!a;return Ee(),(0,i.FD)(cP,{LeftIcon:c?void 0:Ix,onSubmit:u,title:e("sign_up"),children:[(0,i.Y)(ph,{children:e("common_registration_password_title")}),(0,i.Y)(Ng,{autoFocus:!0}),(0,i.Y)(kg,{disabled:p,loading:t,children:e("common_registration_email_input_button")})]})},bT=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),{usernameInfo:t,username:o}=(0,en.Ph)(Ap.H),[{loginLoading:n},{setAccount:r}]=(0,en.Su)(Gi.$),a=(0,m.useCallback)(()=>{r({username:o})},[r,o]);return Ee(),(0,i.FD)(cP,{title:e("sign_up"),onSubmit:a,LeftIcon:Ix,children:[(0,i.Y)(ph,{children:e("common_registration_username_title")}),(0,i.Y)(gh,{children:e("common_registration_username_text")}),(0,i.Y)(Ex,{}),(0,i.Y)(kg,{loading:n,disabled:!(null==t?void 0:t.isValid),children:e("common_notification_unlogged_button")}),(0,i.Y)(vT,{})]})}),yT=(0,m.memo)(function(){const{email:e=""}=(0,en.Ph)(Rp.N),[{code:t},{sendEmailCodeForSignup:o}]=(0,en.Su)(Mp.m),[{errorMsg:n,signupLoading:r},{emailRegister:a}]=(0,en.Su)(Ap.H),s=(0,Pe.zy)(),{password:l}=s.state||{},c=(0,IS.Z)(),d=(0,m.useCallback)(()=>{o({email:e,region:c})},[e,o,c]),u=(0,m.useCallback)(()=>{a({email:e,code:t,password:l,region:c})},[t,a,e,l,c]);return Ee(),(0,i.Y)(kh,{autoSendFirstTime:!0,codeFromNumber:e,onClickSendCode:d,onSubmit:u,loading:r,errorMsg:n,email:!0})}),wT=()=>{const e=(0,xi.s)(K.i_.Login),{password:t,lengthValid:o,contentValid:n}=(0,en.Ph)(Op),r=(0,Pe.W6)(),a=(0,m.useCallback)(()=>{r.push({pathname:xe.tH.signupEmailDigit,state:{password:t}})},[r,t]),s=!t||!n||!o;return Ee(),(0,i.FD)(Rg,{onSubmit:a,children:[(0,i.Y)(ph,{children:e("common_registration_password_title")}),(0,i.Y)(Ng,{autoFocus:!0}),(0,i.Y)(kg,{disabled:s,children:e("common_notification_unlogged_button")})]})},kT=(0,m.memo)(function(){const{setSuggestEmailSuffixConfig:e}=(0,en.wA)(Rp.N),{emailSuffixConfig:t}=(0,Ti.U)(()=>["emailSuffixConfig"],[]),o=(0,m.useCallback)(t=>()=>{e(t)},[e]),n=t.map(e=>`@${e}`);return(0,i.Y)(hT,{list:n,onSelect:o})}),ST=(0,m.memo)(function(){const e=(0,xi.s)(K.i_.Login),[{email:t="",emailErrorMsg:o,checkEmailLoading:n},{checkEmailRegistered:r}]=(0,en.Su)(Rp.N),a=Hp(),s=(0,m.useCallback)(()=>{r()},[r]);return(0,i.FD)(Rg,{onSubmit:s,children:[(0,i.Y)(jv,{errorMsg:a}),(0,i.Y)(FS,{show:!0,asText:!0}),(0,i.Y)(Bx,{}),(0,i.Y)(kg,{loading:n,disabled:!t||Boolean(o),"data-e2e":"next-button",children:e("common_registration_email_input_button")}),(0,i.Y)(kT,{})]})}),CT=(0,m.memo)(function(){var e;const t=(0,xi.s)(K.i_.Login),o=(0,Pe.W6)(),n=(0,Pe.W5)(`${xe.tH.signupPhoneOrEmail}/:type`),r="email"===(null==n||null===(e=n.params)||void 0===e?void 0:e.type)?1:0,a=(0,m.useMemo)(()=>[{text:t("Phone")},{text:t("Email"),e2e:"email-tab"}],[t]),s=(0,m.useCallback)(e=>()=>{0===e?o.replace(xe.tH.signupPhone):o.replace(xe.tH.signupEmail)},[o]);return Ee(),(0,i.FD)(i.FK,{children:[(0,i.Y)(gP,{tabs:a,currentTab:r,onSwitchTab:s}),0===r&&(0,i.Y)(xP,{}),1===r&&(0,i.Y)(ST,{})]})}),xT=()=>{const e=(0,xi.s)(K.i_.Login);return(0,i.FD)(cP,{title:e("sign_up"),children:[(0,i.Y)(ki,{path:xe.tH.signupPhoneOrEmail,component:CT}),(0,i.Y)(ki,{path:xe.tH.signupPhoneDigit,component:dP,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupEmailDigit,component:yT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupEmailCreatePassword,component:wT,exact:!0})]})},PT=(0,m.memo)(function(){return(0,i.Y)(cP,{showRight:!1,children:(0,i.Y)(YC,{})})}),TT=(0,m.memo)(()=>{const e=(0,qa.mZ)(e=>e.groupId),{handlePopupHide:t,handlePopupShow:o}=R_();return tv(e),nC(),Ce({pid:"signup"}),(0,i.FD)(i.FK,{children:[(0,i.Y)(nv,{page:"signup"}),(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.signupHome,component:kp,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupPhoneOrEmail,component:xT}),(0,i.Y)(ki,{path:xe.tH.signupPhoneDigit,component:xT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupEmailDigit,component:xT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupEmailCreatePassword,component:xT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCreatePassword,component:fT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCreateUsername,component:bT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCreateAccount,component:_T,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupAgeGate,component:uT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupPolicyConfirm,component:PT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.signupCountrySelector,component:Jk,exact:!0}),(0,i.Y)(ki,{path:"*",component:kp})]}),(0,i.Y)(iT,{}),(0,i.Y)(vC,{isMobile:!0}),(0,i.Y)(Rk,{hideByDefault:!0,onShow:o,onHide:t})]})}),OT=(0,Wt.A)("div",{target:"e1apasj50"})({paddingTop:"150px",textAlign:"center"},"label:DivWrapper;"),AT=(0,Wt.A)("p",{target:"e1apasj51"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),{fontSize:"17px",lineHeight:"20px",marginTop:"20px"}],"label:PTitleContainer;"),ET=(0,Wt.A)("div",{target:"e1apasj52"})([({theme:e})=>(0,va.zy)({theme:e,color:"TextSecondary",fontFamily:"TikTokFont"}),{lineHeight:"17px",marginTop:"12px",textAlign:"center",fontSize:"14px"}],"label:DivContentWrapper;"),LT=(0,Wt.A)("div",{target:"e1apasj53"})({position:"absolute",bottom:"32px",left:"32px",right:"32px"},"label:DivButtonWrapper;"),jT=()=>{const e=(0,xi.s)(K.i_.Login),t=(0,Pe.W6)(),o=(0,Pe.zy)(),n=(0,ke.Nj)(Hi.$F),[{inCancellationResponse:r},{cancelDeleteAccount:a}]=(0,en.Su)(Gi.$);(0,m.useEffect)(()=>{var e;(null===(e=o.state)||void 0===e?void 0:e.init)||t.replace(xe.tH.loginHome)},[o,t]);const s=(0,m.useCallback)(()=>{a();const e=(null==r?void 0:r.apply_time)?Math.floor((Date.now()-1e3*r.apply_time)/24/60/60/1e3):null;n.reactiveConfirmClick({is_delete:(null==r?void 0:r.isStopAccount)?0:1,num_days_reactive:e})},[a,null==r?void 0:r.apply_time,null==r?void 0:r.isStopAccount,n]),l=(0,m.useCallback)(()=>{t.push(xe.tH.loginHome);const e=(null==r?void 0:r.apply_time)?Math.floor((Date.now()-1e3*r.apply_time)/24/60/60/1e3):null;n.reactiveCancelClick({is_delete:(null==r?void 0:r.isStopAccount)?0:1,num_days_reactive:e})},[t,null==r?void 0:r.apply_time,null==r?void 0:r.isStopAccount,n]);return(0,i.Y)(cP,{showLeft:!1,showRight:!1,children:(0,i.FD)(OT,{children:[(0,i.Y)(tP,{fill:"rgba(22, 24, 35, 0.45)"}),(0,i.Y)(AT,{children:e("reactivate_h1")}),(0,i.Y)(ET,{children:e("logback_reactivate_desc")}),(0,i.FD)(LT,{children:[(0,i.Y)(kg,{onClick:s,children:e("reactivate_btn")}),(0,i.Y)(kg,{buttonTheme:"default",onClick:l,style:{marginTop:"16px"},children:e("common_registration_phone_input_popup_button")})]})]})})};function IT(){return(0,m.useEffect)(()=>{location.reload()},[]),null}const RT=()=>{const{language:e}=(0,xo.L$)((0,tn.W)(()=>["language"],[])),t="ar"===e||"ur"===e||"he-IL"===e;return function(){const{ttNotInstalled:e,ttNotInstalledToastShown:t}=(0,Ti.U)(()=>["ttNotInstalled","ttNotInstalledToastShown"],[]),{setContext:o}=(0,en.wA)(Pi.t),n=jd(),i=(()=>{const e=(0,Pe.W6)();return(0,m.useCallback)(t=>{const o=e.location,n=new URLSearchParams(o.search);t(n);const i=n.toString();e.replace({pathname:o.pathname,search:i})},[e])})();(0,m.useEffect)(()=>{e&&!t&&(o({ttNotInstalledToastShown:!0}),n(),i(e=>{e.delete("tt_not_installed")}))},[])}(),(0,i.FD)(i.FK,{children:[(0,i.FD)(Vo.mg,{children:[(0,i.Y)("link",{rel:"stylesheet",href:Qx}),(0,i.Y)("link",{rel:"stylesheet",href:Xx})]}),(0,i.Y)(yo.mL,{styles:Za(t)}),(0,i.Y)(ki,{path:xe.tH.loginHome,component:nT}),(0,i.Y)(ki,{path:xe.tH.signupHome,component:TT}),(0,i.Y)(ki,{path:xe.tH.accountDeactivate,component:jT}),(0,i.Y)(ki,{path:"/coin",component:IT}),(0,i.Y)(aP,{})]})},MT=(0,Wt.A)("div",{target:"e1lgi0990"})({display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},"label:DivOauthBodyContainer;");const DT=(0,m.memo)(function(){const[{errorMsg:e},{handleLoginResult:t}]=(0,en.Su)(Gi.$),o=Xv(),n=(0,ke.Nj)(Yi.r),r=(0,xi.s)(K.i_.Login);return(0,m.useCallback)(()=>{return e=this,o=void 0,r=function*(){const{data:e,error:o}=yield(0,Pr.s)(n.preLogoutCheckForAppleIdBinding());return e.error_code===zi.v1.M2LogoutBindRequired?{shouldBindAppleId:!0}:e.error_code?(t(o),Promise.reject(o)):{shouldBindAppleId:!1}},new((i=void 0)||(i=Promise))(function(t,n){function a(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i(function(e){e(o)})).then(a,s)}l((r=r.apply(e,o||[])).next())});var e,o,i,r},[]),(0,m.useEffect)(()=>{o()},[]),(0,i.Y)(MT,{children:e?(0,i.Y)(so,{iconElem:(0,i.Y)(It.A,{width:72,height:72}),title:e,desc:"",buttonText:r("refresh"),onButtonClick:()=>{location.reload()}}):(0,i.Y)($a.R,{})})}),FT=(0,Wt.A)("div",{target:"e10jupx40"})({display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},"label:DivOauthBodyContainer;"),NT=(0,m.memo)(function(){const{search:e}=(0,Pe.zy)(),{oauth_token:t,oauth_verifier:o,error:n,oauthType:r,state:a}=(0,on.parse)(e),s=(0,ke.Nj)(Hi.$F),l=(0,ke.Nj)(Te.VU),{authPageGoRedirect:c}=(0,en.wA)(Hr);return(0,m.useEffect)(()=>{vr(null==r?void 0:r.toString()),l.handleThirdGetToken({error_code:t&&o?0:-1,error_message:String(n)}),t&&o?(cr(Xi.lv.TWITTER,{oauth_token:t.toString(),oauth_verifier:o.toString()}),window.parent?window.authDoneClose=!0:c({platform:Xi.lv.LINE,state:a})):s.thirdPartyLoginResult({status:Hi.zm.Failed,error_code:-1,error_desc:null==n?void 0:n.toString()})},[n,s,t,o,l,r,c]),(0,i.Y)(FT,{children:(0,i.Y)($a.R,{})})}),UT=()=>{const{search:e}=(0,Pe.zy)(),{code:t,error:o,state:n}=(0,on.parse)(e),r=(0,ke.Nj)(Hi.$F),a=(0,ke.Nj)(Te.VU),{authPageGoRedirect:s}=(0,en.wA)(Hr);return(0,m.useEffect)(()=>{vr(),a.handleThirdGetToken({error_code:t?0:-1,error_message:String(o)}),t?(cr(Xi.lv.LINE,{code:null==t?void 0:t.toString()}),window.opener?window.authDoneClose=!0:s({platform:Xi.lv.LINE,state:n})):r.thirdPartyLoginResult({status:Hi.zm.Failed,error_code:-1,error_desc:String(o)})},[t,o,r,a,s]),(0,i.Y)(FT,{children:(0,i.Y)($a.R,{})})};var BT=o(6041);const HT=()=>{const{userAgent:e}=(0,xo.L$)((0,tn.W)(()=>["userAgent"],[])),t=(null==e?void 0:e.includes("tiktok"))&&(null==e?void 0:e.includes("TTElectron")),o=t&&(null==e?void 0:e.includes("osName/Mac")),n=t&&!o,[i,r]=(0,m.useState)(t),[a,s]=(0,m.useState)(o),[l,c]=(0,m.useState)(n);return(0,m.useEffect)(()=>{const{isElectron:e,osVersion:t=""}=(0,xo.L$)(window.TTE_ENV),o=t.includes("Mac OS");r(e),s(e&&o),c(e&&!o)},[]),{isElectronApp:i,isMacElectronApp:a,isWinElectronApp:l}},zT=e=>{ht.f.sendEvent("private_notify_click",e)};var YT,WT;function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},VT.apply(null,arguments)}const GT=function(e){return m.createElement("svg",VT({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 50 50",width:"1em",height:"1em"},e),YT||(YT=m.createElement("g",{clipPath:"url(#icon_svg__clip0)"},m.createElement("path",{d:"M15.029 13.695a7.618 7.618 0 1115.235 0 7.618 7.618 0 01-15.235 0zM22.646 4c-5.354 0-9.695 4.34-9.695 9.695 0 5.354 4.34 9.695 9.695 9.695s9.695-4.34 9.695-9.695c0-5.354-4.34-9.695-9.695-9.695zM5.081 43.861c1.066-8.393 8.375-14.921 17.274-14.921 1.813 0 3.56.271 5.201.774.53.162 1.104-.101 1.295-.62l.03-.082c.19-.517-.074-1.093-.6-1.258a19.807 19.807 0 00-5.926-.901c-9.964 0-18.21 7.351-19.352 16.87-.066.548.353 1.025.904 1.062l.08.006c.551.037 1.025-.381 1.094-.93zm28.672-9.39H30.61a.692.692 0 00-.692.692V45.55c0 .383.31.693.692.693h16.62c.383 0 .693-.31.693-.693V35.163a.692.692 0 00-.693-.693h-3.143-10.333zm-.373-2.078h-2.77a2.77 2.77 0 00-2.77 2.77V45.55a2.77 2.77 0 002.77 2.77h16.62A2.77 2.77 0 0050 45.55V35.163a2.77 2.77 0 00-2.77-2.77h-2.77v-2.77a5.54 5.54 0 10-11.08 0v2.77zm2.078 0h6.925v-2.77a3.463 3.463 0 10-6.925 0v2.77z",clipRule:"evenodd"}))),WT||(WT=m.createElement("defs",null,m.createElement("clipPath",{id:"icon_svg__clip0"},m.createElement("path",{fill:"white",d:"M0 0h50v50H0z"})))))},$T=(0,Wt.A)("div",{target:"e6r3pim0"})(({theme:e})=>({margin:e.isMobile?"30px 32px 0":"80px auto 0",maxWidth:"400px"}),"label:DivContainer;"),qT=(0,Wt.A)("div",{target:"e6r3pim1"})(({theme:e})=>({width:"80px",height:"80px",fontSize:"50px",margin:"24px auto",border:`1px solid ${e.colors.LineSecondary}`,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}),"label:DivIcon;"),KT=(0,Wt.A)("div",{target:"e6r3pim2"})(({theme:e})=>[(0,va.zy)({theme:e,fontWeight:"bold",fontFamily:"TikTokDisplayFont"}),{textAlign:"center",fontSize:"24px",lineHeight:"28px",marginBottom:"24px"}],"label:DivTitle;"),ZT=(0,Wt.A)("div",{target:"e6r3pim3"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextSecondary"}),{fontSize:"16px",textAlign:"center",lineHeight:"22px",marginBottom:"12px"}],"label:DivDescription;"),JT=(0,Wt.A)("span",{target:"e6r3pim4"})(({theme:e})=>[{fontSize:"16px",lineHeight:"22px",color:e.colors.Primary,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"}],"label:SpanLinkText;"),QT=()=>{const e=(0,xi.s)(K.i_.Login),{handlePrivateConfirm:t}=(0,en.wA)(BT.S),{isElectronApp:o}=HT(),n=(0,m.useCallback)(()=>{t(),zT({result:"ok"})},[t]),r=(0,m.useCallback)(()=>{zT({result:"learn_more"})},[]);return(0,m.useEffect)(()=>{ht.f.sendEvent("private_notify_show")},[]),Ee(),(0,i.FD)($T,{children:[(0,i.Y)(qT,{children:(0,i.Y)(GT,{})}),(0,i.Y)(KT,{children:e("title_private_on")}),(0,i.Y)(ZT,{children:e("descrip_private_on_signup")}),(0,i.Y)(jl,{isJumpOutside:!0,underline:!1,target:o?"_blank":void 0,path:"https://support.tiktok.com/en/account-and-privacy/account-privacy-settings/making-your-account-public-or-private",children:(0,i.FD)(JT,{onClick:r,children:[e("link_learn_more_private_accounts_signup")," >"]})}),(0,i.Y)(kg,{onClick:n,bottonTheme:"text",children:e("button_signup_private_on")})]})},XT=(0,Wt.A)("div",{target:"e1xbfihi0"})({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",padding:"24px 20px 6px"},"label:DivLinkPhoneOrEmailContainer;"),eO={wordWrap:"break-word"},tO=(0,Wt.A)("div",{target:"e1xbfihi1"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",fontStyle:"normal"}),Object.assign({fontSize:20,lineHeight:"25px"},eO)],"label:DivLinkPhoneOrEmailTitleContainer;"),oO=(0,Wt.A)("div",{target:"e1xbfihi2"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontStyle:"normal"}),Object.assign({color:e.colors.TextTertiaryAlt,fontSize:15,lineHeight:"19.5px",marginTop:"12px",marginBottom:"20px",letterSpacing:"0.061px"},eO)],"label:DivLinkPhoneOrEmailDescContainer;"),nO=(0,Wt.A)(to,{target:"e1xbfihi3"})({width:"100%",height:"48px",lineHeight:"21px",padding:"8px 14px",borderRadius:"8px",marginBottom:"1px"},"label:StyledLinkButton;"),iO=(0,Wt.A)("div",{target:"e1xbfihi4"})(({isMobile:e})=>({display:"flex",flexDirection:"column",justifyContent:e?"start":"center",alignItems:"center",height:"100%",padding:e?"30px":"48px",textAlign:e?"start":"center"}),"label:DivLinkPhoneContainer;"),rO=(0,Wt.A)("div",{target:"e1xbfihi5"})({height:"100%",padding:"48px"},"label:DivMobileDigitCodeContainer;"),aO=(0,Wt.A)("div",{target:"e1xbfihi6"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",fontStyle:"normal"}),Object.assign({fontSize:24,lineHeight:"30px"},eO)],"label:DivLinkPhoneTitle;"),sO=(0,Wt.A)("div",{target:"e1xbfihi7"})(({theme:e,isMobile:t=!1})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont"}),Object.assign({marginTop:t?"8px":"67px",display:"inline-flex",justifyContent:"center",alignItems:"center",fontSize:"16px",lineHeight:"20.8px",fontWeight:"400"},eO)],"label:DivBottomTextContainer;"),lO=(0,Wt.A)(jl,{target:"e1xbfihi8"})(({theme:e})=>[(0,va.mp)({direction:e.direction,marginStart:"5px"}),{fontWeight:500,fontSize:"16px",lineHeight:"20.8px",display:"inline-block",":visited":{color:e.colors.Primary}}],"label:StyledBottomLinkText;"),cO=()=>{const e=(0,xi.s)(),{isMobile:t}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{colors:o}=(0,ve.u)(),{emailErrorMsg:n,email:r=""}=(0,en.Ph)(Rp.N),[{sendCodeLoading:a,code:s,codeFormatError:l},{sendEmailCodeForBindAccount:c}]=(0,en.Su)(Mp.m),d=Bp(),[{bindEmailLoading:u},{checkAndBindEmail:p}]=(0,en.Su)(Ip),g=(0,m.useCallback)(()=>{if(t){const e=xe.tH.linkEmailDigit;c({email:r,nextUrl:e})}else c({email:r})},[t,r,c]),h=(0,m.useCallback)(()=>{p({email:r,code:s})},[r,s,p]),v=(0,m.useCallback)(()=>{Ep.ClickFeedback()},[Ep]),_=(0,m.useMemo)(()=>{var e;return!(null===(e=(0,on.parse)(location.search))||void 0===e?void 0:e.hide_left_icon)},[location]),f=!r||!s||Boolean(l)||Boolean(n);(0,m.useEffect)(()=>{Ep.clickLinkEmail()},[]);const b=(0,m.useMemo)(()=>({maxWidth:"100%",minWidth:t?"unset":"376px"}),[t]);return(0,i.FD)(i.FK,{children:[t&&(0,i.Y)(tl,{showLeft:_}),(0,i.Y)(iO,{isMobile:t,children:(0,i.FD)(Rg,{style:b,children:[(0,i.Y)(aO,{children:e("login_fb_noLonger_LinkEmailAddress")}),(0,i.FD)(oO,{children:[e("login_fb_noLonger_EmailLoginAlternative")," ",(0,i.Y)("a",{style:{color:o.TextPrimary},target:"_blank",href:Vs.Feedback,onClick:v,rel:"noopener noreferrer",children:e("login_fb_noLonger_GiveFeedback")})]}),t?(0,i.FD)(i.FK,{children:[(0,i.Y)(jv,{errorMsg:n}),(0,i.Y)(kg,{disabled:Boolean(n)||!r,loading:a,onClick:g,children:e("login_fb_noLonger_phone_send_cta")}),(0,i.FD)(sO,{isMobile:t,children:[(0,i.Y)("div",{children:e("login_fb_noLonger_can'tVerifyEmail")}),(0,i.Y)(lO,{path:xe.tH.linkPhone,text:e("login_fb_noLonger_can'tVerifyEmail_usePhone"),textTheme:"primary"})]})]}):(0,i.FD)(i.FK,{children:[(0,i.Y)(jv,{}),(0,i.Y)(jm,{email:!0,disabled:Boolean(n)||!r,codeFromNumber:r,loading:a,onClickSendCode:g,errorMsg:d}),(0,i.FD)(sO,{isMobile:t,children:[(0,i.Y)("div",{children:e("login_fb_noLonger_can'tVerifyEmail")}),(0,i.Y)(lO,{path:xe.tH.linkPhone,text:e("login_fb_noLonger_can'tVerifyEmail_usePhone"),textTheme:"primary"})]}),(0,i.Y)(kg,{disabled:f,loading:u,onClick:h,children:e("login_fb_link_cta")})]})]})})]})},dO=(0,m.memo)(function(){const{email:e=""}=(0,en.Ph)(Rp.N),[{code:t},{sendEmailCodeForBindAccount:o}]=(0,en.Su)(Mp.m),[{bindEmailLoading:n,errorMsg:r},{checkAndBindEmail:a,setErrorMsg:s}]=(0,en.Su)(Ip);(0,m.useEffect)(()=>{s("")},[t,s]);const l=(0,m.useCallback)(()=>{o({email:e})},[e,o]),c=(0,m.useCallback)(()=>{a({email:e,code:t})},[e,t,a]),d=(0,m.useMemo)(()=>{var e;return!(null===(e=(0,on.parse)(location.search))||void 0===e?void 0:e.hide_left_icon)},[location]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(tl,{showLeft:d}),(0,i.Y)(rO,{children:(0,i.Y)(kh,{codeFromNumber:e,onClickSendCode:l,onSubmit:c,loading:n,errorMsg:r,email:!0})})]})}),uO=()=>{const e=(0,xi.s)(),{isMobile:t}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[])),{mobile:o,phoneErrorMsg:n}=(0,en.Ph)($i.U),[{sendCodeLoading:r,code:a,codeFormatError:s},{sendPhoneCodeForBindAccount:l}]=(0,en.Su)(Mp.m),[{bindPhoneLoading:c},{checkAndBindPhone:d}]=(0,en.Su)(Ip),u=Bp(),p=o&&a&&!n&&!s,g=(0,m.useCallback)(()=>{if(t){const e=xe.tH.linkPhoneDigit;l({mobile:o,nextUrl:e})}else l({mobile:o})},[t,o,l]),h=(0,m.useCallback)(()=>{d({mobile:o,code:a})},[o,a,d]),v=(0,m.useMemo)(()=>{var e;return!(null===(e=(0,on.parse)(location.search))||void 0===e?void 0:e.hide_left_icon)},[location]);(0,m.useEffect)(()=>{Ep.clickLinkPhoneNumber()},[]);const _=(0,m.useMemo)(()=>({maxWidth:"100%",minWidth:t?"unset":"376px"}),[t]);return(0,i.FD)(i.FK,{children:[t&&(0,i.Y)(tl,{showLeft:v}),(0,i.Y)(iO,{isMobile:t,children:(0,i.FD)(Rg,{style:_,children:[(0,i.Y)(aO,{children:e("login_fb_noLonger_LinkPhoneReminder")}),(0,i.Y)(oO,{children:e("login_fb_noLonger_LoginWithPhoneNextTime")}),t?(0,i.FD)(i.FK,{children:[(0,i.Y)(CP,{}),(0,i.Y)(kg,{disabled:Boolean(n)||!o,loading:r,onClick:g,children:e("login_fb_noLonger_phone_send_cta")}),(0,i.FD)(sO,{children:[(0,i.Y)("div",{children:e("login_fb_noLonger_can'tVerifyPhone")}),(0,i.Y)(lO,{path:xe.tH.linkEmail,text:e("login_fb_noLonger_can'tVerifyPhone_useEmail"),textTheme:"primary"})]})]}):(0,i.FD)(i.FK,{children:[(0,i.Y)(Sm,{}),(0,i.Y)(jm,{disabled:Boolean(n)||!o,codeFromNumber:o,loading:r,errorMsg:u,onClickSendCode:g}),(0,i.FD)(sO,{children:[(0,i.Y)("div",{children:e("login_fb_noLonger_can'tVerifyPhone")}),(0,i.Y)(lO,{path:xe.tH.linkEmail,text:e("login_fb_noLonger_can'tVerifyPhone_useEmail"),textTheme:"primary"})]}),(0,i.Y)(kg,{disabled:!p,loading:c,onClick:h,children:e("login_fb_link_cta")})]})]})})]})},pO=(0,m.memo)(function(){const{mobile:e}=(0,en.Ph)($i.U),[{code:t},{sendPhoneCodeForBindAccount:o}]=(0,en.Su)(Mp.m),[{bindPhoneLoading:n,errorMsg:r},{checkAndBindPhone:a,setErrorMsg:s}]=(0,en.Su)(Ip);(0,m.useEffect)(()=>{s("")},[t,s]);const l=(0,m.useCallback)(()=>{o({mobile:e})},[e,o]),c=(0,m.useCallback)(()=>{a({mobile:e,code:t})},[e,t,a]),d=(0,m.useMemo)(()=>{var e;return!(null===(e=(0,on.parse)(location.search))||void 0===e?void 0:e.hide_left_icon)},[location]);return(0,i.FD)(i.FK,{children:[(0,i.Y)(tl,{showLeft:d}),(0,i.Y)(rO,{children:(0,i.Y)(kh,{codeFromNumber:e,onClickSendCode:l,onSubmit:c,loading:n,errorMsg:r})})]})}),gO=()=>{const{setLoginModalShow:e,setIsLinkPhoneOrEmail:t,setIsLoginOnLoadClosed:o}=(0,qa.b1)(),{isModal:n}=(0,en.Ph)(Pi.t),r=(0,Pe.W6)(),{search:a}=(0,Pe.zy)(),{colors:s}=(0,ve.u)(),l=(0,xi.s)(),c=(0,m.useCallback)(()=>{r.push({pathname:xe.tH.linkPhone,search:n?a:""}),t(!1)},[r,n,a,t]),d=(0,m.useCallback)(()=>{e(!1),o({isLoginOnLoadClosed:!0})},[e]);return(0,i.FD)(XT,{children:[(0,i.Y)(tO,{children:l("login_fb_noLonger_LinkPhoneNumber")}),(0,i.Y)(oO,{children:l("login_fb_noLonger_LinkPhoneNumberReminder")}),(0,i.Y)(nO,{size:"medium",buttonTheme:"primary",onClick:c,children:l("login_fb_noLonger_LinkPhone")}),(0,i.Y)(nO,{size:"medium",buttonTheme:"default",style:{border:"none",fontWeight:"400",fontSize:"16px",color:s.TextTertiaryAlt},onClick:d,children:l("login_fb_noLonger_notNow_cta")})]})},mO=(0,m.memo)(()=>{const e=(0,tn.W)(()=>["user"],[]),{isMobile:t}=(0,xo.L$)((0,Po.U)(()=>["isMobile"],[]));return Dn()?(null==e?void 0:e.user)?(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.linkPhoneOrEmail,component:gO,exact:!0}),(0,i.Y)(ki,{path:xe.tH.linkPhone,component:uO,exact:!0}),(0,i.Y)(ki,{path:xe.tH.linkEmail,component:cO,exact:!0}),t&&(0,i.Y)(ki,{path:xe.tH.linkPhoneDigit,component:pO,exact:!0}),t&&(0,i.Y)(ki,{path:xe.tH.linkEmailDigit,component:dO,exact:!0})]}):(0,i.Y)(bi.rd,{to:xe.tH.loginHome}):(0,i.Y)(bi.rd,{to:"https://www.tiktok.com/foryou"})}),hO=(0,m.createContext)(null);hO.Provider;var vO=o(33582),_O=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function fO(){const{isRegisterWithPrivateOn:e}=(0,en.Ph)(BT.S),{success:t}=(0,en.Ph)(Gi.$),{redirectUrl:o,lastSuccessPlatform:n,sendBackItpFlag:i}=(0,en.Ph)(Pi.t),{success:r}=(0,en.Ph)(Ap.H),{success:a}=(0,en.Ph)(Ip),{language:s,env:l,abTestVersion:c}=(0,xo.L$)((0,tn.W)(()=>["language","env","abTestVersion"],[])),{updateState:d}=(0,en.wA)(Od),{pathname:p}=(0,Pe.zy)(),{isAndroid:g,isMobile:h=!1}=(0,xo.L$)((0,Po.U)(()=>["isMobile","isAndroid"],[])),v=(0,xi.s)(K.i_.Login),_=(0,Pe.W6)(),f=(0,ke.Nj)(Yi.r),b=(()=>{var e;const t=(()=>{const e=(0,qa.mZ)(e=>e.isRedirectToProfilePage),{language:t,env:o}=(0,xo.L$)((0,tn.W)(()=>["language","env"],[]));return(0,m.useCallback)(({showLoginSuccessToast:n,showOneTapSuccessPopup:i,isShowOneTapSuccessPopup:r,relatedPromises:a,delay1sPromise:s,defaultRedirect:l,url:c})=>{r||n();const d=e=>_O(void 0,void 0,void 0,function*(){if(r)return i(e);yield Promise.all([...a,s]).catch(u()),l(e)});if(!e)return d(c);_O(void 0,void 0,void 0,function*(){var e;const t=yield fetch((0,on.stringifyUrl)({url:"/node-webapp/api/common-app-context"})),o=yield t.json();return null==o||null===(e=o.user)||void 0===e?void 0:e.uniqueId}).then(e=>{const n=$r(t,"boe"===(null==o?void 0:o.type),`${oc}/@${e}`);d(n)}).catch(e=>{console.error(`Error Occur when fetching user uniqueId and about to redirect to profile page: ${e}`)})},[e,t,o])})(),{handler:o}=null!==(e=(0,m.useContext)(hO))&&void 0!==e?e:{};return null!=o?o:t})();(0,m.useEffect)(()=>{a&&(h?setTimeout(()=>{location.href=`https://www.tiktok.com/foryou?lang=${s}`},1e3):setTimeout(()=>{window.location.reload()},3e3))},[a,h]),(0,m.useEffect)(()=>{if(!t&&!r)return;if(e)return _.push(xe.tH.signupPrivateOn);const a=function(e=1e3){return new Promise(t=>setTimeout(t,e))}(1e3),u=hd(),m=vd.includes(u)&&n===Hi.WN.TIKTOK&&!!g&&p===xe.tH.loginHome,h=$r(s,"boe"===(null==l?void 0:l.type),o),y=new URL(h),w=`${y.pathname}${y.search}`,k=ye.nf.getLoginSuccessE2ETrackingProps(),{onLoginPage:S,onTargetPage:C}=(0,vO.x)(c),x=S?[f.refreshSessionPromise]:[],P=(()=>{let e=ig().name;if(!e)return!1;e=og(e);const{browser_name:t}=ng();return"ios"===e||"mac_os"===e&&"safari"===t})()&&i&&C;b({defaultRedirect:e=>((e,t=!1)=>{t&&(0,Cn.J2)("should_refresh_session","1"),ye.nf.setUpLoginSuccessE2ETracking(),location.href=e})(e,P),url:h,nonOriginUrl:w,trackingProps:k,relatedPromises:x,delay1sPromise:a,showLoginSuccessToast:({duration:e}={})=>{const o=t===ar.Rs.Reactive?v("reactivate_toast"):v("Login Success");(0,er.P)(o,e)},showOneTapSuccessPopup:(e=h)=>d({isLoginSuccessPopupVisible:!0,successPopupRedirectUrl:e}),isShowOneTapSuccessPopup:m,shouldRefreshSessionOnTargetPage:P})},[s,v,o,r,t,e,_,l,n,b,i])}var bO=o(9469);const yO=(0,Wt.A)("div",{target:"ermvtw20"})(({theme:e})=>({background:e.colors.BGPrimary,borderRadius:"8px",maxWidth:e.isMobile?"300px":"400px",padding:"0px 32px 32px",textAlign:"center"}),"label:DivContainer;"),wO=(0,Wt.A)("h5",{target:"ermvtw21"})(({theme:e})=>[(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"20px",lineHeight:"24px"}],"label:H5Title;"),kO=(0,Wt.A)("p",{target:"ermvtw22"})([({theme:e})=>(0,va.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont"}),{lineHeight:"20px",margin:"24px 0",textAlign:"center"}],"label:PDesc;"),SO=e=>{const t=(0,xi.s)(K.i_.Login),{title:o,text:n,buttonText:r,visible:a,supportText:s}=e,{language:l}=(0,xo.L$)((0,tn.W)(()=>["language"],[])),c={marginTop:"16px"};return(0,i.Y)(Ja.aF,{visible:a,maskCloseable:!1,onClose:e.onClose,children:(0,i.FD)(yO,{children:[o&&(0,i.Y)(wO,{children:t(o)}),(0,i.Y)(kO,{children:t(n)}),s&&(0,i.Y)("a",{href:`https://support.tiktok.com?lang=${l}`,target:"_blank",rel:"noopener noreferrer",children:(0,i.Y)(kg,{style:c,children:t(null!=r?r:"twosv_recover_pw_popup_btn")})}),(0,i.Y)(kg,{buttonTheme:"default",onClick:e.onClose,style:c,children:t(null!=r?r:"OK")})]})})},CO={[ar.Go.AccountNotExist]:{title:"age_verify_login_inexistent",subTitle:"age_verify_login_inexistent_intro"},[ar.Go.InEligible]:{title:"age_verify_login_ineligible",subTitle:"age_verify_login_ineligible_intro"},[ar.Go.TwoStepBlock]:{title:"twosv_login_sms_block_title",subTitle:"twosv_login_sms_block_content"},[ar.Go.TwoStepBlockResetPwd]:{title:"twosv_recover_pw_popup_title",subTitle:"twosv_recover_pw_popup_desc",supportText:"twosv_recover_pw_popup_btn"}},xO=()=>{var e;const t=(0,Pe.W6)(),[{showAlertMessageType:o},{setShowAlertMessageType:n}]=(0,en.Su)(Pi.t),r=null===(e=(0,Pe.W5)(xe.tH.loginHome))||void 0===e?void 0:e.isExact,a=(0,m.useCallback)(()=>{var e;n(ar.Go.Null);const{message:o}=(0,on.parse)(window.location.search),i=new RegExp(`&?message=${o}`);t.replace({pathname:xe.tH.loginHome,search:null===(e=window.location)||void 0===e?void 0:e.search.replace(i,"")})},[t,n]);return(0,m.useEffect)(()=>{o&&!r&&t.push(xe.tH.loginHome)},[o,t,r]),o?(0,i.Y)(SO,{supportText:CO[o].supportText,visible:Boolean(o),title:CO[o].title,text:CO[o].subTitle,onClose:a}):null};var PO=o(18835),TO=o(11983);const OO="642px",AO=(0,Wt.A)("div",{target:"e1eduv0b0"})(({fixedHeight:e})=>({height:e?OO:"auto"}),"label:DivIDVContainer;"),EO=function(){const e=(0,ke.Nj)(TO.d),[t,o]=(0,m.useState)(!1),{isModal:n}=(0,Ti.U)(()=>["isModal"],[]);return(0,m.useEffect)(()=>{e.verificationShow$.subscribe({next:e=>{o(e)}})},[e.verificationShow$]),(0,i.Y)(So.nO,{visible:t,closeOnOutsideClick:!1,zIndex:PO.s.Modal,minHeight:n?OO:void 0,children:(0,i.Y)(AO,{id:TO.E,fixedHeight:n})})};function LO({onRouteChange:e=u(),isLoginPage:t=!0,loadingUi:o}){var n,r,a,s,l;const c=ri(),d=(0,Po.y)(),p=(0,Ti.M)();Qh(null!==(n=null==p?void 0:p.pageName)&&void 0!==n?n:we.L.Login,t,Boolean(null===(r=d.bizContext)||void 0===r?void 0:r.isMobile));const g=(0,xi.Y)([K.i_.Login]),h=(0,ke.Nj)(Yi.r),v=(0,ke.Nj)(Xp.d),_=null===(a=(0,Pe.W5)(xe.tH.loginHome))||void 0===a?void 0:a.isExact;!function(){const{twoStepResponse:e}=(0,en.Ph)(Gi.$),[{type:t},{setTwoStepVerifyRes:o,setTwoStepType:n}]=(0,en.Su)(Wr),{setRedirectNewModalPage:i}=(0,ke.Nj)(Xm.q),r=(0,Pe.W6)(),{pathname:a}=(0,Pe.zy)();(0,m.useEffect)(()=>{e&&o(e)},[e,o]),(0,m.useEffect)(()=>{if(t){const e=`/login/2sv/${Wi[t]}`;if(e!==a){if(a===xe.tH.loginSSO)return i(e);r.push(e)}}},[t,e]),(0,m.useEffect)(()=>()=>{n(void 0)},[])}(),fO(),function(){const e=(0,ke.Nj)(Nr);(0,m.useEffect)(()=>{e.loadSdk()},[e])}(),function(){var e;const{user:t,language:o,env:n,abTestVersion:i}=(0,xo.L$)((0,tn.W)(()=>["user","language","env","abTestVersion"],[])),{redirectUrl:r,initialized:a,isSecurityVerification:s,ignoreLoggedInCheck:l}=(0,en.Ph)(Pi.t),c=(0,xi.s)(K.i_.Login),d=function(){const e=(0,ke.Nj)(Hi.$F),t=(0,ke.Nj)(Te.le);return(0,m.useCallback)(o=>{const n=ye.nf.getTrackingInfo();e.setPlatform(o.platform),e.loginSuccess(Object.assign({signUp:o.signUp,is_register:Number(o.signUp),e2eInfo:n},o.extraParams)),t.setPlatform(o.platform),t.loginSuccess({signUp:o.signUp,forgetPwd:o.forgetPwd})},[t,e])}(),u=null!==(e=un(i,"webapp_switch_account"))&&void 0!==e?e:"v1",p=[xe.tH.oauth,xe.tH.oauthLine,xe.tH.logout,xe.tH.linkPhoneOrEmail,xe.tH.m2TransferAppleId],g=(0,Pe.W5)(p)||s||l;(0,m.useEffect)(()=>{t&&!g&&a&&"v1"===u&&((0,er.P)(c("You are logged in, no need to repeat")),d({platform:Hi.WN.Repeat,signUp:!1}),qr(o,"boe"===(null==n?void 0:n.type),r))},[r,a,n,u,t,g,o])}(),Bp(),(0,El.G$)(),(0,El.an)();const{modalType:f,url:b}=(0,qa.mZ)(e=>({modalType:e.modalType,url:e.url}),gn.bN),[,{setInitializedTTPConfig:y}]=(0,en.Su)(Ap.H),[{initialized:w,ttpConfig:k,phoenix:S,hideHomePage:C,previousModalType:x,targetAid:P,standaloneAid:T},{init:O}]=(0,en.Su)(Pi.t),[{initial:A},{getComplianceSettings:E}]=(0,en.Su)(Qr.T),L=f!==x;(0,m.useEffect)(()=>{var e,t,o;c.appContext&&h.setContext(c.appContext,{phoenix:S,targetAid:P,standaloneAid:T}),c.appContext&&(null===(o=window.byted_acrawler)||void 0===o||null===(t=o.setUserMode)||void 0===t||t.call(o,(0,bO.W)((null===(e=c.appContext)||void 0===e?void 0:e.clusterRegion)===yt.TTP)))},[c.appContext,h,S]),(0,m.useEffect)(()=>{var e;k&&(v.setInitConfig({isSG:1180===(null===(e=c.appContext)||void 0===e?void 0:e.appId),ttpConfig:k,phoenix:S}),y())},[null===(s=c.appContext)||void 0===s?void 0:s.appId,k,S,v]),(0,m.useEffect)(()=>{(!w||L||b)&&O(),!A&&E()},[b]);const{pathname:j}=(0,Pe.zy)();(0,m.useEffect)(()=>{Wg.indexOf(j)>-1&&(null==e||e())},[j,e]);const I=(()=>{const e=(0,ve.u)().colors.Negative;return yo.AH`
    *[role='button'],
    *[role='link'],
    *[role='switch'],
    *[tabindex],
    button[aria-label],
    button[aria-labelledby],
    button[aria-pressed],
    button[aria-expanded],
    button[role='tab'],
    a[aria-label] {
      &:focus {
        outline: none;
      }
      &:focus-visible {
        outline: 2px solid ${e};
      }
    }
    ,
    *[role='button'],
    button[aria-label],
    button[aria-labelledby],
    button[aria-pressed],
    button[aria-expanded] {
      &:focus-visible {
        outline-offset: 1px;
      }
    }
    ,
    li[role='option'] {
      &:focus-visible {
        outline-style: auto;
      }
    }
  `})(),R=(()=>{const{pathname:e}=(0,Pe.zy)(),t=(0,m.useRef)(null);return t.current||(t.current=Ae(e)),t.current})();return!g||!w||C&&_||L?(0,i.FD)(i.FK,{children:[(0,i.Y)(yo.mL,{styles:Ka}),o||(0,i.Y)($a.R,{center:!0,style:{margin:"auto"}})]}):(0,i.FD)(i.FK,{children:[(0,i.Y)(yo.mL,{styles:I}),(0,i.FD)(i.FK,{children:[(0,i.Y)("link",{rel:"stylesheet",href:Zr}),(0,i.Y)("link",{rel:"stylesheet",href:Jr})]}),(0,i.FD)(Ci,{children:[(0,i.Y)(ki,{path:xe.tH.logout,component:DT}),(0,i.Y)(ki,{path:xe.tH.oauth,component:NT}),(0,i.Y)(ki,{path:xe.tH.oauthLine,component:UT}),(0,i.Y)(ki,{path:xe.tH.signupPrivateOn,component:QT,exact:!0}),(0,i.Y)(ki,{path:xe.tH.linkPhoneOrEmail,component:mO}),(null===(l=d.bizContext)||void 0===l?void 0:l.isMobile)?(0,i.Y)(RT,{}):(0,i.Y)(Gx,{})]}),(0,i.Y)(Jx,{}),(0,i.Y)(Ia,{}),(0,i.Y)(EO,{}),(0,i.Y)(Va,{appContext:c.appContext,bizContext:d.bizContext,slardarBid:Ga.yH,initialPid:R}),(0,i.Y)(xO,{})]})}const jO=(0,m.memo)(LO);var IO=o(94183);function RO(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function MO(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class DO extends Di.E{setCookieBannerShowing(e,t){e.isCookieBannerShowing=t}constructor(){super(),this.defaultState={isCookieBannerShowing:!1}}}RO([(0,Fi.uk)(),MO("design:type",void 0===Ai.c?Object:Ai.c)],DO.prototype,"dispose$",void 0),RO([(0,Fi.h5)(),MO("design:type",Function),MO("design:paramtypes",["undefined"==typeof FixBottomModuleState?Object:FixBottomModuleState,Boolean]),MO("design:returntype",void 0)],DO.prototype,"setCookieBannerShowing",null),DO=RO([(0,Ni.nV)("FixBottomModule"),MO("design:type",Function),MO("design:paramtypes",[])],DO);const FO=(e=!1)=>{const{isSmartPlayer:t=!1}=Rn(),{search:o}=(0,Re.zy)(),n=(0,on.parse)(o),{enter_from:i=""}=(0,xo.L$)(n),r=(0,m.useRef)(i),a="dev_awfobz8zx3rodolu"===r.current||"dev_aw889s25wozf8s7e"===r.current||"dev_awqpoqkx2hack1hq"===r.current;((e=!0,t={})=>{const{language:o}=(0,xo.L$)((0,tn.W)(()=>["language"],[])),n=ct(DO),i=(0,m.useCallback)(()=>{var e;n.setCookieBannerShowing(!0),null===(e=t.onShow)||void 0===e||e.call(t)},[n]),r=(0,m.useCallback)(()=>{n.setCookieBannerShowing(!1)},[n]);(0,m.useEffect)(()=>{e&&IO.default.loadCookieBanner(Object.assign(Object.assign({},t),{locale:o,onShow:i,onHide:r}))},[o,e,i,r])})(!t&&!e&&!a)},NO=(0,Wt.A)("div",{target:"e1hllgjf0"})(({scrollWidth:e=0,shouldTransparent:t=!1,theme:{colors:o}})=>[{display:"flex",justifyContent:"space-around",boxShadow:`0px 1px 1px ${o.ShadowPrimary}`,height:va.uF,width:`calc(100% - ${e}px)`,top:0,position:"fixed",alignItems:"center",background:t?"transparent":o.BGPrimary,zIndex:PO.s.Header}],"label:DivHeaderContainer;"),UO=(0,Wt.A)(NO,{target:"ejj8kjg1"})(({paddingInlineStart:e="unset"})=>({boxShadow:"none",padding:"0 20px",justifyContent:"space-between",paddingInlineStart:e}),"label:StyledHeaderContainer;"),BO=(0,Wt.A)("div",{target:"ejj8kjg6"})({display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},"label:DivGoBackButton;"),HO=(0,Wt.A)("div",{target:"ejj8kjg7"})(({theme:e})=>[{width:"40px",height:"40px",borderRadius:"50%",background:e.colors.BGPlaceholderDefault,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"}],"label:DivCloseButton;"),zO=(0,m.memo)(function(){var e;const t=(0,Re.W6)(),{hideCloseButton:o}=(0,en.Ph)(Pi.t),n=[xe.tH.loginHome,xe.tH.signupHome],i=null===(e=(0,Re.W5)(n))||void 0===e?void 0:e.isExact,r=(0,ke.Nj)(Hi.$F),a=(0,m.useCallback)(()=>{t.goBack()},[t]),s=(0,m.useCallback)(()=>{r.loginNotifyClose({isSignUp:"0",e2eInfo:ye.nf.getTrackingInfo()}),window.close()},[r]);return(0,Le.jsxs)(UO,{children:[(0,Le.jsx)("div",{children:!i&&(0,Le.jsx)(BO,{onClick:a,children:(0,Le.jsx)(is.A,{width:"24",height:"24"})})}),!o&&(0,Le.jsx)(HO,{onClick:s,children:(0,Le.jsx)($s.A,{width:"24",height:"24"})})]})});var YO=o(71183);o(24473);var WO=function(e){return e.OneColumn="draw_ad",e.BrowserMode="videodetail_ad",e.ATA="about_this_ad",e.BannerAd="banner_ad",e}({});YO.Tk.OneColumn,YO.Tk.BrowserMode,YO.Tk.ImmersivePlayer;var VO=function(e){return e.Photo="photo",e.Title="title",e.Name="name",e.Button="button",e.Comment="comment_sign",e.Share="share_sign",e.ATA="about_tiktok_ads",e.Sponsored="sponsored",e}({});const GO="umeng",$O=({ad_info:e,play_mode:t})=>{if(!e)return{};const o=(e=>{if(e)try{return JSON.parse(e)}catch(e){return}})(e.log_extra);let n=WO.BrowserMode;switch(t){case YO.Tk.OneColumn:n=WO.OneColumn;break;case YO.Tk.BrowserMode:case YO.Tk.ImmersivePlayer:default:n=WO.BrowserMode}return{log_extra:o,ad_extra_data:{charge_type:e.charge_type},tag:n,value:e.creative_id.toString(),is_ad_event:"1",category:GO}},qO=()=>{const e=JSON.parse(function(e,t=""){var o;try{return null!==(o=sessionStorage.getItem(e))&&void 0!==o?o:t}catch(e){return t}}("user_session"));return`${e.uid}${e.lastUpdated}`},KO=(e,t)=>{var o,n;const i=Object.assign(Object.assign({},t),{value:null==t||null==(n=t.value)||null==(o=n.toString)?void 0:o.call(n),is_ad_event:"1",category:GO,ad_extra_data:Object.assign(Object.assign({},t.ad_extra_data),{user_session:qO()})});ht.f.event(e,i)},ZO=(0,x.p)("deviceScoreAtom@tiktok/webapp-atoms",{hardwareScore:-1,totalDeviceScore:-1}),{useAtomService:JO,useServiceDispatchers:QO,useServiceState:XO,getStaticApi:eA}=(0,C.i)(ZO,(e,t)=>({updateHardwareScore(e){t(ZO,t=>Object.assign(Object.assign({},t),{hardwareScore:e}))},updateTotalDeviceScore(e){t(ZO,t=>Object.assign(Object.assign({},t),{totalDeviceScore:e}))}})),tA={statusCode:Fc.Ok,hasMore:!0,cursor:"0",loading:!0,preloadList:[],browserList:[],list:[],items:[]},oA=1988,nA="w_g_fyp_vv";var iA=o(45537),rA=o.n(iA),aA=o(300),sA=o.n(aA),lA=function(e){return e[e.UNKNOW=-1]="UNKNOW",e[e.NONE=0]="NONE",e[e.FOLLOW=1]="FOLLOW",e[e.MUTAL=2]="MUTAL",e[e.FOLLOWING_REQUEST=3]="FOLLOWING_REQUEST",e[e.BLOCK=4]="BLOCK",e[e.BLOCKED=5]="BLOCKED",e[e.FOLLOWER=6]="FOLLOWER",e}({}),cA=function(e){return e[e.CONTAINERTYPE_UNDEFINED=0]="CONTAINERTYPE_UNDEFINED",e[e.CONTAINERTYPE_ITEM=1]="CONTAINERTYPE_ITEM",e[e.CONTAINERTYPE_LIVE=2]="CONTAINERTYPE_LIVE",e}({}),dA=function(e){return e[e.COLLECT_UNDEFINED=0]="COLLECT_UNDEFINED",e[e.ITEM_COLLECT=1]="ITEM_COLLECT",e[e.ITEM_CANCEL_COLLECT=2]="ITEM_CANCEL_COLLECT",e}({}),uA=function(e){return e[e.LATEST=0]="LATEST",e[e.POPULAR=1]="POPULAR",e[e.OLDEST=2]="OLDEST",e[e.JUST_WATCHED=3]="JUST_WATCHED",e}({}),pA=function(e){return e.FeedRequest="feed_request",e.FeedRequestResponse="feed_request_response",e.DuplicatedItem="recommend_duplicated_item",e}({}),gA=o(94997),mA=o(99857),hA=function(e){return e.ITEM_COMMENT="item_comment",e.PHOTOSENSITIVE_VIDEOS_SETTING="photosensitive_videos_setting",e.CONTENT_REUSE_PERMISSION="content_reuse_permission",e}({});function vA(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class _A{postUserSetting(e){return this.fetch.post("/api/user/set/settings/",{query:Object.assign(Object.assign({},e),{tt_csrf_token:this.fetch.csrfToken}),headers:{[vt.nk]:this.fetch.csrfToken},baseUrlType:vt.Z4.FixedWww})}constructor(e){this.fetch=e}}function fA(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function bA(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}_A=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,mt._q)(),vA("design:type",Function),vA("design:paramtypes",[void 0===_t.p?Object:_t.p])],_A);class yA extends Di.E{setSkipPhotoSensitiveAction(e,t){const{skipPhotoSensitiveVideo:o,login:n=!1}=t,i=o?nn.ll.CLOSE:nn.ll.OPEN;e.photoSensitiveVideosSetting=i,n&&(e.loginStatePhotoSensitiveVideosSetting=i)}setHideMaskTempVideoId(e,t){e.hideMaskTempVideoId=t}setHasClosedMask(e,t){e.hasClosedVideoMask=t}setPhotoSensitiveVideosSetting(e,t){e.photoSensitiveVideosSetting=t}setLoginStatePhotoSensitiveVideosSetting(e,t){e.loginStatePhotoSensitiveVideosSetting=t}setSkipPhotoSensitive(e){return e.pipe((0,na.p)(({skip:e,hasLogin:t})=>{const o=e?nn.ll.CLOSE:nn.ll.OPEN;return xk.setItem("photo_sensitive_video_setting",o),t?this.service.postUserSetting({field:hA.PHOTOSENSITIVE_VIDEOS_SETTING,value:o}).pipe((0,Mi.T)(({status_code:t})=>t===Fc.Ok?this.getActions().setSkipPhotoSensitiveAction({skipPhotoSensitiveVideo:e,login:!0}):this.noop())):(0,Oi.of)(this.getActions().setSkipPhotoSensitiveAction({skipPhotoSensitiveVideo:e}))}))}constructor(e){super(),this.service=e,this.defaultState={photoSensitiveVideosSetting:xk.getItem("photo_sensitive_video_setting"),hideMaskTempVideoId:"",loginStatePhotoSensitiveVideosSetting:void 0,hasClosedVideoMask:!1}}}fA([(0,Fi.h5)(),bA("design:type",Function),bA("design:paramtypes",["undefined"==typeof VideoMaskModuleState?Object:VideoMaskModuleState,Object]),bA("design:returntype",void 0)],yA.prototype,"setSkipPhotoSensitiveAction",null),fA([(0,Fi.h5)(),bA("design:type",Function),bA("design:paramtypes",["undefined"==typeof VideoMaskModuleState?Object:VideoMaskModuleState,String]),bA("design:returntype",void 0)],yA.prototype,"setHideMaskTempVideoId",null),fA([(0,Fi.h5)(),bA("design:type",Function),bA("design:paramtypes",["undefined"==typeof VideoMaskModuleState?Object:VideoMaskModuleState,Boolean]),bA("design:returntype",void 0)],yA.prototype,"setHasClosedMask",null),fA([(0,Fi.h5)(),bA("design:type",Function),bA("design:paramtypes",["undefined"==typeof VideoMaskModuleState?Object:VideoMaskModuleState,void 0===nn.ll?Object:nn.ll]),bA("design:returntype",void 0)],yA.prototype,"setPhotoSensitiveVideosSetting",null),fA([(0,Fi.h5)(),bA("design:type",Function),bA("design:paramtypes",["undefined"==typeof VideoMaskModuleState?Object:VideoMaskModuleState,void 0===nn.ll?Object:nn.ll]),bA("design:returntype",void 0)],yA.prototype,"setLoginStatePhotoSensitiveVideosSetting",null),fA([(0,Fi.Mj)(),bA("design:type",Function),bA("design:paramtypes",[void 0===Ai.c?Object:Ai.c]),bA("design:returntype",void 0)],yA.prototype,"setSkipPhotoSensitive",null),yA=fA([(0,Ni.nV)("VideoMaskModule"),bA("design:type",Function),bA("design:paramtypes",[void 0===_A?Object:_A])],yA);const wA=(0,mA.U)("videoMaskModuleAtom@tiktok/fe-shared",()=>(0,gA.y)(yA));function kA(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function SA(e){return function(){var t=this,o=arguments;return new Promise(function(n,i){var r=e.apply(t,o);function a(e){kA(r,n,i,a,s,"next",e)}function s(e){kA(r,n,i,a,s,"throw",e)}a(void 0)})}}const CA=new(o(75398).E)({defaultOptions:{queries:{staleTime:1/0}}}),xA=e=>{try{const t=CA.getQueryData(e);if(!t)throw new Error(`Failed to get query data for key ${e}. Verify your query key`);return t}catch(e){}},PA=(e,t)=>{try{return CA.setQueryData(e,t)}catch(t){throw new Error(`Failed to set query data for key ${e}. Verify your query key`)}};SA(function*(e,t){yield CA.cancelQueries(e);const o=(e=>{try{const t=CA.getQueryData(e);if(!t)throw new Error(`Failed to get query data for key ${e}. Verify your query key`);return t}catch(e){}})(e);return PA(e,t),o}),SA(function*(e){}),SA(function*(e){yield CA.invalidateQueries(e)});const TA=function(){var e=SA(function*(e,t){yield CA.cancelQueries(e),PA(e,t)});return function(t,o){return e.apply(this,arguments)}}();let OA,AA=!1;const EA=()=>(0,m.useContext)((AA||(OA=(0,_e.$)("queryContext@tiktok-fe/webapp-query")({}),AA=!0),OA));function LA(e,t,o,n,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function jA(e){return function(){var t=this,o=arguments;return new Promise(function(n,i){var r=e.apply(t,o);function a(e){LA(r,n,i,a,s,"next",e)}function s(e){LA(r,n,i,a,s,"throw",e)}a(void 0)})}}jA(function*(e,t){const{prefetchQuery:o}=EA();(0,m.useEffect)(()=>{o(e)},t)}),jA(function*(e,t){const{prefetchInfiniteQuery:o}=EA();(0,m.useEffect)(()=>{o(e)},t)});const IA=class extends Error{constructor(e,t){super(e),this.name="ApiError",this.code=t}},RA=e=>{var t;return e instanceof IA&&null!==(t=e.code)&&void 0!==t?t:-1};var MA,DA,FA;(FA=MA||(MA={}))[FA.NIL=-255]="NIL",FA[FA.UnknownError=-1]="UnknownError",FA[FA.Ok=0]="Ok",FA[FA.ReportLiveFailed=90002]="ReportLiveFailed",FA[FA.VerifyCode=1e4]="VerifyCode",FA[FA.VideoLikeFreq=2150]="VideoLikeFreq",FA[FA.VideoLikeFreq2=2210]="VideoLikeFreq2",FA[FA.VideoUnavailableDeleted=2054]="VideoUnavailableDeleted",FA[FA.AdVideoUnavailableChange=2752]="AdVideoUnavailableChange",FA[FA.CommentBanCode=22]="CommentBanCode",FA[FA.CommentLikePermissionDisable=3002043]="CommentLikePermissionDisable",FA[FA.SearchSensitiveCode=403]="SearchSensitiveCode",FA[FA.SearchYoungCode=203]="SearchYoungCode",FA[FA.SmsInvalidNumber=-1]="SmsInvalidNumber",FA[FA.SmsSlideVerify=-4]="SmsSlideVerify",FA[FA.FypVideoListLimit=10404]="FypVideoListLimit",FA[FA.ClientPageError=450]="ClientPageError",FA[FA.LiveNeedLogin=10119]="LiveNeedLogin",FA[FA.SharkBlock=10114]="SharkBlock",FA[FA.SharkSlide=10113]="SharkSlide",FA[FA.NetError=10111]="NetError",FA[FA.ServerErrorNot500=10101]="ServerErrorNot500",FA[FA.VideoRisk=10228]="VideoRisk",FA[FA.VideoRMask=10229]="VideoRMask",FA[FA.VideoRiskMask=10230]="VideoRiskMask",FA[FA.VideoNeedRecheck=10227]="VideoNeedRecheck",FA[FA.VideoUnshelveByMusic=10220]="VideoUnshelveByMusic",FA[FA.VideoNotExist=10204]="VideoNotExist",FA[FA.VideoAbnormal=10215]="VideoAbnormal",FA[FA.VideoLowAgeM=10213]="VideoLowAgeM",FA[FA.VideoLowAgeT=10214]="VideoLowAgeT",FA[FA.VideoFirstReviewUnshelve=10217]="VideoFirstReviewUnshelve",FA[FA.VideoPrivateByUser=10216]="VideoPrivateByUser",FA[FA.VideoGeofenceBlock=10231]="VideoGeofenceBlock",FA[FA.VideoPhoto=10239]="VideoPhoto",FA[FA.VideoFriendsOnly=10240]="VideoFriendsOnly",FA[FA.VideoDeleted=10241]="VideoDeleted",FA[FA.VideoUserBlockedByAuthor=10242]="VideoUserBlockedByAuthor",FA[FA.VideoSubscribersOnly=203005]="VideoSubscribersOnly",FA[FA.HashtagNotExist=10205]="HashtagNotExist",FA[FA.HashtagUnshelve=10212]="HashtagUnshelve",FA[FA.HashtagSensitivityWord=10211]="HashtagSensitivityWord",FA[FA.HashtagBlackList=10209]="HashtagBlackList",FA[FA.UserInboxFollowBan=24]="UserInboxFollowBan",FA[FA.UserNotExist=10202]="UserNotExist",FA[FA.UserBan=10221]="UserBan",FA[FA.UserPrivate=10222]="UserPrivate",FA[FA.UserNotLogin=10102]="UserNotLogin",FA[FA.UserFtc=10223]="UserFtc",FA[FA.UserUniqueSensitivity=10225]="UserUniqueSensitivity",FA[FA.QuestionNotAvailable=10236]="QuestionNotAvailable",FA[FA.MusicNotExist=10203]="MusicNotExist",FA[FA.MusicUnshelve=10218]="MusicUnshelve",FA[FA.MusicNoCopyright=10219]="MusicNoCopyright",FA[FA.MusicUnavailable=202001]="MusicUnavailable",FA[FA.PlaceNotExist=205001]="PlaceNotExist",FA[FA.PlaceOffline=205002]="PlaceOffline",FA[FA.PlaceUnavailableInRegion=205003]="PlaceUnavailableInRegion",FA[FA.GameNotExist=10224]="GameNotExist",FA[FA.LiveNotExist=10210]="LiveNotExist",FA[FA.GoLiveRoomBaned=10018]="GoLiveRoomBaned",FA[FA.GoLiveBaned=4003035]="GoLiveBaned",FA[FA.LiveRoomPrepare=30019]="LiveRoomPrepare",FA[FA.LiveRoomEnd=30003]="LiveRoomEnd",FA[FA.LiveRoomBan=30012]="LiveRoomBan",FA[FA.LiveNoGatedAuth=4003043]="LiveNoGatedAuth",FA[FA.LiveNoAgeGatedAuth=4003110]="LiveNoAgeGatedAuth",FA[FA.LivePaidEvent=4003072]="LivePaidEvent",FA[FA.LiveSubscriberOnly=4003135]="LiveSubscriberOnly",FA[FA.LiveSuicideCase=2403]="LiveSuicideCase",FA[FA.LiveSensitiveTitle=50004]="LiveSensitiveTitle",FA[FA.LiveRoomBaned=10018]="LiveRoomBaned",FA[FA.LiveEnterRoomNeedLogin=20003]="LiveEnterRoomNeedLogin",FA[FA.LiveAccountUnderRiskControl=20063]="LiveAccountUnderRiskControl",FA[FA.LiveHitBanStrategy=30009]="LiveHitBanStrategy",FA[FA.LiveOBSAccessRecalled=4003105]="LiveOBSAccessRecalled",FA[FA.LiveUserNotFound=19881007]="LiveUserNotFound",FA[FA.EffectNotExist=10208]="EffectNotExist",FA[FA.PlaylistNotExist=10233]="PlaylistNotExist",FA[FA.PlaylistInTrill=10234]="PlaylistInTrill",FA[FA.VideoPlaylistUnavailable=10243]="VideoPlaylistUnavailable",FA[FA.VideoPlaylistIsEmpty=10244]="VideoPlaylistIsEmpty",FA[FA.PrivateAccountLimitByBC=3026002]="PrivateAccountLimitByBC",FA[FA.PnsPnsPrivateAccountLimitByLiveOn=3026006]="PnsPnsPrivateAccountLimitByLiveOn",FA[FA.BlockedAndLogout=56009]="BlockedAndLogout",FA[FA.CreatePlaylistWithRiskError=206001]="CreatePlaylistWithRiskError",FA[FA.VideoPlaylistVisibleToCreator=206002]="VideoPlaylistVisibleToCreator",FA[FA.AddPlaylistVideoWithRiskError=206003]="AddPlaylistVideoWithRiskError",FA[FA.VideoPlaylistUnavailableToVisitor=206004]="VideoPlaylistUnavailableToVisitor",FA[FA.VideoPlaylistDeleted=206005]="VideoPlaylistDeleted",function(e){e[e.Hot=0]="Hot",e[e.Relation=1]="Relation",e[e.Fresh=2]="Fresh",e[e.Post=3]="Post",e[e.Favorite=4]="Favorite",e[e.Challenge=5]="Challenge",e[e.Music=6]="Music",e[e.Category=7]="Category",e[e.MusicFresh=8]="MusicFresh",e[e.ChallengeFresh=9]="ChallengeFresh",e[e.Follow=10]="Follow",e[e.Trending=18]="Trending",e[e.TitleRecommend=20]="TitleRecommend",e[e.Nearby=21]="Nearby",e[e.Search=23]="Search",e[e.HotVideo=24]="HotVideo",e[e.HotMusic=25]="HotMusic",e[e.FollowerList=26]="FollowerList",e[e.Inbox=33]="Inbox",e[e.Live=27]="Live"}(DA||(DA={}));var NA,UA=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},BA=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};!function(e){e[e.Like=1]="Like",e[e.Unlike=2]="Unlike"}(NA||(NA={}));const HA=e=>t=>BA(void 0,void 0,void 0,function*(){const{itemId:o,like:n,cid:i,parentCid:r}=t;if(e&&!r)throw new IA("Reply comments need a parentCid to be provided");try{return{statusCode:(yield function(e){return UA(this,void 0,void 0,function*(){return ak.h.post("/api/comment/digg/",{query:Object.assign(Object.assign({},e),{channel_id:0}),headers:{[vt.nk]:ak.h.csrfToken},baseUrlType:2})})}({aweme_id:o,cid:i,digg_type:n?1:2})).status_code}}catch(e){return{statusCode:RA(e)}}});var zA;function YA({relation:e,handleIsUnfollow:t,handleIsFollow:o}){switch(e){case 0:case-1:case 4:case 5:case 6:return t();default:return o()}}function WA({current:e,targetUser:t}){const o=function(e){var t;return YA({relation:null!==(t=e.relation)&&void 0!==t?t:-1,handleIsUnfollow:()=>{var t;return e.privateAccount?1:(null===(t=e.extraInfo)||void 0===t?void 0:t.followed)||6===e.relation?2:0},handleIsFollow:()=>3})}(t);switch(o){case 3:return 0;case 0:return YA({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>1});case 1:return YA({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>3});case 2:return YA({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>2});default:return YA({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>-1})}}HA(!1),HA(!0),function(e){e[e.FollowNormal=0]="FollowNormal",e[e.FollowPrivate=1]="FollowPrivate",e[e.FollowFollower=2]="FollowFollower",e[e.Unfollow=3]="Unfollow"}(zA||(zA={}));var VA=function(e){return e[e.FollowRelationUnknown=-1]="FollowRelationUnknown",e[e.NoRelationStatus=0]="NoRelationStatus",e[e.FollowingStatus=1]="FollowingStatus",e[e.FollowEachOtherStatus=2]="FollowEachOtherStatus",e[e.FollowRequestStatus=4]="FollowRequestStatus",e}({}),GA=function(e){return e[e.FollowerRelationUnknown=-1]="FollowerRelationUnknown",e[e.FollowerNotFollowStatus=0]="FollowerNotFollowStatus",e[e.FollowerFollowStatus=1]="FollowerFollowStatus",e}({}),$A=function(e){return e[e.Undigg=0]="Undigg",e[e.Digg=1]="Digg",e}({}),qA=function(e){return e[e.Unfollow=0]="Unfollow",e[e.Follow=1]="Follow",e}({});function KA(e,t){return e===lA.MUTAL||e===lA.FOLLOWER||e!==lA.BLOCKED&&t}function ZA(e,t){return e===lA.MUTAL||e===lA.FOLLOWER?GA.FollowerFollowStatus:e===lA.BLOCKED?GA.FollowerNotFollowStatus:t}const JA=rc({csr:()=>z.Ay.t}),QA={[VA.FollowRelationUnknown]:lA.UNKNOW,[VA.NoRelationStatus]:lA.NONE,[VA.FollowingStatus]:lA.FOLLOW,[VA.FollowEachOtherStatus]:lA.MUTAL,[VA.FollowRequestStatus]:lA.FOLLOWING_REQUEST},XA={};var eE=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const tE=rc({csr:function(e){return eE(this,void 0,void 0,function*(){return function(e){const t=XA[e];return t&&(XA[e]=void 0),t}("userDetail")||ak.h.get("/api/user/detail/",{query:e,baseUrlType:vt.Z4.FixedWww})})}});var oE=o(79479),nE=o.n(oE),iE=o(98885),rE=o.n(iE),aE=o(6226),sE=o.n(aE);const lE=["roomId"],cE=["uniqueId","avatarThumb","avatarMedium","avatarLarger","nickname","signature"];function dE(e,t,o){var n,i;if(!e)return t;const r=null!==(n=t.relation)&&void 0!==n?n:e.relation,a=sE()({},e,t,{extraInfo:{followed:KA(r,null==(i=e.extraInfo)?void 0:i.followed)}},(e,t,n)=>"canExpPlaylist"===n?e||t:!lE.includes(n)&&rE()(t)?e:(o||!cE.includes(n)||nE()(e)&&!nE()(t))&&("uniqueIdModifyTime"!==n&&"ttSeller"!==n&&"nickNameModifyTime"!==n&&"verified"!==n||t)?void 0:e);return o&&void 0===t.roomId&&a.roomId&&(a.roomId=void 0),a}function uE({relation:e,handleIsUnfollow:t,handleIsFollow:o}){switch(e){case lA.NONE:case lA.UNKNOW:case lA.BLOCK:case lA.BLOCKED:case lA.FOLLOWER:return t();default:return o()}}function pE({current:e,targetUser:t}){const o=function(e){var t;return uE({relation:null!==(t=e.relation)&&void 0!==t?t:lA.UNKNOW,handleIsUnfollow:()=>{var t;return e.privateAccount?1:(null==(t=e.extraInfo)?void 0:t.followed)||e.relation===lA.FOLLOWER?2:0},handleIsFollow:()=>3})}(t);switch(o){case 3:return lA.NONE;case 0:return uE({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>lA.FOLLOW});case 1:return uE({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>lA.FOLLOWING_REQUEST});case 2:return uE({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>lA.MUTAL});default:return uE({relation:e,handleIsFollow:()=>e,handleIsUnfollow:()=>lA.UNKNOW})}}function gE({stats:e,statsV2:t}){var o,n,i,r,a,s,l,c,d,u,p,g,m,h;return{followingCount:BigInt(null!==(n=null!==(o=null==t?void 0:t.followingCount)&&void 0!==o?o:null==e?void 0:e.followingCount)&&void 0!==n?n:0),followerCount:BigInt(null!==(r=null!==(i=null==t?void 0:t.followerCount)&&void 0!==i?i:null==e?void 0:e.followerCount)&&void 0!==r?r:0),heartCount:BigInt(null!==(s=null!==(a=null==t?void 0:t.heartCount)&&void 0!==a?a:null==e?void 0:e.heartCount)&&void 0!==s?s:0),videoCount:BigInt(null!==(c=null!==(l=null==t?void 0:t.videoCount)&&void 0!==l?l:null==e?void 0:e.videoCount)&&void 0!==c?c:0),diggCount:BigInt(null!==(u=null!==(d=null==t?void 0:t.diggCount)&&void 0!==d?d:null==e?void 0:e.diggCount)&&void 0!==u?u:0),heart:BigInt(null!==(g=null!==(p=null==t?void 0:t.heart)&&void 0!==p?p:null==e?void 0:e.heart)&&void 0!==g?g:0),friendCount:BigInt(null!==(h=null!==(m=null==t?void 0:t.friendCount)&&void 0!==m?m:null==e?void 0:e.friendCount)&&void 0!==h?h:0)}}var mE=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const hE=(0,S._)((0,x.p)("userAtom@tiktok/webapp-atoms",{users:{},stats:{}}),{rehydrationKey:"webapp.user"}),{useAtomService:vE,getStaticApi:_E,useServiceDispatchers:fE,useServiceState:bE}=(0,C.i)(hE,(e,t)=>({multiSetUser(o){const n=e(hE),i={};o.forEach(e=>{i[e.uniqueId]=dE(n.users[e.uniqueId],e)}),t(hE,Object.assign(Object.assign({},n),{users:Object.assign(Object.assign({},n.users),i)}))},setUser(e,o=!0){t(hE,t=>Object.assign(Object.assign({},t),{users:Object.assign(Object.assign({},t.users),{[e.uniqueId]:dE(t.users[e.uniqueId],e,o)})}))},setUserRelation({uniqueId:o,relation:n,shouldUpdateFollowed:i,shouldUpdateFollower:r}){const a=e(hE),s=a.users[o];if(!s)return;const l=Object.assign(Object.assign({},s),{relation:n});var c;i&&(l.extraInfo=Object.assign(Object.assign({},l.extraInfo),{followed:KA(n,null==(c=l.extraInfo)?void 0:c.followed)})),r&&(l.extraInfo=Object.assign(Object.assign({},l.extraInfo),{followerStatus:ZA(n)})),t(hE,Object.assign(Object.assign({},a),{users:Object.assign(Object.assign({},a.users),{[o]:l})}))},setUserStats(e){const{uniqueId:o,stats:n,statsV2:i}=e;t(hE,e=>Object.assign(Object.assign({},e),{stats:Object.assign(Object.assign({},e.stats),{[o]:gE({stats:n,statsV2:i})})}))},multiSetUserStats(o){const n=e(hE),i=o.reduce((e,{uniqueId:t,stats:o,statsV2:n})=>(e[t]=gE({stats:o,statsV2:n}),e),Object.assign({},n.stats));t(hE,Object.assign(Object.assign({},n),{stats:i}))},getUserDetail(e){return mE(this,void 0,void 0,function*(){try{const t=yield tE(e);return t.statusCode!==Fc.Ok&&t.statusCode!==Fc.UserPrivate||!t.userInfo?console.warn("Get user detail failed for getting wrong response"):(this.setUser(Object.assign(Object.assign({uniqueIdModifyTime:0},t.userInfo.user),{extraInfo:{statusCode:t.statusCode}})),this.setUserStats({stats:Object.assign(Object.assign({},t.userInfo.stats),{needFix:!1}),statsV2:t.userInfo.statsV2,uniqueId:t.userInfo.user.uniqueId})),t}catch(e){return{statusCode:Fc.UnknownError}}})},postCommitFollowUser(t){return mE(this,void 0,void 0,function*(){try{const o=e(hE).users[t.uniqueId];if(!o)return;const n=JA(),{id:i,secUid:r="",relation:a=lA.UNKNOW}=o,s=function(e){return uE({relation:e,handleIsUnfollow:()=>qA.Follow,handleIsFollow:()=>qA.Unfollow})}(a),l={type:s===qA.Follow?1:0,action_type:s===qA.Follow?1:0,user_id:i,sec_user_id:r,from:18,channel_id:Nc.Hot,from_pre:0},{uniqueId:c,useFollowV2:d,resetWebappQuery:u,group_id:p,enter_method:g=yl.c.ClickNormalFollow,action_position:m}=t,h=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(t,["uniqueId","useFollowV2","resetWebappQuery","group_id","enter_method","action_position"]);this.setUserRelation({uniqueId:c,relation:pE({current:a,targetUser:o})});const v=d?yield function(e){return eE(this,void 0,void 0,function*(){return ak.h.post("/api/follow/",{signal:(new AbortController).signal,query:Object.assign(Object.assign({},e),{fromWeb:1}),baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})})}(l):yield function(e){return eE(this,void 0,void 0,function*(){return ak.h.post("/api/commit/follow/user/",{query:Object.assign(Object.assign({},e),{fromWeb:1}),baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})})}(l),{status_code:_,follow_status:f}=v;if(_===Fc.UserInboxFollowBan?rn.F.open({content:n("inbox_follow_failed_banned"),duration:3,widthType:"half"}):_===Fc.UnknownError?rn.F.open({content:n("inbox_follow_failed_noconnection"),duration:3,widthType:"half"}):_!==Fc.Ok?rn.F.open({content:n("inbox_follow_failed_other"),duration:3,widthType:"half"}):(Fc.UserInboxFollowBan,Fc.UnknownError,Fc.Ok),((e,t)=>{const o=(0,Gh.Hd)(vn.DK),n=t===qA.Unfollow?"unfollow":"follow";ht.f.sendEvent(n,Object.assign(Object.assign({},e),{from_group_id:o}))})(Object.assign(Object.assign({},h),{status_code:_,follow_status:f,group_id:p,enter_method:g,action_position:m,to_user_id:i,author_id:i,follow_type:f===VA.FollowEachOtherStatus?"mutual":"single",is_private:f===VA.FollowRequestStatus?1:0}),l.type),h.is_ad_event&&h.tag&&h.value&&h.log_extra&&l.type===qA.Unfollow){const{tag:e,value:t,log_extra:o}=h;KO("follow_cancel",{log_extra:o,tag:e,value:t,is_ad_event:"1"})}_===Fc.Ok?(this.setUserRelation({uniqueId:c,relation:QA[f],shouldUpdateFollowed:!0}),u&&TA(["user",c],(e=>{var t;const{uniqueId:o}=e,n=xA(["user",o]);if(!n)throw new IA("target user does not exist",10202);var i,r;return Object.assign(Object.assign({},n),{user:Object.assign(Object.assign({},n.user),{relation:WA({current:n.user.relation,targetUser:n.user}),extraInfo:Object.assign(Object.assign({},n.user.extraInfo),{followed:(i=n.user.relation,r=null===(t=n.user.extraInfo)||void 0===t?void 0:t.followed,2===i||6===i||5!==i&&r)})})})})({uniqueId:c}))):this.setUserRelation({uniqueId:c,relation:a})}catch(e){}})},blockOrUnblockUser(e){return mE(this,void 0,void 0,function*(){try{const t=JA(),{secUid:o,isBlock:n,uniqueId:i,resetWebappQuery:r}=e,{status_code:a}=yield function(e){return eE(this,void 0,void 0,function*(){return ak.h.post("/api/user/block/",{query:Object.assign(Object.assign({},e),{source:3}),baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})})}({sec_user_id:null!=o?o:"",block_type:n?0:1});a===Fc.Ok&&(rn.F.open({content:t(n?"webapp_mig_unblocked":"webapp_mig_blocked"),duration:3,e2eTag:"block-toast"}),this.setUserRelation({uniqueId:i,relation:n?lA.NONE:lA.BLOCK}),r)&&TA(["user",i],(e=>{const{uniqueId:t,isBlock:o}=e,n=xA(["user",t]);if(!n)throw new IA("target user does not exist",10202);return Object.assign(Object.assign({},n),{user:Object.assign(Object.assign({},n.user),{relation:o?0:4})})})({uniqueId:i,secUid:o,isBlock:n}))}catch(e){}})},handleWebappQueryOptimisticUpdate(e){return mE(this,void 0,void 0,function*(){try{const{uniqueId:t,isBlock:o,targetUser:n,relation:i}=e;void 0!==o?this.setUserRelation({uniqueId:t,relation:o?lA.NONE:lA.BLOCK}):n&&void 0!==i&&this.setUserRelation({uniqueId:t,relation:pE({current:i,targetUser:n}),shouldUpdateFollowed:!0})}catch(e){}})}}));var yE=function(e){return e[e.Reported=1]="Reported",e[e.Dislike=2]="Dislike",e[e.General=3]="General",e[e.Photosensitive=4]="Photosensitive",e}({});const wE=function(e){if(!e)return{fullscreenEnabled:"fullscreenEnabled",fullscreenElement:"fullscreenElement",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror"};const t={w3:{fullscreenEnabled:"fullscreenEnabled",fullscreenElement:"fullscreenElement",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror"},webkit:{fullscreenEnabled:"webkitFullscreenEnabled",fullscreenElement:"webkitCurrentFullScreenElement",requestFullscreen:"webkitRequestFullscreen",exitFullscreen:"webkitExitFullscreen",fullscreenchange:"webkitfullscreenchange",fullscreenerror:"webkitfullscreenerror"},moz:{fullscreenEnabled:"mozFullScreenEnabled",fullscreenElement:"mozFullScreenElement",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen",fullscreenchange:"mozfullscreenchange",fullscreenerror:"mozfullscreenerror"},ms:{fullscreenEnabled:"msFullscreenEnabled",fullscreenElement:"msFullscreenElement",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen",fullscreenchange:"MSFullscreenChange",fullscreenerror:"MSFullscreenError"}};for(const o of Object.values(t))if(o.fullscreenEnabled in e)return o;return{fullscreenEnabled:"fullscreenEnabled",fullscreenElement:"fullscreenElement",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",fullscreenchange:"fullscreenchange",fullscreenerror:"fullscreenerror"}}("undefined"==typeof document?void 0:document),kE=()=>{var e;return"undefined"!=typeof document?null!==(e=document[null==wE?void 0:wE.fullscreenElement])&&void 0!==e?e:document.body:null};var SE=function(e){return e.Public="1",e.Private="2",e.Friends="3",e}({}),CE=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const xE={mergeItemStructWithTranslation(e,t,o){var n,i,r;e&&t&&(r=t)&&Boolean(r.description||r.subtitleUrl||r.textStickerList&&r.textStickerList.length>0||r.subtitleText)&&(e.__TRANSLATE_TO__=o,e.__TRANSLATION__=t,t.description&&(e.desc=t.description,e.textExtra=[],e.contents=[]),t.subtitleText&&(e.__TRANSLATED_SUBTITLE__=t.subtitleText,e.video.subtitleInfos=[]),(i=t.subtitleUrl)&&/https:\/\/.+\//.test(i)&&(e.video.subtitleInfos=[{Url:t.subtitleUrl,UrlExpire:null!==(n=t.subtitleUrlExpire)&&void 0!==n?n:(new Date).getTime()/1e3+9999,Format:"webvtt",Version:"1"}]),t.textStickerList&&(e.__TRANSLATED_STICKER__=t.textStickerList,e.stickersOnItem=[{stickerText:t.textStickerList,stickerType:4}]))},isItemTranslated:e=>e.__TRANSLATE_TO__,getTranslation:e=>e.__TRANSLATION__,getTextSticker(e){var t;return null!==(t=e.__TRANSLATED_STICKER__)&&void 0!==t?t:[]},getSubtitle:e=>e.__TRANSLATED_SUBTITLE__,restoreSubtitleInfos(e){if("undefined"!=typeof window&&"undefined"!=typeof document&&e){const t=e.__TRANSLATED_SUBTITLE__,o=e.video.subtitleInfos&&e.video.subtitleInfos.length>0;if(t&&!o){const o=new Blob([t],{type:"text/vtt"}),n=URL.createObjectURL(o);e.video.subtitleInfos=[{Url:n,UrlExpire:(new Date).getTime()/1e3+9999,Format:"webvtt",Version:"1"}]}}}},PE=(e,t)=>{var o,n,i,r,a,s,l,c,d,u,p,g,m,h,v;const _=xE.isItemTranslated(null!=t?t:{id:""}),f=null!==(o=null==(a=e.anchors)?void 0:a.filter(e=>54===e.type))&&void 0!==o?o:[],b=null!==(n=null==(s=e.anchors)?void 0:s.filter(e=>28===e.type))&&void 0!==n?n:[],y=Object.assign(Object.assign({},e),{video:e.video,nickname:null==(l=e.author)?void 0:l.nickname,author:null==(c=e.author)?void 0:c.uniqueId,authorId:null==(d=e.author)?void 0:d.id,authorSecId:null==(u=e.author)?void 0:u.secUid,avatarThumb:null==(p=e.author)?void 0:p.avatarThumb,downloadSetting:null==(g=e.author)?void 0:g.downloadSetting,authorPrivate:null==(m=e.author)?void 0:m.privateAccount,stateControlledMedia:null==(h=e.author)?void 0:h.stateControlledMedia,capcutAnchorsOriginal:f,capcutAnchors:(null==(v=e.poi)?void 0:v.id)?[]:f,effectAnchors:b,videoSuggestWordsList:null!==(i=e.videoSuggestWordsList)&&void 0!==i?i:null==t?void 0:t.videoSuggestWordsList,keywordTags:null!==(r=e.keywordTags)&&void 0!==r?r:null==t?void 0:t.keywordTags});return _&&t&&xE.mergeItemStructWithTranslation(y,xE.getTranslation(t),_),y};var TE=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const OE=(0,S._)((0,x.p)("itemAtom@tiktok/webapp-atoms",{}),{rehydrationKey:"webapp.item"}),{useAtomService:AE,getStaticApi:EE,useServiceDispatchers:LE,useServiceState:jE}=(0,C.i)(OE,(e,t)=>({setItem(e){const{id:o}=e;t(OE,t=>Object.assign(Object.assign({},t),{[o]:PE(e,t[o])}))},multiSetItem(o){const n=e(OE),i=Object.assign({},n);o.forEach(e=>{const{id:t}=e;i[t]=PE(e,n[t])}),t(OE,i)},updateItem(o){e(OE)[o.id]&&t(OE,e=>Object.assign(Object.assign({},e),{[o.id]:Uo()(e[o.id],o)}))},setLike(o){const{id:n,liked:i,count:r}=o,a=e(OE)[n];a&&(a.stats&&(a.stats=Object.assign(Object.assign({},a.stats),{diggCount:r})),a.statsV2&&(a.statsV2=Object.assign(Object.assign({},a.statsV2),{diggCount:r.toString()})),t(OE,e=>Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},a),{digged:i})})))},setCollect(o){const{id:n,collected:i,count:r}=o,a=e(OE)[n];a&&(a.stats&&(a.stats=Object.assign(Object.assign({},a.stats),{collectCount:r})),a.statsV2&&(a.statsV2=Object.assign(Object.assign({},a.statsV2),{collectCount:r.toString()})),t(OE,e=>Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},a),{collected:i})})))},setCommentCount(o){const{id:n,commentCount:i}=o,r=e(OE)[n];r&&(r.stats&&(r.stats=Object.assign(Object.assign({},r.stats),{commentCount:i})),r.statsV2&&(r.statsV2=Object.assign(Object.assign({},r.statsV2),{commentCount:i.toString()})),t(OE,e=>Object.assign(Object.assign({},e),{[n]:Object.assign({},r)})))},setResolutionList(t){const{resolutionList:o,id:n}=t,i=e(OE)[n];if(!i)return;const r=["auto",...o.filter(e=>"auto"!==e)];i.resolutionList=r},prependRepost(o){const{id:n,reposted:i,currentUser:r,count:a}=o,s=e(OE)[n];s&&(s.statsV2&&(s.statsV2=Object.assign(Object.assign({},s.statsV2),{repostCount:a.toString()})),t(OE,e=>{var t,o,a,l,c;const d=[...null!==(t=null==(c=e[n])?void 0:c.repostList)&&void 0!==t?t:[]];if(i)d.unshift(Object.assign(Object.assign({},r),{id:r.uid,avatarThumb:null!==(o=r.avatarUri[0])&&void 0!==o?o:"",avatarMedium:null!==(a=r.avatarUri[0])&&void 0!==a?a:"",avatarLarger:null!==(l=r.avatarUri[0])&&void 0!==l?l:"",nickname:r.nickName,relation:lA.NONE}));else{const e=d.findIndex(e=>e.secUid===r.secUid);d.splice(e,1)}return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},s),{repostList:d})})}))},reduceOrIncreaseCommentCount(o){const{id:n,isReduce:i,min:r=0}=o,a=e(OE),s=a[n];if(s){if(s.stats){const e=i?Math.max(r,s.stats.commentCount-1):s.stats.commentCount+1;s.stats=Object.assign(Object.assign({},s.stats),{commentCount:e})}if(s.statsV2){let e=i?BigInt(s.statsV2.commentCount)-BigInt(1):BigInt(s.statsV2.commentCount)+BigInt(1);e<BigInt(r)&&(e=BigInt(r)),s.statsV2=Object.assign(Object.assign({},s.statsV2),{commentCount:e.toString()})}t(OE,Object.assign(Object.assign({},a),{[n]:Object.assign({},s)}))}},addItems(e,t){const o=e.filter(e=>Boolean(e.author)).map(({author:e})=>e),n=e.filter(e=>{var t;return Boolean((null==e||null==(t=e.liveRoomInfo)?void 0:t.ownerInfo)&&FE(e))}).map(e=>Object.assign(Object.assign({},e.liveRoomInfo.ownerInfo),{roomId:e.liveRoomInfo.roomID})),i=e.map(e=>Object.assign(Object.assign({},e),{logId:t})),a=_E();(0,r.unstable_batchedUpdates)(()=>{a.multiSetUser(o.concat(n)),this.multiSetItem(i)})},postCollectVideo(t){var o,n,i,r;return TE(this,void 0,void 0,function*(){const a=e(OE),s=e(hE),{itemId:l}=t,c=a[l],d=s.users[null!==(o=null==c?void 0:c.author)&&void 0!==o?o:""],{collected:u=!1,stats:p}=c,g=Number(null!==(n=null==p?void 0:p.collectCount)&&void 0!==n?n:0),m=u?dA.ITEM_CANCEL_COLLECT:dA.ITEM_COLLECT,h={aid:vn.xE,itemId:l,action:m,secUid:null!==(i=null==d?void 0:d.secUid)&&void 0!==i?i:""};this.setCollect({id:l,collected:!u,count:u?Math.max(0,g-1):g+1});try{const e=yield function(e){return CE(this,void 0,void 0,function*(){return ak.h.post("/api/item/collect/",{query:e,baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})})}(h);((e,t)=>{const o=t===dA.ITEM_COLLECT?"favourite_video":"cancel_favourite_video";ht.f.sendEvent(o,e)})({group_id:l,author_id:null!==(r=null==d?void 0:d.id)&&void 0!==r?r:""},m);const{statusCode:t}=e;return t!==Fc.Ok?void setTimeout(()=>{this.setCollect({id:l,collected:u,count:g})},3e3):e}catch(e){}})},postLikeVideo(t){var o,n,i,r;return TE(this,void 0,void 0,function*(){const a=e(OE),s=e(hE),l=a[t.id],c=s.users[null!==(o=null==l?void 0:l.author)&&void 0!==o?o:""],{user:d}=(0,y.x)(),{digged:u,stats:p,poi:g,imagePost:m,subVideoMeta:h,ad_info:v,repostList:_}=l,{id:f,forceLike:b,enter_method:w=yl.c.Click,channel_id:k}=t,S=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(t,["id","forceLike","enter_method","channel_id"]),C=null!==(n=null==p?void 0:p.diggCount)&&void 0!==n?n:0,x={aweme_id:f,channel_id:k,friends_upvote:null==_?void 0:_.some(e=>e.secUid!==(null==d?void 0:d.secUid)),type:b?$A.Digg:u?$A.Undigg:$A.Digg};if(!b||!u)try{var P;let e;this.setLike({id:f,liked:!u,count:u?Math.max(0,C-1):C+1});try{e=yield function(e){return CE(this,void 0,void 0,function*(){return ak.h.post("/api/commit/item/digg/",{query:e,baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})})}(x)}catch(t){e={status_code:Fc.UnknownError}}const{status_code:t,status_msg:o,log_pb:n={},is_digg:a}=e;if(t===Fc.VideoLikeFreq||t===Fc.VideoLikeFreq2){const e=JA();o&&rn.F.open({content:e(o),duration:3,widthType:"half"})}let s={};v&&(s=$O({ad_info:v,play_mode:null!==(i=S.play_mode)&&void 0!==i?i:YO.Tk.OneColumn})),((e,t)=>{const o=t===$A.Digg?"like":"like_cancel",n=(0,Gh.Hd)(vn.DK);ht.f.sendEvent(o,Object.assign(Object.assign({},e),{from_group_id:n}))})(Object.assign(Object.assign(Object.assign({},S),s),{group_id:l.id,author_id:null!==(r=null==c?void 0:c.id)&&void 0!==r?r:"",log_pb:n,enter_method:w,poi_id:null==g?void 0:g.id,aweme_type:m?150:0,pic_cnt:null==m||null==(P=m.images)?void 0:P.length,is_sub_only_video:h?1:0}),x.type),t===Fc.Ok&&a!==x.type||setTimeout(()=>this.setLike({id:l.id,liked:u,count:C}),3e3)}catch(e){}})},postRepostVideo(t){var o,n;return TE(this,void 0,void 0,function*(){const i=JA(),r=e(OE)[t.id],{user:a}=(0,y.x)();if(!r||!a)return;const{statsV2:s,repostList:l}=r,{id:c,playMode:d,playlistId:u}=t,p=(null!==(o=null==l?void 0:l.findIndex(e=>e.secUid===a.secUid))&&void 0!==o?o:-1)>=0,g=Number(null!==(n=null==s?void 0:s.repostCount)&&void 0!==n?n:0),m=!p;try{this.prependRepost({id:c,reposted:m,currentUser:a,count:p?Math.max(0,g-1):g+1});const e={page_name:ht.f.commonParams.page_name,group_id:c,play_mode:d,playlist_id:u};let t;try{const o={item_id:c};m?(ht.f.sendEvent("click_repost",e),({status_code:t}=yield function(e){return CE(this,void 0,void 0,function*(){return ak.h.post("/tiktok/v1/upvote/publish",{query:e,baseUrlType:vt.Z4.FixedWww})})}(o))):(ht.f.sendEvent("click_repost_remove",e),({status_code:t}=yield function(e){return CE(this,void 0,void 0,function*(){return ak.h.post("/tiktok/v1/upvote/delete",{query:e,baseUrlType:vt.Z4.FixedWww})})}(o)))}catch(e){t=Fc.UnknownError}rn.F.destroy();let o=m?"pcWeb_reposted_toast":"pcWeb_repostRemoved_toast";t!==Fc.Ok?(o="Sorry, something wrong with the server, please try again.",setTimeout(()=>this.prependRepost({id:c,reposted:p,currentUser:a,count:g}),3e3)):m?ht.f.sendEvent("repost_success",e):ht.f.sendEvent("repost_remove_success",e),rn.F.open({content:i(o),duration:3,widthType:"half",getContainer:kE,getContainerPosition:"fixed"})}catch(e){}})},postDislikeVideo(t){return TE(this,void 0,void 0,function*(){const o=e(OE),{id:n,author_id:i,play_mode:r}=t,a=o[n],s=null==a?void 0:a.ad_info;let l={};var c;s&&(l=$O({ad_info:s,play_mode:r}),l.refer=VO.Button),c=Object.assign({group_id:n,author_id:i,play_mode:r},l),ht.f.sendEvent("dislike",c);const d=JA();rn.F.open({content:d("webapp_forYoufeed_videoRemoved_toast"),duration:3,widthType:"half",getContainer:kE,getContainerPosition:"fixed"});const u={item_id:n,item_author_id:i};try{try{yield function(e){return CE(this,void 0,void 0,function*(){return ak.h.post("/api/dislike/item/",{query:e,baseUrlType:vt.Z4.FixedWww,headers:{[vt.nk]:ak.h.csrfToken}})})}(u)}catch(e){}}catch(e){}})},checkItemValidation(e){return TE(this,void 0,void 0,function*(){const t={itemIds:e};try{return yield function(e){return CE(this,void 0,void 0,function*(){return ak.h.get("/api/item/availability/",{query:e,baseUrlType:vt.Z4.FixedWww})})}(t)}catch(e){}})},setItemPrivateState(o){const{id:n,visibility:i}=o,r=e(OE),a=r[n];if(!a)return;const s=Object.assign(Object.assign({},a),{forFriend:i===SE.Friends,secret:i===SE.Private});t(OE,Object.assign(Object.assign({},r),{[n]:s}))},setDeleteVideo(e){t(OE,t=>ut()(t,e))},getStaticItem:t=>e(OE)[t]}));var IE=function(e){return e.ForYou="foryou",e.Challenge="challenge",e.ChallengeNew="challenge_new",e.Channel="channel",e.Find="find",e.Following="following",e.Video="video",e.Music="music",e.MusicNew="music_new",e.User="user",e.UserPost="user-post",e.UserPostPublic="user-post-public",e.UserRepost="user-repost",e.UserLiked="user-liked",e.SearchTop="search_top",e.SearchVideo="search_video",e.SearchLive="search_live",e.Question="question",e.Playlist="playlist",e.Topic="topic",e.LiveEvent="live_event",e.VideoPlaylist="video_playlist",e.CreateVideoPlaylist="create_video_playlist",e.Sticker="sticker",e.Effect="effect",e.Messages="messages",e.Discover="discover",e.Poi="poi",e.PoiCategory="poi_category",e.Collection="collection",e.Explore="explore",e.Favorites="favorites",e.KeywordExpansion="keyword-expansion",e.CreatorTab="creator_tab",e.Friends="friends",e.TrendingTopics="trending_topics",e}({}),RE=function(e){return e.HIGH="high",e.MEDIUM="medium",e.LOW="low",e}({});hc.g.Trending,hc.g.Following,hc.g.Friends,hc.g.Topic,hc.g.Video,hc.g.Trending,hc.g.Following,hc.g.Friends,hc.g.Topic,hc.g.Video,hc.g.Effect,hc.g.User,hc.g.User,hc.g.User,hc.g.User,hc.g.User,hc.g.Explore,hc.g.Challenge,hc.g.Channel,hc.g.Collection,hc.g.Discover,hc.g.Find,hc.g.LiveEvent,hc.g.Messages,hc.g.Music,hc.g.Playlist,hc.g.Poi,hc.g.PoiCategory,hc.g.Question,hc.g.Sticker;class ME{constructor(){this.msLastScrollStart=-1,this.msLastScrollEnd=-1,this.indexOnScrollStart=-1}}(0,mA.U)("ScrollReportStruct@tiktok/tea-events",()=>new ME);const DE=(IE.UserPost,IE.UserLiked,IE.SearchTop,IE.SearchVideo,IE.Music,IE.Challenge,IE.CreatorTab,IE.ForYou,IE.Following,IE.Video,RE.HIGH,RE.MEDIUM,RE.LOW,rc({csr:u()})),FE=e=>(null==e?void 0:e.containerType)===cA.CONTAINERTYPE_LIVE,NE=e=>(null!=e?e:[]).filter(e=>e.containerType!==cA.CONTAINERTYPE_LIVE).map(e=>{var t,o,n,i;return{url:null!==(t=null==(n=e.video)?void 0:n.playAddr)&&void 0!==t?t:"",id:null!==(o=null==(i=e.video)?void 0:i.id)&&void 0!==o?o:""}}),UE=({list:e})=>e.reduce((e,{id:t,showNotPass:o,takeDown:n})=>(!o&&6!==n&&t&&e.push(t),e),[]),BE=(e,t)=>{e(t,e=>Object.assign(Object.assign({},e),{loading:!1,statusCode:Fc.UnknownError}))},HE=(e,t,o,n,i,a)=>{var s,l,c,d;const u=e(o),{list:p,hasLocateItem:g}=u,{photoSensitiveVideosSetting:m}=e(wA),{statusCode:h,hasMore:v=!0,itemList:_=[],cursor:f,log_pb:b,has_locate_item_id:w}=i,k=((e,t)=>{let o=(null!=e?e:[]).slice();const{user:n}=(0,y.x)(),{itemListKey:i,photoSensitiveVideosSetting:r,secUid:a}=t;return(null==n?void 0:n.photoSensitiveVideosSetting)!==nn.ll.CLOSE&&(n||r!==nn.ll.CLOSE)||i===IE.UserPost&&(null==n?void 0:n.secUid)===a||!(i!==IE.Video||o.length>1)||(o=o.filter(e=>e.containerType===cA.CONTAINERTYPE_LIVE||e.maskType!==yE.Photosensitive)),o=o.map(e=>{var t;return FE(e)&&(e.id=`live_${null==(t=e.liveRoomInfo)?void 0:t.roomID}`),e}),o})(_,{itemListKey:n,photoSensitiveVideosSetting:m,secUid:null==a?void 0:a.secUid}),{list:S,browserList:C}=((e,t,o)=>{const{itemListKey:n,addToHead:i}=o,{list:r,browserList:a}=e,s=sA()(t,"id").filter(e=>!r.includes(e.id)),l=n===IE.Topic||n===IE.Messages;if(n===IE.ForYou){const e=t.length,o=e-s.length;o&&(c=o,d=r.length,u=e,ht.f.event(pA.DuplicatedItem,{count:c,total_count:d,response_count:u}))}var c,d,u;if(i)return{list:s.map(({id:e})=>e).concat(r),browserList:[...UE({list:s}),...a]};{const e=rA()(r,s.map(({id:e})=>e));return{list:l?r.concat(t.map(({id:e})=>e)):e,browserList:l?a.concat(UE({list:t})):rA()(a,UE({list:t}))}}})(u,k,{itemListKey:n,addToHead:null==a?void 0:a.addToHead});(({currentList:e,itemList:t,statusCode:o,disableReportMore:n=!1,isPlayList:i=!1})=>{var r;e.length&&!n&&(r={is_success:t.length?1:0,error_code:o,popup_type:i?"playlist":void 0},ht.f.sendEvent("load_more",r))})({currentList:p,itemList:k,statusCode:h,disableReportMore:null!==(s=null==a?void 0:a.disableReportMore)&&void 0!==s&&s,isPlayList:null!==(l=null==a?void 0:a.isPlayList)&&void 0!==l&&l}),DE(null==(d=k[0])?void 0:d.video,n);const x=(e=>{const t=e.filter(e=>Boolean(e.author)).map(({author:e})=>e),o=e.filter(e=>{var t;return Boolean(null==(t=e.liveRoomInfo)?void 0:t.ownerInfo)}).map(e=>Object.assign(Object.assign({},e.liveRoomInfo.ownerInfo),{roomId:e.liveRoomInfo.roomID}));return t.concat(o)})(k),P=((e,t)=>e.map(e=>Object.assign(Object.assign({},e),{logId:t})))(k,null==b?void 0:b.impr_id),T={statusCode:h,hasMore:v,cursor:f,list:S,loading:!1,browserList:C,preloadList:[...null!==(c=u.preloadList)&&void 0!==c?c:[],...NE(k)],items:P,hasLocateItem:!!g||w};(0,r.unstable_batchedUpdates)(()=>{_E().multiSetUser(x),EE().multiSetItem(P),t(o,T)})};const zE="__$UNIVERSAL_DATA$__";function YE(e,t){var o,n,i,r;if(!window[zE]){let e={};try{e=JSON.parse(null!==(n=null===(o=document.getElementById("__UNIVERSAL_DATA_FOR_REHYDRATION__"))||void 0===o?void 0:o.textContent)&&void 0!==n?n:"{}")}catch(e){console.error("error while parsing rehydration data")}window[zE]=e}return null!==(r=null===(i=window[zE][null!=t?t:"__DEFAULT_SCOPE__"])||void 0===i?void 0:i[e])&&void 0!==r?r:null}function WE(){return e=this,t=void 0,n=function*(){return function(){var e,t,o,n,i;const r=YE("webapp.app-context"),a=null==r?void 0:r.abTestVersion,s=YE("seo.abtest"),l=[...Object.keys(null!==(t=null===(e=null==a?void 0:a.parameters)||void 0===e?void 0:e.clientABVersions)&&void 0!==t?t:{}),...Object.keys(null!==(n=null===(o=null==s?void 0:s.parameters)||void 0===o?void 0:o.clientABVersions)&&void 0!==n?n:{}),...null!==(i=null==s?void 0:s.vidList)&&void 0!==i?i:[]];return Array.from(new Set(l))}()},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n}const VE={recommendItemList:void 0,userPlayList:void 0,userPostList:void 0,poiDetail:void 0,poiCategory0:void 0,poiCategory1:void 0,poiCategory2:void 0,relatedKeywords:void 0,kapRelatedKeywords:void 0,kapProductList:void 0,linkerStrategy:void 0,exploreItemList:void 0,trendingMediaVideoList:void 0,trendingPublicVideoList:void 0};function GE(e){const t=VE[e];return t&&(VE[e]=void 0),t}var $E=o(31773),qE=o(10730),KE=o(45290),ZE=o(95169);const JE="content-type",QE=["/api/update/profile/","/api/commit/follow/user","/api/comment/publish"],XE=["application/pdf"],eL={"Singapore-Central":"sg","US-East":"va","US-EastRed":"in","US-TTP":"ttp","US-TTP2":"ttp2","EU-TTP":"ie","EU-TTP2":"no1a"};function tL({url:e,response:t,appContext:o,bizContext:n,options:i,config:r,retryFn:a=()=>(0,Vt.sH)(this,void 0,void 0,function*(){})},s){var l,c,d,u,p,g,m,h,v,_,f,b;return(0,Vt.sH)(this,void 0,void 0,function*(){if(null===(l=null==s?void 0:s.emitEvent)||void 0===l||l.call(s,"request_status",{now:performance.now()},{statusCode:"unknown"}),t.status>=400)return(0,jk.Gy)(t,e),null===(c=null==s?void 0:s.emitEvent)||void 0===c||c.call(s,"request_status",{now:performance.now()},{statusCode:`${t.status}`}),Promise.reject(t);{const l=t.headers.get(JE);if(null==l?void 0:l.includes("application/json"))try{let l=t.headers.has($E.Si)?JSON.parse(null!==(d=t.headers.get($E.Si))&&void 0!==d?d:"{}"):yield t.json();const c=t.headers.has($E.Si);null===(u=null==s?void 0:s.emitEvent)||void 0===u||u.call(s,"request_status",{now:performance.now()},{statusCode:`${t.status}`,needVerify:`${c}`}),c&&(null===(p=null==s?void 0:s.context)||void 0===p||p.call(s,{firstScreenRequest:"abort",verify:"1"}));const _=function(e,t,o){var n,i,r;const a=e.status_code||e.code,s=a===$E.CQ,l=a===$E.Zu;if(QE.some(e=>t.includes(e))&&(s||l)){const e=(0,ZE.v)(o);return{code:"10000",from:"shark_admin",type:"verify",version:1,region:null!==(r=null!==(n=eL[e])&&void 0!==n?n:$E.sG[null!==(i=vt.si.kind)&&void 0!==i?i:""])&&void 0!==r?r:"va",subtype:s?"slide":"text",verify_event:"",detail:{},fp:-1}}return e}(l,e,null==n?void 0:n.idc),f="TTP"===(null==o?void 0:o.clusterRegion),b=(null==n?void 0:n.idc)?(0,ZE.v)(n.idc):null==n?void 0:n.vregion,y=yield qE.MX.checkVerify(_,null!==(g=null==o?void 0:o.wid)&&void 0!==g?g:"0",f,vt.si.captcha,{lang:null==o?void 0:o.language,userMode:(0,KE.n)({isVA:"US-TTP"===b||"US-TTP2"===b,isLogin:Boolean(null==o?void 0:o.user),isFTC:null!==(h=null===(m=null==o?void 0:o.user)||void 0===m?void 0:m.ftcUser)&&void 0!==h&&h,isHighRisk:!1,isEU:(null==b?void 0:b.startsWith("EU-TTP"))||"US-EAST-RED"===b})});return 0===y?((null==i?void 0:i.onJsonResponse)&&(l=i.onJsonResponse({response:t,config:r,json:l})),null===(v=null==s?void 0:s.emitEvent)||void 0===v||v.call(s,"request_status",{now:performance.now()},{statusCode:`${t.status}`,status:"success"}),l):2===y?a().then(t=>tL({url:e,response:t,appContext:o,bizContext:n,options:i,config:r,retryFn:a},s)):{statusCode:-1}}catch(e){return null===(_=null==s?void 0:s.emitEvent)||void 0===_||_.call(s,"request_status",{now:performance.now()},{statusCode:`${t.status}`,status:"fail",needVerify:`${t.headers.has($E.Si)}`,isRiskControlBlock:`${"0, 0"===t.headers.get("content-length")&&"Janus-Mini(fast)"===t.headers.get("x-janus-mini-api-forward")}`,errorMessage:null==e?void 0:e.message}),null===(f=null==s?void 0:s.context)||void 0===f||f.call(s,{firstScreenRequest:"abort"}),Promise.reject(t)}else{if(null===(b=t.headers.get(JE))||void 0===b?void 0:b.includes("text/"))return t.text();if(-1!==XE.indexOf(String(l)))return t.blob();if(null==l?void 0:l.includes("application/x-protobuf"))return t.arrayBuffer()}return t.text()}})}const oL="$PREFETCH_CACHE";function nL(e){var t,o;const n=null!==(t=window[oL])&&void 0!==t?t:{};let i;var r,a;return window[oL]=n,(null==(o=n[e])?void 0:o.used)||(i=null==(a=n[e])||null==(r=a.request)?void 0:r.then(e=>tL(e).catch(e=>{if(e instanceof Response){const t={status:e.status,url:e.url,logId:e.headers.get("x-tt-logid"),bdturingVerify:e.headers.get("bdturing-verify")};throw new Error(JSON.stringify(t))}throw e}))),n[e]={used:!0,result:i},i}var iL=o(72761);const rL=new class{on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}emit(e,...t){const o=this.listeners[e];o&&o.forEach(e=>{e(...t)})}off(e,t){const o=this.listeners[e];o&&(this.listeners[e]=o.filter(e=>e!==t))}constructor(){this.listeners={}}},aL=()=>{var e;return(null!==(e=pn("tt_player_dash"))&&void 0!==e?e:{vid:"v0",format:"MP4"}).format.toLowerCase()};IE.UserPost,IE.UserRepost,IE.UserLiked,IE.Favorites,uA.LATEST,uA.POPULAR,uA.OLDEST;var sL=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const lL=(0,S._)((0,x.p)("userPostListLatestAtom@tiktok/webapp-atoms",tA),{rehydrationKey:"desktop.userPage.userPostListLatest"}),cL=rc({csr:e=>sL(void 0,void 0,void 0,function*(){const t=GE("userPostList");if(t)return t;const o=yield WE(),n=nL("userPostList");return n?(rL.emit("consume_prefetch_data",performance.now(),"unknown","userPostList"),n.catch(()=>(rL.emit("consume_prefetch_data",performance.now(),"fail","userPostList"),ak.h.get("/api/post/item_list/",{query:Object.assign(Object.assign({},e),{clientABVersions:o.join(",")}),baseUrlType:vt.Z4.FixedWww})))):ak.h.get("/api/post/item_list/",{query:Object.assign(Object.assign({},e),{clientABVersions:o.join(",")}),baseUrlType:vt.Z4.FixedWww})})}),{useAtomService:dL,useServiceDispatchers:uL,useServiceState:pL,getStaticApi:gL}=(e=>{const{useAtomService:t,useServiceDispatchers:o,useServiceState:n,getStaticApi:i}=(0,C.i)(e,(t,o)=>({setLoading(t){o(e,e=>Object.assign(Object.assign({},e),{loading:t}))},getItemList(n){return sL(this,void 0,void 0,function*(){try{var i;o(e,e=>Object.assign(Object.assign({},e),{loading:!0}));const{pathname:a}=(0,T.xw)(),{user:s,abTestVersion:l}=(0,y.x)(),{secUid:c,userId:d,count:u,postItemListRequestType:p,filterPhotoContent:g,locateItemID:m,needPinnedItemIds:h=!0}=n,v=function(e,t,o){var n;const{secUid:i,userId:r,count:a,postItemListRequestType:s,locateItemID:l,needPinnedItemIds:c=!0,enable_cache:d}=o,u=e(t),{cursor:p="0"}=u,{language:g,region:m}=(0,y.x)(),{bizContext:h}=e(pt.A),v=aL();return Object.assign(Object.assign({secUid:i,aid:oA,count:null!=a?a:30,cursor:p,region:m,language:g,userId:r,coverFormat:null==h||null==(n=h.videoCoverSettings)?void 0:n.format,post_item_list_request_type:null!=s?s:uA.LATEST,needPinnedItemIds:c,video_encoding:v},l&&{locate_item_id:l}),{enable_cache:d})}(t,e,Object.assign({secUid:c,userId:d,count:null!=u?u:35,postItemListRequestType:p,needPinnedItemIds:h},m&&{locateItemID:m})),_=(0,Ze.sn)(a)!==iL.A.SearchResults&&"0"===v.cursor&&p===uA.LATEST,f="v1"===(null==l||null==(i=l.parameters.webapp_profile_page_caching)?void 0:i.vid),b=!s&&_&&f;v.enable_cache=b;const w=cL(v);o(e,e=>Object.assign(Object.assign({},e),{prevPromise:w}));const k=yield w,S=t(e).prevPromise;if(S&&S!==w)return;var r;g&&(k.itemList=null==(r=k.itemList)?void 0:r.filter(e=>!e.imagePost)),HE(t,o,e,IE.UserPost,k,{secUid:c})}catch(t){(0,T.mH)().warn("user post atom, error getItemList!",t),BE(o,e)}})},resetItemList(){o(e,tA)}}));return{useAtomService:t,useServiceDispatchers:o,useServiceState:n,getStaticApi:i}})(lL);var mL=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const hL=(0,S._)((0,x.p)("relatedListAtom@tiktok/webapp-atoms",tA),{rehydrationKey:"desktop.videoPage.relatedList"}),{useAtomService:vL,useServiceDispatchers:_L,useServiceState:fL,getStaticApi:bL}=(0,C.i)(hL,(e,t)=>({getRelatedList(o){var n,i;return mL(this,void 0,void 0,function*(){try{var r,a,s;const{loading:d,hasMore:u,cursor:p="0"}=e(hL);if(d)return;const{itemId:g,secUid:m}=o,{language:h,abTestVersion:v,user:_}=(0,y.x)(),{bizContext:f}=e(pt.A),b=(0,K.uk)(h),w=null==f||null==(r=f.videoCoverSettings)?void 0:r.format,k=E(e(I)),S=null!==(n=null==(a=e(OE)[g])?void 0:a.CategoryType)&&void 0!==n?n:0,C=null!==(i=null==v||null==(s=v.parameters.video_detail_yml_creator)?void 0:s.vid)&&void 0!==i?i:"v0",x="v0"!==C&&!_,P="v2"===C;let T;if(t(hL,e=>Object.assign(Object.assign({},e),{loading:!0})),x&&m&&u){var l;T=yield cL({aid:oA,count:16,cursor:p,secUid:m,language:b,coverFormat:w}),T.itemList=null==(l=T.itemList)?void 0:l.filter(e=>(P||!e.isPinnedItem)&&!e.imagePost),T.hasMore=!!(T.itemList&&T.itemList.length>3)&&T.hasMore}else{const e=aL();T=yield(c={aid:oA,count:16,itemID:g,language:b,coverFormat:w,isNonPersonalized:k,clientABVersions:null==v?void 0:v.versionName,cursor:p,CategoryType:S,video_encoding:e},mL(void 0,void 0,void 0,function*(){const e=yield WE();return ak.h.get("/api/related/item_list/",{query:Object.assign(Object.assign({},c),{clientABVersions:e.join(",")}),baseUrlType:vt.Z4.FixedWww})}))}HE(e,t,hL,IE.Video,T)}catch(e){BE(t,hL)}var c})},resetRelatedList(){t(hL,tA)}})),yL=(0,S._)((0,x.p)("recommendListResponseAtom@tiktok/webapp-atoms",{statusCode:Fc.Ok}),{rehydrationKey:"desktop.forYouPage.recommendListResponse"}),{useServiceState:wL}=(0,C.i)(yL,()=>({}));var kL=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const SL=rc({csr:e=>kL(void 0,void 0,void 0,function*(){var t,o;const n=GE("recommendItemList");if(n)return n;const i=nL("recommendItemList"),r=yield WE(),a=Array.from(new Set([...null!==(t=null==(o=e.clientABVersions)?void 0:o.split(","))&&void 0!==t?t:[],...r]));return i?(rL.emit("consume_prefetch_data",performance.now(),"unknown","recommendItemList"),i.catch(()=>(rL.emit("consume_prefetch_data",performance.now(),"fail","recommendItemList"),ak.h.get("/api/recommend/item_list/",{query:Object.assign(Object.assign({},e),{clientABVersions:a.join(",")}),baseUrlType:vt.Z4.FixedWww})))):ak.h.get("/api/recommend/item_list/",{query:Object.assign(Object.assign({},e),{clientABVersions:a.join(",")}),baseUrlType:vt.Z4.FixedWww})})});function CL(e,t,o){var n,i,r,a;const{language:s="en",abTestVersion:l}=null!==(n=(0,y.x)())&&void 0!==n?n:{},{itemId:c,watchLiveLastTime:d,device_type:u,pullType:p=2,ttamParams:g={},fypFeederItemId:m,fetchCount:h,enableCDNCache:v,enableDummyRequest:_,cache_ttl:f}=e,b=(0,K.uk)(s);let w=30;const k=null!=h?h:null==l||null==(i=l.parameters.change_list_length_new)?void 0:i.vid;k&&(w=Number(k));const S=null==l||null==(r=l.parameters.tt_player_dash)?void 0:r.vid;let C="";return"object"==typeof S&&"format"in S&&(C=S.format.toLowerCase()),Object.assign(Object.assign({isNonPersonalized:!!_||o,aid:oA,count:1===p?6:w,insertedItemID:c,language:b,clientABVersions:null==l?void 0:l.versionName,pullType:p,watchLiveLastTime:d,device_type:u},g),{coverFormat:null==t||null==(a=t.videoCoverSettings)?void 0:a.format,itemID:m,vv_count_fyp:parseInt((0,Cn._S)(nA,"0"),10)||0,vv_count:parseInt((0,Cn._S)("w_g_vv","0"),10)||0,cpu_core_number:"undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:0,dark_mode:"dark"===(0,T.MJ)("tiktok_webapp_theme_source")&&"1"===(0,T.MJ)("tiktok_webapp_theme_manual"),time_of_day:(new Date).getHours(),day_of_week:(new Date).getDay(),enable_cache:Boolean(v)||Boolean(_),user_is_login:!v&&!_&&void 0,cache_ttl:f,video_encoding:C})}var xL=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const PL=(0,S._)((0,x.p)("recommendListAtom@tiktok/webapp-atoms",tA),{rehydrationKey:"desktop.forYouPage.recommendList"}),{useAtomService:TL,useServiceDispatchers:OL,useServiceState:AL,getStaticApi:EL}=(0,C.i)(PL,(e,t)=>({getRecommendList(o,n=!1){var i;return xL(this,void 0,void 0,function*(){const r=n?hL:PL,a=n?IE.Video:IE.ForYou;try{var s,l,c,d,u;const h=e(r),{bizContext:v}=e(pt.A),{language:_,abTestVersion:f}=(0,y.x)(),{itemId:b,watchLiveLastTime:w,device_type:k,fromPage:S,pullType:C=2,ttamParams:x={},isNonPersonalized:T=!1,playModeForTea:O=YO.Tk.OneColumn,fypFeederItemId:A,fetchCount:L,enableCDNCache:j,enableDummyRequest:R}=o,M=(0,P.fU)()?T:E(e(I)),D="undefined"!=typeof window&&"connection"in navigator?navigator.connection.downlink:void 0,F=e(ZO).totalDeviceScore,N=(0,K.uk)(_);let U=30;const B=null!=L?L:null==f||null==(s=f.parameters.change_list_length_new)?void 0:s.vid;B&&(U=Number(B));const H=null==f||null==(l=f.parameters.tt_player_dash)?void 0:l.vid;let z="";"object"==typeof H&&"format"in H&&(z=H.format.toLowerCase());const Y=Object.assign(Object.assign({isNonPersonalized:M,aid:oA,count:1===C?6:U,insertedItemID:b,language:N,clientABVersions:null==f?void 0:f.versionName,pullType:C,watchLiveLastTime:w,device_type:k},x),{coverFormat:null==v||null==(c=v.videoCoverSettings)?void 0:c.format,itemID:A,vv_count_fyp:parseInt((0,Cn._S)(nA,"0"),10)||0,video_encoding:z}),W=CL(o,v,M);console.debug("[getRecommendList]","originParams",Y,"expParams",W,JSON.stringify(W)===JSON.stringify(Y));const V="v2"!==(null==f||null==(u=f.parameters)||null==(d=u.foryou_prefetch)?void 0:d.vid)?Y:W;S&&Object.assign(V,{from_page:S}),Object.assign(V,{launch_mode:(0,Cn.Hd)(vn.O_),device_score:F.toString(),network:D,window_height:"undefined"!=typeof window?window.innerHeight:void 0,window_width:"undefined"!=typeof window?window.innerWidth:void 0}),t(r,e=>Object.assign(Object.assign({},e),{loading:!0}));const G=yield SL(V),$=function(e,t){const{adsOffset:o=0,itemList:n}=t,i=Number(o),r=null==n?void 0:n[i];if(!(null==r?void 0:r.isTT4BAds))return t;const a=i>=e?i-e:0;return null==n||n.splice(i,1),null==n||n.splice(a,0,r),t.itemList=n,t}(h.list.length,G),q=null!==(i=$.itemList)&&void 0!==i?i:[];q.forEach(e=>{var t;if(e.ad_info){const t=$O({ad_info:e.ad_info,play_mode:O});KO("receive",t)}(e=>{ht.f.sendEvent("video_receive",e)})({item_id:e.id,group_id:null==e||null==(t=e.video)?void 0:t.id})}),n||t(yL,$),HE(e,t,r,a,$);try{var p,g;const e="v1"===(null==f||null==(g=f.parameters)||null==(p=g.webapp_fyp_cache_login)?void 0:p.vid);(j||R)&&e&&(m={aid:oA,language:N,itemIds:q.map(e=>e.id).join(","),clientABVersions:null==f?void 0:f.versionName,isNonPersonalized:M,isForYouFeedImpression:!0},kL(void 0,void 0,void 0,function*(){return ak.h.get("/api/record/impression/action/",{query:m,baseUrlType:vt.Z4.FixedWww})}))}catch(e){console.error("Record Impression Action failed in /api/recommend/item_list with CDN Cache",e)}}catch(e){(0,T.mH)().warn("getRecommendList err",e),BE(t,r)}var m})},setPrefetchFYP(t){var o;return xL(this,void 0,void 0,function*(){try{const{bizContext:i}=e(pt.A),r=(0,P.fU)()?null!==(o=t.isNonPersonalized)&&void 0!==o&&o:E(e(I)),a=CL(t,i,r);n=a,kL(void 0,void 0,void 0,function*(){var e,t;const o=yield WE(),i=Array.from(new Set([...null!==(e=null==(t=n.clientABVersions)?void 0:t.split(","))&&void 0!==e?e:[],...o]));return ak.h.post("/api/prefetch/recommend/item_list/",{query:Object.assign(Object.assign({},n),{clientABVersions:i.join(",")}),baseUrlType:vt.Z4.FixedWww})})}catch(e){(0,T.mH)().warn("getRecommendList err",e)}var n})},setDeleteVideo(e){((e,t,o)=>{e(t,e=>Object.assign(Object.assign({},e),{list:e.list.filter(e=>e!==o),browserList:e.browserList.filter(e=>e!==o)}))})(t,PL,e)},setListFromCache(o){HE(e,t,PL,IE.ForYou,o,{disableReportMore:!0})},getFeedCacheList(){return xL(this,void 0,void 0,function*(){try{var t,o;const{bizContext:i}=e(pt.A),{language:r,abTestVersion:a}=(0,y.x)(),s=E(e(I)),l=(0,K.uk)(r),c="undefined"!=typeof window&&"connection"in navigator?navigator.connection.downlink:void 0,d=e(ZO).totalDeviceScore,u=3,p=null==a||null==(t=a.parameters.tt_player_dash)?void 0:t.vid;let g="";"object"==typeof p&&"format"in p&&(g=p.format.toLowerCase());const m={count:u,language:l,coverFormat:null==i||null==(o=i.videoCoverSettings)?void 0:o.format,isNonPersonalized:s,vv_count_fyp:parseInt((0,Cn._S)(nA,"0"),10)||0,clientABVersions:null==a?void 0:a.versionName,launch_mode:(0,Cn.Hd)(vn.O_),device_score:d.toString(),network:c,window_height:"undefined"!=typeof window?window.innerHeight:void 0,window_width:"undefined"!=typeof window?window.innerWidth:void 0,video_encoding:g};return yield(n=m,kL(void 0,void 0,void 0,function*(){return ak.h.get("/api/preload/item_list/",{query:n,baseUrlType:vt.Z4.FixedWww})}))}catch(e){return null}var n})},resetRecommendList(e){t(PL,Object.assign(Object.assign({},tA),e))},setRecommendListById(e){const{list:o,browserList:n,preloadList:i}=e;t(PL,e=>Object.assign(Object.assign({},e),{list:o,browserList:null!=n?n:o,preloadList:i}))}}));var LL=function(e){return e.H265="web_h265",e.H264="web_h264",e}({});const jL='video/mp4;codecs="hev1.1.6.L93.B0"',IL="hevc_support_key_v4",RL="hevc_support_key_time";let ML;const DL=()=>(0,Cn._S)("ENTER_ROOM_TIME_STAMP_STORAGE_KEY",""),FL=()=>{var e,t;const{user:o}=(0,y.x)();return{showAds:"v2"===(null!==(e=pn("enable_ads"))&&void 0!==e?e:"v1")&&!!o,showAboutThisAd:"v2"===(null!==(t=pn("enable_about_this_ad"))&&void 0!==t?t:"v1")}};const NL="ENABLED_FYP_CDN_CACHE";const UL="ENABLED_FYP_DUMMY_REQUEST";function BL(e=void 0,t="",o=""){const{streamDeviceType:n}=function(){const e=(0,m.useMemo)(()=>function(){if((0,P.fU)())return!1;if(void 0!==ML)return ML;const e=(0,Cn._S)(IL,""),t=Number((0,Cn._S)(RL,"0"));return Date.now()-t>12096e5||""===e?(ML=!(0,P.fU)()&&"undefined"!=typeof MediaSource&&!(!MediaSource.isTypeSupported(jL)||"probably"!==document.createElement("video").canPlayType(jL)),(0,Cn.AP)(IL,ML?"1":"0"),(0,Cn.AP)(RL,String(Date.now())),ML&&navigator.mediaCapabilities.decodingInfo({type:"file",video:{contentType:jL,width:1920,height:1080,bitrate:1e4,framerate:30}}).then(({supported:e})=>{ML=e,(0,Cn.AP)(IL,e?"1":"0")}).catch(e=>console.error(e)),ML):"1"===e}(),[]),t=(0,m.useMemo)(()=>(0,P.fU)()?LL.H264:e?LL.H265:LL.H264,[e]);return{openH265:t===LL.H265,streamDeviceType:t,hevcSupport:e}}(),i=OL(),{abTestVersion:r}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),a=FL(),s=function(){var e;const{user:t,webIdCreatedTime:o}=null!==(e=(0,tn.W)(()=>["user","webIdCreatedTime"],[]))&&void 0!==e?e:{},n=Boolean(t),{inWebappFypCacheExperiment:i}=(()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[]));return{inWebappFypCacheExperiment:"v1"===(null!==(e=un(t,"webapp_fyp_cache"))&&void 0!==e?e:"v0")}})(),r=((e=0)=>{const t=(0,Cn._S)("old_user_ppe_test");return"1"!==t&&("0"===t||!e||Date.now()/1e3-e<259200)})(o);return i&&!n&&r&&!(0,P.fU)()}(),l=function(){var e;const{user:t}=null!==(e=(0,tn.W)(()=>["user"],[]))&&void 0!==e?e:{},o=Boolean(t),{isInWebappFypCacheLoginExperiment:n}=(()=>{var e;const{abTestVersion:t}=(0,xo.L$)((0,tn.W)(()=>["abTestVersion"],[])),o=null!==(e=un(t,"webapp_fyp_cache_login"))&&void 0!==e?e:"v0";return{isInWebappFypCacheLoginExperiment:"v0"!==o,isWebappFypCacheLoginV1:"v1"===o,isWebappFypCacheLoginV2:"v2"===o}})(),i=!(0,P.fU)();return n&&o&&i}();return(0,m.useCallback)(()=>{return c=this,d=void 0,p=function*(){var c,d;o&&i.setRecommendListById({list:[o]});const u=(0,P.fU)()?"":DL(),p=s&&!(0,Cn._S)(NL,"")&&((0,Cn.AP)(NL,"1"),!0),g=!(0,Cn._S)(UL,"")&&((0,Cn.AP)(UL,"1"),!0),m=l&&g,h=function(e,t,o,n,i){const r=(0,P.fU)()?"":DL();return{itemId:e,pullType:1,ttamParams:FL(),fypFeederItemId:t,watchLiveLastTime:r,device_type:o,enableCDNCache:n,enableDummyRequest:i}}(e,t,n,p,m);if(m){const e=Object.assign({},h);(e=>{kL(void 0,void 0,void 0,function*(){try{const t=Object.assign(Object.assign({},e),{enable_cache:!0,user_is_login:!1,isNonPersonalized:!0,web_id:"0"});yield ak.h.get("/api/recommend/item_list/",{query:t,baseUrlType:vt.Z4.FixedWww})}catch(e){console.error("Dummy request failed:",e)}})})(Object.assign(Object.assign({},e),{aid:1988,count:e.count||6}))}const v={itemId:e,pullType:1,ttamParams:a,watchLiveLastTime:u,device_type:n,fypFeederItemId:t};console.debug("[useFYPRecommendListFirstPull]","originParams",v,"expParams",h,JSON.stringify(h)===JSON.stringify(v));const _="v2"!==(null==r||null===(d=r.parameters)||void 0===d||null===(c=d.foryou_prefetch)||void 0===c?void 0:c.vid)?v:h;yield i.getRecommendList(_)},new((u=void 0)||(u=Promise))(function(e,t){function o(e){try{i(p.next(e))}catch(e){t(e)}}function n(e){try{i(p.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof u?i:new u(function(e){e(i)})).then(o,n)}i((p=p.apply(c,d||[])).next())});var c,d,u,p},[r,i,s,n,e,a,t,o,l])}const HL=(0,m.createContext)({});var zL,YL,WL,VL,GL,$L,qL,KL;function ZL(){return ZL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},ZL.apply(null,arguments)}const JL=function(e){return m.createElement("svg",ZL({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 118 42",width:"1em",height:"1em"},e),zL||(zL=m.createElement("path",{fill:"#25F4EE",d:"M9.875 16.842v-1.119A8.836 8.836 0 008.7 15.64c-4.797-.006-8.7 3.9-8.7 8.707a8.706 8.706 0 003.718 7.135A8.675 8.675 0 011.38 25.55c0-4.737 3.794-8.598 8.495-8.707z"})),YL||(YL=m.createElement("path",{fill:"#25F4EE",d:"M10.086 29.526c2.14 0 3.89-1.707 3.967-3.83l.006-18.968h3.463a6.78 6.78 0 01-.11-1.202h-4.726l-.006 18.969a3.978 3.978 0 01-3.967 3.829 3.93 3.93 0 01-1.846-.46 3.949 3.949 0 003.22 1.662zM23.992 13.166v-1.055a6.506 6.506 0 01-3.583-1.068 6.571 6.571 0 003.583 2.123z"})),WL||(WL=m.createElement("path",{fill:"#FE2C55",d:"M20.409 11.043a6.54 6.54 0 01-1.616-4.315h-1.265a6.557 6.557 0 002.88 4.316zM8.706 20.365a3.98 3.98 0 00-3.973 3.976c0 1.528.869 2.858 2.134 3.523a3.936 3.936 0 01-.754-2.321 3.98 3.98 0 013.973-3.976c.409 0 .805.07 1.175.185v-4.833a8.837 8.837 0 00-1.175-.083c-.07 0-.134.006-.204.006v3.708a3.999 3.999 0 00-1.176-.185z"})),VL||(VL=m.createElement("path",{fill:"#FE2C55",d:"M23.992 13.166v3.676c-2.453 0-4.727-.786-6.58-2.116v9.621c0 4.802-3.902 8.714-8.706 8.714a8.669 8.669 0 01-4.988-1.579 8.69 8.69 0 006.368 2.781c4.797 0 8.707-3.906 8.707-8.714v-9.621a11.25 11.25 0 006.579 2.116v-4.73c-.48 0-.94-.052-1.38-.148z"})),GL||(GL=m.createElement("path",{fill:"black",d:"M17.413 24.348v-9.622a11.251 11.251 0 006.58 2.116v-3.676a6.571 6.571 0 01-3.584-2.123 6.61 6.61 0 01-2.888-4.315H14.06l-.006 18.968a3.978 3.978 0 01-3.967 3.83A3.99 3.99 0 016.86 27.87a3.991 3.991 0 01-2.133-3.523A3.98 3.98 0 018.7 20.372c.409 0 .805.07 1.175.185v-3.708c-4.701.103-8.495 3.964-8.495 8.701 0 2.29.888 4.373 2.338 5.933a8.669 8.669 0 004.988 1.58c4.798 0 8.707-3.913 8.707-8.714zM30.048 13.179h14.774l-1.354 4.232h-3.832v15.644h-4.778V17.41l-4.804.006-.006-4.238zM69.032 13.179h15.12l-1.355 4.232h-4.17v15.644h-4.785V17.41l-4.804.006-.006-4.238zM45.73 19.502h4.733v13.553h-4.708l-.026-13.553zM52.347 13.128h4.733v9.257l4.689-4.61h5.646l-5.934 5.76 6.644 9.52h-5.213l-4.433-6.598-1.405 1.362v5.236H52.34V13.128h.006zM102.49 13.128h4.734v9.257l4.688-4.61h5.647l-5.934 5.76 6.643 9.52h-5.206l-4.433-6.598-1.405 1.362v5.236h-4.734V13.128zM48.093 17.954a2.384 2.384 0 002.382-2.384 2.384 2.384 0 10-2.382 2.384z"})),$L||($L=m.createElement("path",{fill:"#25F4EE",d:"M83.544 24.942a8.112 8.112 0 017.474-8.087 8.748 8.748 0 00-.709-.026c-4.478 0-8.106 3.631-8.106 8.113 0 4.482 3.628 8.113 8.106 8.113.21 0 .498-.013.71-.026-4.178-.326-7.475-3.823-7.475-8.087z"})),qL||(qL=m.createElement("path",{fill:"#FE2C55",d:"M92.858 16.83c-.217 0-.505.012-.716.025a8.111 8.111 0 017.468 8.087 8.112 8.112 0 01-7.468 8.087c.211.02.499.026.716.026 4.478 0 8.106-3.631 8.106-8.113 0-4.482-3.628-8.113-8.106-8.113z"})),KL||(KL=m.createElement("path",{fill:"black",d:"M91.58 28.887a3.94 3.94 0 01-3.94-3.945 3.94 3.94 0 117.882 0c0 2.18-1.77 3.945-3.942 3.945zm0-12.058c-4.477 0-8.106 3.631-8.106 8.113 0 4.482 3.629 8.113 8.106 8.113 4.478 0 8.106-3.631 8.106-8.113 0-4.482-3.628-8.113-8.106-8.113z"})))};var QL,XL,ej,tj,oj,nj,ij,rj;function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},aj.apply(null,arguments)}const sj=function(e){return m.createElement("svg",aj({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 118 30",width:"1em",height:"1em"},e),QL||(QL=m.createElement("path",{fill:"#25F4EE",d:"M9.875 11.842v-1.119A8.836 8.836 0 008.7 10.64c-4.797-.006-8.7 3.9-8.7 8.707a8.706 8.706 0 003.718 7.135A8.675 8.675 0 011.38 20.55c0-4.737 3.794-8.598 8.495-8.707z"})),XL||(XL=m.createElement("path",{fill:"#25F4EE",d:"M10.087 24.526c2.14 0 3.89-1.707 3.966-3.83l.007-18.968h3.462a6.78 6.78 0 01-.109-1.202h-4.727l-.006 18.968a3.978 3.978 0 01-3.967 3.83 3.93 3.93 0 01-1.846-.46 3.949 3.949 0 003.22 1.662zM23.992 8.166V7.111a6.506 6.506 0 01-3.584-1.067 6.572 6.572 0 003.584 2.122z"})),ej||(ej=m.createElement("path",{fill:"#FE2C55",d:"M20.41 6.044a6.54 6.54 0 01-1.617-4.316h-1.265a6.557 6.557 0 002.881 4.316zM8.707 15.365a3.98 3.98 0 00-3.974 3.976c0 1.528.87 2.858 2.134 3.523a3.937 3.937 0 01-.754-2.321 3.98 3.98 0 013.973-3.976c.41 0 .805.07 1.176.185v-4.833a8.852 8.852 0 00-1.176-.083c-.07 0-.134.006-.204.006v3.708a3.999 3.999 0 00-1.175-.185z"})),tj||(tj=m.createElement("path",{fill:"#FE2C55",d:"M23.992 8.166v3.676a11.25 11.25 0 01-6.579-2.116v9.621c0 4.802-3.903 8.714-8.706 8.714a8.669 8.669 0 01-4.99-1.579 8.69 8.69 0 006.37 2.781c4.796 0 8.706-3.906 8.706-8.714v-9.621a11.25 11.25 0 006.579 2.116v-4.73c-.479 0-.939-.052-1.38-.148z"})),oj||(oj=m.createElement("path",{fill:"white",d:"M17.413 19.348V9.726a11.25 11.25 0 006.58 2.116V8.166a6.572 6.572 0 01-3.584-2.122 6.611 6.611 0 01-2.887-4.316h-3.463l-.006 18.968a3.978 3.978 0 01-3.967 3.83 3.99 3.99 0 01-3.225-1.656 3.991 3.991 0 01-2.134-3.523A3.98 3.98 0 018.7 15.372c.409 0 .805.07 1.176.185v-3.708c-4.702.103-8.496 3.964-8.496 8.701 0 2.29.888 4.373 2.338 5.933a8.669 8.669 0 004.989 1.58c4.797 0 8.706-3.913 8.706-8.715zM30.048 8.179h14.775l-1.355 4.232h-3.832v15.644h-4.778V12.41l-4.804.006-.006-4.238zM69.032 8.179h15.12l-1.354 4.232h-4.172v15.644h-4.784V12.41l-4.803.006-.007-4.238zM45.73 14.502h4.733v13.553h-4.708l-.026-13.553zM52.347 8.128h4.733v9.257l4.689-4.61h5.647l-5.934 5.76 6.643 9.52h-5.213l-4.433-6.598-1.405 1.362v5.236h-4.733V8.128h.006zM102.49 8.128h4.734v9.257l4.688-4.61h5.647l-5.934 5.76 6.643 9.52h-5.206l-4.433-6.598-1.405 1.362v5.236h-4.734V8.128zM48.093 12.954a2.384 2.384 0 10-.002-4.771 2.384 2.384 0 00.002 4.771z"})),nj||(nj=m.createElement("path",{fill:"#25F4EE",d:"M83.544 19.942a8.112 8.112 0 017.474-8.087 8.748 8.748 0 00-.709-.026c-4.478 0-8.106 3.631-8.106 8.113 0 4.482 3.628 8.113 8.106 8.113.21 0 .498-.013.71-.026-4.178-.326-7.475-3.823-7.475-8.087z"})),ij||(ij=m.createElement("path",{fill:"#FE2C55",d:"M92.858 11.83c-.217 0-.505.012-.715.025a8.111 8.111 0 017.467 8.087 8.111 8.111 0 01-7.467 8.087c.21.02.498.026.715.026 4.478 0 8.106-3.631 8.106-8.113 0-4.482-3.628-8.113-8.106-8.113z"})),rj||(rj=m.createElement("path",{fill:"white",d:"M91.58 23.887a3.94 3.94 0 01-3.94-3.945 3.94 3.94 0 117.882 0c0 2.18-1.77 3.945-3.941 3.945zm0-12.058c-4.477 0-8.105 3.631-8.105 8.113 0 4.482 3.628 8.113 8.106 8.113 4.477 0 8.106-3.631 8.106-8.113 0-4.482-3.629-8.113-8.106-8.113z"})))};function lj(e,t={}){var o;const{search:n}=Be(),i=function(e){var t,o,n,i;let r=!1;if(!(0,P.fU)())return!1;try{var a,s,l;const{seoAbtest:c,isSearchEngineBot:d,featureFlags:u}=(()=>{var e,t,o,n;const i=(0,T.yK)(),r=null!==(e=i._isSearchEngineBot)&&void 0!==e&&e,a=null!==(t=i._featureFlags)&&void 0!==t?t:{},s=null!==(o=i._cachedSEOABTest)&&void 0!==o?o:{};return{seoAbtest:null!==(n=Object.values(s)[0])&&void 0!==n?n:{},isSearchEngineBot:r,featureFlags:a}})();if(!d)return!1;const p=null!==(t="string"==typeof e?null==(a=(0,on.parseUrl)(e))?void 0:a.url:null==e?void 0:e.pathname)&&void 0!==t?t:"",g=Boolean((null==u?void 0:u.music_canonical_url)&&(0,Ze.Iy)(p)),m=Boolean((null==u?void 0:u.user_canonical_url)&&(0,Ze.cj)(p)),h=Boolean((null==u?void 0:u.hashtag_canonical_url)&&(0,Ze.Ke)(p)),v=null==c?void 0:c.parameters,_=function(e){try{return new URL(e).pathname}catch(t){return e}}(null!==(o=null==c?void 0:c.canonical)&&void 0!==o?o:""),f=null!==(n=null==v||null==(s=v.kep_canonical_abtest)?void 0:s.vid)&&void 0!==n?n:"v0",b=null!==(i=null==v||null==(l=v.video_canonical_abtest)?void 0:l.vid)&&void 0!==i?i:"v0",y="v1"===f&&(0,Ze.pz)(_),w="v1"===b&&(0,Ze.Fj)(_);r=(g||m||h)&&!(w||y)}catch(e){console.error("Error:  while geting Canonical Url Experiment get base bot/abtest result")}return r}(e),r=t.disableAutoLang?"":null!==(o=(0,on.parse)(n).lang)&&void 0!==o?o:"";if("string"==typeof e){const{url:o,query:n}=(0,on.parseUrl)(e);return i?o:(0,on.stringifyUrl)({url:o,query:Object.assign({lang:r},n)},Object.assign({skipEmptyString:!0},t))}const{pathname:a="",search:s={},hash:l}=e,c=l?`#${l}`:"";return i?a:`${(0,on.stringifyUrl)({url:a,query:Object.assign({lang:r},s)},Object.assign({skipEmptyString:!0},t))}${c}`}var cj=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const dj=(0,m.forwardRef)(function(e,t){var{forceSSR:o=!1,to:n,replace:i,onClick:r,children:a,disableAutoLang:s,disabled:l,ariaLabel:c}=e,d=cj(e,["forceSSR","to","replace","onClick","children","disableAutoLang","disabled","ariaLabel"]);const u=o,{autoOutlineStyle:p,className:g}=d,h=cj(d,["autoOutlineStyle","className"]),v=lj(n,{disableAutoLang:s}),_=(0,m.useMemo)(()=>{const e=[g,"link-a11y-focus"];return p&&e.push("auto-outline-style"),e.filter(e=>e).join(" ")},[p,g]),f=(0,m.useCallback)(e=>{if(l)return e.preventDefault(),void e.stopPropagation();null==r||r(e),u&&i&&(e.preventDefault(),e.stopPropagation(),location.replace(v))},[l,r,u,i,v]);return u?(0,Le.jsx)("a",Object.assign(Object.assign({ref:t,href:v},h),{onClick:f,"aria-label":c,className:_,children:a})):(0,Le.jsx)(ze,Object.assign(Object.assign({ref:t,to:v},h),{onClick:f,"aria-label":c,className:_,children:a}))});const uj=function(e,t,o){var n;const i=null===(n=null==o?void 0:o.shouldForwardRef)||void 0===n||n,r=(o,n)=>{const{isBot:i}=(0,xo.L$)((0,Po.U)(()=>["isBot"],[]));return i?(0,Le.jsx)(e,Object.assign({},o)):(0,Le.jsx)(t,Object.assign(Object.assign({},o),{ref:n}))};return r.displayName=`withBotAltHOC(${function(e){var t,o;return null!==(o=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==o?o:"UnknownComponent"}(t)})}`,i?(0,m.forwardRef)(r):r}(e=>{var{to:t,disableAutoLang:o,ariaLabel:n,children:i}=e,r=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["to","disableAutoLang","ariaLabel","children"]);const a=lj(t,{disableAutoLang:o});return(0,Le.jsx)("a",Object.assign(Object.assign({href:a},r),{"aria-label":n,children:i}))},(0,m.memo)(dj),{feature:"simplify_link"}),pj=(0,Wt.A)(uj,{target:"eq9n9li0"})({fontSize:0},"label:StyledLinkLogo;");pj.defaultProps=Object.assign(Object.assign({},pj.defaultProps),{"data-e2e":"tiktok-logo"});const gj=(0,s.Ay)(()=>o.e(324).then(o.bind(o,15324))),mj=(0,s.Ay)(()=>o.e(446).then(o.bind(o,79446))),hj=(0,m.memo)(function({isDark:e,isGrayFilter:t,style:o={}}){const{left:n}=(0,m.useContext)(HL),r=(0,xi.s)(),{pathname:a}=Be(),s=OL(),l=function(){const{pathname:e}=Be();return!!e.startsWith("/coin")}(),c=BL(),d=(0,m.useCallback)(e=>{(0,Ze.tO)(a)&&(e.preventDefault(),s.resetRecommendList({}),c()),ht.f.sendEvent("click_logo")},[a,s,c]),u=r("TikTok i18n title"),p=(0,m.useMemo)(()=>e?t?(0,i.Y)(gj,{height:42,width:118}):(0,i.Y)(sj,{alt:u,height:42,width:118}):t?(0,i.Y)(mj,{height:42,width:118}):(0,i.Y)(JL,{height:42,width:118,alt:u}),[e,t,u]);return(0,i.FD)(i.FK,{children:[(0,i.FD)(pj,{to:qe.OZ.home,onClick:d,style:Object.assign({position:"relative"},o),ariaLabel:r(Gp.TikTokLogo),forceSSR:l,children:[p,(0,i.Y)("strong",{children:u})]}),n]})}),vj=(0,m.memo)(function(){const{isMacElectronApp:e}=HT(),t=e?"80px":"16px";return(0,Le.jsxs)(UO,{paddingInlineStart:t,children:[(0,Le.jsx)(hj,{}),(0,Le.jsx)("div",{children:(0,Le.jsx)(Gs,{})})]})}),_j=(0,Wt.A)("div",{target:"elnl1sy0"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokFont",color:"TextPrimary"}),{height:"84px",borderTop:`1px solid ${e.colors.LineSecondary}`,display:"flex",justifyContent:"flex-end",paddingInlineEnd:"24px",alignItems:"center",fontSize:"15px",lineHeight:"18px"},e.isMobile&&(0,va.jJ)({min:Bs,style:{height:"84px !important",fontSize:"28px",lineHeight:"44px"}})],"label:DivContainer;"),fj=({goBack:e,shouldShowBackButton:t})=>{const o=(0,xi.s)(K.i_.Login),[{region:n,userSelectedRegion:r},{setNewUserRegion:a}]=(0,en.Su)(Ap.H),s=(0,m.useCallback)(()=>{r&&(null==r?void 0:r.countryCode)!==(null==n?void 0:n.countryCode)&&a(r),e()},[n,r]);return(0,i.FD)(_j,{children:[t&&(0,i.Y)(tu.I0,{onClick:e,label:o("common_login_back"),variant:"primary",marginInlineEnd:"16px"}),(0,i.Y)(tu.I0,{onClick:s,label:o("regionOption_selectCountry_list_confirmation"),variant:"primary"})]})};var bj=o(38656),yj=o.n(bj);function wj(){const{isElectronApp:e}=HT();return(0,m.useCallback)(({lang:t,url:o,currentLang:n,isMobile:i})=>{!function({lang:e,url:t,currentLang:o,isMobile:n}){var i;i={language:o,to_language:e,enter_method:n?yl.c.TopBar:void 0},ht.f.sendEvent("change_langauage",i),Xo.A.remove(Z.WU),Xo.A.set(Z.WU,e,{secure:!0,expires:300,domain:".tiktok.com"}),window.location.replace(t)}({lang:t,url:o,currentLang:n,isMobile:i}),e&&yj().app.langChange({lang:t})},[e])}const kj=(0,Wt.A)("div",{target:"e1c2jqvy0"})(({theme:e})=>[(0,va.zy)({theme:e,typography:"P2",fontFamily:"TikTokFont"}),{fontWeight:400,boxSizing:"border-box",width:"172px",height:"36px",border:"1px solid #8a8b91",borderRadius:"2px",fontSize:"14px",lineHeight:"36px",padding:"0 16px",cursor:"pointer",position:"relative",textAlign:"left"}],"label:DivContainer;"),Sj=(0,Wt.A)("p",{target:"e1c2jqvy1"})(({theme:{colors:e}})=>[{color:`${e.ConstTextInverse}`,margin:0,wordBreak:"keep-all",whiteSpace:"nowrap",overflow:"hidden"}],"label:PSelectContainer;"),Cj=(0,Wt.A)("select",{target:"e1c2jqvy2"})({position:"absolute",left:0,top:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},"label:SelectFormContainer;"),xj=()=>{var e;const{language:t}=(0,xo.L$)((0,tn.W)(()=>["language"],[])),{pathname:o,search:n}=(0,Re.zy)(),i=wj(),r=(0,m.useCallback)(e=>{const{value:t}=e.target,r=(0,on.stringifyUrl)({url:o,query:Object.assign(Object.assign({},(0,on.parse)(n)),{lang:t})});i({lang:t,url:r})},[o,i,n]),a=null===(e=null===Z.wX||void 0===Z.wX?void 0:Z.wX.find(e=>e.value===t))||void 0===e?void 0:e.label;return(0,Le.jsxs)(kj,{children:[(0,Le.jsx)(Sj,{children:(0,Le.jsx)("span",{children:a})}),(0,Le.jsx)(Cj,{value:t,onChange:r,children:null===Z.wX||void 0===Z.wX?void 0:Z.wX.map(({value:e,label:t})=>(0,Le.jsx)("option",{value:e,children:t},e))})]})},Pj=(0,Wt.A)("div",{target:"e3chlt80"})(({theme:e})=>[{bottom:"0",left:"0",width:"100%",flexShrink:0,background:e.colors.BGPrimary}],"label:DivFooterContainer;"),Tj=(0,Wt.A)("div",{target:"e3chlt81"})(({theme:{colors:e}})=>({height:"84px",background:`${e.BGCreation}`,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"0 144px",width:"100%"}),"label:DivBottomContainer;"),Oj=(0,Wt.A)("div",{target:"e3chlt82"})(({theme:e})=>[(0,va.zy)({theme:e,fontFamily:"TikTokDisplayFont"}),{fontSize:"14px",lineHeight:"28px",fontWeight:500,color:"#8a8b91"}],"label:DivCopyright;"),Aj=()=>{var e,t,o,n;const{isModal:i,hideToggleLoginSign:r}=(0,en.Ph)(Pi.t),a=(0,Re.W6)(),s=(0,m.useCallback)(()=>{a.goBack()},[a]),l=null!==(t=null===(e=(0,Re.W5)(xe.tH.signupCountrySelector))||void 0===e?void 0:e.isExact)&&void 0!==t&&t,c=null!==(n=null===(o=(0,Re.W5)([xe.tH.signupCountrySelector,xe.tH.m2TransferAppleId]))||void 0===o?void 0:o.isExact)&&void 0!==n&&n;return i?r?null:(0,Le.jsxs)(Le.Fragment,{children:[(0,Le.jsx)(FS,{}),l&&(0,Le.jsx)(fj,{goBack:s})]}):(0,Le.jsxs)(Pj,{children:[(0,Le.jsx)(FS,{}),!r&&!c&&(0,Le.jsx)(Ml,{}),l&&(0,Le.jsx)(fj,{goBack:s,shouldShowBackButton:!0}),(0,Le.jsxs)(Tj,{children:[(0,Le.jsx)(xj,{}),(0,Le.jsxs)(Oj,{children:[" ",(new Date).getFullYear()," TikTok"]})]})]})},Ej=(0,Wt.A)("div",{target:"e307n590"})({height:"100%",display:"flex",flexDirection:"column",paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",paddingBottom:"env(safe-area-inset-bottom)"},"label:DivContainer;"),Lj=(0,Wt.A)("div",{target:"e307n591"})(({isCountrySelector:e})=>[{backgroundColor:"white",marginTop:e?"40px":va.uF,width:"100vw",overflow:"auto",flex:"1"}],"label:DivBodyContainer;"),jj=(0,Wt.A)("div",{target:"e307n592"})(({isCountrySelector:e})=>[{maxWidth:"480px",width:"100%",flex:"1",position:"relative",margin:e?"0 auto 0":"44px auto 0",overflowY:"auto",display:"flex",flexDirection:"column"},(0,va.jJ)({min:Us,style:{maxWidth:"760px",margin:"104px auto 0"}})],"label:DivMobileBodyContainer;"),Ij=(0,Wt.A)("h2",{target:"e307n593"})({fontSize:"24px",lineHeight:"36px",fontWeight:700,textAlign:"center",position:"fixed",zIndex:"1000",width:"100%",top:"45px"},"label:H2Title;"),Rj=(0,Wt.A)("h2",{target:"e307n594"})({fontSize:"24px",lineHeight:"36px",fontWeight:700,textAlign:"center",position:"fixed",zIndex:"1000",width:"100%",top:"60px"},"label:CountrySelectorH2Tiltle;");function Mj(e){const{ttpConfig:t}=(0,Ti.U)(()=>["ttpConfig"],[]);return(null==t?void 0:t.hideFooter)?null:(0,Le.jsx)(m.Fragment,{children:e.children})}const Dj=(0,m.memo)(function(){var e,t,o,n;const[{initialized:i,isModal:r},{init:a}]=(0,en.Su)(Pi.t),s=(0,xi.s)("WebApp_Login");FO(r),(0,m.useEffect)(()=>{!i&&a()},[]);const l=(0,Re.zy)(),c=null!==(t=null===(e=(0,Re.W5)(xe.tH.signupCountrySelector))||void 0===e?void 0:e.isExact)&&void 0!==t&&t,{abTestVersion:d}=null!==(o=(0,tn.W)(()=>["abTestVersion"],[]))&&void 0!==o?o:{},u=null!==(n=un(d,"login_modal_ui_revamp"))&&void 0!==n?n:"v1",{loginTitle:p,signUpTitle:g}=(0,Ti.U)(()=>["loginTitle","signUpTitle"],[]),{isTwoStep:h}=(0,en.Ph)(Wr),v=[xe.tH.logout,xe.tH.oauth,xe.tH.oauthLine,xe.tH.signupPrivateOn];return i?"v1"!==u?(0,Le.jsxs)(Ej,{children:[(0,Le.jsx)("div",{style:{height:"36px"}}),r?(0,Le.jsx)(zO,{}):(0,Le.jsx)(vj,{}),!v.includes(l.pathname)&&(0,Le.jsx)(Ij,{children:s(Kr(l.pathname,p,g,h),{},ar.fN)}),c&&(0,Le.jsx)("div",{style:{height:"85px"}}),(0,Le.jsx)(Lj,{id:"loginContainer",isCountrySelector:c,children:(0,Le.jsx)(jO,{})}),(0,Le.jsx)(Mj,{children:(0,Le.jsx)(Aj,{})})]}):(0,Le.jsxs)(Ej,{children:[c&&(0,Le.jsx)("div",{style:{height:"132px"}}),r?(0,Le.jsx)(zO,{}):(0,Le.jsx)(vj,{}),c&&(0,Le.jsx)(Rj,{children:s("regionOption_selectCountry_list_title")}),(0,Le.jsx)(Lj,{id:"loginContainer",isCountrySelector:c,children:(0,Le.jsx)(jO,{})}),(0,Le.jsx)(Mj,{children:(0,Le.jsx)(Aj,{})})]}):(0,Le.jsx)($a.R,{center:!0,style:{margin:"auto"}})}),Fj=(0,m.memo)(function(){var e,t,o;const n=[xe.tH.loginTwoStepVerify,xe.tH.signupPrivateOn,xe.tH.signupCountrySelector],i=null===(e=(0,Re.W5)(n))||void 0===e?void 0:e.isExact,r=(0,Re.W6)(),a=(0,m.useCallback)(()=>{r.goBack()},[r]),s=null!==(o=null===(t=(0,Re.W5)(xe.tH.signupCountrySelector))||void 0===t?void 0:t.isExact)&&void 0!==o&&o;return FO(),(0,Le.jsxs)(Ej,{children:[s&&(0,Le.jsx)("div",{style:{height:"132px"}}),(0,Le.jsx)(jj,{isCountrySelector:s,children:(0,Le.jsx)(jO,{})}),(0,Le.jsxs)(Mj,{children:[(0,Le.jsx)(FS,{}),!i&&(0,Le.jsx)(Ml,{style:{height:"58px",background:"rgba(22, 24, 35, 0.03)"}}),s&&(0,Le.jsx)(fj,{goBack:a})]})]})}),Nj=(0,m.memo)(({isMobile:e})=>{const t=(0,Re.W6)(),o=(0,Re.zy)();return(0,Le.jsx)(Mo,{isMobile:e,path2PidFunc:et,children:(0,Le.jsx)(wi,{history:t,location:o,children:e?(0,Le.jsx)(Fj,{}):(0,Le.jsx)(Dj,{})})})}),Uj=Ie()(Object.values(xe.tH));var Bj=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function Hj(){return Bj(this,void 0,void 0,function*(){const e=l.l.getInstance(Er);yield e.init()})}function zj(){return Bj(this,void 0,void 0,function*(){const e=l.l.getInstance(Ir);yield e.init()})}var Yj=o(42715);(0,P.fU)()||(ye.nf.populateTrackingInfoFromSessionStorage(),ye.BL.populateTrackingInfoFromSessionStorage()),function(e,t){const{beforeRender:o,afterRender:n}=t;let s;(()=>{return a=this,l=void 0,d=function*(){const a=yield me(t);s=a.slardarUtils;const{rootProps:l,jotaiStore:c}=a;yield null==o?void 0:o({jotaiStore:c,slardarUtils:s}),null==s||s.slardar.reportRenderStart();const d=document.querySelector("#app"),u="1"===(null==d?void 0:d.dataset.csr),p=(0,i.Y)(be,Object.assign(Object.assign({},l),{csr:u,children:(0,i.Y)(e,{})}));u?(0,r.render)(p,d):(0,r.hydrate)(p,d),null==s||s.slardar.reportRenderEnd(),yield null==n?void 0:n()},new((c=void 0)||(c=Promise))(function(e,t){function o(e){try{i(d.next(e))}catch(e){t(e)}}function n(e){try{i(d.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c(function(e){e(i)})).then(o,n)}i((d=d.apply(a,l||[])).next())});var a,l,c,d})().catch(e=>{var t,o;console.error(e),null==s||null===(o=s.slardar)||void 0===o||null===(t=o.captureMessage)||void 0===t||t.call(o,e,a.$b.P0,{fromLauncher:"1"})})}(()=>{const e=window.navigator.userAgent,t=(0,Me.Ny)(e)||function(e){return Object.values(De).reduce((t,o)=>t||o.test(e),!1)}(e);return(0,Le.jsx)(_i,{supportRoutes:Uj,children:(0,Le.jsx)(Nj,{isMobile:t})})},{defaultNS:"WebApp_Login",nss:["Webapp","WebApp_Login"],slardarOption:{bid:Ga.yH,extractPid:Ae},beforeStart:()=>{return e=void 0,t=void 0,n=function*(){const e=document.getElementById("app"),t=new URLSearchParams(location.search);e&&["1"===e.dataset.csr,"1"===e.dataset.downgrade,!!t.get("_enablecsr")].some(e=>e)&&(yield function(){return e=this,t=void 0,n=function*(){try{const e=yield(0,Yj.Fn)(),t=new URLSearchParams(location.search).get("enter_from");"notice_1"===e.config.ttpConfig.pageName&&t&&sessionStorage.setItem("webapp_tiktok_privious",JSON.stringify({href:location.href,pageName:t}))}catch(e){console.error("get login context error",e)}},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n}())},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n},afterRender:()=>{(0,Cn.nr)()&&function(){const e=[Hj(),zj()];Promise.all(e).catch(e=>{console.error("doSafariEffect error",e)})}()}})},44973:(e,t,o)=>{"use strict";function n(){return"undefined"==typeof window||"undefined"==typeof document}function i(){var e;if(n())return!1;const t=document.querySelector("#app");return"1"===(null==t||null==(e=t.dataset)?void 0:e.downgrade)}function r(){return!n()&&null!==document.querySelector('script[data-chunk="ssg"]')}function a(e){var t,o;return!n()&&!!e&&"1"!==(null==(o=document.querySelector("#app"))||null==(t=o.dataset)?void 0:t.downgrade)}o.d(t,{$y:()=>r,_8:()=>a,fU:()=>n,qk:()=>i})},45290:(e,t,o)=>{"use strict";o.d(t,{n:()=>n});const n=({isVA:e,isLogin:t,isFTC:o,isHighRisk:n,isEU:i=!1})=>o?517:t?513:i&&n?519:i&&!n?518:e&&n?515:e&&!n?514:516},45866:(e,t,o)=>{"use strict";o.d(t,{p:()=>c});var n=o(17592),i=o(71510),r=o.n(i),a=o(26324),s=o(78285);function l(e){return(t,o)=>new a.c(n=>{var i;const a="AbortController"in window?new AbortController:{signal:{aborted:!1},abort(){this.signal.aborted=!0}};return s.h[e](t,r()(o,{signal:null!==(i=null==o?void 0:o.signal)&&void 0!==i?i:a.signal})).then(e=>{n.next(e),n.complete()}).catch(e=>{n.error(e)}),()=>{a.signal.aborted||a.abort()}})}class c{get csrfToken(){return s.h.csrfToken}constructor(){this.get=l("get"),this.post=l("post"),this.delete=l("delete")}}c=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,n._q)()],c)},46118:(e,t,o)=>{"use strict";o.d(t,{Lr:()=>s});const n="__default_scope__",i="__default_version__",r="@",a="~";function s(e){return"string"==typeof e?function(e){const t=e.indexOf(r),o=e.lastIndexOf(a);let s=e,l=n,c=i;return-1!==t&&(s=e.slice(0,t),o>t?(l=e.slice(t,o),c=e.slice(o)):l=e.slice(t)),{id:s,scope:l,version:c}}(e):{id:e[0],scope:null!==(t=e[1])&&void 0!==t?t:n,version:null!==(o=e[2])&&void 0!==o?o:i};var t,o}},48410:(e,t,o)=>{"use strict";o.d(t,{H:()=>i});var n=o(16402);const i={showEmailConsent:()=>{n.f.sendEvent("show_button_consent_check_box",{page_name:"email_signup_page",exp_name:"onboarding_collect_email_consent",text_type:"long_version"})},clickEmailConsent:e=>{n.f.sendEvent("clikc_button_consent_check_box",{page_name:"email_signup_page",exp_name:"onboarding_collect_email_consent",text_type:"long_version",status:e.checked?"checked":"unchecked"})},rigisterClickNext:e=>{n.f.sendEvent("register_click_next",e)}}},48786:(e,t,o)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n.apply(null,arguments)}o.d(t,{_:()=>n})},49320:(e,t,o)=>{"use strict";o.d(t,{p:()=>T,T:()=>O});var n=o(8536),i=o(62564),r=o(24451),a=o(23999),s=o(74690),l=o(80339),c=o(26324),d=o(64162),u=o(4126),p=o(15176),g=o(340),m=o(33675),h=o(30576),v=o(13687),_=o(77194),f=o.n(_),b=o(20259),y=o(17592),w=o(45866);function k(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class S{getComplianceSettings(){return this.fetch.get("/api/compliance/settings/",{query:{aid:1988,fromWeb:1}}).pipe(this.errorHandler)}validateAge(e,t){return this.fetch.post("https://www.tiktok.com/api/v3/register/verification/age/",Object.assign({body:f().stringify({fromWeb:1,source:"web",session_registered:1,update_birthdate_type:1,birthday:e,tt_csrf_token:this.fetch.csrfToken})},t&&{query:{reg_store_region:t}})).pipe(this.errorHandler)}errorHandler(e){return e.pipe((0,b.W)(e=>(0,a.of)(Object.assign({error_code:e.error_code||-1},e))))}constructor(e){this.fetch=e}}function C(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function x(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}S=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,y._q)(),k("design:type",Function),k("design:paramtypes",[void 0===w.p?Object:w.p])],S);var P,T=function(e){return e[e.PASS=0]="PASS",e[e.FTC=1]="FTC",e[e.NormalThreshold=2]="NormalThreshold",e}({});class O extends d.E{setYear(e,t){e.year=t}setMonth(e,t){e.month=t}setDate(e,t){e.date=t}setBirthday(e,t){const{year:o,month:n,date:i}=t,r=`${o}-${n<10?`0${n}`:n}-${i<10?`0${i}`:i}`;r!==e.birthday&&(e.birthday=r,e.ageEligible=!1,e.ageErrorMsg="",e.showAgeConfirm=!1,e.showErrorByToast=!1)}setAgeGateSetting(e,t){e.initial=!0,e.ageGateAction=t.action,e.registerLimited=t.registerLimited}setCheckAgeLoading(e,t){e.checkAgeLoading=t}setAgeCheckResult(e,t){e.ageErrorMsg=t.ageErrorMsg,e.ageEligible=t.ageEligible,e.showErrorByToast=Boolean(t.showErrorByToast),e.errorCode=t.errorCode,t.showFeedbackModal&&(e.showFeedbackModal=t.showFeedbackModal,e.feedbackModal=t.feedbackModal)}setShowAgeConfirm(e,t){e.showAgeConfirm=t}setShowFeedbackModal(e,t){e.showFeedbackModal=t}getComplianceSettings(e){return e.pipe((0,n.Z)(()=>this.service.getComplianceSettings().pipe((0,i.T)(e=>{if(0===(null==e?void 0:e.status_code)){const{age_gate_info:t={},device_limit_register_expired:o=!0}=e,{register_age_gate_action:n=2}=t;return this.getActions().setAgeGateSetting({registerLimited:!o,action:n})}return this.noop()}))))}validateAge(e){return e.pipe((0,r.E)(this.state$),(0,n.Z)(([{canSkip:e,checkPassCallback:t,region:o},{birthday:n,ageEligible:r,ageGateAction:c}])=>e||r||0===c?(null==t||t(),(0,a.of)(this.getActions().setCheckAgeLoading(!1),this.noop())):n?this.service.validateAge(n,o).pipe((0,i.T)(e=>{const{is_eligible:o,status_code:n,status_msg:i,register_age_gate_post_action:r,feedback:a}=e;this.pnsReport.handleAgeGateResponse(o,n);const s=!!(null==a?void 0:a.dialog),l=s?{modal:null==a?void 0:a.dialog,business:null==a?void 0:a.business}:void 0;if(o)return null==t||t(s),this.getActions().setAgeCheckResult({ageErrorMsg:"",ageEligible:!0,errorCode:n,showFeedbackModal:s,feedbackModal:l});if(o||1!==r){const e=[3008010,3008012,3008008,3008011].includes(n);return this.getActions().setAgeCheckResult({ageErrorMsg:i||"Sorry, something went wrong, please try again later",ageEligible:!1,showErrorByToast:e,errorCode:n})}return null==t||t(),this.getActions().setShowAgeConfirm(!0)}),(0,s.Z)(this.getActions().setCheckAgeLoading(!0)),(0,l.q)(this.getActions().setCheckAgeLoading(!1))):(0,a.of)(this.getActions().setAgeCheckResult({ageErrorMsg:this.t("birthday_error_invaliddate"),ageEligible:!1,showErrorByToast:!0,errorCode:3008009}))))}constructor(e,t,o){super(),this.service=e,this.pnsReport=t,this.t=o,this.defaultState={ageGateAction:2,registerLimited:!1,initial:!1,birthday:"",checkAgeLoading:!1,ageEligible:!1,showFeedbackModal:!1}}}C([(0,u.uk)(),x("design:type",void 0===c.c?Object:c.c)],O.prototype,"dispose$",void 0),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Object]),x("design:returntype",void 0)],O.prototype,"setYear",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Object]),x("design:returntype",void 0)],O.prototype,"setMonth",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Object]),x("design:returntype",void 0)],O.prototype,"setDate",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Object]),x("design:returntype",void 0)],O.prototype,"setBirthday",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Object]),x("design:returntype",void 0)],O.prototype,"setAgeGateSetting",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Boolean]),x("design:returntype",void 0)],O.prototype,"setCheckAgeLoading",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,"undefined"==typeof SetAgeResultPayloadType?Object:SetAgeResultPayloadType]),x("design:returntype",void 0)],O.prototype,"setAgeCheckResult",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Boolean]),x("design:returntype",void 0)],O.prototype,"setShowAgeConfirm",null),C([(0,u.h5)(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof AgeGateModuleState?Object:AgeGateModuleState,Boolean]),x("design:returntype",void 0)],O.prototype,"setShowFeedbackModal",null),C([(0,u.Mj)(),x("design:type",Function),x("design:paramtypes",[void 0===c.c?Object:c.c]),x("design:returntype",void 0)],O.prototype,"getComplianceSettings",null),C([(0,u.Mj)(),x("design:type",Function),x("design:paramtypes",[void 0===c.c?Object:c.c]),x("design:returntype",void 0)],O.prototype,"validateAge",null),O=C([(0,p.nV)("AgeGateModule"),(P=(0,g.y)(m.hp),function(e,t){P(e,t,2)}),x("design:type",Function),x("design:paramtypes",[void 0===S?Object:S,void 0===v.W?Object:v.W,void 0===h.I18NTranslate?Object:h.I18NTranslate])],O)},49360:(e,t,o)=>{"use strict";o.d(t,{DK:()=>d,Is:()=>m,K6:()=>b,LN:()=>_,O_:()=>i,QI:()=>c,YH:()=>h,em:()=>r,hk:()=>a,iJ:()=>l,lG:()=>g,ne:()=>u,oE:()=>v,qZ:()=>s,uV:()=>p,wO:()=>f,xE:()=>n});const n=1988,i="webapp_launch_mode",r="webapp_original_traffic_type",a="webapp_extra_data",s="webapp_session_id",l="webapp_tiktok_open",c="webapp_tiktok_privious",d="webapp_from_group_id",u="f_s_1",p=14,g=["VGeo-EU"],m="guest-mode-flag",h="others",v="direct",_=/h5_t|h5_m|landing_page|webapp/,f=/embed/,b="last_login_method"},50269:(e,t,o)=>{"use strict";o.d(t,{Sr:()=>i});let n=!1;function i(){return n}},50797:(e,t,o)=>{"use strict";o.d(t,{L$:()=>i});const n=Object.freeze({});function i(e){return null!=e?e:n}BigInt(4294967296)},53548:(e,t,o)=>{"use strict";o.d(t,{W:()=>s});var n=o(32877),i=o.n(n),r=o(40099),a=o(57524);function s(e,t){const o=(0,a.x)();return(0,r.useMemo)(()=>o?i()(o,...e()):o,t)}},55675:(e,t,o)=>{"use strict";o.d(t,{q:()=>u});var n=o(77194),i=o.n(n),r=o(23999),a=o(20259),s=o(17592),l=o(60540),c=o(45866);function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class u{setRedirectNewModalPage(e){this.redirectNewModalPage=e}validateUsername(e){return this.fetch.get("/api/uniqueid/check/",{query:{unique_id:e,fromWeb:1,aid:1988},baseUrlType:l.Z4.FixedWww}).pipe(this.errorHandler)}syncEmailConsentInfo(){return this.fetch.post("/api/privacy/agreement/record/agree/v1",{body:i().stringify({record_name:"email_consent",tt_csrf_token:this.fetch.csrfToken||"IQodDvCCo34LIXpe5ArEKd-S"}),baseUrlType:l.Z4.FixedWww})}storeMarketConsentInPopup(){return this.fetch.post("/api/policy/notice/approve/",{body:i().stringify({business:"kr_consent_market_message",operation:2,policy_version:"v20200906",style:"pop"})})}errorHandler(e){return e.pipe((0,a.W)(e=>(0,r.of)(Object.assign({error_code:e.error_code||-1},e))))}constructor(e){this.fetch=e}}u=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,s._q)({name:"SignupService@tiktok/login"}),d("design:type",Function),d("design:paramtypes",[void 0===c.p?Object:c.p])],u)},57038:(e,t,o)=>{"use strict";var n,i;o.d(t,{vI:()=>r}),function(e){e.euTaxForm="euTaxForm",e.w9TaxSelect="w9TaxSelect",e.w9TaxInputIndividual="w9TaxInputIndividual",e.w9TaxInputEntity="w9TaxInputEntity",e.taxPaperlessConsent="taxPaperlessConsent",e.taxComplete="taxComplete",e.taxInfoUs="taxInfoUs",e.w8TaxInput="w8TaxInput",e.taxInfoW8="taxInfoW8",e.taxOverview="taxOverview",e.kyc="kyc",e.kycLoading="kycLoading",e.kycPoa="kycPoa",e.kycSubmission="kycSubmission",e.liveDiscover="liveDiscover",e.liveGoLive="liveGoLive",e.liveRoom="liveRoom",e.liveEvent="liveEvent",e.liveRoomEmbed="liveRoomEmbed",e.rechargeBindInfo="rechargeBindInfo",e.studioLogin="studioLogin",e.studioDownload="studioDownload",e.studioFaq="studioFaq",e.liveSubscription="liveSubscription",e.liveSubscriptionGuide="liveSubscriptionGuide",e.liveSubscriptionBadgeSetting="liveSubscriptionBadgeSetting",e.liveSubscriptionEmoteSetting="liveSubscriptionEmoteSetting",e.liveSubscriptionComplete="liveSubscriptionComplete",e.liveSubscriptionSetting="liveSubscriptionSetting",e.liveSubscriptionMysubsription="liveSubscriptionMysubsription",e.giftCpcFaq="giftCpcFaq",e.liveFollowing="liveFollowing",e.liveGaming="liveGaming",e.liveSingleGaming="liveSingleGaming",e.liveEventAggregation="liveEventAggregation",e.liveCategory="liveCategory",e.liveCategoryGaming="liveCategoryGaming",e.liveCategoryLifestyle="liveCategoryLifestyle",e.liveCategorySingleGaming="liveCategorySingleGaming",e.liveCategorySingleLifeStyle="liveCategorySingleLifeStyle",e.liveCategorySingleAction="liveCategorySingleAction",e.liveLifestyle="liveLifestyle",e.liveExplore="liveExplore",e.liveMenaAction="liveMenaAction"}(n||(n={})),function(e){e.euTaxForm="euTaxForm",e.w9TaxSelect="w9TaxSelect",e.w9TaxInputIndividual="w9TaxInputIndividual",e.w9TaxInputEntity="w9TaxInputEntity",e.taxPaperlessConsent="taxPaperlessConsent",e.taxComplete="taxComplete",e.taxInfoUs="taxInfoUs",e.w8TaxInput="w8TaxInput",e.taxInfoW8="taxInfoW8",e.taxOverview="taxOverview",e.kyc="kyc",e.kycLoading="kycLoading",e.kycPoa="kycPoa",e.kycSubmission="kycSubmission",e.liveDiscover="liveDiscover",e.liveGoLive="liveGoLive",e.liveRoom="liveRoom",e.liveEvent="liveEvent",e.liveRoomEmbed="liveRoomEmbed",e.rechargeBindInfo="rechargeBindInfo",e.studioLogin="studioLogin",e.studioDownload="studioDownload",e.studioFaq="studioFaq",e.liveSubscription="liveSubscription",e.liveSubscriptionGuide="liveSubscriptionGuide",e.liveSubscriptionBadgeSetting="liveSubscriptionBadgeSetting",e.liveSubscriptionEmoteSetting="liveSubscriptionEmoteSetting",e.liveSubscriptionComplete="liveSubscriptionComplete",e.liveSubscriptionSetting="liveSubscriptionSetting",e.liveSubscriptionMysubsription="liveSubscriptionMysubsription",e.giftCpcFaq="giftCpcFaq",e.liveFollowing="liveFollowing",e.liveGaming="liveGaming",e.liveSingleGaming="liveSingleGaming",e.liveEventAggregation="liveEventAggregation",e.liveCategory="liveCategory",e.liveCategoryGaming="liveCategoryGaming",e.liveCategoryLifestyle="liveCategoryLifestyle",e.liveCategorySingleGaming="liveCategorySingleGaming",e.liveCategorySingleLifeStyle="liveCategorySingleLifeStyle",e.liveCategorySingleAction="liveCategorySingleAction",e.liveLifestyle="liveLifestyle",e.liveExplore="liveExplore",e.liveMenaAction="liveMenaAction"}(i||(i={}));const r={euTaxForm:"/tax/eu-tax",w9TaxSelect:"/tax/us-w9-tax-select",w9TaxInputIndividual:"/tax/us-w9-tax-input-individual",w9TaxInputEntity:"/tax/us-w9-tax-input-entity",taxPaperlessConsent:"/tax/paperless-consent",taxComplete:"/tax/complete",taxInfoUs:"/tax/info-us",w8TaxInput:"/tax/w8-tax-input",taxInfoW8:"/tax/info-w8",taxOverview:"/tax/tax-overview",kyc:"/kyc",kycLoading:"/kyc/loading",kycPoa:"/kyc/poa",kycSubmission:"/kyc/submission",liveDiscover:"/live",liveGoLive:"/live/producer",liveRoom:"/:uniqueId/live",liveEvent:"/live/event/:eventId",liveRoomEmbed:"/embed/:uniqueId/live",rechargeBindInfo:"/recharge/bind-info",studioLogin:"/studio/login",studioDownload:"/studio/download",studioFaq:"/studio/faq",liveSubscription:"/live/subscription",liveSubscriptionGuide:"/live/subscription/guide",liveSubscriptionBadgeSetting:"/live/subscription/badge-setting",liveSubscriptionEmoteSetting:"/live/subscription/emote-setting",liveSubscriptionComplete:"/live/subscription/complete",liveSubscriptionSetting:"/live/subscription/setting",liveSubscriptionMysubsription:"/live/subscription/my-subscription",giftCpcFaq:"/live/gift/cpc/faq",liveFollowing:"/live/following",liveGaming:"/live/gaming",liveSingleGaming:"/live/gaming/:gameId",liveEventAggregation:"/live/event",liveCategory:"/live/category",liveCategoryGaming:"/live/category/gaming",liveCategoryLifestyle:"/live/category/lifestyle",liveCategorySingleGaming:"/live/category/gaming/:gameTag",liveCategorySingleLifeStyle:"/live/category/lifestyle/:category",liveCategorySingleAction:"/live/category/action/:action",liveLifestyle:"/live/lifestyle",liveExplore:"/live/explore/:keywords",liveMenaAction:"/live/mena-action"};var a;!function(e){e.euTaxForm="euTaxForm",e.w9TaxSelect="w9TaxSelect",e.w9TaxInputIndividual="w9TaxInputIndividual",e.w9TaxInputEntity="w9TaxInputEntity",e.taxPaperlessConsent="taxPaperlessConsent",e.taxComplete="taxComplete",e.taxInfoUs="taxInfoUs",e.w8TaxInput="w8TaxInput",e.taxInfoW8="taxInfoW8",e.taxOverview="taxOverview",e.kyc="kyc",e.kycLoading="kycLoading",e.kycPoa="kycPoa",e.kycSubmission="kycSubmission",e.liveDiscover="liveDiscover",e.liveGoLive="liveGoLive",e.liveRoom="liveRoom",e.liveEvent="liveEvent",e.liveRoomEmbed="liveRoomEmbed",e.rechargeBindInfo="rechargeBindInfo",e.studioLogin="studioLogin",e.studioDownload="studioDownload",e.studioFaq="studioFaq",e.liveSubscription="liveSubscription",e.liveSubscriptionGuide="liveSubscriptionGuide",e.liveSubscriptionBadgeSetting="liveSubscriptionBadgeSetting",e.liveSubscriptionEmoteSetting="liveSubscriptionEmoteSetting",e.liveSubscriptionComplete="liveSubscriptionComplete",e.liveSubscriptionSetting="liveSubscriptionSetting",e.liveSubscriptionMysubsription="liveSubscriptionMysubsription",e.giftCpcFaq="giftCpcFaq",e.liveFollowing="liveFollowing",e.liveGaming="liveGaming",e.liveSingleGaming="liveSingleGaming",e.liveEventAggregation="liveEventAggregation",e.liveCategory="liveCategory",e.liveCategoryGaming="liveCategoryGaming",e.liveCategoryLifestyle="liveCategoryLifestyle",e.liveCategorySingleGaming="liveCategorySingleGaming",e.liveCategorySingleLifeStyle="liveCategorySingleLifeStyle",e.liveCategorySingleAction="liveCategorySingleAction",e.liveLifestyle="liveLifestyle",e.liveExplore="liveExplore",e.liveMenaAction="liveMenaAction"}(a||(a={}))},57509:(e,t,o)=>{"use strict";var n;o.d(t,{L:()=>n}),function(e){e.Trending="homepage_hot",e.Discover="discovery",e.Inbox="homepage_message",e.Profile="personal_homepage",e.User="others_homepage",e.Music="single_song",e.Effect="effect_detail",e.Challenge="challenge",e.Collection="collection",e.Video="video_detail",e.PhotoVideo="graphic_detail",e.Setting="setting",e.Report="report",e.ReportAd="report_ad",e.Error="page_404",e.Analytics="insight_page",e.Following="homepage_follow",e.Friends="friends_page",e.Feedback="feedback",e.FeedbackReport="feedback_report",e.FeedbackHistory="feedback_history",e.Support="support",e.Upload="upload",e.AgeVerification="AGE_VERIFICATION",e.Topics="topic",e.Poi="place",e.PoiCategory="place",e.Explore="explore_page",e.Live="live_detail",e.LiveEmbedDetail="live_embed_detail",e.GoLive="live_take",e.LiveDiscover="live_discover",e.LiveReferralHost="live_referral_host",e.LiveReferralHostLogin="live_referral_host_login",e.LiveReferralHostAccept="live_referral_host_accept",e.LiveReferralHostWrong="live_referral_host_wrong",e.LiveReferralHostFaq="live_referral_host_faq",e.LiveEvent="live_event",e.LiveEventAggregation="live_event_aggregation",e.LiveCategory="live_catalog",e.LiveSingleGameCategory="each_game_catalog",e.LiveSingleLifestyleCategory="each_lifestyle_catalog",e.LiveSingleActionCategory="each_action_catalog",e.LiveExplore="seo_catalog",e.LiveMobile="live_detail_mobile",e.LiveDiscoverMobile="live_discover_mobile",e.LiveEventMobile="live_event_mobile",e.LiveEventAggregationMobile="live_event_aggregation_mobile",e.LiveCategoryMobile="live_catalog_mobile",e.LiveSingleGameCategoryMobile="each_game_catalog_mobile",e.LiveSingleLifestyleCategoryMobile="each_lifestyle_catalog_mobile",e.LiveSingleActionCategoryMobile="each_action_catalog_mobile",e.LiveExploreMobile="seo_catalog_mobile",e.LiveMenaActionMobile="live_mena_action_mobile",e.SharingLive="reflow_live",e.SharingLiveEvent="reflow_live_event",e.SearchReflow="search_reflow",e.SharingVideo="reflow_video",e.SharingPhoto="reflow_graphic",e.SharingStoreRedirect="reflow_store_redirect",e.SharingMusic="reflow_music",e.SharingChallenge="reflow_challenge",e.SharingSticker="reflow_sticker",e.SharingUser="reflow_user",e.SharingCollection="reflow_collection",e.SharingGroup="reflow_group",e.SharingInvite="reflow_now_link",e.SharingPost="reflow_now_photo",e.SharingProfile="reflow_now_others",e.NowError="reflow_now_guaranteed",e.SharingPast="reflow_now_photo_unavailable",e.SharingChat="reflow_chat_invitation",e.QADetail="qa_detail",e.QADetailReflow="reflow_qa_detail",e.VideoPlaylist="reflow_video_playlist",e.WebAppVideoPlaylist="playlist",e.GeneralSearch="general_search",e.SearchUser="search_user",e.SearchVideo="search_video",e.SearchLive="search_live",e.SuicidePrevention="suicide_prevention",e.Messages="messages",e.Recharge="live_recharge",e.RechargeReferral="live_referral",e.CoinRedeem="coin_redeem",e.RechargeCashier="live_recharge_cashier",e.VerifyIdentity="verify_identity",e.PIAppealForm="pi_appeal_form",e.RewardOnboarding="reward_onboarding",e.RechargePaymentCode="live_recharge_payment_code",e.Exchange="live_exchange",e.unavailable="live_unavailable",e.Transaction="live_transaction",e.Expansion="discover_kw",e.Channel="channel",e.Find="find",e.Product="ecommerce_kep",e.Playlist="music_playlist",e.StudioDownload="studio_download",e.StudioFaq="studio_faq",e.Subscription="subscription",e.VideoTT4D="video_tt4d",e.LiveGiftCpcFaq="live_gift_cpc_faq",e.TaxVAT="tax_vat",e.TaxVatInput="tax_vat_input",e.TaxVatInfo="tax_vat_info",e.SelfBilling="tax_self_billing",e.TaxWhtInput="tax_wht_input",e.TaxWhtInfo="tax_wht_info",e.TaxW9Select="tax_w9_select",e.TaxW9Individual="tax_w9_individual",e.TaxW9Entity="tax_w9_entity",e.TaxW9Info="tax_w9_info",e.TaxW8Input="tax_w8_input",e.TaxW8Info="tax_w8_info",e.TaxComplete="tax_complete",e.TaxOverview="tax_overview",e.TaxW9Certify="tax_w9_certify",e.Kyc="kyc",e.kycLoading="kyc_loading",e.kycPoa="kyc_poa",e.KycDetails="kyc_detail",e.LivePopoutModerator="live_mod_popout",e.PeriodicDashboard="periodic_dashboard",e.PeriodicPastPayout="periodic_past_payout",e.PeriodicTransaction="periodic_transaction",e.OauthSpotify="oauth_spotify",e.Login="login",e.Signup="signup",e.HelpPage="tns_show_ssh_tips_support_page",e.ViolationAppeal="violation_appeal",e.PrivacyPrompt="privacy_prompt",e.Unknown="unknown",e.DelayStartUntilManuallyCalled="delay_start_until_manually_called",e.PoiCategorySlardar="place_category",e.Download="download",e.DownloadVideo="download_video",e.TrendingDetail="discover_pro",e.MiniApk="lite_miniapk_download",e.StableVideo="VideoContent",e.StableImage="ImgContent",e.CreatorSearchInsights="inspiration_homepage",e.CreatorSearchInsightsDetail="inspiration_detail",e.CreatorSearchInsightsSearch="inspiration_search",e.CreatorSearchInsightsFavorites="inspiration_favorites",e.CreatorSearchInsightsAnalytics="inspiration_analytics",e.CreatorSearchInsightsAcademy="inspiration_academy"}(n||(n={}))},57524:(e,t,o)=>{"use strict";o.d(t,{D:()=>a,x:()=>r});const n=(0,o(99857).U)("GLOBAL_STORE@tiktok/isomorphic",()=>new Map),i="WEBAPP_APP_CONTEXT",r=()=>{const e=n.get(i);return e||console.error("Consume appContext before init"),e},a=e=>{n.get(i)&&console.warn("AppContext will be overwritten"),n.set(i,e)}},58629:()=>{},58746:(e,t,o)=>{"use strict";o.d(t,{L:()=>f});var n={};o.r(n);var i=o(46657),r=o(23999),a=o(26324),s=o(24451),l=o(62564),c=o(35572),d=o(8536),u=o(74690),p=o(80339),g=o(64162),m=o(4126),h=o(15176);function v(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function _(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class f extends g.E{setSideNavActive(e,t){return Object.assign(Object.assign({},e),{sideNavActive:t})}toggleSideNav(e){return e.pipe((0,s.E)(this.state$),(0,l.T)(([e,t])=>this.getActions().setSideNavActive(!t.sideNavActive)))}setAppContext(e,t){var{statusCode:o}=t,n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(t,["statusCode"]);return 0!==o?e:Object.assign(Object.assign({},e),{appContext:n})}setInitialized(e,t){return Object.assign(Object.assign({},e),{initialized:t})}setLang(e,t){return Object.assign(Object.assign({},e),{lang:t})}init(e){return e.pipe((0,s.E)(this.state$),(0,c.p)(([{appContext:e},{initialized:t}])=>t?i.w:(0,r.of)(Object.assign(Object.assign({},e),{statusCode:0})).pipe((0,d.Z)(t=>(0,r.of)(this.getActions().setAppContext(t),this.getActions().setLang(e.language))),(0,u.Z)(this.getActions().setInitialized(!1)),(0,p.q)(this.getActions().setInitialized(!0),this.terminate()))))}constructor(...e){super(...e),this.defaultState={appContext:null,initialized:!1,lang:"en",sideNavActive:!1}}}v([(0,m.HI)(),_("design:type",Function),_("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,Boolean]),_("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],f.prototype,"setSideNavActive",null),v([(0,m.Mj)(),_("design:type",Function),_("design:paramtypes",[void 0===a.c?Object:a.c]),_("design:returntype",void 0)],f.prototype,"toggleSideNav",null),v([(0,m.HI)(),_("design:type",Function),_("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,void 0===n.BaseAppContextResponse?Object:n.BaseAppContextResponse]),_("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],f.prototype,"setAppContext",null),v([(0,m.HI)(),_("design:type",Function),_("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,Boolean]),_("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],f.prototype,"setInitialized",null),v([(0,m.HI)(),_("design:type",Function),_("design:paramtypes",["undefined"==typeof AppContextModuleState?Object:AppContextModuleState,String]),_("design:returntype","undefined"==typeof AppContextModuleState?Object:AppContextModuleState)],f.prototype,"setLang",null),v([(0,m.Mj)({payloadGetter:1}),_("design:type",Function),_("design:paramtypes",[void 0===a.c?Object:a.c]),_("design:returntype",void 0)],f.prototype,"init",null),f=v([(0,h.nV)("AppContext")],f)},58933:(e,t,o)=>{"use strict";o.d(t,{V$:()=>P,Yr:()=>T,ng:()=>O}),o(3452);var n=o(73463),i=o(17592),r=o(14285),a=o(94999),s=o(73580),l=o(99857),c=o(16402),d=o(71183),u=o(44973),p=o(33238),g=o(30356),m=o(14118),h=o(14974),v=o.n(h),_=o(71784),f=o.n(_),b=o(88062),y=o(57509),w=o(62514),k=o(24754);const S=({message:e,defaultResult:t}={})=>(o,n,i)=>{const r=i.value;return i.value=function(...i){try{const s=r.apply(this,i);return(a=s)&&a instanceof Promise||("object"==typeof a||"function"==typeof a)&&"function"==typeof a.then&&"function"==typeof a.catch?s.catch(i=>(console.error(`${o.constructor.name}.${n.toString()}${e?` ${e}`:""}: ${i}`),t)):s}catch(i){return console.error(`${o.constructor.name}.${n.toString()}${e?` ${e}`:""}: ${i}`),t}var a},i};function C(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function x(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}"object"!=typeof window||window.__$vmok_bundle$__||(0,u.fU)()||n.O.setGlobalSlardarName("SlardarClient");class P{hasStarted(){return this._hasStart}mountBeforeSendEvent(){this._slardar.on("beforeSend",e=>{var t,o,n;try{var i,r;if("performance"===e.ev_type&&("metrics"in e.payload?e.payload.metrics.forEach(this.collectSlardarMetricsToTea):this.collectSlardarMetricsToTea(e.payload,null===(i=e.common)||void 0===i?void 0:i.pid)),"performance_timing"===e.ev_type){var a;const{responseEnd:n,responseStart:i,domContentLoadedEventEnd:r,fetchStart:s,navigationStart:l}=null!==(t=e.payload.timing)&&void 0!==t?t:{},d=null!==(o=null===(a=e.payload.common)||void 0===a?void 0:a.pid)&&void 0!==o?o:"unknown",u=r-s,p=n-i,g=i-l;c.f.event("slardar_perf_domready",{metric_duration:u&&u>0?u.toString():-1,pid:d}),c.f.event("slardar_perf_response",{metric_duration:p&&p>0?p.toString():-1,pid:d}),c.f.event("slardar_perf_ttfb",{metric_duration:g&&g>0?g.toString():-1,pid:d})}if("custom"===e.ev_type&&"video_play_end"===(null===(r=e.payload)||void 0===r?void 0:r.name)){const{idc:t}=null!==(n=e.common.context)&&void 0!==n?n:{};e.common.context=t?{idc:t}:{}}}catch(e){}return e})}init(e,t=!1,o={},n){this._option=n,t?this.preserveConfig(e):this._slardar.init(Object.assign({ttap:Object.assign({},o)},e))}start(e=""){this._config&&e&&!this._hasStart&&(this.init(Object.assign(Object.assign({},this._config),{pid:e})),this._hasStart=!0,this._extraInfo&&this.config(this._extraInfo)),this._slardar.start()}config(e){"pid"in e&&!this._isPvFirstlyReported&&(this._isPvFirstlyReported=!0,this.context({isLandingPage:0})),this._slardar.config(e)}registerImageXPlugin(e,t=.01){return e?(console.warn("[Slardar]imagex plugin not provided"),[]):[]}toggleLoginSlardar(e){var t,o;(null===(t=this._option)||void 0===t?void 0:t.disableToggleLoginSlardar)||(e?((null===(o=this._slardar.config())||void 0===o?void 0:o.bid)&&(this.cachePreBid=this._slardar.config().bid),this.config({bid:g.yH})):this.config({bid:this.cachePreBid}))}context(e){Object.entries(e).forEach(([e,t])=>{this._slardar.context({[e]:t})})}captureMessage(e="",t,o={},n){this._slardar.captureException("string"==typeof e?new Error(e):e,t?Object.assign(Object.assign({},o),{level:t}):o,n)}emitEvent(e,t,o){this._slardar.sendEvent({name:e,categories:o,metrics:t})}reportI18nLoadedFailed(e,t){this.emitEvent("I18nLoadFailed",{count:1},{staringName:e,lang:t})}sendLog(e,t,o){this._slardar.sendLog({content:e,level:t,extra:o})}sendPV(e){this._slardar.rawInstance()("sendPageview",e)}previousPid(){var e;return null===(e=this._slardar.config())||void 0===e?void 0:e.pid}sendCustomPerfMetric(e,t){const o=null!=t?t:performance.now();this._slardar.sendCustomPerfMetric({name:e,value:o,isCustom:!0})}preserveConfig(e){this._config=e}preserveExtraInfo(e){this._extraInfo=e}collectSlardarMetricsToTea(e,t){if(e.isSupport||e.isPolyfill){const o=e.name.toLowerCase();m.HZ.includes(o)&&c.f.event(`slardar_perf_${o}`,{metric_duration:e.value.toString(),pid:null!=t?t:"unknown",is_support:e.isSupport?"1":"0"})}}reportActualFMP(){return this._slardar.reportActualFMP()}reportRenderStart(){return this._slardar.reportRenderStart()}reportRenderEnd(){return this._slardar.reportRenderEnd()}reportFirstScreenRequest(e,t){this._slardar.reportFirstScreenRequest(e,t)}reportCustomRequest({name:e,startTime:t,endTime:o}){var n,i,r;const a=(null===(i=performance)||void 0===i||null===(n=i.timing)||void 0===n?void 0:n.navigationStart)||(null===(r=performance)||void 0===r?void 0:r.timeOrigin);this._slardar.reportCustomRequest(e,null!=t?t:a,o)}reportPageReady(e){var t;if(e&&!m.QA.has(e))return;const o=c.f.commonParams.page_name,n=null===(t=location)||void 0===t?void 0:t.pathname,i=e===d.ey.OneColumn?o:n;void 0!==i&&i!==this._lastReadyKey&&(this._lastReadyKey=i,this._slardar.reportPageReady())}reportPageCrash({errorMsg:e}){this._slardar.reportPageCrash({errorMsg:e})}reportStabilityEvent(e){this._slardar.reportStabilityEvent(e)}reportStabilityStack(e){this._slardar.reportStabilityStack(e)}reportRouteRenderStart(){this._slardar.reportRouteRenderStart()}reportRouteRenderEnd(){this._slardar.reportRouteRenderEnd()}reportCrash(e,t,o){this._slardar.reportCrash({error:"string"==typeof e?new Error(e):e,extra:t,react:o})}constructor(){this.cachePreBid="",this._isPvFirstlyReported=!1,this._config=null,this._extraInfo=null,this._hasStart=!1,this._lastReadyKey="",this._slardar=n.O}}P.start=(e,{bid:t,initLocation:o,appContext:n,bizContext:i,reportImage:r,slardarConfig:a={},ttapOption:s={},disableToggleLoginSlardar:l=!1,extractPid:c=e=>e,customContext:d,beforeStart:p,customMountBeforeSendEvent:g})=>{var h,_,S,C;const{abTestVersion:x,env:P,botType:T,user:O,wid:A,region:E}=null!=n?n:{},{isMobile:L,isTTP:j,domains:I,idc:R,config:M}=null!=i?i:{},D=!!r||"v2"===(null==x||null===(S=x.parameters.enable_slardar_image)||void 0===S?void 0:S.vid),F=e=>{const t=c(e);return t===y.L.DelayStartUntilManuallyCalled?y.L.Unknown:t};return e.context(Object.assign(Object.assign(Object.assign({region:null!=E?E:"",botType:null!=T?T:"",isMobile:Boolean(L).toString(),isDowngrade:(0,u.qk)().toString(),isLogin:Boolean(O).toString(),isPPE:"ppe"===(null==P?void 0:P.type),isLandingPage:1,isSSGPage:(0,u.$y)(),launchMode:(0,u.fU)()?"":(0,w.o7)()},f()(v()(null!==(h=null==x?void 0:x.parameters)&&void 0!==h?h:{},e=>null==e?void 0:e.vid),(e,t)=>k.s.includes(t))),{uid:null!==(_=null==O?void 0:O.uid)&&void 0!==_?_:"",idc:null!=R?R:"unknown"}),d)),e.mountBeforeSendEvent(),null==g||g(e._slardar),e.init(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},m.dg),{bid:t,env:"boe"===(null==P?void 0:P.type)||"ppe"===(null==P?void 0:P.type)?"test":"production",domain:(null==M||null===(C=M.featureFlags)||void 0===C?void 0:C.slardar_sg_domain)&&"SG"===E?"mon-sg.tiktokv.com":null==I?void 0:I.slardar,useLocalConfig:"ppe"===(null==P?void 0:P.type)||"boe"===(null==P?void 0:P.type),integrations:[...e.registerImageXPlugin(D,r&&"boolean"!=typeof r?r.sample:void 0)]}),j?{sdkUrl:b.Qn.us,pluginPathPrefix:b.tz.us}:{}),{pid:F("string"==typeof o?o:o.pathname),userId:A}),a),!1,Object.assign({isSpa:!0},s),{disableToggleLoginSlardar:l}),"function"==typeof p?p().finally(()=>{e.start()}).catch(e=>{console.error("beforeStart failed",e)}):e.start(),{handleLocationChange:t=>{const o=F("string"==typeof t?t:t.pathname);e.context({isLandingPage:0}),e.sendPV(o)},slardar:e}},C([S(),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",void 0)],P.prototype,"mountBeforeSendEvent",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof Partial?Object:Partial,void 0,Object,"undefined"==typeof SlardarServiceOption?Object:SlardarServiceOption]),x("design:returntype",void 0)],P.prototype,"init",null),C([S(),x("design:type",Function),x("design:paramtypes",[String]),x("design:returntype",void 0)],P.prototype,"start",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof Partial?Object:Partial]),x("design:returntype",void 0)],P.prototype,"config",null),C([S({defaultResult:[]}),x("design:type",Function),x("design:paramtypes",[Boolean,void 0]),x("design:returntype",Object)],P.prototype,"registerImageXPlugin",null),C([S(),x("design:type",Function),x("design:paramtypes",[Boolean]),x("design:returntype",void 0)],P.prototype,"toggleLoginSlardar",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof Record?Object:Record]),x("design:returntype",void 0)],P.prototype,"context",null),C([S({message:"capture exception error"}),x("design:type",Function),x("design:paramtypes",[Object,void 0===m.$b?Object:m.$b,"undefined"==typeof Record?Object:Record,"undefined"==typeof ReactInfo?Object:ReactInfo]),x("design:returntype",void 0)],P.prototype,"captureMessage",null),C([S(),x("design:type",Function),x("design:paramtypes",[String,"undefined"==typeof Record?Object:Record,"undefined"==typeof Record?Object:Record]),x("design:returntype",void 0)],P.prototype,"emitEvent",null),C([S(),x("design:type",Function),x("design:paramtypes",[String,String]),x("design:returntype",void 0)],P.prototype,"reportI18nLoadedFailed",null),C([S(),x("design:type",Function),x("design:paramtypes",[String,String,"undefined"==typeof Record?Object:Record]),x("design:returntype",void 0)],P.prototype,"sendLog",null),C([S(),x("design:type",Function),x("design:paramtypes",[String]),x("design:returntype",void 0)],P.prototype,"sendPV",null),C([S(),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",void 0)],P.prototype,"previousPid",null),C([S(),x("design:type",Function),x("design:paramtypes",[void 0===m.Pl?Object:m.Pl,Number]),x("design:returntype",void 0)],P.prototype,"sendCustomPerfMetric",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof Partial?Object:Partial]),x("design:returntype",void 0)],P.prototype,"preserveConfig",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof Record?Object:Record]),x("design:returntype",void 0)],P.prototype,"preserveExtraInfo",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof PerformancePayload?Object:PerformancePayload,Object]),x("design:returntype",void 0)],P.prototype,"collectSlardarMetricsToTea",null),C([S({defaultResult:0}),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Number)],P.prototype,"reportActualFMP",null),C([S({defaultResult:0}),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Number)],P.prototype,"reportRenderStart",null),C([S({defaultResult:0}),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",Number)],P.prototype,"reportRenderEnd",null),C([S(),x("design:type",Function),x("design:paramtypes",[Number,Number]),x("design:returntype",void 0)],P.prototype,"reportFirstScreenRequest",null),C([S(),x("design:type",Function),x("design:paramtypes",[Object]),x("design:returntype",void 0)],P.prototype,"reportCustomRequest",null),C([S(),x("design:type",Function),x("design:paramtypes",[void 0===d.ey?Object:d.ey]),x("design:returntype",void 0)],P.prototype,"reportPageReady",null),C([S(),x("design:type",Function),x("design:paramtypes",[Object]),x("design:returntype",void 0)],P.prototype,"reportPageCrash",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof CommonStabilityEventProps?Object:CommonStabilityEventProps]),x("design:returntype",void 0)],P.prototype,"reportStabilityEvent",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof CommonStabilityStackProps?Object:CommonStabilityStackProps]),x("design:returntype",void 0)],P.prototype,"reportStabilityStack",null),C([S(),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",void 0)],P.prototype,"reportRouteRenderStart",null),C([S(),x("design:type",Function),x("design:paramtypes",[]),x("design:returntype",void 0)],P.prototype,"reportRouteRenderEnd",null),C([S(),x("design:type",Function),x("design:paramtypes",["undefined"==typeof Error?Object:Error,Object,"undefined"==typeof ReactInfo?Object:ReactInfo]),x("design:returntype",void 0)],P.prototype,"reportCrash",null),P=C([(0,i._q)({name:"SlardarService@tiktok/fe-shared"})],P);const T=e=>{const t=`createIsolatedSlardarService_${e}@tiktok/fe-shared`;return(0,l.U)(`instanceof_${t}`,()=>{const o=(0,l.U)(t,()=>new r.n(e));a.l.addProvider({provide:o,useClass:P});const c={provide:o,useExisting:o};class d extends P{reportActualFMP(){return 0}reportFirstScreenRequest(){}reportRenderEnd(){return 0}reportRenderStart(){return 0}reportCustomRequest(){}reportRouteRenderEnd(){}reportRouteRenderStart(){}emitEvent(e,t,o){const n=p.nf.getTrackingInfo();super.emitEvent(e,t,Object.assign(Object.assign({},o),n))}constructor(){super(),this._slardar=n.O.create(e)}}let u;return d=C([(0,i._q)({name:"IsolatedSlardarService@tiktok/fe-shared"}),x("design:type",Function),x("design:paramtypes",[])],d),{inject:(e=d)=>{a.l.addProvider({provide:o,useClass:e})},getInstance:()=>a.l.getInstance(c),useInstance:()=>(0,s.Nj)(c),isIsolated:()=>a.l.getInstance(c)instanceof d,start:e=>{var t;const o=a.l.getInstance(c);if(o instanceof d)return u?u.handleLocationChange(e.initLocation):void(u=P.start(o,Object.assign(Object.assign({},e),{slardarConfig:Object.assign(Object.assign({},e.slardarConfig),{plugins:Object.assign(Object.assign(Object.assign({},m.dg.plugins),{performance:!1}),null===(t=e.slardarConfig)||void 0===t?void 0:t.plugins)})})))},handleLocationChange:e=>{null==u||u.handleLocationChange(e)},INJECTION_TOKEN:o}})},O=a.l.getInstance(P)},59034:(e,t,o)=>{"use strict";o.d(t,{JF:()=>w,b1:()=>x,MR:()=>S,mZ:()=>C});var n=o(57432),i=o.n(n),r=o(41353),a=o(18499),s=o(13839),l=o(94913),c=o(85224),d=o(7378),u=o(38919),p=o(57524),g=o(16402),m=o(76924),h=o(45290),v=o(21807);const _={isOpen:!1,url:"",isRedirectToProfilePage:!1,closeable:!1,isBannerActive:!1,bannerEnabled:!1,content:{title:"",desc:"",btnOpenText:""},iframeStyle:{},handleDownload:i(),handleLogin:i(),closeCallback:i(),loginModalShow:!1,maskCloseable:!1,userId:"",groupId:"",enterMethod:void 0,pageType:d.g.Trending,modalType:"",hasCheckedPeriodicLogin:!1,hasCheckedPredictionLogin:!1,hasCheckedGuestMode:!1,showLoginOnLoad:!1,isLoginOnLoadClosed:!1,redirectToHomePage:!1,isGuestMode:!1,isGuestModeUI:!1};var f=function(e){return e.DEFAULT="default",e.ENGAGEMENT="engagement",e}({});function b(){return-1!==(window.location.pathname+window.location.search).indexOf("recharge")}function y(e){if(e)return["click_like","click_comment","click_follow","share_button","click_like_comment","click_reply_comment","click_dislike","click_favorite"].includes(e)?f.ENGAGEMENT:f.DEFAULT}const w=(0,s._)((0,c.p)("loginAtom@tiktok/webapp-atoms",_),{rehydrationKey:"webapp.login"});let k;const{useAtomService:S,useServiceState:C,useServiceDispatchers:x,getStaticApi:P}=(0,l.i)(w,(e,t)=>({setCloseable(e){t(w,t=>Object.assign(Object.assign({},t),{closeable:e}))},setUrl(e){t(w,t=>Object.assign(Object.assign({},t),{url:e}))},setLoginPath(e){t(w,t=>Object.assign(Object.assign({},t),{loginPath:e}))},setCloseCallback(e){e&&t(w,t=>Object.assign(Object.assign({},t),{closeCallback:e}))},setIsOpen(e){t(w,t=>Object.assign(Object.assign({},t),{isOpen:e}))},setContent(e){e&&t(w,t=>Object.assign(Object.assign({},t),{content:e}))},setHandleDownload(e){e&&t(w,t=>Object.assign(Object.assign({},t),{handleDownload:e}))},setHandleLogin(e){e&&t(w,t=>Object.assign(Object.assign({},t),{handleLogin:e}))},setIframeStyle(e){t(w,t=>Object.assign(Object.assign({},t),{iframeStyle:e}))},setModalType(e){t(w,t=>Object.assign(Object.assign({},t),{modalType:e}))},setLoginModalShow(e){if(t(w,t=>Object.assign(Object.assign({},t),{loginModalShow:e})),!e&&window.byted_acrawler){var o,n;const{vgeo:e}=(0,u.c)();null==(o=(n=window.byted_acrawler).setUserMode)||o.call(n,(0,h.n)({isVA:"VGeo-US"===e,isLogin:!1,isFTC:!1,isHighRisk:!1}))}},setMaskCloseable(e){t(w,t=>Object.assign(Object.assign({},t),{maskCloseable:e}))},setPageType(e){t(w,t=>Object.assign(Object.assign({},t),{pageType:e}))},setUserId(e){t(w,t=>Object.assign(Object.assign({},t),{userId:e}))},setGroupId(e){t(w,t=>Object.assign(Object.assign({},t),{groupId:e}))},setLastGroupId(e){t(w,t=>Object.assign(Object.assign({},t),{lastGroupId:e}))},setEnterMethod(e){t(w,t=>Object.assign(Object.assign({},t),{enterMethod:e}))},setModalImage(e){t(w,t=>Object.assign(Object.assign({},t),{modalImage:e}))},setPopupType(e){t(w,t=>Object.assign(Object.assign({},t),{popupType:e}))},setIsRedirectToProfilePage(e){t(w,t=>Object.assign(Object.assign({},t),{isRedirectToProfilePage:e}))},setIsGuestMode(e){t(w,t=>Object.assign(Object.assign({},t),{isGuestMode:e}))},setIsGuestModeUI(e){t(w,t=>Object.assign(Object.assign({},t),{isGuestModeUI:e}))},setPredictionPayload(e){t(w,t=>Object.assign(Object.assign({},t),{predictionPayload:e}))},setIsLinkPhoneOrEmail(e){t(w,t=>Object.assign(Object.assign({},t),{isLinkPhoneOrEmail:e}))},openModal(o){var n,i;const{modalContainerStyle:s,url:l,isRedirectToProfilePage:c=!1,loginPath:u,isSignup:m,closeable:h=!0,query:_={},iframeStyle:f={},content:k,handleDownload:S,handleLogin:C,closeCallback:x,maskCloseable:P=!1,userId:T,enterMethod:O,bizActionSource:A,pageType:E=d.g.Unknown,popupType:L,groupId:j,lastGroupId:I,isGuestMode:R,isGuestModeUI:M,predictionPayload:D,isLinkPhoneOrEmail:F}=o,{language:N}=(0,p.x)(),{bizContext:U}=e(v.A),B=null!=u?u:"/"+(m?"signup":"login"),H=null!=l?l:(0,r.stringifyUrl)({url:B,query:Object.assign({lang:N,is_modal:1,hide_close_btn:1,event_name:m?"enter_sign_up":null,type:b()?"recharge":"",enter_from:g.f.commonParams.page_name},_)},{skipNull:!0}),z=null!=O?O:_.enter_method,Y=null!=j?j:_.group_id,W=null!=I?I:_.last_group_id,V=null!==(i=null!==(n=_.type)&&void 0!==n?n:b()?"recharge":"")&&void 0!==i?i:"";!H.match(/\/login|\/signup|\/link-phone-or-email/)||(null==U?void 0:U.isMobile)?t(w,e=>Object.assign(Object.assign({},e),{modalContainerStyle:s,url:H,isRedirectToProfilePage:c,closeable:h,isOpen:!0,content:null!=k?k:e.content,handleDownload:null!=S?S:e.handleDownload,handleLogin:null!=C?C:e.handleLogin,iframeStyle:f,maskCloseable:P,closeCallback:null!=x?x:e.closeCallback,userId:T,enterMethod:z,pageType:E,popupType:L,groupId:Y,lastGroupId:W,isLinkPhoneOrEmail:null!=F&&F,bizActionSource:A})):(0,a.unstable_batchedUpdates)(()=>{t(w,e=>Object.assign(Object.assign({},e),{modalContainerStyle:s,url:H,isRedirectToProfilePage:c,modalType:V,closeable:h,popupType:L,enterMethod:z,modalImage:y(z),closeCallback:null!=x?x:e.closeCallback,groupId:Y,lastGroupId:W,isGuestMode:null!=R&&R,isGuestModeUI:null!=M&&M,predictionPayload:null!=D?D:"",isLinkPhoneOrEmail:null!=F&&F,bizActionSource:A})),this.setLoginModalShow(!0)})},setCheckPeriodicLogin(e){t(w,e=>Object.assign(Object.assign({},e),{hasCheckedPeriodicLogin:!0})),t(w,t=>Object.assign(Object.assign({},t),{showLoginOnLoad:t.showLoginOnLoad||e.showLoginOnLoad}))},setCheckPredictionLogin(e){t(w,e=>Object.assign(Object.assign({},e),{hasCheckedPredictionLogin:!0})),t(w,t=>Object.assign(Object.assign({},t),{showLoginOnLoad:t.showLoginOnLoad||e.showLoginOnLoad}))},setCheckGuestModeLogin(e){t(w,e=>Object.assign(Object.assign({},e),{hasCheckedGuestMode:!0})),t(w,t=>Object.assign(Object.assign({},t),{showLoginOnLoad:t.showLoginOnLoad||e.showLoginOnLoad}))},setIsLoginOnLoadClosed(e){t(w,t=>Object.assign(Object.assign({},t),{isLoginOnLoadClosed:e.isLoginOnLoadClosed}))},setClearShowLoginOnLoad(){t(w,e=>Object.assign(Object.assign({},e),{hasCheckedPeriodicLogin:!1})),t(w,e=>Object.assign(Object.assign({},e),{hasCheckedPredictionLogin:!1})),t(w,e=>Object.assign(Object.assign({},e),{showLoginOnLoad:!1}))},justCloseTheLoginModal(){t(w,e=>Object.assign(Object.assign({},e),{url:"",loginModalShow:!1,isOpen:!1,modalContainerStyle:void 0}))},closeModal(o){const{enter_method:n,disableReport:r}=o;if(r)return;k||(k=m.$F.getInstance()),k.loginNotifyClose({enter_method:n});const{closeCallback:a=i()}=e(w);a(),t(w,e=>Object.assign(Object.assign({},e),{isOpen:!1,url:"",groupId:void 0,modalContainerStyle:void 0}))},setIsBannerActive(e){t(w,t=>Object.assign(Object.assign({},t),{isBannerActive:e}))},setLastAppleToken(e){t(w,t=>Object.assign(Object.assign({},t),{lastAppleAuthInfo:e}))},preLogoutCheckWithRedirection(){return e=this,t=void 0,n=function*(){return{}},new((o=void 0)||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())});var e,t,o,n},defineLogoutCheckImpl(e){t(w,t=>Object.assign(Object.assign({},t),{doPreLogoutCheck:e}))}}))},60361:(e,t,o)=>{"use strict";o.d(t,{O:()=>n});var n=function(e){return e.SSO="sso",e.QR="qr",e.QR_BOTTOM_RIGHT="qr_bottom_right",e}({})},60540:(e,t,o)=>{"use strict";o.d(t,{$_:()=>l,F0:()=>c,Z4:()=>r,nk:()=>a,si:()=>n});const n=(0,o(93247).V)();var i,r;!function(e){e[e.Default=0]="Default",e[e.Simple=1]="Simple",e[e.None=2]="None"}(i||(i={})),function(e){e[e.None=0]="None",e[e.AWEME=1]="AWEME",e[e.FixedWww=2]="FixedWww",e[e.AutoMOrT=3]="AutoMOrT",e[e.Webcast=4]="Webcast",e[e.AutoWebcastMOrT=5]="AutoWebcastMOrT",e[e.AWEMEV1=6]="AWEMEV1",e[e.CommentTest=8]="CommentTest",e[e.WebcastT=9]="WebcastT",e[e.Now=10]="Now"}(r||(r={}));const a="tt-csrf-token",s=()=>{var e,t,o;try{const n=document.getElementById("__REGION__DATA__INJECTED__");return null===(o=null===(t=JSON.parse(null!==(e=null==n?void 0:n.textContent)&&void 0!==e?e:"{}").__DATA__)||void 0===t?void 0:t.region_data_domains)||void 0===o?void 0:o.WEBAPP_WEBCAST_API}catch(e){return}};function l(e=0){var t,o,i,r,a,l,c,d;switch(e){case 9:{let e="https://webcast.tiktok.com";return"us"===n.kind&&(e="https://webcast.us.tiktok.com"),e}case 2:return null!==(t=n.rootApi)&&void 0!==t?t:"https://www.tiktok.com";case 3:return null!==(o=n.mTApi)&&void 0!==o?o:"";case 6:return null!==(i=n.rootApi)&&void 0!==i?i:"";case 4:return null!==(a=null!==(r=s())&&void 0!==r?r:n.webcastRootApi)&&void 0!==a?a:"https://webcast.tiktok.com";case 5:return null!==(l=n.webcastApi)&&void 0!==l?l:"";case 0:return null!==(c=n.rootApi)&&void 0!==c?c:"";case 8:return null!==(d=n.rootApi)&&void 0!==d?d:"";case 10:return"https://now.tiktok.com";default:return""}}function c(){var e,t;try{const o=JSON.parse(null!==(t=null===(e=window.document.getElementById("__SCHEDULE_INFO__"))||void 0===e?void 0:e.textContent)&&void 0!==t?t:"{}");if(o.to)return o}catch(e){console.warn(e)}return{from:"",to:"",dispatchParams:{}}}},61513:(e,t,o)=>{"use strict";o.d(t,{HY:()=>c,Kz:()=>l,Qd:()=>n,_e:()=>i,gQ:()=>d,jh:()=>s,mi:()=>r,u7:()=>a});class n extends Error{constructor(e){const{report_msg:t,message:o=t,error_code:n,error_msg:i=o}=e;super(o),this.error_msg=i,this.error_code=n,this.report_msg=t}}function i(e){return"object"==typeof e&&null!==e&&"idv_decision_conf"in e&&Boolean(e.idv_decision_conf)}function r(e){return e instanceof n}function a(e){return"object"==typeof e&&null!==e&&"message"in e}function s(e){return"object"==typeof e&&null!==e&&"error"in e}function l(e){return"object"==typeof e&&null!==e&&"error"in e}function c(e){return"error_code"in e&&0!==e.error_code}function d(e){return"object"==typeof e&&null!==e&&"error_code"in e}},62514:(e,t,o)=>{"use strict";o.d(t,{o7:()=>c});var n=o(24527),i=o(49360),r=o(87240),a=o(91939),s=o(43435);const l=(e,t=!1)=>{const o=new URL(window.location.href);if(t){const{origin:e,pathname:t}=o;return`${e}${t}`}return e.forEach(e=>o.searchParams.delete(e)),o.href};function c(e){var t,o;const c=null!=e?e:(0,a.$Z)();"microsoft-store"!==c["app-install-source"]&&"app-info://platform/microsoft-store"!==(null==(o=document)?void 0:o.referrer)||(c.source="msft");const{lm:d,refer:u,source:p="",is_from_webapp:g,referer_url:m="",_r:h,previous_launch_mode:v,previous_langding_page:_,show_promote:f}=c,b=(null!==(t=new RegExp(`${location.origin}/(@?\\w+)`).exec(document.referrer))&&void 0!==t?t:[])[1],y=(0,a.Hd)(i.O_,void 0),w="embed"===b||"embed"===u,k="creator_embed"===u,S="amp"===b||/^amp_\w+/.test(m);if(y&&!w&&!S&&!k)return y;const C=function({device:e,source:t,lm:o,siteOnePath:n,refer:i,refererUrl:a="",fromWebapp:s,queryR:l,trafficType:c,previousLaunchMode:d,showPromote:u}){var p,g;const m="embed"===n||"embed"===i,h="creator_embed"===i,v="music_embed"===i,_="hashtag_embed"===i,f="curated_embed"===i,b="trending_embed"===i,y="amp"===n||/^amp_\w+/.test(a);return"1"===u?r.N.Email:"undefined"!=typeof window&&(null==(g=window)||null==(p=g.TTE_ENV)?void 0:p.isElectron)?window.TTE_ENV.osVersion.includes("Mac OS")?r.N.MacDesktopApp:r.N.WinDesktopApp:d||("msft"===t?r.N.MSFT:"twa"===t?r.N.TWA:"push"===t?r.N.Push:"samsung_quick_access"===t?r.N.SamsungQuickAccess:"undefined"!=typeof window&&(navigator.standalone||"pc"===e&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui)").matches||"mobile"===e&&window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches)?r.N.Pwa:"11"===o?r.N.Paid:m?r.N.Embed:h?r.N.CreateEmbed:v?r.N.MusicEmbed:_?r.N.HashtagEmbed:b?r.N.TrendingEmbed:f?r.N.CuratedEmbed:y?r.N.Amp:"tiktok_browse"===i?r.N.Browse:/google|yahoo|yandex|bing|naver|duckduckgo/gi.test(c)?r.N.Organic:"1"===l?r.N.Reflow:"webapp"===t||s?r.N.WebApp:i||a||"undefined"!=typeof document&&document.referrer?r.N.Refer:r.N.Direct)}({refer:u,device:(0,n.Ny)(navigator.userAgent)?"mobile":"pc",refererUrl:m,lm:d,trafficType:(0,s.q)(m),source:p,fromWebapp:g,siteOnePath:b,queryR:h,previousLaunchMode:v,showPromote:f});return(0,a.J2)(i.O_,C),_&&(0,a.J2)(i.iJ,_),v&&window.history.replaceState({},"",l(["previous_launch_mode","previous_langding_page"])),C}},65305:(e,t,o)=>{"use strict";o.d(t,{G$:()=>k,Kf:()=>P,Vm:()=>C,an:()=>S,fC:()=>x});var n=o(40099),i=o(77653),r=o(13392),a=o(73580),s=o(49320),l=o(80054),c=o(50797),d=o(75427),u=o(59034),p=o(74305),g=o(99108),m=o(27008),h=o(31421),v=o(41363),_=o(30573),f=o(27961),b=o(35039),y=o(34974),w=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function k(){const e=(0,a.Nj)(_.D),t=(0,p.W6)();if(!t)throw new Error("History not found!.");(0,n.useEffect)(()=>{e.init(t)},[t,e])}function S(){const{hideHomePage:e}=(0,h.U)(()=>["hideHomePage"],[]),t=(0,p.W6)();(0,n.useEffect)(()=>{e&&t.replace(d.tH.loginPhoneOrEmail)},[e,t])}function C(){const{ageGateAction:e}=(0,r.Ph)(s.T),t=(0,b.Z)(),{isMobile:o}=(0,c.L$)((0,l.U)(()=>["isMobile"],[]));return o&&e!==s.p.PASS?d.tH.signupAgeGate:"KR"===t?d.tH.signupPolicyConfirm:d.tH.signupPhone}function x(){return"KR"===(0,b.Z)()?d.tH.signupPolicyConfirm:d.tH.signupHome}function P(){const[{errorMsg:e},{handleLoginResult:t}]=(0,r.Su)(m.$),o=(0,y.F)(e),{isMobile:s}=(0,c.L$)((0,l.U)(()=>["isMobile"],[])),{openModal:p}=(0,u.b1)(),{defineLogoutCheckImpl:h}=(0,u.b1)(),_=(0,a.Nj)(v.r);(0,n.useEffect)(()=>{h(()=>w(this,void 0,void 0,function*(){const e=yield(0,i.s)(_.preLogoutCheckForAppleIdBinding()),n={requireAppleIdBinding:e.data.error_code===g.v1.M2LogoutBindRequired,error_code:e.data.error_code,description:e.data.description};if(n.requireAppleIdBinding)s?location.href=d.tH.m2TransferAppleId:p({url:`${d.tH.m2TransferAppleId}?is_modal=1`,modalContainerStyle:{minWidth:320,minHeight:320,width:"unset",padding:"unset"}});else if(n.error_code)return t(e.error),o.current&&(0,f.P)(o.current),{};return n}))},[])}},65421:(e,t,o)=>{"use strict";o.d(t,{o:()=>de,H:()=>ue});var n=o(24451),i=o(8536),r=o(62564),a=o(74690),s=o(80339),l=o(23999),c=o(65070),d=o(68628),u=o(72916),p=o(26324),g=o(95719),m=o(55907),h=o(31014),v=o(98812),_=o(20259),f=function(e){return e.UploadKey="upload-cta",e.GetCoinsKey="get-coins-cta",e.WebappFreshSignup="webapp-fresh-signup",e.InAppNotificationShown="inapp-notification.shown",e.InAppNotificationSettings="inapp-notification.settings",e}({}),b=o(64162),y=o(4126),w=o(15176),k=o(340),S=o(33238),C=o(33675),x=o(53708),P=o(17592),T=o(58933);function O(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class A{constructor(e){this.service=e,this.defaultMetrics={count:1},this.handleSyncKrPolicyApprove=e=>{this.service.emitEvent("SyncKrPolicyApprove",this.defaultMetrics,e)}}}A=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,P._q)(),O("design:type",Function),O("design:paramtypes",[void 0===T.V$?Object:T.V$])],A);var E=o(13687),L=o(41353),j=o(45866);function I(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class R{getUniversalPopConfig(e){return this.fetch.get("/api/policy/notice/",{query:e})}setUniversalPopOperation(e){return this.fetch.post("https://www.tiktok.com/api/policy/notice/approve/",{body:(0,L.stringify)(e)})}getPolicyContent(e){return this.fetch.get("https://www.tiktok.com/web/api/v2/project/articleContent/",{query:e})}constructor(e){this.fetch=e}}function M(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function D(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}R=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,P._q)(),I("design:type",Function),I("design:paramtypes",[void 0===j.p?Object:j.p])],R);class F extends b.E{setKrPolicySelection(e,t){e.krPolicySelection=t}setTermsDomContent(e,t){e.termsDomContent=t}setPrivacyDomContent(e,t){e.privacyDomContent=t}requestPolicyContent(e){return e.pipe((0,i.Z)(({articleKeys:e,lang:t})=>(0,c.p)(e.map(e=>this.service.getPolicyContent({lang:t,project_key:"legal",article_key:e}))))).pipe((0,i.Z)(e=>(0,l.of)(this.getActions().setTermsDomContent(e[0].body.article_content),this.getActions().setPrivacyDomContent(e[1].body.article_content))))}syncKrPolicyApprove(e){const{krPolicySelection:t}=this.state;if("KR"!==e||!t.length)return(0,l.of)(null);const o=-1!==t.indexOf("push-policy");return this.pnsReport.handlePolicyConfirmOnFYP({trending:o?"on":"off"}),this.service.setUniversalPopOperation({business:"kr_consent_market_message",policy_version:"v20200629",style:"bottom",operation:-1!==t.indexOf("push-policy")?"2":"1",aid:1988}).pipe((0,r.T)(({status_code:e})=>{if(this.pnsSlardar.handleSyncKrPolicyApprove({error_code:`${e}`}),0!==e)throw new Error(`sync kr policy error, error_code: ${e}`);return(0,l.of)(null)}),(0,_.W)(e=>(console.error(e),(0,l.of)({status_code:-1}))),(0,x.L)(1))}constructor(e,t,o){super(),this.pnsSlardar=e,this.pnsReport=t,this.service=o,this.defaultState={krPolicySelection:[],termsDomContent:"",privacyDomContent:""}}}M([(0,y.uk)(),D("design:type",void 0===p.c?Object:p.c)],F.prototype,"dispose$",void 0),M([(0,y.h5)(),D("design:type",Function),D("design:paramtypes",["undefined"==typeof PolicyModuleState?Object:PolicyModuleState,Array]),D("design:returntype",void 0)],F.prototype,"setKrPolicySelection",null),M([(0,y.h5)(),D("design:type",Function),D("design:paramtypes",["undefined"==typeof PolicyModuleState?Object:PolicyModuleState,String]),D("design:returntype",void 0)],F.prototype,"setTermsDomContent",null),M([(0,y.h5)(),D("design:type",Function),D("design:paramtypes",["undefined"==typeof PolicyModuleState?Object:PolicyModuleState,String]),D("design:returntype",void 0)],F.prototype,"setPrivacyDomContent",null),M([(0,y.Mj)(),D("design:type",Function),D("design:paramtypes",[void 0===p.c?Object:p.c]),D("design:returntype",void 0)],F.prototype,"requestPolicyContent",null),F=M([(0,w.nV)("PolicyModule"),D("design:type",Function),D("design:paramtypes",[void 0===A?Object:A,void 0===E.W?Object:E.W,void 0===R?Object:R])],F);var N=o(6041),U=o(49320),B=o(58629),H=o(58746),z=o(75427),Y=o(76924),W=o(48410),V=o(81259),G=o(65631),$=o(30573),q=o(41363),K=o(78854),Z=o(27961),J=o(76718),Q=o(38919);const X="736880640260";class ee extends J.Yd{getUserInfo(){return{user_id:this.uid,device_id:this.wid}}fetchUserInfo(){return Promise.resolve({user_id:this.uid,device_id:this.wid})}constructor(e,t){super(),this.uid=e,this.wid=t}}class te{static getInstance(e,t,o){return te.instance||(te.instance=new te(e,t,o)),te.instance}storeConsent({consentToMarket:e}){return t=this,o=void 0,i=function*(){var t;const o=[{key:"conditions-policy-privacy-policy",status:J.EL.APPROVE,collectionPointId:X},{key:"conditions-policy-terms-of-service",status:J.EL.APPROVE,collectionPointId:X}];"KR"===(null===(t=this.region)||void 0===t?void 0:t.toUpperCase())&&o.push({key:"conditions-policy-consent-to-collection-and-use-of-your-personal-information-for-marketing-purposes",status:e?J.EL.APPROVE:J.EL.REJECT,collectionPointId:X}),yield J.Ay.updateConsentRecords(o)},new((n=void 0)||(n=Promise))(function(e,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n(function(e){e(o)})).then(a,s)}l((i=i.apply(t,o||[])).next())});var t,o,n,i}constructor(e,t,o){const{vregion:n}=(0,Q.c)();this.region=o;const i=["conditions-policy-privacy-policy","conditions-policy-terms-of-service"];"KR"===o.toUpperCase()&&i.push("conditions-policy-consent-to-collection-and-use-of-your-personal-information-for-marketing-purposes"),J.Ay.init({domain:"https://www.tiktok.com",appId:1988,tenant:"tiktok",entityKeys:i,debug:!1,modules:{info:new ee(e,t)},region:"-"===n?void 0:n,bid:"tiktok_webapp_signup_flow",fetchDataAtInit:!1}).catch(null)}}var oe=o(33582),ne=o(87682),ie=o(92110),re=o(18459),ae=o(55675);function se(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function le(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var ce,de=function(e){return e.Third="Third",e.Phone="Phone",e}({});class ue extends b.E{setSuccess(e){e.success=!0}setInitializedTTPConfig(e){e.initializedTTPConfig=!0}setEmailConsent(e,t){e.emailConsent=t}setErrorMsg(e,t){e.errorMsg=t}setLoading(e,t){e.signupLoading=t}setCheckNameLoading(e,t){e.checkNameLoading=t}setUsername(e,t){e.username=t}setUsernameInfo(e,t){e.usernameInfo=t}setFromNotRegisterLogin(e,t){e.fromNotRegisterLogin=t}cacheSmsCodeKey(e,t){e.phoneNotRegistered=t,e.fromNotRegisterLogin="Phone"}cacheThirdNotRegistered(e,t){e.thirdPlatformNotRegistered=t,e.fromNotRegisterLogin="Third"}clearSignUpResult(e){e.errorMsg=""}setNewUserRegion(e,t){var o,n;e.region=Object.assign(Object.assign({},t),{enabledRegionOption:null!==(o=null===(n=e.region)||void 0===n?void 0:n.enabledRegionOption)&&void 0!==o&&o}),this.accountService.setOverrideRegionCode(t.countryCode)}setRegion(e,t){e.region={countryCode:t.store_region,localizedCountryName:t.localized_country_name,enabledRegionOption:t.enabled_region_option}}setRegionList(e,t){e.regionList=t.flatMap(e=>({countryCode:e.country_code,localizedCountryName:e.localized_country_name}))}setHasUserSelectedRegion(e,t){e.hasUserSelectedRegion=t}setUserSelectedRegion(e,t){e.userSelectedRegion=t}setKRMarketingConsent(e,t){e.consentToMarket=t}setHasStoredConsent(e,t){e.hasStoredConsent=t}registerThirdPlatform(e){return e.pipe((0,n.E)(this.ageGate.state$),(0,i.Z)(([{platform:e,profileKey:t,rrc:o,ageCheckDone:n,region:i},{ageGateAction:c,birthday:d}])=>0===c||n?this.accountService.thirdLogin({platform_app_id:V.iU[e],platform:e,profile_key:t,rrc:o,login_only:!1,birthday:d}).pipe((0,r.T)(t=>(t.fromThird=!0,this.loginReport.setPlatform(e),this.loginSlardar.setPlatform(e),t.platform=e,t.region=i,this.getActions().handleSignupResult(t))),(0,a.Z)(this.getActions().setLoading(!0)),(0,s.q)(this.getActions().setLoading(!1))):(this.navigateToNextPageWithSSOOpenModal(z.tH.signupAgeGate),(0,l.of)(this.getActions().cacheThirdNotRegistered({platform:e,profileKey:t})))))}registerPhone(e){return e.pipe((0,g.M)(()=>{this.reportLoginSubmit(Y.WN.Sms)}),(0,n.E)(this.state$,this.ageGate.state$),(0,i.Z)(([{ageCheckDone:e,region:t},{phoneNotRegistered:o},{ageGateAction:n,birthday:i}])=>{var c,d;return n&&!e?(this.history.push(z.tH.signupAgeGate),(0,l.of)(this.noop())):this.accountService.smsLoginContinue({mobile:null!==(c=null==o?void 0:o.mobile)&&void 0!==c?c:"",sms_code_key:null!==(d=null==o?void 0:o.smsCodeKey)&&void 0!==d?d:"",extra_params:{birthday:i}}).pipe((0,r.T)(e=>(e.platform=Y.WN.Sms,e.region=t,this.getActions().handleSignupResult(e))),(0,a.Z)(this.getActions().setLoading(!0)),(0,s.q)(this.getActions().setLoading(!1)))}))}storeConsent(e){return e.pipe((0,n.E)(this.state$),(0,i.Z)(([{region:e,user_id_str:t},{consentToMarket:o,hasStoredConsent:n}])=>{var i,a,s;if(n)return(0,l.of)(this.noop());const u=((e,t,o)=>te.getInstance(e,t,o))((null===(a=this.appContext.state.appContext)||void 0===a||null===(i=a.user)||void 0===i?void 0:i.uid)||t||"-1",(null===(s=this.appContext.state.appContext)||void 0===s?void 0:s.wid)||"-1",e),p="KR"===e.toUpperCase();return(0,c.p)([p&&o?this.service.storeMarketConsentInPopup():(0,l.of)(null),(0,d.H)(u.storeConsent({consentToMarket:o}).then(()=>this.getActions().setHasStoredConsent(!0)).catch(null))]).pipe((0,r.T)(()=>this.noop()))}))}syncUserInfos(e){return e.pipe((0,n.E)(this.state$,this.appContext.state$),(0,i.Z)(([{fromThird:e,fromEmail:t,fromFTC:o,region:n},{emailConsent:i},{appContext:r}])=>(0,c.p)([this.policy.syncKrPolicyApprove(n),this.syncEmailConsent(i),this.registerPrivateAccount.getIsRegisterPrivateAccount(),(0,oe.x)(null==r?void 0:r.abTestVersion).onLoginPage?this.accountService.refreshSession():(0,l.of)(null)]).pipe((0,u.n)(n=>{const[,,i]=n,r=e||t?z.tH.signupCreateUsername:z.tH.signupCreatePassword;return o||this.navigateToNextPageWithSSOOpenModal(r),(0,l.of)(this.getActions().setLoading(!1),this.registerPrivateAccount.getActions().setIsRegisterWithPrivateOn(i),o?this.getActions().setSuccess():this.noop())}))))}validateUsername(e){return e.pipe((0,i.Z)(({name:e,fromThird:t})=>e?this.service.validateUsername(e).pipe((0,i.Z)(o=>{const{status_code:n,recommended_unique_ids:i,is_valid:r,status_msg:a}=o,s=!r&&t?null==i?void 0:i[0]:e;return t&&!s?(0,l.of)(this.noop()):(0,l.of)(this.getActions().setUsernameInfo({value:s,isValid:r,suggestList:i,errorMsg:t?"":(0,K.V)(n,Boolean(i),a)}))}),(0,a.Z)(this.getActions().setCheckNameLoading(!0)),(0,s.q)(this.getActions().setCheckNameLoading(!1))):(0,l.of)(this.getActions().setUsernameInfo(void 0))))}validateFTCUsername(e){return e.pipe((0,m.w)("name"),(0,h.B)(300),(0,u.n)(({name:e})=>e?this.accountService.validateFTCUsername(e).pipe((0,r.T)(t=>{const{login_name:o,error_code:n}=t,i=(0===n||void 0===n)&&Boolean(o);return this.getActions().setUsernameInfo({value:e,isValid:i,errorMsg:i?"":"common_registration_username_error_ sensitivity"})}),(0,a.Z)(this.getActions().setCheckNameLoading(!0)),(0,s.q)(this.getActions().setCheckNameLoading(!1))):(0,l.of)(this.getActions().setUsernameInfo(void 0))))}usernameRegister(e){return e.pipe((0,g.M)(()=>{this.reportLoginSubmit(Y.WN.Username)}),(0,n.E)(this.state$,this.ageGate.state$),(0,i.Z)(([{password:e,region:t},{username:o},{birthday:n}])=>this.accountService.usernameRegister({password:e,username:o,extra_params:{birthday:n}}).pipe((0,r.T)(e=>(e.fromFTC=!0,e.region=t,this.getActions().handleSignupResult(e))),(0,a.Z)(this.getActions().setLoading(!0)),(0,s.q)(this.getActions().setLoading(!1)))))}emailRegister(e){return e.pipe((0,n.E)(this.ageGate.state$,this.state$),(0,g.M)(([,,{emailConsent:e}])=>{this.reportLoginSubmit(Y.WN.Email),W.H.rigisterClickNext(void 0===e?{}:{status:e?"checked":"unchecked",text_type:"long_version"})}),(0,i.Z)(([{password:e,code:t,email:o,region:n},{birthday:i}])=>this.accountService.emailRegister({password:e,code:t,email:o,ifLogin:!0,extra_params:{birthday:i,email_logic_type:e?2:1}}).pipe((0,r.T)(e=>(e.fromEmail=!0,e.region=n,this.getActions().handleSignupResult(e))),(0,a.Z)(this.getActions().setLoading(!0)),(0,s.q)(this.getActions().setLoading(!1)))))}fetchStoreRegion(e){var t,o;const n=null!==(t=null===(o=this.appContext.state.appContext)||void 0===o?void 0:o.region)&&void 0!==t?t:"";return e.pipe((0,i.Z)(()=>this.regionService.fetchUserStoreRegion().pipe((0,g.M)(e=>{this.loginReport.setSignUpRegionSourceParams({region_source:0,origin_region:null==e?void 0:e.store_region})}),(0,r.T)(e=>{var t,o,i;return this.getActions().setRegion({store_region:null!==(t=null==e?void 0:e.store_region)&&void 0!==t?t:n,localized_country_name:null!==(o=null==e?void 0:e.localized_country_name)&&void 0!==o?o:n,enabled_region_option:null!==(i=null==e?void 0:e.enabled_region_option)&&void 0!==i&&i})}))))}fetchRegionList(e){return e.pipe((0,i.Z)(()=>this.regionService.fetchUserRegionList().pipe((0,r.T)(e=>"string"==typeof e?((0,Z.P)(e),console.error(`Login: Fetch region list error: ${e}.`),this.getActions().setRegionList([])):e?this.getActions().setRegionList(e):this.getActions().setRegionList([])))))}handleSignupResult(e){return e.pipe((0,i.Z)(e=>{const{error_code:t,errorMsg:o,description:n,error_msg:i,fromThird:r,fromFTC:a,fromEmail:s,name:c,screen_name:d,sec_user_id:u,default_error_msg:p,region:g,user_id_str:m,report_msg:h}=e,_=S.nf.getTrackingInfo(),b=e.platform||this.loginReport.platform;if(!t)return(y=f.WebappFreshSignup,{getLocalStorage:e=>{try{const t=localStorage.getItem(y);return t?JSON.parse(t):e}catch(t){return e}},setLocalStorage:e=>{try{localStorage.setItem(y,JSON.stringify(e))}catch(e){}},removeLocalStorage:()=>{try{localStorage.removeItem(y)}catch(e){}}}).setLocalStorage(!0),this.loginReport.loginSuccess({signUp:!0,is_register:1,e2eInfo:_}),this.loginSlardar.loginSuccess({signUp:!0}),S.nf.saveLoginSuccessInfo({teaPlatform:b,isSignUp:!0}),this.regionService.authBroadcast({screen_name:d,sec_uid:u}).pipe((0,v.H)(()=>(0,l.of)(this.contextModule.getActions().setContext({lastSuccessPlatform:b}),this.getActions().syncUserInfos({fromThird:r,fromEmail:s,fromFTC:a,region:String(g)}),this.getActions().storeConsent({region:String(g),user_id_str:m}),r?this.getActions().validateUsername({name:c,fromThird:r}):this.noop())));var y;const w=o||i||n||p;return this.loginReport.loginFailure({error_code:t,signUp:!0,e2eInfo:_}),this.loginSlardar.loginFailure({errorCode:t,signUp:!0,errorMsg:null!=h?h:w}),(0,K.X)(t)?(0,l.of)(this.riskError.getActions().handleRiskError({errorCode:t})):r?((0,Z.P)(this.t(w)),console.error(`Login: Third-party signup error: ${w}.`),(0,l.of)(this.noop())):(0,l.of)(this.getActions().setErrorMsg(w))}))}syncEmailConsent(e){return e?this.service.syncEmailConsentInfo().pipe((0,r.T)(()=>(0,l.of)(null)),(0,_.W)(e=>(console.error(e),(0,l.of)({status_code:-1})))):(0,l.of)(null)}navigateToNextPageWithSSOOpenModal(e){var t;if((null===(t=this.history.location())||void 0===t?void 0:t.pathname)===z.tH.loginSSO)return this.service.setRedirectNewModalPage(e);this.history.push(e)}reportLoginSubmit(e){const t=S.nf.getTrackingInfo();this.loginReport.setPlatform(e),this.loginReport.loginSubmit({signUp:!0,e2eInfo:t}),this.loginSlardar.setPlatform(e),this.loginSlardar.loginSubmit({signUp:!0})}constructor(e,t,o,n,i,r,a,s,l,c,d,u,p){super(),this.service=e,this.policy=t,this.registerPrivateAccount=o,this.ageGate=n,this.accountService=i,this.loginReport=r,this.loginSlardar=a,this.contextModule=s,this.t=l,this.regionService=c,this.history=d,this.riskError=u,this.appContext=p,this.defaultState={username:"",signupLoading:!1,regionList:[],initializedTTPConfig:!1,consentToMarket:!1,hasStoredConsent:!1}}}se([(0,y.uk)(),le("design:type",void 0===p.c?Object:p.c)],ue.prototype,"dispose$",void 0),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState]),le("design:returntype",void 0)],ue.prototype,"setSuccess",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState]),le("design:returntype",void 0)],ue.prototype,"setInitializedTTPConfig",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Boolean]),le("design:returntype",void 0)],ue.prototype,"setEmailConsent",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,String]),le("design:returntype",void 0)],ue.prototype,"setErrorMsg",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Boolean]),le("design:returntype",void 0)],ue.prototype,"setLoading",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Boolean]),le("design:returntype",void 0)],ue.prototype,"setCheckNameLoading",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,String]),le("design:returntype",void 0)],ue.prototype,"setUsername",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Object]),le("design:returntype",void 0)],ue.prototype,"setUsernameInfo",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,void 0===de?Object:de]),le("design:returntype",void 0)],ue.prototype,"setFromNotRegisterLogin",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Object]),le("design:returntype",void 0)],ue.prototype,"cacheSmsCodeKey",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Object]),le("design:returntype",void 0)],ue.prototype,"cacheThirdNotRegistered",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState]),le("design:returntype",void 0)],ue.prototype,"clearSignUpResult",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Object]),le("design:returntype",void 0)],ue.prototype,"setNewUserRegion",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Object]),le("design:returntype",void 0)],ue.prototype,"setRegion",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Array]),le("design:returntype",void 0)],ue.prototype,"setRegionList",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Boolean]),le("design:returntype",void 0)],ue.prototype,"setHasUserSelectedRegion",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,"undefined"==typeof Region?Object:Region]),le("design:returntype",void 0)],ue.prototype,"setUserSelectedRegion",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Boolean]),le("design:returntype",void 0)],ue.prototype,"setKRMarketingConsent",null),se([(0,y.h5)(),le("design:type",Function),le("design:paramtypes",["undefined"==typeof SignupModuleState?Object:SignupModuleState,Boolean]),le("design:returntype",void 0)],ue.prototype,"setHasStoredConsent",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"registerThirdPlatform",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"registerPhone",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"storeConsent",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"syncUserInfos",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"validateUsername",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"validateFTCUsername",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"usernameRegister",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"emailRegister",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"fetchStoreRegion",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"fetchRegionList",null),se([(0,y.Mj)(),le("design:type",Function),le("design:paramtypes",[void 0===p.c?Object:p.c]),le("design:returntype",void 0)],ue.prototype,"handleSignupResult",null),ue=se([(0,w.nV)("SignupModule"),(ce=(0,k.y)(C.hp),function(e,t){ce(e,t,8)}),le("design:type",Function),le("design:paramtypes",[void 0===ae.q?Object:ae.q,void 0===F?Object:F,void 0===N.S?Object:N.S,void 0===U.T?Object:U.T,void 0===q.r?Object:q.r,void 0===Y.$F?Object:Y.$F,void 0===ne.le?Object:ne.le,void 0===ie.t?Object:ie.t,void 0===B.I18NTranslate?Object:B.I18NTranslate,void 0===G.d?Object:G.d,void 0===$.D?Object:$.D,void 0===re.S?Object:re.S,void 0===H.L?Object:H.L])],ue)},65631:(e,t,o)=>{"use strict";o.d(t,{d:()=>O});var n=o(40774),i=o(77194),r=o.n(i),a=o(23999),s=o(8536),l=o(65070),c=o(62564),d=o(20259),u=o(36166),p=o(72916),g=o(53708),m=o(17592),h=o(60540),v=o(45866),_=o(16402),f=o(81259),b=o(99108),y=function(e){return e[e.Mobile=1]="Mobile",e[e.Email=2]="Email",e[e.Username=3]="Username",e[e.OpenId=4]="OpenId",e[e.UnionId=5]="UnionId",e[e.Credential=6]="Credential",e}({}),w=o(61513),k=o(22833),S=o(87682);function C(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}const x="https://login-us.www.tiktok.com",P="https://login-row.www.tiktok.com",T={ttp:"https://us.tiktok.com",gcp:"https://web-i18n.tiktok.com",euttp:"https://login-no1a.www.tiktok.com",sg:"https://web-sg.tiktok.com",global:"https://www-useast1a.tiktok.com"};class O{setInitConfig(e){this.ttpConfig=e.ttpConfig,this.isSG=e.isSG,this.phoenix=e.phoenix}getRegionDomain(){return this.currentRegion.domain}getDomainFromIDC(e){switch(e){case"useast1a":default:return"https://login-row.www.tiktok.com";case"useast5":case"useast8":return x;case"alisg":return P;case"useast2a":case"ie":case"no1a":return"https://login-eu.www.tiktok.com"}}getTtWid(){return this.currentRegion.ttWid}setTtWid(e){this.currentRegion.ttWid=e}get isRetry(){return this.requestTime<=2?{is_retry:0}:{is_retry:1}}set currentRegion(e){this.userSeverRegion=e;const{domain:t}=e,o=t===T.ttp?"https://mcs.tiktokw.us":this.isSG?"https://mcs-sg.tiktokv.com":t===T.euttp?"https://mcs-ie.tiktokw.eu":t===T.gcp?"https://mcs-va-useast2a.tiktokv.com":"https://mcs-va.tiktokv.com";_.f.setDomain(o)}get currentRegion(){return this.userSeverRegion}get targetIDC(){var e,t;const{domain:o}=this.currentRegion;return null!==(e=null===(t=Object.entries(T).find(([e,t])=>t===o))||void 0===t?void 0:t[0])&&void 0!==e?e:"global"}getUserRegions(e){const{open:t=!1,syncSeverList:o=[]}=this.ttpConfig;if(!t||this.phoenix)return(0,a.of)({error_code:0});const{platform_app_id:i,email:u,mobile:p,openId:g,account:m,triggerPath:h,username:v,credential:_}=e,f=g||u||this.formatMobile(p)||m||(null==v?void 0:v.toLowerCase())||"";if(this.twitterRegion(i)||this.LineRegion(i)||this.getCacheRegion(f))return(0,a.of)({error_code:0});const k=_||(0,n.sha256)(`${f}aDy0TUhtql92P7hScCs97YWMT-jub2q9`),S=u?y.Email:g?y.OpenId:p?y.Mobile:_?y.Credential:y.Username;return(0,a.of)(o).pipe((0,s.Z)(e=>(0,l.p)(e.map(({domain:e})=>this.fetch.post(`${e}/passport/web/region/`,{body:r().stringify({hashed_id:k,type:S,platform_app_id:i,aid:1459})}).pipe((0,c.T)(t=>{var o,n;if(!t)throw new w.Qd({error_code:b.Kq.RegionServiceNoResponseError,report_msg:`Cannot fetch region from ${e}`});if(null===(n=t.data)||void 0===n?void 0:n.error_code)throw new w.Qd({error_code:t.data.error_code,report_msg:null!==(o=t.data.description)&&void 0!==o?o:"User region service error"});return t})))).pipe((0,c.T)(e=>{const{maxSameRegion:t,regionResult:o,domains:n}=this.getMaxNumberDomain(e);if(1===t.count&&(this.alterRegionParams={hashed_id:k,type:S,platform_app_id:i,result:JSON.stringify(o)},this.alterUserRegions(),2===Object.keys(n).length))throw new w.Qd({error_code:b.Kq.RegionServiceDuplicateCount,report_msg:"region count equals to 2"});return this.currentRegion={ttWid:t.ttWid,domain:`https://${t.domain}`},this.authBroadcastParams={hashed_id:k,type:S,platform_app_id:i,pre_path:null!=h?h:"",final_domain:t.domain},this.regionCache.set(f,this.currentRegion),{error_code:0}}))),(0,d.W)(e=>{if(console.error(e,"get region err"),(0,w.mi)(e))throw e;if((0,w.u7)(e))throw new w.Qd({error_code:b.Kq.RegionServiceUnknownError,report_msg:e.message});throw new w.Qd({error_code:b.Kq.RegionServiceUnknownError,report_msg:`region service unknown error: ${e}`})}))}alterUserRegions(){const{open:e=!1,syncSeverList:t=[]}=this.ttpConfig;return e?(this.requestTime=1,this.slardar.setCurrentRequestMethod("alterUserRegions"),(0,a.of)(t).pipe((0,s.Z)(e=>e.map(({domain:e})=>this.singleRequestHandler({url:`${e}/passport/web/region_alert/`}))))):(0,a.of)(null)}fetchUserStoreRegion(){const{open:e=!1,syncSeverList:t=[]}=this.ttpConfig;return e?(this.requestTime=1,this.slardar.setCurrentRequestMethod("fetchUserStoreRegion"),(0,a.of)(t).pipe((0,s.Z)(e=>(0,l.p)(e.map(({domain:e})=>this.fetch.post(`${e}/passport/web/store_region/`,{body:r().stringify({aid:1459})}))).pipe((0,c.T)(([e])=>{if("success"===e.message)return e.data}))))):(0,a.of)({store_region:void 0,localized_country_name:void 0})}fetchUserRegionList(){const{open:e=!1,syncSeverList:t=[]}=this.ttpConfig;return e?(this.requestTime=1,this.slardar.setCurrentRequestMethod("fetchUserRegionList"),(0,a.of)(t).pipe((0,s.Z)(e=>(0,l.p)(e.map(({domain:e})=>this.fetch.get(`${e}/passport/web/region/register_region_list/`,{query:{aid:1459},baseUrlType:h.Z4.FixedWww}))).pipe((0,s.Z)(e=>{var t;const o=e.find(e=>"success"===e.message);return o?(0,a.of)(o.data.region_list):(0,a.of)(null===(t=e.find(e=>2125===e.data.error_code))||void 0===t?void 0:t.data.description)}))))):(0,a.of)([])}authBroadcast(e){this.requestTime=1;const{open:t=!1,syncSeverList:o=[]}=this.ttpConfig;return!t||this.phoenix?(0,a.of)(null):(this.slardar.setCurrentRequestMethod("authBroadcast"),k.K.show(),(0,a.of)(o).pipe((0,s.Z)(t=>(0,l.p)(t.map(({domain:t})=>this.singleRequestHandler({url:`${t}/passport/web/auth_broadcast/`,userInfo:e,isAuth:!0}))).pipe((0,c.T)(()=>null),(0,d.W)(e=>(console.error("authBroadcast error",e),(0,a.of)(null))),(0,u.j)(()=>{k.K.hide()})))))}twitterRegion(e){if(e===f.iU[f.lv.TWITTER])return this.currentRegion={domain:x},!0}LineRegion(e){if(e===f.iU[f.lv.LINE])return this.currentRegion={domain:P},!0}getCacheRegion(e){if(this.regionCache.get(e))return this.currentRegion=this.regionCache.get(e),!0}getMaxNumberDomain(e){this.slardar.setCurrentRequestMethod("getUserRegion");const t={},o={},{syncSeverList:n=[]}=this.ttpConfig,i={count:0,domain:"",ttWid:""};return e.forEach(({data:e},r)=>{const{domain:a,ttwid_migration_ticket:s,error_code:l}=e;this.slardar.handleRequestResultReport({error_code:l}),o[n[r].domain]=a,t[a]?t[a]=t[a]+1:t[a]=1,i.count<t[a]&&(i.count=t[a],i.domain=a),s&&(i.ttWid=s)}),{regionResult:o,maxSameRegion:i,domains:t}}singleRequestHandler(e){const{url:t,isAuth:o=!0,userInfo:n}=e,i=o?Object.assign(Object.assign({},this.authBroadcastParams),n):this.alterRegionParams;return(0,a.of)(this.isRetry).pipe((0,p.n)(({is_retry:e})=>this.fetch.post(t,{body:r().stringify(Object.assign(Object.assign({},i),{is_retry:e,aid:1459}))}).pipe((0,c.T)(({error_code:e})=>{if(this.slardar.handleRequestResultReport({error_code:e}),-1===e)throw new Error(`${e}`);return{error_code:0}}))),(0,g.L)(2))}formatMobile(e){var t;if(!e)return"";const[o,n]=null!==(t=e.replace("+","").split(" "))&&void 0!==t?t:[];return"86"===o?n:`+${o}${n}`}constructor(e,t){this.fetch=e,this.slardar=t,this.regionCache=new Map,this.userSeverRegion={},this.ttpConfig={},this.isSG=!0,this.phoenix=!1,this.alterRegionParams={},this.authBroadcastParams={},this.requestTime=1}}O=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,m._q)({name:"UserRegionService@tiktok/login"}),C("design:type",Function),C("design:paramtypes",[void 0===v.p?Object:v.p,void 0===S.VU?Object:S.VU])],O)},66661:(e,t,o)=>{"use strict";o.d(t,{r:()=>i});var n=o(95254);function i(e,t){var o;let i={};try{i=JSON.parse(null!==(o=atob((0,n.H)(decodeURIComponent(e.state))))&&void 0!==o?o:"{}")}catch(e){console.warn(e)}return t.reduce((t,o)=>{var n;return t[o]=null!==(n=e[o])&&void 0!==n?n:i[o],t},{})}},67274:(e,t,o)=>{"use strict";o.d(t,{Ow:()=>i}),o(24643);var n=o(5160);const i="webapp.app-context";(0,n.$)("AppContext@tiktok/isomorphic")(null)},67394:(e,t,o)=>{"use strict";o.d(t,{h:()=>_,a:()=>v});var n=o(1055),i=o(94999),r=o(9685),a=o(17354),s=o(62564),l=o(78618),c=o(41353);const d="webapp.biz-context";var u=o(78134);const p="/node-webapp/api/biz-context";let g;var m=o(21807),h=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function v(e){return h(this,void 0,void 0,function*(){var t,o;if(null==(o=window[n.H2])||null==(t=o.BizContext)?void 0:t.initialized)return;const s=(0,l.qm)(),h=i.l.getInstance(m.$),v=yield function(e,t){const o=(0,u.YI)(d);return o?Promise.resolve(Object.assign(Object.assign({},o),{statusCode:0})):g||(g=fetch((0,c.stringifyUrl)({url:p,query:{lang:e,app_name:t}})).then(e=>e.json()),g)}(s,e);h.store.dispatch(h.getActions().setBizContext(v)),h.store.dispatch(h.getActions().setInitialized(!0)),yield(0,r._)(h.state$.pipe((0,a.p)(e=>!!e.initialized)))})}function _(){return h(this,void 0,void 0,function*(){const e=i.l.getInstance(m.$);return(0,r._)(e.state$.pipe((0,a.p)(e=>!!e.bizContext),(0,s.T)(e=>e.bizContext)))})}},68082:(e,t,o)=>{"use strict";o.d(t,{C:()=>n});const n=(0,o(40099).createContext)(null)},68544:(e,t,o)=>{"use strict";o.d(t,{J7:()=>p,LM:()=>m,ZB:()=>v,sF:()=>h});var n=o(72516),i=o(24643),r=o(94999),a=o(14285),s=o(340),l=o(99857),c=o(98767),d=o(71111),u=o(7452);const p=(0,l.U)("JotaiStoreInjectionToken@webapp-vendors",()=>new a.n("jotaiStore"));let g=class{constructor(e){this.jotaiStore=e}getJotaiStore(){return this.jotaiStore}};function m(){return(0,c.L)().getInstance({provide:p,useExisting:p})}function h(e){p.__IS_STORE_SET__||(r.l.addProvider({provide:p,useValue:e}),r.l.addProvider({useClass:g,provide:g}),p.__IS_STORE_SET__=!0)}function v(e,t){const{jotaiStore:o}=null!=t?t:{},n=null!=o?o:(0,u.S)();return h(n),()=>(0,i.jsx)(d.Provider,Object.assign({store:n},{children:e}))}g=(0,n.Cg)([(0,n.Qj)(0,(0,s.y)(p)),(0,n.Sn)("design:paramtypes",[Object])],g)},69644:(e,t,o)=>{"use strict";o.d(t,{Ee:()=>l,hj:()=>i,jJ:()=>s,mp:()=>d,uF:()=>n,zy:()=>r});const n=60,i=1150;function r({theme:e,typography:t,color:o,fontFamily:n,fontWeight:i,isLink:r=!1}){const a=r&&o?{":hover, :active, :link, :visited":{color:e.colors[o]}}:null;let s;return t&&(s=Number(e.typography[t].fontSize.replace("px",""))<20?e.fontFamilies.TikTokFont:e.fontFamilies.TikTokDisplayFont),[{color:o&&e.colors[o],fontFamily:null!=s?s:n,fontWeight:i&&e.fontWeights[i]},t?e.typography[t]:void 0,a]}var a;function s(...e){return e.map(({max:e,min:t,orientation:o,minAspectRatio:n,aspectRatio:i,maxAspectRatio:r,style:a={}})=>{if(!e&&!t&&!i)return{};let s="@media screen";return"number"==typeof t&&(s+=` and (min-width: ${t}px)`),"number"==typeof e&&(s+=` and (max-width: ${e}px)`),"string"==typeof o&&(s+=` and (orientation: ${o})`),"string"==typeof n&&(s+=` and (min-aspect-ratio: ${n})`),"string"==typeof i&&(s+=` and (aspect-ratio: ${i})`),"string"==typeof r&&(s+=` and (max-aspect-ratio: ${r})`),{[s]:a}})}function l(...e){return e.map(({max:e,min:t,orientation:o,minAspectRatio:n,aspectRatio:i,maxAspectRatio:r,style:a={}})=>{if(!e&&!t&&!i)return{};let s="@media screen";return"number"==typeof t&&(s+=` and (min-height: ${t}px)`),"number"==typeof e&&(s+=` and (max-height: ${e}px)`),"string"==typeof o&&(s+=` and (orientation: ${o})`),"string"==typeof n&&(s+=` and (min-aspect-ratio: ${n})`),"string"==typeof i&&(s+=` and (aspect-ratio: ${i})`),"string"==typeof r&&(s+=` and (max-aspect-ratio: ${r})`),{[s]:a}})}!function(e){e[e.Laptop=1920]="Laptop",e[e.MediumScreen=1536]="MediumScreen",e[e.HeaderWidth=1080]="HeaderWidth",e[e.NarrowLaptop=1072]="NarrowLaptop",e[e.LandscapePad=992]="LandscapePad",e[e.Pad=768]="Pad",e[e.Phone=480]="Phone"}(a||(a={}));const c={ltr:{end:"right",start:"left",marginEnd:"marginRight",marginStart:"marginLeft",paddingEnd:"paddingRight",paddingStart:"paddingLeft"},rtl:{end:"left",start:"right",marginEnd:"marginLeft",marginStart:"marginRight",paddingEnd:"paddingLeft",paddingStart:"paddingRight"}};function d({direction:e,marginEnd:t,marginStart:o,end:n,start:i,textAlign:r,paddingEnd:a,paddingStart:s}){const l=c[e],d={};return r&&(d.textAlign=function(e,t){return c[e][t]}(e,r)),t&&(d[l.marginEnd]=t),o&&(d[l.marginStart]=o),i&&(d[l.start]=i),n&&(d[l.end]=n),a&&(d[l.paddingEnd]=a),s&&(d[l.paddingStart]=s),d}},71183:(e,t,o)=>{"use strict";o.d(t,{Tk:()=>n,ey:()=>i});var n=function(e){return e.ThreeColumnAuto="list_auto",e.ThreeColumnTrigger="list_mouse_trigger",e.BrowserMode="browser_mode",e.FullscreenMode="fullscreen",e.OneColumn="one_column",e.ThreeColumn="three_column",e.WideScreen="wide_screen",e.VideoDetail="video_detail",e.Pip="pip",e.Others="others",e.MiniPlayer="mini_player",e.BannerAds="banner_ad",e.ImmersivePlayer="immersive_player",e.TiktokStories="tiktok_stories",e}({}),i=function(e){return e[e.OneColumn=0]="OneColumn",e[e.ThreeColumn=1]="ThreeColumn",e[e.BrowserMode=2]="BrowserMode",e[e.VideoDetail=3]="VideoDetail",e[e.FullscreenMode=4]="FullscreenMode",e[e.Pip=5]="Pip",e[e.CreatorTab=6]="CreatorTab",e[e.MiniPlayer=7]="MiniPlayer",e[e.ImmersivePlayer=8]="ImmersivePlayer",e[e.TiktokStories=9]="TiktokStories",e}({})},71518:(e,t,o)=>{"use strict";o.d(t,{m:()=>r});var n=o(53548),i=o(50797);const r=()=>{const{language:e}=(0,i.L$)((0,n.W)(()=>["language"],[]));return{isRTL:"ar"===e||"ur"===e||"he-IL"===e}}},72761:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});var n=function(e){return e.Video="video",e.User="user",e.Challenge="hashtag",e.Trending="fyp",e.Live="live",e.Message="message",e.Setting="setting",e.Music="music",e.Effect="effect",e.SearchResults="search",e.Discover="discover",e.Following="following",e.Friends="friend",e.Topics="topics",e.Profile="profile",e.Expansion="expansion",e.Inbox="inbox",e.Report="report",e.Feedback="feedback",e}({})},74021:(e,t,o)=>{"use strict";o.d(t,{L:()=>i});const n=new WeakMap,i=(e,t,o)=>{const i=(e=>{let t=n.get(e);return t||(t=new WeakSet,n.set(e,t)),t})(e);i.has(t)||(i.add(t),e.set(t,o))}},74285:(e,t,o)=>{"use strict";o.d(t,{m:()=>N});var n=o(95719),i=o(8536),r=o(17354),a=o(72916),s=o(23999),l=o(1475),c=o(74690),d=o(80339),u=o(24451),p=o(20259),g=o(26324),m=o(64162),h=o(4126),v=o(15176),_=o(49320),f=o(16402),b=function(e){return e.Click="user_click",e.Resend="resend",e.ForgotPwd="forgot_password",e.TwoStep="2sv",e.ForceReset="force_reset",e.Delete="delete",e.Bind="bind",e}({});const y=e=>{f.f.sendEvent("send_sms",e)},w=e=>{f.f.sendEvent("send_mail",e)};var k=o(76924),S=o(9850),C=o(99108),x=o(41363),P=o(30573),T=o(13749),O=o(7512),A=o(78854),E=o(37796),L=o(33075),j=o(92110),I=o(89370),R=o(89004),M=o(18459);function D(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function F(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class N extends m.E{setCode(e,t){const o=(0,T.$L)(t);e.codeFormatError=o?"common_login_reset_email_verify_title":"",e.code=t}setTicket(e,t){e.ticket=t}setSendCodeLoading(e,t){t&&(e.getCodeErrorMsg=""),e.sendCodeLoading=t}clearGetCodeError(e){e.getCodeErrorMsg="",e.emailRegistered=void 0}setErrorMsg(e,t){const{description:o,emailRegistered:n}=t;e.emailRegistered=n,e.getCodeErrorMsg=o}sendPhoneCodeForVerify(e){return e.pipe((0,n.M)(({mobile:e})=>this.reportSendCode({reason:b.Click,cacheKey:e})),(0,i.Z)(({mobile:e,nextUrl:t,errorInterceptor:o})=>this.service.notLoginSendCode({mobile:e}).pipe((0,r.p)(e=>!o||o(e)),this.sendCodeHandler({cacheKey:e,nextUrl:t}))))}sendPhoneCodeForLogin(e){return e.pipe((0,n.M)(({mobile:e})=>this.reportSendCode({reason:b.Click,cacheKey:e})),(0,a.n)(e=>{const{isSignUp:t,mobile:o,region:n,errorInterceptor:a}=e;return this.ageGate.validateAge((0,s.of)({canSkip:!t,region:n})).pipe((0,l.i)(1),(0,i.Z)(({payload:t})=>{if("boolean"==typeof t)return(0,s.of)(this.ageGate.getActions().setShowAgeConfirm(t));if(!(null==t?void 0:t.ageEligible)&&null!==t)return(0,s.of)(this.ageGate.getActions().setAgeCheckResult(t));const{region:n}=e,i=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["region"]);return this.service.sendPhoneCode(i).pipe((0,r.p)(e=>!a||a(e)),this.sendCodeHandler({cacheKey:o,agePayload:null!=t?t:void 0,nextUrl:e.nextUrl}))}),(0,c.Z)(this.getActions().setSendCodeLoading(!0)),(0,d.q)(this.getActions().setSendCodeLoading(!1)))}))}sendPhoneCodeForResetPwd(e){return e.pipe((0,n.M)(({mobile:e,verify_ticket:t})=>{var o;return this.reportSendCode({reason:b.ForgotPwd,cacheKey:null!==(o=null!=e?e:t)&&void 0!==o?o:""})}),(0,n.M)(()=>y({send_reason:b.ForgotPwd})),(0,i.Z)(({mobile:e,verify_ticket:t,not_login_ticket:o,nextUrl:n})=>{var i;return this.service.sendPhoneCodeWithType({mobile:e,type:4,method:"GET",verify_ticket:t,not_login_ticket:o}).pipe(this.sendCodeHandler({cacheKey:null!==(i=null!=e?e:t)&&void 0!==i?i:"",nextUrl:n}))}))}sendPhoneCodeForTwoStep(e){return e.pipe((0,n.M)(e=>this.reportSendCode({reason:b.TwoStep,cacheKey:e.verify_ticket})),(0,i.Z)(({verify_ticket:e,not_login_ticket:t,mobile:o})=>this.service.sendPhoneCodeWithType({verify_ticket:e,not_login_ticket:t,type:t?13:22,method:"GET",mobile:o}).pipe(this.sendCodeHandler({cacheKey:e}))))}sendPhoneCodeForForceResetPwd(e){return e.pipe((0,n.M)(e=>this.reportSendCode({reason:b.ForceReset,cacheKey:e.conditional_login_ticket})),(0,u.E)(this.state$),(0,i.Z)(([{conditional_login_ticket:e},{code:t}])=>this.service.sendPhoneCodeForForceResetPwd({code:t,conditional_login_ticket:e}).pipe(this.sendCodeHandler({cacheKey:e}))))}sendPhoneCodeForBindAccount(e){return e.pipe((0,n.M)(({mobile:e})=>this.reportSendCode({reason:b.Bind,cacheKey:e})),(0,i.Z)(({mobile:e,nextUrl:t})=>this.service.sendPhoneCodeForBindAccount({mobile:e}).pipe(this.sendCodeHandler({cacheKey:e,nextUrl:t}))))}sendEmailCodeForForceResetPwd(e){return e.pipe((0,n.M)(e=>this.reportSendCode({reason:b.ForceReset,cacheKey:e.conditional_login_ticket,isEmail:!0})),(0,u.E)(this.state$),(0,i.Z)(([{conditional_login_ticket:e},{code:t}])=>this.service.sendEmailCodeForForceResetPwd({code:t,conditional_login_ticket:e}).pipe(this.sendCodeHandler({email:!0,cacheKey:e}))))}sendEmailCodeForLogin(e){return e.pipe((0,n.M)(e=>this.reportSendCode({reason:b.TwoStep,cacheKey:`${e.verify_ticket}`,isEmail:!0})),(0,n.M)(()=>w({send_reason:b.Click})),(0,i.Z)(({email:e,not_login_ticket:t,verify_ticket:o})=>this.service.sendEmailCodeForLogin({email:null!=e?e:"",extra_params:{not_login_ticket:t,verify_ticket:o}}).pipe(this.sendCodeHandler({email:!0,cacheKey:o}))))}sendEmailCodeForVerify(e){return e.pipe((0,n.M)(e=>this.reportSendCode({reason:b.TwoStep,cacheKey:`${e.verify_ticket}`,isEmail:!0})),(0,i.Z)(e=>this.service.verifySendEmailCode(e).pipe(this.sendCodeHandler({email:!0,cacheKey:`${e.verify_ticket}`}))))}sendEmailCodeForSignup(e){return e.pipe((0,n.M)(e=>this.reportSendCode({reason:b.Click,cacheKey:`${e.email}`,isEmail:!0})),(0,i.Z)(e=>this.ageGate.validateAge((0,s.of)({canSkip:!1,region:e.region})).pipe((0,l.i)(1),(0,i.Z)(({payload:t})=>"boolean"==typeof t?(0,s.of)(this.ageGate.getActions().setShowAgeConfirm(t)):(null==t?void 0:t.ageEligible)||null===t?this.service.sendEmailCodeForSignup(e).pipe((0,n.M)(e=>{1023===e.error_code&&(e.emailRegistered=!0)}),this.sendCodeHandler({email:!0,agePayload:null!=t?t:void 0,cacheKey:`${e.email}`})):(0,s.of)(this.ageGate.getActions().setAgeCheckResult(t))),(0,c.Z)(this.getActions().setSendCodeLoading(!0)),(0,d.q)(this.getActions().setSendCodeLoading(!1)))))}sendEmailCodeForReset(e){return e.pipe((0,n.M)(e=>{var t;return this.reportSendCode({reason:b.ForgotPwd,cacheKey:`${null!==(t=e.email)&&void 0!==t?t:e.verify_ticket}`,isEmail:!0})}),(0,i.Z)(e=>{var t;return this.service.sendEmailCodeForResetPwd(e).pipe(this.sendCodeHandler({email:!0,cacheKey:`${null!==(t=e.email)&&void 0!==t?t:`${e.verify_ticket}`}`,nextUrl:e.nextUrl}))}))}sendEmailCodeForBindAccount(e){return e.pipe((0,n.M)(e=>this.reportSendCode({reason:b.Bind,cacheKey:`${e.email}`,isEmail:!0})),(0,i.Z)(e=>this.service.sendEmailCodeForBindAccount(e).pipe(this.sendCodeHandler({email:!0,cacheKey:`${e.email}`,nextUrl:e.nextUrl}))))}reportSendCode(e){const{cacheKey:t,reason:o,isEmail:n}=e;this.sendReason=o,this.isEmail=Boolean(n);const{hasSent:i}=(0,O.o)(t);n?w({is_retry:i,send_reason:o}):y({is_retry:i,send_reason:o})}reportSendCodeResult(e){const{error_code:t,"x-tt-logid":o,message:n,description:i}=e,r={status:t?k.zm.Failed:k.zm.Success,error_code:t,error_desc:n||i,type:this.sendReason,logid:o};var a;this.isEmail?(a=r,f.f.sendEvent("monitor_send_email_code",a)):(e=>{f.f.sendEvent("monitor_send_sms",e)})(r)}sendCodeHandler({cacheKey:e,agePayload:t,email:o,nextUrl:r}){return l=>l.pipe((0,n.M)(e=>this.reportSendCodeResult(e)),(0,i.Z)(n=>{var l,c;const{retry_time:d=60,emailRegistered:u,ticket:g,error_code:m,user_id_str:h,verify_ticket:v}=n;return m||((0,O._)(e,d,o),r&&this.history.push(r)),(0,A.X)(m)?(0,s.of)(this.riskError.getActions().handleRiskError({errorCode:m})):m===C.v1.BannedUser?this.accountStatusService.getAccountAppealStatus({object_type:"6",object_id:h,verify_ticket:v}).pipe((0,i.Z)(e=>(0,s.of)(this.accountBanModule.getActions().setShowAccountBanModal({show:!0,res:e,verifyTicket:v,userId:h}))),(0,p.W)(()=>(0,s.of)(this.accountBanModule.getActions().setShowAccountBanModal({show:!1}))),(0,a.n)(e=>(0,s.of)(e,this.getActions().setErrorMsg({description:"passport_uid_banned"})))):m===C.v1.TwoStepBlockResetPassword?(0,s.of)(this.contextModule.getActions().setShowAlertMessageType(S.Go.TwoStepBlockResetPwd)):g?(0,s.of)(this.getActions().setTicket(g)):C.$X[m]?(0,s.of)(this.phone.getActions().setErrorMsg(C.$X[m]),t?this.ageGate.getActions().setAgeCheckResult(t):this.noop()):C.Dj[m]?(0,s.of)(this.email.getActions().setEmailErrorMsg(C.Dj[m]),t?this.ageGate.getActions().setAgeCheckResult(t):this.noop()):C.uI.includes(m)&&!u?(0,s.of)(this.email.getActions().setEmailErrorMsg(null!==(l=n.description)&&void 0!==l?l:"Sorry, something went wrong, please try again later")):(m&&console.error(`Login: email bind failed: ${m} (${n.description}).`),(0,s.of)(this.getActions().setErrorMsg({description:u||!m?"":null!==(c=n.description)&&void 0!==c?c:"Sorry, something went wrong, please try again later",emailRegistered:u}),t?this.ageGate.getActions().setAgeCheckResult(t):this.noop()))}),(0,c.Z)(this.getActions().setSendCodeLoading(!0)),(0,d.q)(this.getActions().setSendCodeLoading(!1)))}constructor(e,t,o,n,i,r,a,s,l){super(),this.contextModule=e,this.service=t,this.ageGate=o,this.phone=n,this.email=i,this.history=r,this.riskError=a,this.accountStatusService=s,this.accountBanModule=l,this.defaultState={sendCodeLoading:!1,code:""},this.sendReason=b.Click,this.isEmail=!1}}D([(0,h.uk)(),F("design:type",void 0===g.c?Object:g.c)],N.prototype,"dispose$",void 0),D([(0,h.h5)(),F("design:type",Function),F("design:paramtypes",["undefined"==typeof SendCodeState?Object:SendCodeState,String]),F("design:returntype",void 0)],N.prototype,"setCode",null),D([(0,h.h5)(),F("design:type",Function),F("design:paramtypes",["undefined"==typeof SendCodeState?Object:SendCodeState,String]),F("design:returntype",void 0)],N.prototype,"setTicket",null),D([(0,h.h5)(),F("design:type",Function),F("design:paramtypes",["undefined"==typeof SendCodeState?Object:SendCodeState,Boolean]),F("design:returntype",void 0)],N.prototype,"setSendCodeLoading",null),D([(0,h.h5)(),F("design:type",Function),F("design:paramtypes",["undefined"==typeof SendCodeState?Object:SendCodeState]),F("design:returntype",void 0)],N.prototype,"clearGetCodeError",null),D([(0,h.h5)(),F("design:type",Function),F("design:paramtypes",["undefined"==typeof SendCodeState?Object:SendCodeState,Object]),F("design:returntype",void 0)],N.prototype,"setErrorMsg",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendPhoneCodeForVerify",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendPhoneCodeForLogin",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendPhoneCodeForResetPwd",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendPhoneCodeForTwoStep",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendPhoneCodeForForceResetPwd",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendPhoneCodeForBindAccount",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendEmailCodeForForceResetPwd",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendEmailCodeForLogin",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendEmailCodeForVerify",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendEmailCodeForSignup",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendEmailCodeForReset",null),D([(0,h.Mj)(),F("design:type",Function),F("design:paramtypes",[void 0===g.c?Object:g.c]),F("design:returntype",void 0)],N.prototype,"sendEmailCodeForBindAccount",null),N=D([(0,v.nV)("SendCode"),F("design:type",Function),F("design:paramtypes",[void 0===j.t?Object:j.t,void 0===x.r?Object:x.r,void 0===_.T?Object:_.T,void 0===R.U?Object:R.U,void 0===I.N?Object:I.N,void 0===P.D?Object:P.D,void 0===M.S?Object:M.S,void 0===E.v?Object:E.v,void 0===L.T?Object:L.T])],N)},74305:(e,t,o)=>{"use strict";o.d(t,{W5:()=>u,W6:()=>c,zB:()=>l,zy:()=>d});var n=o(40099),i=o(93411),r=o(7173),a=o(68082);function s(e){if(!e)throw new Error("LoginRouter is not provided.")}function l(e){const t=(t,o={})=>{var n;null!==(n=o.replace)&&void 0!==n&&n?e.replace(t,o.state):e.push(t,o.state)};return{useWouterSearch:()=>e.location.search,useWouterLocation:()=>[d().pathname,t]}}function c(){const e=(0,n.useContext)(a.C);return s(e),e.history}function d(){const e=(0,n.useContext)(a.C);return s(e),e.location}function u(e){const[t]=(0,r.zy)(),o=Array.isArray(e)?e:[e];return(0,n.useMemo)(()=>{for(const e of o){const[o,n]=(0,r.Di)(i.q,e,t,!1);if(o)return{isExact:!0,params:Object.assign({},n)};const[a,s]=(0,r.Di)(i.q,e,t,!0);if(a)return{isExact:!1,params:Object.assign({},s)}}return null},[...o,t])}},75427:(e,t,o)=>{"use strict";o.d(t,{Bd:()=>c,Iv:()=>a,tH:()=>l});var n,i=o(78957);!function(e){e.loginHome="loginHome",e.loginPhoneOrEmail="loginPhoneOrEmail",e.loginPhone="loginPhone",e.loginEmail="loginEmail",e.loginPhonePassword="loginPhonePassword",e.loginDownloadApp="loginDownloadApp",e.loginTwoStepVerify="loginTwoStepVerify",e.loginForgetEmailPassword="loginForgetEmailPassword",e.loginForgetPhonePassword="loginForgetPhonePassword",e.loginQRcode="loginQRcode",e.loginSSO="loginSSO",e.loginGuestMode="loginGuestMode",e.loginWithSignedEmail="loginWithSignedEmail",e.loginPhoneDigit="loginPhoneDigit",e.loginReset="loginReset",e.loginM2Bind="loginM2Bind",e.phoneResetDigit="phoneResetDigit",e.emailResetDigit="emailResetDigit",e.resetPassword="resetPassword",e.m2TransferAppleId="m2TransferAppleId",e.signupHome="signupHome",e.signupPhoneOrEmail="signupPhoneOrEmail",e.signupPhone="signupPhone",e.signupEmail="signupEmail",e.signupAgeGate="signupAgeGate",e.signupAgeGateConfirm="signupAgeGateConfirm",e.signupPolicyConfirm="signupPolicyConfirm",e.signupCreateAccount="signupCreateAccount",e.signupCreateUsername="signupCreateUsername",e.signupCreatePassword="signupCreatePassword",e.signupPrivateOn="signupPrivateOn",e.signupPhoneDigit="signupPhoneDigit",e.signupEmailDigit="signupEmailDigit",e.signupEmailCreatePassword="signupEmailCreatePassword",e.signupCountrySelector="signupCountrySelector",e.signupInterestSelector="signupInterestSelector",e.oauth="oauth",e.oauthLine="oauthLine",e.accountDeactivate="accountDeactivate",e.logout="logout",e.linkPhoneOrEmail="linkPhoneOrEmail",e.linkPhone="linkPhone",e.linkEmail="linkEmail",e.linkPhoneDigit="linkPhoneDigit",e.linkEmailDigit="linkEmailDigit"}(n||(n={}));const r={loginHome:"/login",loginPhoneOrEmail:"/login/phone-or-email",loginPhone:"/login/phone-or-email/phone",loginEmail:"/login/phone-or-email/email",loginPhonePassword:"/login/phone-or-email/phone-password",loginDownloadApp:"/login/download-app",loginTwoStepVerify:"/login/2sv/:type",loginForgetEmailPassword:"/login/email/forget-password",loginForgetPhonePassword:"/login/phone/forget-password",loginQRcode:"/login/qrcode",loginSSO:"/login/sso",loginGuestMode:"/login/guest-mode",loginWithSignedEmail:"/login/with-signed-email",loginPhoneDigit:"/login/phone/digit-code",loginReset:"/login/reset",loginM2Bind:"/login/m2-bind",phoneResetDigit:"/login/reset/phone/digit-code",emailResetDigit:"/login/reset/email/digit-code",resetPassword:"/login/reset/password",m2TransferAppleId:"/login/m2/transfer-apple-id",signupHome:"/signup",signupPhoneOrEmail:"/signup/phone-or-email",signupPhone:"/signup/phone-or-email/phone",signupEmail:"/signup/phone-or-email/email",signupAgeGate:"/signup/age-gate",signupAgeGateConfirm:"/signup/age-gate/confirm",signupPolicyConfirm:"/signup/policy-confirm",signupCreateAccount:"/signup/create-account",signupCreateUsername:"/signup/create-username",signupCreatePassword:"/signup/create-password",signupPrivateOn:"/signup/private-on",signupPhoneDigit:"/signup/phone/digit-code",signupEmailDigit:"/signup/email/digit-code",signupEmailCreatePassword:"/signup/email/create-password",signupCountrySelector:"/signup/country-selector",signupInterestSelector:"/signup/interest",oauth:"/oauth",oauthLine:"/oauthLine",accountDeactivate:"/setting/account-delete/deactivate",logout:"/logout",linkPhoneOrEmail:"/link-phone-or-email",linkPhone:"/link-phone-or-email/phone",linkEmail:"/link-phone-or-email/email",linkPhoneDigit:"/link-phone-or-email/phone/digit-code",linkEmailDigit:"/link-phone-or-email/email/digit-code"},a=(0,i.r)(r);var s;!function(e){e.loginHome="loginHome",e.loginPhoneOrEmail="loginPhoneOrEmail",e.loginPhone="loginPhone",e.loginEmail="loginEmail",e.loginPhonePassword="loginPhonePassword",e.loginDownloadApp="loginDownloadApp",e.loginTwoStepVerify="loginTwoStepVerify",e.loginForgetEmailPassword="loginForgetEmailPassword",e.loginForgetPhonePassword="loginForgetPhonePassword",e.loginQRcode="loginQRcode",e.loginSSO="loginSSO",e.loginGuestMode="loginGuestMode",e.loginWithSignedEmail="loginWithSignedEmail",e.loginPhoneDigit="loginPhoneDigit",e.loginReset="loginReset",e.loginM2Bind="loginM2Bind",e.phoneResetDigit="phoneResetDigit",e.emailResetDigit="emailResetDigit",e.resetPassword="resetPassword",e.m2TransferAppleId="m2TransferAppleId",e.signupHome="signupHome",e.signupPhoneOrEmail="signupPhoneOrEmail",e.signupPhone="signupPhone",e.signupEmail="signupEmail",e.signupAgeGate="signupAgeGate",e.signupAgeGateConfirm="signupAgeGateConfirm",e.signupPolicyConfirm="signupPolicyConfirm",e.signupCreateAccount="signupCreateAccount",e.signupCreateUsername="signupCreateUsername",e.signupCreatePassword="signupCreatePassword",e.signupPrivateOn="signupPrivateOn",e.signupPhoneDigit="signupPhoneDigit",e.signupEmailDigit="signupEmailDigit",e.signupEmailCreatePassword="signupEmailCreatePassword",e.signupCountrySelector="signupCountrySelector",e.signupInterestSelector="signupInterestSelector",e.oauth="oauth",e.oauthLine="oauthLine",e.accountDeactivate="accountDeactivate",e.logout="logout",e.linkPhoneOrEmail="linkPhoneOrEmail",e.linkPhone="linkPhone",e.linkEmail="linkEmail",e.linkPhoneDigit="linkPhoneDigit",e.linkEmailDigit="linkEmailDigit"}(s||(s={}));const l={loginHome:"/login",loginPhoneOrEmail:"/login/phone-or-email",loginPhone:"/login/phone-or-email/phone",loginEmail:"/login/phone-or-email/email",loginPhonePassword:"/login/phone-or-email/phone-password",loginDownloadApp:"/login/download-app",loginTwoStepVerify:"/login/2sv/:type",loginForgetEmailPassword:"/login/email/forget-password",loginForgetPhonePassword:"/login/phone/forget-password",loginQRcode:"/login/qrcode",loginSSO:"/login/sso",loginGuestMode:"/login/guest-mode",loginWithSignedEmail:"/login/with-signed-email",loginPhoneDigit:"/login/phone/digit-code",loginReset:"/login/reset",loginM2Bind:"/login/m2-bind",phoneResetDigit:"/login/reset/phone/digit-code",emailResetDigit:"/login/reset/email/digit-code",resetPassword:"/login/reset/password",m2TransferAppleId:"/login/m2/transfer-apple-id",signupHome:"/signup",signupPhoneOrEmail:"/signup/phone-or-email",signupPhone:"/signup/phone-or-email/phone",signupEmail:"/signup/phone-or-email/email",signupAgeGate:"/signup/age-gate",signupAgeGateConfirm:"/signup/age-gate/confirm",signupPolicyConfirm:"/signup/policy-confirm",signupCreateAccount:"/signup/create-account",signupCreateUsername:"/signup/create-username",signupCreatePassword:"/signup/create-password",signupPrivateOn:"/signup/private-on",signupPhoneDigit:"/signup/phone/digit-code",signupEmailDigit:"/signup/email/digit-code",signupEmailCreatePassword:"/signup/email/create-password",signupCountrySelector:"/signup/country-selector",signupInterestSelector:"/signup/interest",oauth:"/oauth",oauthLine:"/oauthLine",accountDeactivate:"/setting/account-delete/deactivate",logout:"/logout",linkPhoneOrEmail:"/link-phone-or-email",linkPhone:"/link-phone-or-email/phone",linkEmail:"/link-phone-or-email/email",linkPhoneDigit:"/link-phone-or-email/phone/digit-code",linkEmailDigit:"/link-phone-or-email/email/digit-code"},c=(0,i.r)(l)},75497:(e,t,o)=>{"use strict";o.d(t,{JO:()=>s,zF:()=>n,uC:()=>i,al:()=>r,ll:()=>a});var n=function(e){return e[e.TRILL=1180]="TRILL",e[e.MUSICALLY=1233]="MUSICALLY",e}({}),i=function(e){return e.TRILL="t",e.MUSICALLY="m",e.LITE="lite",e}({}),r=function(e){return e[e.Normal=0]="Normal",e[e.SmartPlayer=1]="SmartPlayer",e}({}),a=function(e){return e[e.UNSET=0]="UNSET",e[e.CLOSE=1]="CLOSE",e[e.OPEN=2]="OPEN",e}({});const s=[{name:"use_container_exp",vid:["v0","v1","v2","v3"]},{name:"share_button_part1_test",vid:["v1","v2","v3","v4"]},{name:"expose_recharge_entry_pc",vid:["v1","v2","v3"]},{name:"live_studio_download_type",vid:["v1","v2"]},{name:"live_studio_entry",vid:["v1","v2","v3"]},{name:"live_discover_draw_hover",vid:["v0","v1"]},{name:"live_www_host",vid:["v0","v1"]},{name:"live_room_container_upgrade",vid:["v0","v1"]},{name:"live_room_recharge",vid:["v0","v1"]},{name:"live_cover_recommend",vid:["v0","v1"]},{name:"live_room_container_upgrade_gift_more",vid:["v0","v1","v2"]},{name:"live_discover_enter_shortcut",vid:["v0","v1"]},{name:"live_shortcuts_all",vid:["v0","v1"]},{name:"live_shortcuts_video",vid:["v0","v1"]},{name:"live_seamless_enter_room",vid:["v1","v2"]},{name:"live_player_h265",vid:["v0","v1","v2","v3"]},{name:"live_player_switch_button",vid:["v1","v2"]},{name:"live_loading_icon",vid:["v1","v2"]},{name:"live_player_mute_text",vid:["v1","v2"]},{name:"live_player_handler",vid:["v1","v2","v3"]},{name:"live_player_icon",vid:["v1","v2"]},{name:"live_detail_non_logged_in_entry",vid:["v1","v2","v3"]},{name:"live_dynamic_bg",vid:["v1","v2"]},{name:"live_player_enable_1080p",vid:["v1","v2"]},{name:"live_auto_definition_tips",vid:["v1","v2","v3"]},{name:"live_room_age_restriction",vid:["v1","v2","v3"]},{name:"live_feed_preload",vid:["v0","v1"]},{name:"live_feed_style",vid:["v1","v2","v3"]},{name:"live_feed_auto_play_3",vid:["v1","v2","v3"]},{name:"live_player_e2e_low_delay_preload_time_test",vid:["v1","v2","v3"]},{name:"show_player_stats_entry",vid:["v1","v2"]},{name:"live_lcp_perf_optimize",vid:["v1","v2","v3","v4"]},{name:"live_report_reason_api",vid:["v1","v2"]},{name:"live_report_comment_reason_api",vid:["v1","v2"]},{name:"live_recharge_by_amount",vid:["v0","v1","v2"]},{name:"live_recharge_login",vid:["v1","v2"]},{name:"exchange_retention_popup",vid:["v1","v2"]},{name:"live_recharge_homescreen",vid:["v0","v1","v2"]},{name:"live_wallet_performance_packup",vid:["v0","v1"]},{name:"live_subscription_cashier",vid:["v1","v2"]},{name:"show_recharge_advantage",vid:["v1","v2"]},{name:"live_stack_insert_context",vid:["v1","v2"]},{name:"live_csr_insert_context",vid:["v1","v2"]},{name:"live_room_csr",vid:["v1","v2"]},{name:"webapp_fyp_live_opt",vid:["v0","v1"]},{name:"live_survey_open",vid:["v0","v1"]},{name:"live_volume_balance",vid:["v0","v1","v2"]},{name:"live_abr_rt_bitrate",vid:["v0","v1"]},{name:"live_webcodecs_rate",vid:["v0","v1"]},{name:"live_abr_start_optimize",vid:["v0","v1","v2","v3"]},{name:"live_abr_bb4live_optimize",vid:["v0","v1"]},{name:"live_mse_in_worker",vid:["v0","v1"]},{name:"live_gift_logged_out_control",vid:["v0","v1","v2"]},{name:"live_abr_memo",vid:["v0","v1"]},{name:"live_stage_definition",vid:["v0","v1"]},{name:"live_recharge_path_shortening_home_screen",vid:["v0","v1","v2"]},{name:"live_recharge_get_coins_entrance_for_you_page",vid:["v0","v1","v2"]},{name:"enable_ec_lcc",vid:["v0","v1"]},{name:"live_chat_message_cache_opt",vid:["v0","v1"]},{name:"live_screen_radio_opt_display_bottom",vid:["v0","v1"]},{name:"live_quick_chat_expand",vid:["v0","v1"]},{name:"live_chat_refresh_rate_opt",vid:["v0","v1","v2"]},{name:"live_chat_like_btn_animate_downgrade",vid:["v0","v1"]},{name:"live_chat_other_animate_downgrade",vid:["v0","v1"]},{name:"live_discover_animate_downgrade",vid:["v0","v1"]},{name:"webapp_live_nav_avatar",vid:["v0","v1"]},{name:"live_nav_follow_rec",vid:["v0","v1","v2"]},{name:"live_detail_endlive_auto_feed",vid:["v0","v1","v2"]},{name:"live_recharge_one_tap_polling_optimize",vid:["v1","v2","v3"]},{name:"live_recharge_supply_entrances_for_us_mobile",vid:["v0","v1","v2"]},{name:"live_recharge_supply_entrances_for_us",vid:["v0","v1"]},{name:"live_previewcard_opt",vid:["v0","v1"]},{name:"live_chat_refactor_phase1",vid:["v0","v1"]},{name:"one_tap_ios_deep_link",vid:["v0","v1","v2","v3"]},{name:"one_tap_tt_pro_lite",vid:["v0","v1"]},{name:"login_confirm",vid:["v0","v1"]},{name:"live_recharge_mobile_non_login_redesign_trigger_point",vid:["v1","v2","v3"]},{name:"webapp_live_avator_animation",vid:["v0","v1"]},{name:"live_head_open_direct",vid:["v0","v1"]},{name:"live_disable_header_skeleton",vid:["v0","v1"]},{name:"live_non_logged_in_time_restriction_pc",vid:["v0","v1"]},{name:"live_non_logged_in_time_restriction_mobile",vid:["v0","v1"]},{name:"live_un_logged_in_time_restriction_pc",vid:["0","30","45","60"]},{name:"live_room_preview_card_opt",vid:["v0","v1"]},{name:"webapp_live_explore_card",vid:["v0","v1"]},{name:"live_room_switch_preset_stream",vid:["v0","v1"]},{name:"show_live_preview_content",vid:["v0","v1"]},{name:"live_recharge_landing_page",vid:["v1","v2","v3"]},{name:"live_recharge_popup_guidance",vid:["v1","v2"]},{name:"live_feed_tag2",vid:["v0","v1"]},{name:"show_fyp_live_enter_shortcut",vid:["v0","v1"]},{name:"show_mask_for_bottom_info",vid:["v0","v1"]},{name:"show_search_live_head",vid:["v0","v1"]},{name:"live_stream_snapshot",vid:["v0","v1"]},{name:"webapp_live_explore_api",vid:["v0","v1"]},{name:"webapp_live_desktop_gulux",vid:["v0","v1"]},{name:"new_live_player_version",vid:["v0","v1"]},{name:"live_un_logged_in_definition",vid:["v0","v1"]},{name:"fyp_live_highlight_preview_opt",vid:["v0","v1"]},{name:"live_highlight_preview_expand",vid:["v0","v1"]},{name:"video_feed_mode_url_test",vid:["v1","v2"]},{name:"browser_device_id",vid:["v1"]},{name:"volume_normalize",vid:["v1","v2","v3","v4"]},{name:"xgplayer_preload_config",vid:["v1","v2","v3","v4"]},{name:"hevc_desktop_server",vid:["v1","v2","v3"]},{name:"hevc_mobile_server",vid:["v1","v2","v3"]},{name:"video_serverpush",vid:["v1","v2"]},{name:"mobile_vodkit",vid:["v1","v2","v3","v4"]},{name:"web_player_refactor",vid:["v1","v2"]},{name:"xg_volume_test",vid:["v1","v2","v3","v4","v5"]},{name:"feed_scroll_opt",vid:["v0","v1"]},{name:"multiple_ins_model",vid:["v0","v2"]},{name:"multiple_ins_new",vid:["v0","v1","v2","v3","v4"]},{name:"video_bitrate_adapt",vid:["v1","v2","v3"]},{name:"explore_trending_topics",vid:["v0","v1"]},{name:"islands_arch_phase1",vid:["v0","v1"]},{name:"islands_arch_phase2",vid:["v0","v1","v2"]},{name:"islands_arch_video_detail",vid:["v0","v1"]},{name:"islands_arch_explore",vid:["v0","v1","v2"]},{name:"bundle_size_reverse",vid:["v0","v1"]},{name:"remove_tooltip",vid:["v0","v1","v2","v3","v4","v5"]},{name:"streaming_legacy_optimization",vid:["v0","v1","v2","v3","v4"]},{name:"optimize_bot_ssr_count",vid:["v1","v2","v3","v4"]},{name:"mobile_popup_opt",vid:["v0","v1"]},{name:"sharing_reverse_recommend",vid:["v1","v2","v3","v4","v5","v6"]},{name:"sharing_use_jump_best_practice",vid:["v0","v1","v2"]},{name:"sharing_android_skeleton_jump_optimization",vid:["v0","v1"]},{name:"sharing_android_auto_awaken_perf",vid:["v0","v1"]},{name:"sharing_ios_auto_awaken",vid:["v0","v1"]},{name:"reflow_video_s2s",vid:["v1","v2","v3"]},{name:"mobile_s2s",vid:["v1","v2"]},{name:"s2s_afdp",vid:["v0","v1"]},{name:"yml_ui_optimize",vid:["v0","v1","v2","v3"]},{name:"islands_arch_user_profile",vid:["v0","v1","v2"]},{name:"islands_arch_rest_page",vid:["v0","v1"]},{name:"feed_scroll_opt_data_collection",vid:["v0","v2"]},{name:"explore_ui_change",vid:["v0","v1","v2","v3","v4"]},{name:"mobile_search_test",vid:["v1","v2"]},{name:"seo_page_csr",vid:["v0","v1"]},{name:"pumbaa_enable_test",vid:["v1","v2"]},{name:"tt4b_ads",vid:["v1","v2"]},{name:"foryou_prefetch",vid:["v1","v2"]},{name:"nav_loading",vid:["v0","v1"]},{name:"studio_web_eh_entrance_v3",vid:["v1","v2","v3","v4"]},{name:"tteh_effect_anchor_v1",vid:["v1","v2"]},{name:"periodic_login_popup_interval",vid:["v1","v2","v3","v4","v5"]},{name:"enable_slardar_image",vid:["v1","v2"]},{name:"explore_shunt_test",vid:["v1","v2","v3"]},{name:"new_redirect",vid:["v0","v1"]},{name:"search_video",vid:["v1","v2","v3","v4"]},{name:"fyp_clips",vid:["v0","v1","v2"]},{name:"appclip_card_mock",vid:["v0","v1"]},{name:"video_reflow_onelink_preconnect",vid:["v1","v2"]},{name:"video_reflow_android_auto_awaken",vid:["v1","v2","v3"]},{name:"video_reflow_awaken_fb",vid:["v1","v2"]},{name:"video_reflow_awaken_delay",vid:["v0","v1","v2","v3","v4"]},{name:"sharing_video_remove_rem",vid:["v1","v2"]},{name:"sharing_hashtag_pns",vid:["v1","v2"]},{name:"video_reflow_csr_skeleton_enhance",vid:["v0","v1","v2","v3"]},{name:"video_reflow_mpa_optimization",vid:["v0","v1"]},{name:"video_reflow_skeleton_ui",vid:["v0","v1"]},{name:"video_reflow_downgrade",vid:["v1","v2"]},{name:"video_reflow_refactor_server_recommend_list",vid:["v0","v1"]},{name:"video_reflow_coin_install_reverse",vid:["v0","v1"]},{name:"video_reflow_recommend_vertical_list",vid:["v0","v1","v2"]},{name:"video_reflow_recommend_sort_type",vid:["0","1","2"]},{name:"video_reflow_preload_install",vid:["v0","v1"]},{name:"video_reflow_onelink_retargeting",vid:["v0","v1","v2"]},{name:"video_reflow_gp_referer",vid:["v0","v1"]},{name:"webapp_vdc_scedule",vid:["v1","v2"]},{name:"search_add_live",vid:["v1","v2"]},{name:"page_loading_tiny_changes",vid:["v0","v1","v2","v3","v4"]},{name:"device_score_fetch",vid:["v0","v1","v2"]},{name:"search_transfer_history",vid:["v1","v2"]},{name:"search_transfer_guesssearch",vid:["v1","v2"]},{name:"search_top_author_card",vid:["v0","v1","v2"]},{name:"search_yml_guess_count",vid:["v0","v1","v2","v3"]},{name:"sharing_video_use_smart",vid:["v0","v1","v2"]},{name:"sharing_short_dl",vid:["v0","v1"]},{name:"sharing_video_smart_ui_v2",vid:["v0","v1"]},{name:"sharing_redirect_page_strategy",vid:["v0","v1"]},{name:"sharing_video_first",vid:["v0","v1","v2","v3","v4","v5"]},{name:"sharing_video_first_use_campaign",vid:["v0","v1"]},{name:"sharing_skeleton_lite",vid:["v0","v1"]},{name:"search_bar_style_opt",vid:["v1","v2","v3"]},{name:"search_remove_related_search",vid:["v0","v1","v2"]},{name:"search_add_non_personalized_switch",vid:["v1","v2"]},{name:"search_mobile_add_search_recommendations",vid:["v1","v2"]},{name:"feed_data_cache",vid:["v1","v2","v3","v4"]},{name:"webapp_browser_mode_new_tab",vid:["v1","v2"]},{name:"qr_sso_popup",vid:["v1","v2","v3","v4","v5"]},{name:"desktop_ui_opt",vid:["v1","v2","v3","v4"]},{name:"non_personalized_feeds_web",vid:["v1","v2"]},{name:"desktop_ui_reply",vid:["v1","v2","v3","v4","v5","v6"]},{name:"desktop_avatar_nick_name",vid:["v1","v2"]},{name:"search_entry_search_bar",vid:["v1","v2"]},{name:"search_entry_comment_top",vid:["v1","v2"]},{name:"use_inbox_notice_count_api",vid:["v1","v2"]},{name:"autoscroll_reposition",vid:["v0","v1"]},{name:"banner_ad_enable",vid:["v0"]},{name:"sidenav_test",vid:["v1","v2"]},{name:"enable_dm_side_nav",vid:["v0","v1","v2","v3"]},{name:"creator_center_connect",vid:["v1","v2","v3"]},{name:"creator_center_connect_global",vid:["v1","v2","v3"]},{name:"webapp_auto_refresh",vid:["v1","v2","v3"]},{name:"change_list_length_new",vid:["30","20","15"]},{name:"preload_with_left",vid:["0","2","3","4","5"]},{name:"browser_mode_video_controller",vid:["v1","v2"]},{name:"one_column_player_size",vid:["v1","v2","v3","v4","v5"]},{name:"sign_up_webapp_region_change",vid:["v1","v2"]},{name:"fyp_reduce",vid:["v0","v1","v2","v3","v4","v11","v22","v33","v44"]},{name:"video_detail_search_bar",vid:["v1","v2"]},{name:"search_entry_comment_word",vid:["v1","v2"]},{name:"confirm_logout",vid:["v1","v2"]},{name:"creator_center_reverse",vid:["v1","v2"]},{name:"desktop_app_test",vid:["v1","v2"]},{name:"browser_login_redirect",vid:["v1","v2"]},{name:"webapp_switch_account",vid:["v1","v2","v3","v4"]},{name:"search_report",vid:["v1","v2"]},{name:"search_keep_sug_show",vid:["v1","v2"]},{name:"webapp_login_email_phone",vid:["v1","v2"]},{name:"use_follow_v2",vid:["v1","v2"]},{name:"search_server",vid:{}},{name:"add_kap_entry",vid:["v1","v2"]},{name:"enable_ml_model",vid:["v1","v2","v3","v4","v5","v6"]},{name:"enable_ml_model_suggest_content",vid:["v0","v1"]},{name:"mobile_csr_test",vid:["v1","v2"]},{name:"webapp_login_prediction",vid:["v1","v2","v3","v4","v5","v6","v7","v8","v9","v10"]},{name:"login_modal_ui_revamp",vid:["v1","v2","v3","v4"]},{name:"browser_mode_encourage_login",vid:["v1","v2","v3"]},{name:"project_ace_control",vid:["v0","v1"]},{name:"soft_bank_test",vid:["v1","v2"]},{name:"enable_ads",vid:["v1","v2"]},{name:"enable_about_this_ad",vid:["v1","v2"]},{name:"digital_wellbeing_web",vid:["v0","v1"]},{name:"scheduled_breaks_teens",vid:["v0","v1"]},{name:"stm_web_revamp",vid:["v0","v1"]},{name:"sleep_hours_webapp",vid:["v0","v1"]},{name:"fix_tea_session",vid:["v1","v2","v3"]},{name:"enable_profile_pinned_video",vid:["v1","v2","v3"]},{name:"enable_fb_sdk",vid:["v1","v2"]},{name:"live_preview_web",vid:["v1","v2","v3"]},{name:"live_preview_web_son",vid:["v1","v2","v3"]},{name:"live_login_reflow_btn",vid:["v1","v2"]},{name:"comment_self_send_optimize",vid:["v0","v1"]},{name:"mobile_consumption_limit_logged_in",vid:["v1","v2","v3","v4","v5"]},{name:"mobile_consumption_limit_non_logged_in",vid:["v1","v2","v3","v4","v5","v6","v7","v8"]},{name:"add_profile_left_bar",vid:["v0","v1","v2","v3"]},{name:"explore_all_tab",vid:["v0","v1","v2","v3","v4","v5"]},{name:"report_item_tag",vid:["v1","v2"]},{name:"login_option_order_by_metrics",vid:["v1","v2","v3"]},{name:"friends_tab",vid:["v0","v1"]},{name:"remove_bottom_banner",vid:["v1","v2","v3","v4","v5"]},{name:"webapp_login_prediction_full",vid:["v1","v2"]},{name:"webapp_login_prediction_reverse",vid:["v1","v2"]},{name:"video_detail_reflow_card",vid:["v0","v1"]},{name:"show_aigc_label_web",vid:["v0","v1"]},{name:"webapp_feature_expansion",vid:["v0","v1"]},{name:"webapp_login_causal_inference",vid:["v1","v2","v3","v4","v5","v6","v7","v8","v9","v10","v11","v12","v13","v14","v15","v16","v17","v18","v19","v20","v21","v22","v23","v24","v25","v26","v27","v28","v29","v30"]},{name:"non_logged_in_comments",vid:["v1","v2","v3","v4"]},{name:"s2s",vid:["v0","v1"]},{name:"kap_prefetch",vid:["v1","v2"]},{name:"kap_jumper_opt",vid:["v1","v2"]},{name:"auto_scroll",vid:["v1","v3"]},{name:"tiktok",vid:[]},{name:"mobile_consumption_limit_login",vid:["v1","v2","v3"]},{name:"preview_cover",vid:["v0","v1"]},{name:"default_auto_scroll",vid:["v0","v1"]},{name:"search_preview_ui_change",vid:["v0","v1","v2","v3"]},{name:"seo_preview_ui_change",vid:["v0","v1"]},{name:"use_profile_avatar",vid:["v1","v2"]},{name:"perf_blur_background",vid:["v0","v1","v2","v3"]},{name:"page_init_refactor",vid:["v0","v1"]},{name:"preload_priority",vid:["v0","v1"]},{name:"browser_mode_refactor",vid:["v0","v1"]},{name:"preload_expiration_extend",vid:["v0","v1","v2","v3"]},{name:"browser_mode_scroll",vid:["v0","v1","v2"]},{name:"clear_mode",vid:["v0","v1","v2","v3","v4","v5"]},{name:"browser_mode_multi",vid:["v0","v1"]},{name:"webapp_login_causal_inference_validation",vid:["v1","v2","v3","v4","v5"]},{name:"webapp_login_causal_inference_data_collection",vid:["v1","v2","v3","v4","v5"]},{name:"webapp_causal_inference_dark_mode_data_collection",vid:["v1","v2","v3"]},{name:"webapp_causal_inference_auto_mute_data_collection",vid:["v1","v2","v3"]},{name:"webapp_causal_inference_auto_scroll_data_collection",vid:["v1","v2","v3"]},{name:"webapp_causal_inference_auto_scroll_validation",vid:["v1","v2","v3"]},{name:"webapp_causal_inference_landing_page",vid:["v0","v1"]},{name:"webapp_causal_inference_dark_mode_validation",vid:["v1","v2","v3","v4","v5"]},{name:"webapp_causal_inference_periodic_popup_validation",vid:["v1","v2","v3","v4","v5","v6","v7"]},{name:"webapp_causal_inference_auto_mute_validation",vid:["v1","v2","v3","v4","v5"]},{name:"last_login_method",vid:["v1","v2","v3"]},{name:"webapp_moderation",vid:["v0","v1"]},{name:"mobile_swiping_gesture",vid:["v0","v1"]},{name:"should_recom_reduce_icon_risk",vid:["v0","v1"]},{name:"browser_content_logic",vid:["v1","v2","v3","v4"]},{name:"mobile_predictive_data",vid:["v0","v1","v2","v3","v4","v5","v6","v7","v8","v9","v10","v11","v12","v13","v14","v15","v16","v17","v18","v19","v20","v21","v22","v23","v24","v25","v26","v27","v28","v29"]},{name:"mobile_fps_logger",vid:["v0","v1"]},{name:"delay_guest",vid:["0","1","2","3","5","8","10"]},{name:"delay_guest_fyp",vid:["0","1","2","3","5","8","10"]},{name:"delay_guest_others_homepage",vid:["0","1","2","3","5","8","10"]},{name:"delay_guest_videos",vid:["0","1","2","3","5","8","10"]},{name:"delay_guest_discover",vid:["0","1","2","3","5","8","10"]},{name:"delay_guest_explore",vid:["0","1","2","3","5","8","10"]},{name:"delay_guest_other",vid:["0","1","2","3","5","8","10"]},{name:"webapp_auto_dark_mode",vid:["v0","v1","v2","v3"]},{name:"top_right_qr",vid:["v0","v1","v2","v3"]},{name:"webapp_dynamic_bottom_right",vid:["v0","v1","v2"]},{name:"browser_fingerprint_basic",vid:["v0","v1"]},{name:"browser_fingerprint_verify",vid:["v0","v1"]},{name:"top_right_button",vid:["v0","v1","v2","v3","v4"]},{name:"seo_top_tool_bar",vid:["v0","v1"]},{name:"top_right_button_group",vid:["v0","v1","v2","v3","v4"]},{name:"top_right_button_group_all",vid:["v0","v1"]},{name:"login_reminder_no_history",vid:["v0","v1","v2"]},{name:"push_holdout",vid:["v0","v1"]},{name:"push_foundation",vid:["v0","v1","v2"]},{name:"login_reminder_with_history",vid:["v0","v1","v2"]},{name:"keyboard_shortcut",vid:["v0","v1","v2"]},{name:"webapp_spf",vid:["v0","v1","v2","v3"]},{name:"webapp_odin_id_fe_reverse",vid:["v0","v1"]},{name:"pc_non_personalized_suggested_account",vid:["v0","v1"]},{name:"pc_non_personalized_explore",vid:["v0","v1"]},{name:"mobile_non_personalized_suggest_account",vid:["v0","v1"]},{name:"video_detail_page_video_play",vid:["v1","v2"]},{name:"mobile_replace_signup_with_login",vid:["v0","v1"]},{name:"use_aligned_copies",vid:["v0","v1","v2"]},{name:"pns_communication_service_sdk",vid:["v0","v1"]},{name:"desktop_web_survey_new",vid:["v0","v1"]},{name:"desktop_web_survey_old",vid:["v0","v1"]},{name:"promote_qr_code",vid:["v0","v1"]},{name:"mobile_remove_music_info",vid:["v0","v1"]},{name:"mobile_enable_xg",vid:["v0","v1"]},{name:"enable_mini_player",vid:["v0","v1","v2","v3","v4","v5","v6"]},{name:"enable_upload_refactor",vid:["v0","v1"]},{name:"enable_language_expansion",vid:["v0","v1","v2"]},{name:"enable_message_refactor",vid:["v0","v1"]},{name:"guest_mode_redesign",vid:["v0","v1","v2","v3"]},{name:"sharing_aso",vid:["v1","v2","v3"]},{name:"webapp_repost_label",vid:["v0","v1"]},{name:"webapp_repost_tab",vid:["v0","v1"]},{name:"webapp_repost_action",vid:["v0","v1","v2","v3","v4"]},{name:"webapp_repost_notice",vid:["v0","v1"]},{name:"webapp_creator_post_sort",vid:["v0","v1","v2","v3","v4","v5"]},{name:"webapp_creator_just_watched",vid:["v0","v1","v2","v3","v4"]},{name:"guide_user_to_next_video",vid:["v0","v1","v2"]},{name:"creator_to_fyp",vid:["v0","v1","v2"]},{name:"video_detail_end_card",vid:["v0","v1","v2","v3"]},{name:"detail_to_explore",vid:["v0","v1","v2","v3","v4"]},{name:"creator_header_height",vid:["v0","v1","v2","v3"]},{name:"webapp_jotai_detail",vid:["v0","v1"]},{name:"video_detail_yml_ui",vid:["v1","v2","v3","v4"]},{name:"webapp_mobile_web2app_cta_guide",vid:["v0","v1","v2","v3","v4"]},{name:"video_detail_auto_pip_opt",vid:["v0","v1","v2","v3","v4","v5","v6"]},{name:"video_detail_yml_creator",vid:["v0","v1","v2"]},{name:"video_detail_author_card",vid:["v0","v1","v2","v3"]},{name:"video_detail_nav_opt",vid:["v0","v1","v2","v3"]},{name:"video_detail_nav_shortcut",vid:["v0","v1","v2","v3","v4"]},{name:"tt_player_reuse",vid:["v0","v1","v2"]},{name:"tt_player_event_trigger",vid:["v0","v1"]},{name:"tt_player_hevc",vid:["v0","v1","v2"]},{name:"video_details_player_redesign_engagement",vid:["v0","v1","v2","v3"]},{name:"video_details_player_redesign_player",vid:["v0","v1","v2","v3"]},{name:"web_on_device_ml",vid:["v1","v2","v3","v4"]},{name:"use_navigation_refactor",vid:["v0","v1","v2","v3","v4","v5"]},{name:"use_left_navigation_refactor",vid:["v0","v1","v2","v3"]},{name:"video_detail_responsive_ui",vid:["v0","v1","v2"]},{name:"webapp_explore_nav_order",vid:["v0","v1","v2"]},{name:"webapp_explore_video_info",vid:["v0","v1","v2","v3","v4","v5","v6"]},{name:"explore_category_ranking",vid:["v0","v1","v2"]},{name:"webapp_collection_profile",vid:["v0","v1"]},{name:"webapp_collection_adder",vid:["v0","v1","v2","v3"]},{name:"webapp_inapp_notice",vid:["v0","v1","v2","v3","v4"]},{name:"webapp_node_opt",vid:["v0","v1"]},{name:"fyf_profile_uj",vid:["v0","v1","v2","v3"]},{name:"side_nav_preload_cache",vid:["v0","v1","v2","v3","v4"]},{name:"side_nav_cache",vid:["v0","v1","v2","v3","v4","v5"]},{name:"immersive_player",vid:["v0","v1","v2","v3","v4"]},{name:"new_guest_mode_hot",vid:["v0","v1"]},{name:"new_guest_mode_other",vid:["v0","v1"]},{name:"kep_skeleton_cta",vid:["v1","v2","v3"]},{name:"kep_streaming",vid:["v0","v1","v2"]},{name:"user_ssg",vid:["v0","v1","v2"]},{name:"vanilla_js_kep",vid:["v0","v1","v2"]},{name:"ui_trimming_kep",vid:["v0","v1"]},{name:"ui_trimming_kep_device",vid:["v0","v1"]},{name:"ui_trimming_kep_network",vid:["v0","v1"]},{name:"ui_trimming_kep_region",vid:["v0","v1"]},{name:"kep_cta_style",vid:["v0","v1","v2","v3"]},{name:"fyp_comments_panel",vid:["v0","v1","v2","v3"]},{name:"wwa_mdp_metric",vid:["v0","v1","v2","v3"]},{name:"web_dm_test_force_http",vid:["v1","v2"]},{name:"reduce_user_item_list",vid:["v0","v1","v2","v3","v4","v5"]},{name:"web_dm_enable_debug",vid:["v1","v2"]},{name:"web_dm_multimedia_msg",vid:["v1","v2"]},{name:"web_dm_sticker_msg_display",vid:["v1","v2"]},{name:"web_dm_group_chat",vid:["v1","v2"]},{name:"web_dm_decrease_lcp",vid:["v1","v2"]},{name:"foryou_opt",vid:["v0","v1","v2"]},{name:"web_dm_share_panel_fix",vid:["v1","v2"]},{name:"web_dm_message_reaction",vid:["v1","v2"]},{name:"web_dm_status_msg",vid:["v1","v2","v3","v4"]},{name:"web_dm_heartbeat_optimize",vid:["v1","v2"]},{name:"web_dm_list_load_optimize",vid:["v1","v2"]},{name:"user_cta_optimization_user_phase2",vid:["v0","v1","v2"]},{name:"kep_coin_app",vid:["v0","v1","v2","v3"]},{name:"fyp_hide_music_info",vid:["v0","v1","v2"]},{name:"detail_page_comments_redesign",vid:["v0","v1","v2"]},{name:"enable_autoscroll_moremenu",vid:["v0","v1"]},{name:"enable_video_detail_moremenu_refactor",vid:["v0","v1","v2","v3"]},{name:"kep_reverse_cta_fix",vid:["v0","v1"]},{name:"detail_page_comments_right_side",vid:["v0","v1","v2","v3","v4"]},{name:"fyp_on_detail",vid:["v0","v1","v2"]},{name:"webapp_fyp_cache",vid:["v0","v1"]},{name:"webapp_explore_cache",vid:["v0","v1"]},{name:"aggregation_page_cta_enhancement",vid:["v0","v1","v2"]},{name:"user_page_redesign",vid:["v0","v1"]},{name:"kep_pop_up_auto_dismiss",vid:["v0","v1","v2","v3"]},{name:"kep_returning_popup",vid:["v0","v1","v2"]},{name:"revamp_share_menu",vid:["v0","v1","v2","v3","v4","v5"]},{name:"remove_disclaimer",vid:["v0","v1"]},{name:"player_error_optimize",vid:["v0","v1","v2","v3"]},{name:"video_closed_caption",vid:["v0","v1","v2","v3","v4"]},{name:"video_closed_caption_v2",vid:["v0","v1"]},{name:"video_resolution",vid:["v0","v1","v2","v3"]},{name:"video_resolution_auto",vid:["v0","v1","v2"]},{name:"for_you_page_cta_enhancement",vid:["v0","v1","v2","v3","v4","v5"]},{name:"nav_phase_3",vid:["v0","v1","v2","v3"]},{name:"live_manager_entrance",vid:["v0","v1"]},{name:"image_fetch_priority",vid:["v0","v1"]},{name:"km_webapp_stm",vid:["v0","v1"]},{name:"km_default_limit",vid:["v0","v1"]},{name:"kep_video_skeleton_cta",vid:["v0","v1","v2"]},{name:"feed_change_optimize_image",vid:["v0","v1","v2"]},{name:"feed_change_optimize_ff",vid:["v0","v1","v2"]},{name:"solaria_portrait_service",vid:["v0","v1"]},{name:"enable_post_translation",vid:["v0","v1","v2","v3"]},{name:"global_web_footer",vid:["v0","v1"]},{name:"user_bundle_opt",vid:["v0","v1","v2"]},{name:"kep_click_opt_phase1",vid:["v0","v1","v2","v3"]},{name:"kep_click_opt_phase2",vid:["v0","v1","v2","v3"]},{name:"mobile_android_jump_optimization",vid:["v0","v1","v2"]},{name:"seo_jump_optimization",vid:["v0","v1"]},{name:"guest_mode_interest",vid:["v0","v1","v2"]},{name:"dual_user",vid:["v0","v1","v2","v3"]},{name:"react_upgrade_experiment",vid:["v0","v1"]},{name:"desktop_faas_render",vid:["v1","v2"]},{name:"ui_layout_alignment",vid:["v1","v2","v3"]},{name:"seo_smart_awaken",vid:["v0","v1","v2"]},{name:"live_public_screen_skeleton",vid:["v0","v1"]},{name:"long_video_popup_display_optimization",vid:["false","true"]},{name:"video_reflow_poi_anchor",vid:["v0","v1"]},{name:"search_add_related_search",vid:["v1","v2"]},{name:"should_highlight_hashtag",vid:["v1","v2"]},{name:"hashtag_to_top_search",vid:["v1","v2"]},{name:"it_or_us",vid:["v1","v2"]},{name:"seo_non_us_lite_copy",vid:["v0","v1"]},{name:"fyp_up_down",vid:["v0","v1"]},{name:"video_auto_play_optimize",vid:["v0","v1"]},{name:"mobile_fyp_pwa",vid:["v0","v1","v2","v3"]},{name:"grid_to_fyp",vid:["v0","v1","v2","v3","v4"]},{name:"app_style_share",vid:["v0","v1"]},{name:"all_one_tap_login",vid:["v0","v1"]},{name:"media_card_redesign",vid:["v0","v1"]},{name:"feature_access_control_v2",vid:["v0","v1"]},{name:"kep_exp_migration",vid:["v0","v1","v2"]},{name:"organic_video_streaming",vid:["v0","v1","v2","v3"]},{name:"sharing_video_streaming",vid:["v0","v1","v2","v3","v4","v5"]},{name:"enable_setting_side_nav",vid:["v0","v1"]},{name:"community_notes_starling",vid:["v0","v1"]},{name:"cds_grid_layout",vid:["v0","v1"]},{name:"tt_player_openmse",vid:["v0","v1"]},{name:"enable_creator_comments",vid:["v0","v1"]},{name:"mobile_micro_frontends",vid:["v0","v1"]},{name:"seo_mobile_micro_frontends",vid:["v0","v1","v2"]},{name:"tiktok_stories",vid:["v0","v1"]},{name:"webapp_perf_page_switch",vid:["v0","v1"]},{name:"fyp_resume_progress",vid:["v0","v1"]},{name:"login_passkey",vid:["v0","v1","v2","v3","v4"]},{name:"cthun_predict_buffer",vid:["v0","v1","v2","v3"]},{name:"comments_panel_url",vid:["v0","v1"]},{name:"has_csi_webapp",vid:["v1"]},{name:"desktop_rspack",vid:["v0","v1"]},{name:"desktop_bundle_opt",vid:["v0","v1"]},{name:"mobile_user_story_entry",vid:["v0","v1"]},{name:"push_authorization",vid:["v0","v1","v2"]},{name:"webapp_picture_comments",vid:["v0","v1"]},{name:"feedcoop_consent_box",vid:["v0","v1"]},{name:"feedcoop_react_perf",vid:["v0","v1","v2","v3"]},{name:"webapp_add_shop",vid:["v0","v1","v2","v3","v4"]},{name:"webapp_fyp_cache_login",vid:["v0","v1","v2"]},{name:"kep_redirect_to_search",vid:["v0","v1","v2"]},{name:"webapp_profile_page_caching",vid:["v0","v1"]},{name:"unify_private_account_exit_popup",vid:["v0","v1"]},{name:"tiktok_stories_phase_2",vid:["v0","v1"]},{name:"login_vmok",vid:["v0","v1"]},{name:"change_activity_tab_name",vid:["v0","v1"]},{name:"3_dot_menu_consistency",vid:["v0","v1"]},{name:"webapp_fyp_prefetching_feed",vid:["v0","v1","v2","v3"]},{name:"ai_comment_analysis",vid:["v0","v1"]},{name:"webmssdk_update",vid:["v0","v1"]},{name:"desktop_landing_opt",vid:["v0","v1"]},{name:"explore_chips_unify_experiment",vid:["v0","v1","v2","v3","v4"]},{name:"kep_add_search_bar",vid:["v0","v1"]},{name:"webapp_comment_length",vid:["v0","v1"]},{name:"webapp_suggested_accounts",vid:["v0","v1","v2","v3","v4"]},{name:"nuj_interest_selector",vid:["v0","v1","v2"]},{name:"brazil_12hr_cumulative_play",vid:["v0","v1"]}]},75848:(e,t,o)=>{"use strict";o.d(t,{I0:()=>P,v3:()=>H,Fm:()=>h,L5:()=>j}),o.p,o.p,o.p,o.p,o.p,o.p;var n=o(40099);const i=e=>Object.fromEntries(Object.entries(e).filter(([e,t])=>void 0!==t));var r=o(57363);const a=Object.freeze({XSmall:"XSmall",Small:"Small",Medium:"Medium",Large:"Large",XLarge:"XLarge"}),s=Object.freeze({[a.XSmall]:480,[a.Small]:768,[a.Medium]:1024,[a.Large]:1280,[a.XLarge]:1440}),l=Object.freeze({[a.XSmall]:`@media screen and (max-width: ${s[a.XSmall]}px)`,[a.Small]:`@media screen and (max-width: ${s[a.Small]}px)`,[a.Medium]:`@media screen and (max-width: ${s[a.Medium]}px)`,[a.Large]:`@media screen and (max-width: ${s[a.Large]}px)`,[a.XLarge]:`@media screen and (max-width: ${s[a.XLarge]}px)`});function c(e,...t){return`var(--tux-${e}${t.join("")})`}function d(e){return c("color",e)}function u(e){return c("fontSize",e)}function p(e){return c("fontWeight",e)}function g(e){return c("fontFamily",e)}"object"==typeof document&&document,Object.freeze({modal:9999,toast:1e4});const m=(0,r.A)("span",{target:"eblccp10"})(({nowrap:e,truncate:t,block:o,inline:n,italic:i,underline:r,strikethrough:a,size:s,weight:c,align:m,lineHeight:h,_fontFamily:v,_color:_})=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({boxSizing:"border-box",marginBlockStart:"0",marginBlockEnd:"0"},s&&{fontSize:u(s)}),"H1"===s&&{fontSize:u(s),[l.Medium]:{fontSize:u("H3")}}),"H2"===s&&{fontSize:u(s),[l.Medium]:{fontSize:u("H4")}}),"H3"===s&&{fontSize:u(s),[l.Medium]:{fontSize:u("H5")}}),"H4"===s&&{fontSize:u(s),[l.Medium]:{fontSize:u("H5")}}),"H5"===s&&{fontSize:u(s),[l.Medium]:{fontSize:u("H6")}}),h&&{lineHeight:h}),v&&{fontFamily:g(v)}),c&&{fontWeight:p(c)}),_&&{color:d(_)}),e&&{whiteSpace:"nowrap",overflow:"hidden"}),t&&{textOverflow:"ellipsis"}),n&&!o&&{display:"inline"}),o&&!n&&{display:"block"}),o&&n&&{display:"inline-block"}),!0===i&&{fontStyle:"italic"}),!1===i&&{fontStyle:"normal"}),r&&{textDecoration:"underline"}),a&&{textDecoration:"line-through"}),r&&a&&{textDecoration:"line-through underline"}),m&&{textAlign:m}),"label:TextContainer;");const h=e=>{var{nowrap:t,truncate:o,block:r,inline:a,italic:s,underline:l,strikethrough:c,type:d,align:u,color:p,lineHeight:g,as:h,marginInline:v,marginInlineStart:_,marginInlineEnd:f,marginBlock:b,marginBlockStart:y,marginBlockEnd:w,alignSelf:k,flex:S,deprecatedStyle:C,deprecatedClassName:x,children:P}=e,T=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["nowrap","truncate","block","inline","italic","underline","strikethrough","type","align","color","lineHeight","as","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd","alignSelf","flex","deprecatedStyle","deprecatedClassName","children"]);x&&console.warn('The \'deprecatedClassName\' prop is deprecated. Please use the associated style props instead (e.g. "marginInline", "flex")'),C&&console.warn('The \'deprecatedStyle\' prop is deprecated. Please use the associated style props instead (e.g. "marginInline", "flex")');const O=i({marginInline:v,marginInlineStart:_,marginInlineEnd:f,marginBlock:b,marginBlockStart:y,marginBlockEnd:w,alignSelf:k,flex:S}),[A,E]=(null!=d?d:"").split("-");let L,j,I=E;switch(A){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":I="Bold",L=1.2,j="Heading";break;case"P1":case"P2":case"P3":case"P4":case"P5":L=1.5,j="Paragraph"}return n.createElement(m,Object.assign({as:h,nowrap:t,truncate:o,block:r,inline:a,italic:s,underline:l,strikethrough:c,size:A,weight:I,align:u,_color:p,lineHeight:null!=g?g:L,_fontFamily:j,className:x,style:Object.assign(Object.assign({},C),O)},T),P)};var v=o(75431);const _=e=>{var t=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,[]);return n.createElement("svg",Object.assign({viewBox:"0 0 14 14",fill:"currentColor"},t),n.createElement("path",{d:"M0.333252 6.99967C0.333252 3.31778 3.31802 0.333008 6.99992 0.333008C10.6818 0.333008 13.6666 3.31778 13.6666 6.99967C13.6666 7.36786 13.3681 7.66634 12.9999 7.66634C12.6317 7.66634 12.3333 7.36786 12.3333 6.99967C12.3333 4.05416 9.94544 1.66634 6.99992 1.66634C4.0544 1.66634 1.66659 4.05416 1.66659 6.99967C1.66659 9.94519 4.0544 12.333 6.99992 12.333C8.25704 12.333 9.41093 11.8989 10.3225 11.1719C10.6104 10.9423 11.0298 10.9896 11.2594 11.2774C11.489 11.5653 11.4417 11.9847 11.1539 12.2143C10.0147 13.1229 8.56984 13.6663 6.99992 13.6663C3.31802 13.6663 0.333252 10.6816 0.333252 6.99967Z"}))};var f=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const b=({variant:e,size:t,isLoading:o,block:n})=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({boxSizing:"border-box",appearance:"none",minWidth:"96px",display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",borderStyle:"solid",borderWidth:"1px",borderRadius:"2px",fontFamily:g("Paragraph"),fontWeight:p("Semibold"),textDecoration:"none",cursor:"pointer",backgroundClip:"padding-box"},n&&{display:"flex",width:"100%"}),"small"===t&&{fontSize:u("P4"),height:"28px",paddingInline:"11px"}),"medium"===t&&{fontSize:u("P3"),height:"36px",paddingInline:"15px"}),"large"===t&&{fontSize:u("P3"),height:"48px",paddingInline:"23px"}),"primary"===e&&{color:d("ConstTextInverse"),backgroundColor:d("Primary"),borderColor:d("Primary"),':hover:not(:disabled):not([aria-disabled="true"])':{backgroundColor:d("Primary-tint-8"),borderColor:d("Primary-tint-8")},':active:not(:disabled):not([aria-disabled="true"])':{backgroundColor:d("Primary-tint-12"),borderColor:d("Primary-tint-12")},':disabled, &[aria-disabled="true"]':Object.assign({cursor:"not-allowed"},!o&&{color:d("TextQuaternary"),backgroundColor:d("BGSecondary-tint-8"),borderColor:d("BGSecondary-tint-8")})}),"secondary"===e&&{color:d("TextPrimary"),backgroundColor:d("BGSecondary"),borderColor:d("LineSecondary"),':hover:not(:disabled):not([aria-disabled="true"])':{backgroundColor:d("BGSecondary-tint-4"),borderColor:d("LinePrimary")},':active:not(:disabled):not([aria-disabled="true"])':{backgroundColor:d("BGSecondary-tint-8"),borderColor:d("LinePrimary")},':disabled, &[aria-disabled="true"]':Object.assign({cursor:"not-allowed"},!o&&{color:d("TextQuaternary")})}),"tertiary"===e&&{color:d("Primary"),backgroundColor:d("Primary-opacity-0"),borderColor:d("Primary"),':hover:not(:disabled):not([aria-disabled="true"])':{backgroundColor:d("Primary-opacity-8")},':active:not(:disabled):not([aria-disabled="true"])':{backgroundColor:d("Primary-opacity-12")},':disabled, &[aria-disabled="true"]':Object.assign({cursor:"not-allowed"},!o&&{color:d("TextQuaternary"),borderColor:d("LineSecondary")})}),"const"===e&&{color:d("ConstTextInverse"),backgroundColor:d("ConstBGContainer"),borderColor:d("ConstBGContainer"),':hover:not(:disabled):not([aria-disabled="true"])':{color:d("ConstTextInverse3"),backgroundColor:d("ConstBGContainer2"),borderColor:d("ConstBGContainer2")},':active:not(:disabled):not([aria-disabled="true"])':{color:d("ConstTextInverse3"),backgroundColor:d("ConstBGContainer3"),borderColor:d("ConstBGContainer3")},':disabled, &[aria-disabled="true"]':Object.assign({cursor:"not-allowed"},!o&&{color:d("ConstTextInverse4"),backgroundColor:d("ConstBGContainer2"),borderColor:d("ConstBGContainer2")})}),y=(0,r.A)("button",{target:"e1v8cfre0"})(b,"label:Button;"),w=(0,r.A)("a",{target:"e1v8cfre1"})(b,"label:ButtonAsLink;"),k=(0,r.A)("div",{target:"e1v8cfre2"})(({buttonSize:e,visible:t})=>Object.assign(Object.assign(Object.assign({boxSizing:"border-box",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:t?1:0,overflow:"hidden",svg:{height:"1em",width:"1em",color:"inherit",flexShrink:0}},"small"===e&&{gap:"4px"}),"medium"===e&&{gap:"6px"}),"large"===e&&{gap:"6px"}),"label:ButtonContent;"),S=(0,r.A)("div",{target:"e1v8cfre3"})({boxSizing:"border-box",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"label:ButtonLabel;"),C=(0,v.i7)({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),x=(0,r.A)(_,{target:"e1v8cfre4"})({boxSizing:"border-box",color:"inherit",position:"absolute",height:"16px",width:"16px",animation:`${C} 1s linear infinite`},"label:LoadingIcon;"),P=(0,n.forwardRef)((e,t)=>{var{as:o="button",variant:r="secondary",size:a="medium",label:s,icon:l,loading:c,disabled:d,marginInline:u,marginInlineStart:p,marginInlineEnd:g,marginBlock:m,marginBlockStart:h,marginBlockEnd:v,alignSelf:_,flex:b,deprecatedClassName:C,deprecatedStyle:P}=e,T=f(e,["as","variant","size","label","icon","loading","disabled","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd","alignSelf","flex","deprecatedClassName","deprecatedStyle"]);C&&console.warn('The \'deprecatedClassName\' prop is deprecated. Please use the associated style props instead (e.g. "marginInline", "flex")'),P&&console.warn('The \'deprecatedStyle\' prop is deprecated. Please use the associated style props instead (e.g. "marginInline", "flex")');const O=i({marginInline:u,marginInlineStart:p,marginInlineEnd:g,marginBlock:m,marginBlockStart:h,marginBlockEnd:v,alignSelf:_,flex:b}),A=c||d,E=n.createElement(n.Fragment,null,n.createElement(k,{buttonSize:a,visible:!c},l||null,s?n.createElement(S,null,s):null),c?n.createElement(x,null):null);if("a"===o){const{href:e}=T,o=f(T,["href"]);return n.createElement(w,Object.assign({ref:t,variant:r,size:a,isLoading:c,"aria-disabled":A,href:A?void 0:e,style:Object.assign(Object.assign({},P),O),className:C},o),E)}return n.createElement(y,Object.assign({ref:t,variant:r,size:a,isLoading:c,disabled:A,style:Object.assign(Object.assign({},P),O),className:C},T),E)});P.displayName="TUXButton";var T=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const O=({variant:e,size:t,block:o})=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({boxSizing:"border-box",appearance:"none",height:"1.5em",display:"inline-flex",justifyContent:"center",alignItems:"center",padding:0,fontFamily:g("Paragraph"),fontWeight:p("Semibold"),border:"none",backgroundColor:"transparent",textDecoration:"none",cursor:"pointer",svg:{height:"1em",width:"1em",flexShrink:0}},o&&{display:"flex",width:"100%"}),"P2"===t&&{gap:"4px",fontSize:u("P2")}),"P3"===t&&{gap:"4px",fontSize:u("P3")}),"P4"===t&&{gap:"2px",fontSize:u("P4")}),"P5"===t&&{gap:"2px",fontSize:u("P5")}),"primary"===e&&{color:d("TextPrimary"),':disabled, &[aria-disabled="true"]':{cursor:"not-allowed",color:d("TextQuaternary")}}),"secondary"===e&&{color:d("TextSecondary"),':hover:not(:disabled):not([aria-disabled="true"])':{color:d("TextPrimary")},':disabled, &[aria-disabled="true"]':{cursor:"not-allowed",color:d("TextQuaternary")}}),"tertiary"===e&&{color:d("TextTertiary"),':hover:not(:disabled):not([aria-disabled="true"])':{color:d("TextSecondary")},':disabled, &[aria-disabled="true"]':{cursor:"not-allowed",color:d("TextQuaternary")}}),"brand"===e&&{color:d("Primary"),':hover:not(:disabled):not([aria-disabled="true"])':{color:"#EA284E"},':disabled, &[aria-disabled="true"]':{cursor:"not-allowed",color:d("TextQuaternary")}}),A=(0,r.A)("button",{target:"e18zrus10"})(O,"label:Button;"),E=(0,r.A)("a",{target:"e18zrus11"})(O,"label:ButtonAsLink;"),L=(0,r.A)("div",{target:"e18zrus12"})({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"label:ButtonLabel;"),j=(0,n.forwardRef)((e,t)=>{var{as:o="button",variant:r="secondary",size:a="P3",label:s,icon:l,iconPosition:c="before",disabled:d,marginInline:u,marginInlineStart:p,marginInlineEnd:g,marginBlock:m,marginBlockStart:h,marginBlockEnd:v,alignSelf:_}=e,f=T(e,["as","variant","size","label","icon","iconPosition","disabled","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd","alignSelf"]);const b=i({marginInline:u,marginInlineStart:p,marginInlineEnd:g,marginBlock:m,marginBlockStart:h,marginBlockEnd:v,alignSelf:_}),y=n.createElement(n.Fragment,null,l&&"before"===c?l:null,n.createElement(L,null,s),l&&"after"===c?l:null);if("a"===o){const{href:e}=f,o=T(f,["href"]);return n.createElement(E,Object.assign({ref:t,variant:r,size:a,"aria-disabled":d,href:d?void 0:e,style:b},o),y)}return n.createElement(A,Object.assign({ref:t,variant:r,size:a,disabled:d,style:b},f),y)});j.displayName="TUXTextButton";var I=o(74731);const R=(0,n.createContext)({idRef:null});let M=0;const D=()=>{const{idRef:e}=(0,n.useContext)(R),[t]=(0,n.useState)(()=>{if(e){const t=e.current++;return String(t)}return""});return`tux-${t}`},F=()=>{const[e]=(0,n.useState)(()=>(M++).toString());return`tux-${e}`};const N=e=>{var t=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,[]);return n.createElement("svg",Object.assign({viewBox:"0 0 16 16"},t),n.createElement("circle",{cx:"8",cy:"8",r:"5",fill:"currentColor"}))};const U=e=>{var t=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,[]);return n.createElement("svg",Object.assign({viewBox:"0 0 16 16"},t),n.createElement("circle",{cx:"8",cy:"8",r:"7.25",stroke:"currentColor",fill:"transparent",strokeWidth:"1.5"}))};o.p;const B=e=>{var{disabled:t,marginInline:o,marginInlineStart:r,marginInlineEnd:a,marginBlock:s,marginBlockStart:l,marginBlockEnd:c,alignSelf:d,flex:u}=e,p=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["disabled","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd","alignSelf","flex"]);const g=i({marginInline:o,marginInlineStart:r,marginInlineEnd:a,marginBlock:s,marginBlockStart:l,marginBlockEnd:c,alignSelf:d,flex:u});return n.createElement("div",{"data-tux-radio-button":!0,className:(0,I.A)("_TUXRadioStandalone-container",{"_TUXRadioStandalone-container--disabled":t}),style:g},n.createElement("input",Object.assign({type:"radio","data-tux-radio-input":!0,className:"_TUXRadioStandalone-input",disabled:t},p)),n.createElement(U,{className:"_TUXRadioStandalone-circleOutside"}),n.createElement(N,{className:"_TUXRadioStandalone-circleInside"}))};o.p;const H=e=>{var{id:t,label:o,labelPosition:r="after",marginInline:a,marginInlineStart:s,marginInlineEnd:l,marginBlock:c,marginBlockStart:d,marginBlockEnd:u,alignSelf:p,flex:g,deprecatedClassName:m,deprecatedStyle:v}=e,_=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["id","label","labelPosition","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd","alignSelf","flex","deprecatedClassName","deprecatedStyle"]);m&&console.warn('The \'deprecatedClassName\' prop is deprecated. Please use the associated style props instead (e.g. "marginInline", "flex")'),v&&console.warn('The \'deprecatedStyle\' prop is deprecated. Please use the associated style props instead (e.g. "marginInline", "flex")');const f=i({marginInline:a,marginInlineStart:s,marginInlineEnd:l,marginBlock:c,marginBlockStart:d,marginBlockEnd:u,alignSelf:p,flex:g}),b=(e=>{const{idRef:t}=(0,n.useContext)(R);let o=F;t&&(o=D);const i=o();return null!=e?e:i})(t),y=o?n.createElement("label",{htmlFor:b,className:(0,I.A)("_TUXRadio-label",{"_TUXRadio-label--before":"before"===r,"_TUXRadio-label--after":"after"===r})},n.createElement(h,{color:"TextPrimary",type:"P3-Regular"},o)):null;return n.createElement("div",{className:`_TUXRadio-container ${m}`,style:Object.assign(Object.assign({},v),f)},"before"===r?y:null,n.createElement(B,Object.assign({marginBlockStart:"3px",id:b},_)),"after"===r?y:null)}},76924:(e,t,o)=>{"use strict";o.d(t,{$F:()=>v,TZ:()=>p,WN:()=>g,zm:()=>m});var n=o(67823),i=o(94999),r=o(17592),a=o(91939),s=o(49360),l=o(16402),c=o(24873),d=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const u={LoginNotify:"login_notify",LoginNotifyClose:"login_notify_close",LoginSubmit:"login_submit",LoginSuccess:"login_success",LoginFailure:"login_failure",LoginMethodExpand:"login_method_expand",ClickGoBackButton:"click_go_back_btn",ClickLoginOption:"click_login_button",SwitchAccountSubmit:"switch_account_submit",SwitchAccountClick:"click_switch_account",ManageAccountClick:"click_manage_accounts",AddAccountClick:"click_add_account",DoneEditingClick:"click_done_editing",RemoveNotify:"remove_notify",RemoveSubmit:"remove_submit",RemoveSuccess:"remove_success",RemoveCancel:"remove_cancel",AgeGateShow:"age_gate_show",AgeGateResponse:"age_gate_response",LoginTwoStepNotify:"login_two_step_verification_notify",LoginTwoStepSubmit:"login_two_step_verification_submit",LoginTwoStepResult:"login_two_step_verification_result",ForceResetSuccess:"forced_pwchange_success",ForceResetSubmit:"forced_pwchange_submit",thirdPartyLoginResult:"monitor_login_thirdparty",CheckPointShow:"checkpoint_verification_show",CheckPointResponse:"checkpoint_verification_response",CheckPointTyping:"start_verification_typing",SignUpRegionSource:"sign_up_region_source",EnterSignUp:"enter_sign_up",ShowTikTokOneTap:"show_tiktok_onetap",ShowWaiting:"login_waiting_show",ShowWaitingOneTapPopup:"login_waiting_onetap_popup_show",ShowFailureOneTapPopup:"login_failure_onetap_popup_show",ShowCopyLink:"login_copy_link_show",ClickCopyLink:"login_copy_link_click",FailToOpenApp:"login_fail_before_auth_toast",OneTapSuccessPopupShow:"onetap_success_popup_show",OneTapSuccessPopupClick:"onetap_success_popup_click",M2AppleBackPageShow:"ttac_m2_apple_back_page_show",M2AppleBackPageClick:"ttac_m2_apple_back_page_click",BavClick:"__bav_click",ReactiveConfirm:"reactivate_domain",ReactiveCancel:"login_failure",SMSLimitNotify:"rate_limit_2fa",SMSLimitConfirm:"rate_limit_2fa_password_login",SMSLimitCancel:"rate_limit_2fa_cancel",CursorClick:"web_login_cursor_click",PasskeyClick:"web_login_passkey_click",EnterSetPasskey:"enter_set_passkey",ShowCreatePasskeyPrompt:"show_create_passkey_prompt",RespondCreatePasskeyPrompt:"respond_create_passkey_prompt",ShowCreatePasskeyFailToast:"show_create_passkey_fail_toast",ShowPasskeySavedToast:"show_passkey_saved_toast",CreatePasskeySubmit:"create_passkey_submit",CreatePasskeySuccess:"create_passkey_success",CreatePasskeyFail:"create_passkey_fail",ShowReplacePasskeyPopup:"show_replace_passkey_popup",RespondReplacePasskeyPopup:"respond_replace_passkey_popup",ShowSetPasskeyInfo:"show_set_passkey_info",RespondSetPasskeyInfo:"respond_set_passkey_info"};var p=function(e){return e.ClickSignUp="click_sign_up",e.ClickLogin="click_login",e}({}),g=function(e){return e.Qrcode="QRcode",e.Email="email",e.EmailOrPhoneOrUsername="sms_email_handle",e.Username="handle",e.PhonePassword="phone",e.Sms="sms_verification",e.Repeat="repeatLogin",e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook",e.INSTAGRAM="instagram",e.VK="vk",e.KAKAOTALK="kakaotalk",e.LINE="line",e.APPLE="apple",e.TIKTOK="tiktok",e.Passkey="passkey",e}({}),m=function(e){return e[e.Success=0]="Success",e[e.Failed=1]="Failed",e[e.Cancelled=2]="Cancelled",e}({});const h={};class v{m2AppleTransferPageShow(e){this.event("ttac_m2_bindapple_popup_show",Object.assign({},e))}m2AppleTransferClick(e){this.event("ttac_m2_bindapple_popup_click",Object.assign({},e))}constructor(){this.isPasskeyEligible=0,this.loginPanelType="login",this.setPlatform=e=>{this.platform=e},this.setUiStyle=e=>{e&&(this.uiStyle=e)},this.setEnterMethod=e=>{e&&(this.enter_method=e)},this.setCloseable=e=>{void 0!==e&&(this.closeable=e)},this.setGroupId=e=>{this.groupId=e},this.setLastGroupId=e=>{this.lastGroupId=e},this.setSignUpRegionSourceParams=e=>{this.signUpRegionSourceParams=e},this.setPredictionPayload=e=>{void 0!==e&&(this.predictionPayload=e)},this.event=(e,t,o)=>{h[e]=(h[e]||0)+1;const i=Object.assign({platform:this.platform,report_count:h[e]},t);if(this.uiStyle&&(i.ui_style=this.uiStyle),this.enter_method&&(i.enter_method=this.enter_method),void 0!==this.closeable&&(i.closeable=this.closeable),this.groupId)i.group_id=this.groupId;else if(this.enter_method===c.c.ClickFollow){const e=(0,a.Hd)(s.DK);e&&(i.from_group_id=e)}!this.lastGroupId||this.enter_method!==c.c.ClickTopBar&&this.enter_method!==c.c.ClickNavigation||(i.last_group_id=this.lastGroupId),void 0!==this.predictionPayload&&(i.prediction_payload=this.predictionPayload);try{const e=n.A.get(s.K6);e&&(i.last_login_method=e)}catch(e){console.warn("Failed to retrieve last login method cookie:",e)}o?l.f.beconEvent(e,i):l.f.event(e,i)},this.loginNotify=(e={})=>{this.loginNotifyTimestamp=Date.now();const{e2eInfo:t,click_to_notify_duration:o}=e,n=d(e,["e2eInfo","click_to_notify_duration"]);this.event(u.LoginNotify,Object.assign(Object.assign({click_to_notify_duration:o,login_panel_type:this.loginPanelType},t),n))},this.oneTapShow=({e2eInfo:e}={})=>{this.event(u.ShowTikTokOneTap,e)},this.loginWaitingShow=({e2eInfo:e}={})=>{this.event(u.ShowWaiting,e)},this.pollingOneTapLoginPopupShow=({e2eInfo:e}={})=>{this.event(u.ShowWaitingOneTapPopup,e)},this.failureOneTapLoginPopupShow=e=>{const{error_code:t,e2eInfo:o}=e;this.event(u.ShowFailureOneTapPopup,Object.assign({error_code:t},o))},this.copyLinkShow=()=>{this.event(u.ShowCopyLink)},this.copyLinkClick=()=>{this.event(u.ClickCopyLink)},this.helpCenterClick=e=>{this.event(u.BavClick,Object.assign(Object.assign({},e),{element_title:e.texts}))},this.reactiveConfirmClick=e=>{this.event(u.ReactiveConfirm,Object.assign({page_name:"account_reactivate",texts:"reactivate"},e))},this.reactiveCancelClick=e=>{this.event(u.ReactiveCancel,Object.assign({page_name:"account_reactivate",texts:"cancel"},e))},this.smsCodeLimitTipNotify=()=>{this.event(u.SMSLimitNotify,{page_name:"web_tt_ticket_guard_consumer_response"})},this.smsCodeLimitTipConfirm=()=>{this.event(u.SMSLimitConfirm,{page_name:"web_tt_ticket_guard_consumer_response"})},this.smsCodeLimitTipCancel=()=>{this.event(u.SMSLimitCancel,{page_name:"web_tt_ticket_guard_consumer_response"})},this.updateTeaDataCollectionEnabled=e=>{l.f.setDataCollectionEnabled(e),l.f.config({})},this.loginNotifyClose=e=>{l.f.commonParams.enter_from&&"unknown"!==l.f.commonParams.enter_from&&l.f.config({commonEventParams:{page_name:l.f.commonParams.enter_from}});const{e2eInfo:t,isSignUp:o,enter_method:n}=e;this.event(u.LoginNotifyClose,Object.assign({isSignUp:o,enter_method:n},t)),this.setGroupId(void 0)},this.loginSubmit=e=>{this.loginSubmitTimestamp=Date.now();const t=null!=e?e:{},{signUp:o,e2eInfo:n}=t,i=d(t,["signUp","e2eInfo"]);this.event(u.LoginSubmit,Object.assign(Object.assign({notify_to_submit_duration:this.loginNotifyTimestamp?Date.now()-this.loginNotifyTimestamp:void 0,enter_type:o?"click_sign_up":"click_login",login_panel_type:o?"signup":this.loginPanelType},i),n)),Boolean(o)&&Boolean(this.signUpRegionSourceParams)&&this.event(u.SignUpRegionSource,this.signUpRegionSourceParams)},this.clickLoginOption=(e={})=>{const{isSignUp:t,one_tap_token_source:o,e2eInfo:n}=e;this.event(u.ClickLoginOption,Object.assign({enter_type:t?"click_sign_up":"click_login",one_tap_token_source:o},n))},this.loginSuccess=e=>{var t;"repeatLogin"!==this.platform&&n.A.set("last_login_method",null!==(t=this.platform)&&void 0!==t?t:"",{expires:90,path:"/"});const{is_register:o,signUp:i,e2eInfo:r,bondM2:a,one_tap_token_source:s}=e;this.event(u.LoginSuccess,Object.assign(Object.assign({submit_to_success_duration:this.loginSubmitTimestamp?Date.now()-this.loginSubmitTimestamp:void 0,enter_type:i?"click_sign_up":"click_login",login_panel_type:i?"signup":this.loginPanelType,is_register:o,is_bond_m2:a?1:0},r),{one_tap_token_source:s}),!0)},this.loginFailure=e=>{const{signUp:t,error_code:o,e2eInfo:n,one_tap_token_source:i}=e;this.event(u.LoginFailure,Object.assign({enter_type:t?"click_sign_up":"click_login",login_panel_type:t?"signup":this.loginPanelType,error_code:o,one_tap_token_source:i},n))},this.enterSignUp=({groupId:e,e2eInfo:t}={})=>{this.event(u.EnterSignUp,Object.assign({group_id:e},t))},this.loginMethodExpand=()=>{this.event(u.LoginMethodExpand)},this.clickGoBackButton=()=>{this.event(u.ClickGoBackButton)},this.switchAccountSubmit=()=>{this.event(u.SwitchAccountSubmit)},this.switchAccountClick=()=>{this.event(u.SwitchAccountClick)},this.manageAccountsClick=()=>{this.event(u.ManageAccountClick)},this.addAccountClick=()=>{this.event(u.AddAccountClick)},this.doneEditingClick=()=>{this.event(u.DoneEditingClick)},this.removeNotify=()=>{this.event(u.RemoveNotify)},this.failToOpenApp=e=>{const{message:t,error_code:o,e2eInfo:n}=e;this.event(u.FailToOpenApp,Object.assign({message:t,error_code:o},n))},this.oneTapSuccessPopupShow=e=>{const{e2eInfo:t}=null!=e?e:{};this.event(u.OneTapSuccessPopupShow,t)},this.oneTapSuccessPopupClick=e=>{const{e2eInfo:t}=null!=e?e:{};this.event(u.OneTapSuccessPopupClick,t)},this.removeSubmit=()=>{this.event(u.RemoveSubmit)},this.removeSuccess=()=>{this.event(u.RemoveSuccess)},this.removeCancel=()=>{this.event(u.RemoveCancel)},this.thirdPartyLoginResult=e=>{this.event(u.thirdPartyLoginResult,e)},this.ageGateShow=()=>{this.event(u.AgeGateShow,{enter_type:"click_sign_up"})},this.twoStepNotify=e=>{this.event(u.LoginTwoStepNotify,e)},this.twoStepSubmit=e=>{this.event(u.LoginTwoStepSubmit,e)},this.twoStepResult=e=>{this.event(u.LoginTwoStepResult,e)},this.forceResetSubmit=()=>{this.event(u.ForceResetSubmit)},this.forceResetSuccess=()=>{this.event(u.ForceResetSuccess)},this.checkPointShow=e=>{this.event(u.CheckPointShow,e)},this.checkPointResponse=e=>{this.event(u.CheckPointResponse,e)},this.checkPointTyping=e=>{this.event(u.CheckPointTyping,e)},this.m2AppleBackPageShow=()=>{this.event(u.M2AppleBackPageShow)},this.m2AppleBackPageClick=()=>{this.event(u.M2AppleBackPageClick)}}}v.EVENTS=u,v.getInstance=()=>i.l.getInstance(v),v=function(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}([(0,r._q)({name:"LoginCommonReport@tiktok/tea-events"})],v)},78134:(e,t,o)=>{"use strict";o.d(t,{YI:()=>i,A7:()=>r}),o(40099);var n=o(81085);function i(e,t){var o,i,r,a;if(!window[n.DA]){let e={};try{e=JSON.parse(null!==(i=null===(o=document.getElementById(n.xD))||void 0===o?void 0:o.textContent)&&void 0!==i?i:"{}")}catch(e){console.error("error while parsing rehydration data")}window[n.DA]=e}return null!==(a=null===(r=window[n.DA][null!=t?t:n.LH])||void 0===r?void 0:r[e])&&void 0!==a?a:null}function r(e,t){var o,i;if(null===(o=window[n.DA])||void 0===o?void 0:o[n.$9])throw new Error("set universal data is not allowed after ReactDom kicked in");let r="",a="";"string"==typeof e?r=e:(r=e.key,a=null!==(i=e.scope)&&void 0!==i?i:""),window[n.DA]=window[n.DA]||{[n.cc]:!0},function(e,t,o){let n=e,i=0;for(;n&&i<t.length-1;){const e=t[i];n[e]=n[e]||{},n=n[e],i++}n&&(n[t[i]]=o)}(window[n.DA],[a||n.LH,r],t)}},78285:(e,t,o)=>{"use strict";o.d(t,{h:()=>I});var n=o(99857),i=o(72516),r=o(41353),a=o(24527),s=o(60540),l=o(8801),c=o(31773),d=o(10730),u=o(95169),p=o(80337),g=o(35131),m=o(45290);const h="content-type",v=["application/pdf"],_=["/api/update/profile/","/api/commit/follow/user","/api/comment/publish"],f="webapp-session-referer",b="device_id",y={"Singapore-Central":"sg","US-East":"va","US-EastRed":"in","US-TTP":"ttp","US-TTP2":"ttp2","EU-TTP":"ie","EU-TTP2":"no1a"};class w{constructor(e){this.verify=d.MX,this.isPageVisible=!0,this.isFocus=!0,this.handleAppContext=e=>(0,i.sH)(this,void 0,void 0,function*(){return this.appContext||(this.appContext=yield this.options.getAppContextAsync()),e}),this.handleBizContext=e=>(0,i.sH)(this,void 0,void 0,function*(){this.bizContext||e.ignoreBizContext||(this.bizContext=yield this.options.getBizContextAsync());const{ignoreBizContext:t}=e;return(0,i.Tt)(e,["ignoreBizContext"])}),this.handleQuery=e=>(0,i.sH)(this,void 0,void 0,function*(){var t,o,n,i,r,a,l,c;const d=this.getRiskParams(null!==(t=e.riskParamsType)&&void 0!==t?t:0),u={},p=null===(o=this.bizContext)||void 0===o?void 0:o.canUseQuery,{type:g}=null!==(i=null===(n=this.appContext)||void 0===n?void 0:n.env)&&void 0!==i?i:{type:""},m=null===(r=this.appContext)||void 0===r?void 0:r.odinId,h="ppe"===g||"boe"===g,v=null!==(l=new URLSearchParams(null===(a=window.location)||void 0===a?void 0:a.search).get(b))&&void 0!==l?l:void 0;(p||h)&&v&&(u[b]=v);const _={WebIdLastTime:null===(c=this.appContext)||void 0===c?void 0:c.webIdCreatedTime};m&&(_.odinId=m);const f=(0,s.F0)(),y=f.to?f.dispatchParams:{},w=yield this.options.getExtraParams(e);return e.query=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),e.query),w),y),u),_),e}),this.handleURL=e=>{var t;let{url:o}=e;const n=null!==(t=e.query)&&void 0!==t?t:{};return o.startsWith("http:")||o.startsWith("https:")||(o=`${(0,s.$_)(e.baseUrlType)}${o}`),o=(0,r.stringifyUrl)({url:o,query:n}),e.url=o,e},this.options=e,"undefined"!=typeof window&&((0,p.Gz)(this.handleVisibilityChange.bind(this,!1),this.handleVisibilityChange.bind(this,!0)),this.bindFocusChange())}init(e){return(0,i.sH)(this,void 0,void 0,function*(){const t=yield this.options.getAppContextAsync(e);this.appContext=t})}get csrfToken(){var e,t;return this.appContext,null!==(t=null===(e=this.appContext)||void 0===e?void 0:e.csrfToken)&&void 0!==t?t:""}get(e,t){return this.runFetch(e,Object.assign(Object.assign({},t),{method:"GET"}))}post(e,t={}){var{omitContentType:o=!1}=t,n=(0,i.Tt)(t,["omitContentType"]);const r=new Headers(n.headers);return r.get(h)||o||r.set(h,"application/x-www-form-urlencoded"),n.body||(n.body=""),n.headers=r,this.runFetch(e,Object.assign(Object.assign({},n),{method:"POST"}))}delete(e,t={}){var{omitContentType:o=!1}=t,n=(0,i.Tt)(t,["omitContentType"]);return this.runFetch(e,Object.assign(Object.assign({},n),{method:"DELETE"}))}getRiskParams(e){if(!this.appContext)return{};if(2===e)return{};if((0,p.Hd)(f)||(0,p.J2)(f,document.referrer),1===e)return Object.assign({},(0,l.Y)());const t={};(0,c.Yp)()&&(t.security_verification_aid="1459");const o=navigator.userAgent;return Object.assign(Object.assign({},(0,l.w)(Object.assign(Object.assign({},this.appContext),{isMobile:(0,a.Ny)(o),os:(0,a.R0)(o)}),this.isPageVisible,this.isFocus)),t)}runFetch(e,t){var o,n,r,{credentials:a="include"}=t,s=(0,i.Tt)(t,["credentials"]);return(0,i.sH)(this,void 0,void 0,function*(){let t=Object.assign({url:e,credentials:a},s);t=yield Promise.all([this.options.beforeHandleQuery(t),this.handleAppContext(t),this.handleBizContext(t)]).then(([,,e])=>this.handleQuery(e)).then(e=>this.handleURL(e));const{url:l}=t,c=(0,i.Tt)(t,["url"]),d=new Set(["query","riskParamsType","baseUrlType","requireSecSdk"]),u=Object.keys(c).reduce((e,t)=>(d.has(t)||(e[t]=c[t]),e),{});return u.credentials=a,null===(n=(o=this.options).beforeFetch)||void 0===n||n.call(o,l,null!==(r=s.method)&&void 0!==r?r:"GET"),this.fetchData(l,u)})}fetchData(e,t){var o,n,r,a,l,d,p,_,f,b,y,w,k,S,C,x,P,T,O,A,E,L;return(0,i.sH)(this,void 0,void 0,function*(){let i;try{i=yield window.fetch.call(null,e,t)}catch(e){return Promise.reject(e)}if(i){if(i.status>=400)return(0,g.Gy)(i,e),Promise.reject(i);{const g=i.headers.get(h);if(null==g?void 0:g.includes("application/json"))try{let g=i.headers.has(c.Si)?JSON.parse(null!==(o=i.headers.get(c.Si))&&void 0!==o?o:"{}"):yield i.json();const h=this._getVerifyJson(g,e),v="TTP"===(null===(n=this.appContext)||void 0===n?void 0:n.clusterRegion),T=(null===(r=this.bizContext)||void 0===r?void 0:r.idc)?(0,u.v)(this.bizContext.idc):null===(a=this.bizContext)||void 0===a?void 0:a.vregion;i.headers.has(c.Si)&&(null===(l=this.options)||void 0===l?void 0:l.reportFn)&&(null===(f=null===(_=null===(p=(d=this.options).reportFn)||void 0===p?void 0:p.call(d))||void 0===_?void 0:_.context)||void 0===f||f.call(_,{firstScreenRequest:"abort",verify:"1"}));const O=yield this.verify.checkVerify(h,null!==(y=null===(b=this.appContext)||void 0===b?void 0:b.wid)&&void 0!==y?y:"0",v,s.si.captcha,{lang:null===(w=this.appContext)||void 0===w?void 0:w.language,userMode:(0,m.n)({isVA:"US-TTP"===T||"US-TTP2"===T,isLogin:Boolean(null===(k=this.appContext)||void 0===k?void 0:k.user),isFTC:null!==(x=null===(C=null===(S=this.appContext)||void 0===S?void 0:S.user)||void 0===C?void 0:C.ftcUser)&&void 0!==x&&x,isHighRisk:!1,isEU:(null==T?void 0:T.startsWith("EU-TTP"))||"US-EAST-RED"===T})});return 0===O?((null===(P=this.options)||void 0===P?void 0:P.onJsonResponse)&&(g=this.options.onJsonResponse({response:i,config:t,json:g})),g):2===O?this.fetchData(e,t):{statusCode:-1}}catch(e){return null===(E=null===(A=null===(O=null===(T=this.options)||void 0===T?void 0:T.reportFn)||void 0===O?void 0:O.call(T))||void 0===A?void 0:A.context)||void 0===E||E.call(A,{firstScreenRequest:"abort"}),Promise.reject(i)}else{if(null===(L=i.headers.get(h))||void 0===L?void 0:L.includes("text/"))return i.text();if(-1!==v.indexOf(String(g)))return i.blob();if(null==g?void 0:g.includes("application/x-protobuf"))return i.arrayBuffer()}return i.text()}}})}_getVerifyJson(e,t){var o,n,i,r;const a=e.status_code||e.code,l=a===c.CQ,d=a===c.Zu;if(_.some(e=>t.includes(e))&&(l||d)){const{idc:e}=null!==(o=this.bizContext)&&void 0!==o?o:{},t=(0,u.v)(e);return{code:"10000",from:"shark_admin",type:"verify",version:1,region:null!==(r=null!==(n=y[t])&&void 0!==n?n:c.sG[null!==(i=s.si.kind)&&void 0!==i?i:""])&&void 0!==r?r:"va",subtype:l?"slide":"text",verify_event:"",detail:{},fp:-1}}return e}handleVisibilityChange(e){this.isPageVisible=e}bindFocusChange(){const e=()=>{this.isFocus=!0},t=()=>{this.isFocus=!1};return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}}}var k=o(16402),S=o(67394),C=o(20013),x=o(33358),P=o(94405),T=o(16168),O=o(15920),A=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function E(e){return A(this,void 0,void 0,function*(){if(P.Qf.loaded)return;const{url:t,method:o,needSign:n}=e;let i=Boolean(T.U8.some(e=>Boolean(t.match(new RegExp(e))))||t.startsWith("/")&&!t.startsWith("//")&&"GET"===o&&!T.zv.some(e=>Boolean(t.match(new RegExp(e)))));if(i=i&&!n,!i&&(yield P.Qf.load(),e.requireSecSdk&&!P.Qf.sdks[1].initialized))throw new Error("secsdk load error")})}function L(e){return A(this,void 0,void 0,function*(){if(P.er.loaded)return;const{url:t,method:o}=e;"POST"===o&&T.VF.some(e=>Boolean(t.match(new RegExp(e))))&&(yield P.er.load())})}function j(e){return A(this,void 0,void 0,function*(){const{url:t}=e,o=P.Fs.some(e=>Boolean(t.match(new RegExp(e))));!P.ZC.loaded&&o&&(yield P.ZC.load())})}const I=(0,n.U)("fetch@tiktok/webapp-common",()=>new w({getBizContextAsync:S.h,getAppContextAsync:C.zI,getExtraParams:e=>A(void 0,void 0,void 0,function*(){var t,o,n;const i=yield(0,S.h)();let r={};return(null==i||null==(n=i.liveCommonConfig)?void 0:n.regionEntry)&&[s.Z4.Webcast,s.Z4.AutoWebcastMOrT,s.Z4.WebcastT].includes(null!==(t=e.baseUrlType)&&void 0!==t?t:s.Z4.None)&&(r={channel:"local_test",carrier_region:null!==(o=localStorage.getItem("LIVE_OFFICE_REGION"))&&void 0!==o?o:"TW"}),Object.assign(Object.assign({},r),{from_page:(0,x.sn)(location.pathname)})}),beforeHandleQuery:e=>A(void 0,void 0,void 0,function*(){yield Promise.all([E(e),L(e),j(e)]).catch(e=>{throw e});try{[P.ZC,P.Qf,P.er].forEach(t=>{t.time&&t.time.forEach(t=>(0,O.B9)(Object.assign(Object.assign({},t),{api:e.url})))})}catch(e){console.error("sdkLogger error",e)}return e}),beforeFetch:(e,t)=>{k.f.sendEvent("api_request",{api_path:e,method:t})},onJsonResponse:e=>A(void 0,void 0,void 0,function*(){const{response:t,json:o}=e,n=t.headers.get("x-tt-logid");return o.__headers={url:t.url,log_id:n},o}),reportFn:()=>O.EA}))},78618:(e,t,o)=>{"use strict";o.d(t,{i_:()=>a,uk:()=>s,qm:()=>u}),o(41353);var n=o(26558),i=o(26946);const r=/(facebookexternalhit|whatsapp|twitterbot|developers\.snap\.com\/robots|Linespider|LinkedInBot|Discordbot|TelegramBot|LarkBot|vk\.com\/dev\/Share)|redditbot/i;var a;!function(e){e.WebApp="Webapp",e.Analytics="MT_Analytics",e.Reflow="MT_Reflow",e.Login="WebApp_Login",e.POI="poi_web",e.RechargeReferral="Webapp_recharge_referral",e.AccountServer="account_server"}(a||(a={}));const s=(e="")=>"zh-Hans"===e?e:e.split("-")[0].replace("zh","zh-Hant")||e||i.Nm;function l(e){let t;return t=Array.isArray(e)?e[e.length-1]:null!=e?e:"",t}function c(e){const t=l(e).toLocaleLowerCase();return!!t&&i.TZ.has(t)}function d(e){var t,o;const n=l(e).toLocaleLowerCase();if(c(n))return null!==(t=i.TZ.get(n))&&void 0!==t?t:i.Nm;const r=s(n).toLowerCase();return null!==(o=i.TZ.get(r))&&void 0!==o?o:i.Nm}function u(e){var t,o;const{pathname:a,query:s}=(0,n.xw)(),{userAgent:l,acceptLanguage:u}=(0,n.T6)();let p=(null!=e?e:a).split("/")[1];if(function(e){return Boolean(e.startsWith("/download"))||Boolean(e.startsWith("/download-video"))}(null!=e?e:a)&&(p=(null!=e?e:a).split("/")[2]),p&&c(p))return d(p);const{lang:g,langCountry:m,language:h,sharer_language:v}=s,_=[m,g,h];r.test(l)&&_.push(v);for(const e of _)if(e&&c(e))return d(e);const f=(0,n.MJ)(i.WU);if(f&&c(f))return d(f);const b=null===(t=l.match(/ByteFullLocale\/([\w\-_]+)/))||void 0===t?void 0:t[1];if(b&&c(b))return d(b);const y=null===(o=l.match(/ByteLocale\/([\w\-_]+)/))||void 0===o?void 0:o[1];if(y&&c(y))return d(y);for(const e of u)if(e&&c(e))return d(e);return v&&c(v)?d(v):/yandex\.com\/bots/i.test(l)?d("ru-RU"):i.Nm}},78854:(e,t,o)=>{"use strict";o.d(t,{V:()=>n,X:()=>i});const n=(e,t,o)=>{switch(e){case 1027:case 3250:return"common_registration_username_error_format";case 3251:return"common_registration_username_error_short";case 3252:return"common_registration_username_error_long";case 3253:return"common_registration_username_error_period";case 3254:return"common_registration_username_error_number";case 1024:case 1028:return"common_registration_username_error_ sensitivity";case 0:return;default:return null!=o?o:t?"common_registration_username_error_occupied":"common_registration_username_error_ sensitivity"}},i=e=>-1!==[1340,1341].indexOf(e)||-1!==[2025,2031,2046].indexOf(e)||-1!==[1357,1384].indexOf(e)},78957:(e,t,o)=>{"use strict";o.d(t,{r:()=>a});var n=o(72828),i=o.n(n);const r=e=>{const t=[],o=Object.keys(e);for(const n of o){const o=e[n],r=Array.isArray(o)?o:[o];for(const e of r)t.push({re:i()(e),route:{name:n,path:e}})}return t};function a(e){const t=r(e);return e=>{for(const o of t)if(o.re.test(e))return o.route;return null}}},79386:(e,t,o)=>{"use strict";o.d(t,{mD:()=>n,NX:()=>i,gb:()=>r});var n=function(e){return e.OS="os",e.BROWSER_BRAND="browser_brand",e.SCREEN_RESOLUTION="screen_resolution",e.SCREEN_ORIENTATION="screen_orientation",e.CPU_CORE_NUMBER="cpu_core_number",e.NETWORK_DOWNLINK="network_downlink",e.NETWORK_RTT="network_rtt",e.NETWORK_SPEED_EFFECTIVE_TYPE="network_speed_effective_type",e.REGION="region",e.LAUNCH_MODE="launch_mode",e.LANDING_PAGE="landing_page",e.LANGUAGE_SYSTEM="language_system",e.LANGUAGE_APP="language_app",e.FIRST_ACTIVE_DATE="first_active_date",e.TIMEZONE="timezone",e.TIME_OF_DAY_LANDING="time_of_day_landing",e.DAY_OF_WEEK="day_of_week",e.IS_NEW_USER="is_new_user",e.IS_LOCAL_DAYTIME="is_local_daytime",e.IS_LOGIN="is_login",e.MAX_TOUCH_POINTS="max_touch_points",e.RET_ACC="ret_acc",e.SESSION_CNT="session_cnt",e.STAY_DURATION="stay_duration",e.SESSION_LAST_UPDATE_TIME="session_last_update_time",e.LOGIN_DAYS_COUNT="login_days_count",e.LOGIN_SUMBIT_COUNT="login_submit_count",e.LOING_BUTTON_CLICKED_COUNT="login_button_clicked_count",e.LOGIN_NOTIFY_TIME_STAMP="login_notify_time_stamp",e.TOGGLE_DARK_MODE_COUNT="toggle_dark_mode_count",e.TOGGLE_LIGHT_MODE_COUNT="toggle_light_mode_count",e.TOTAL_SCORE="total_score",e.HARDWARE_SCORE="hardware_score",e}({});const i=["event_name","page_name","enter_method","platform","play_mode","popup_type","previous_page","enter_from"],r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},{os:{available_values:["windows","mac","linux","ios","chromeos"],is_snapshot:!0},browser_brand:{available_values:["chrome","edge","safari","firefox"],is_snapshot:!0},screen_resolution:{is_snapshot:!0},screen_orientation:{is_snapshot:!0},cpu_core_number:{is_snapshot:!0},network_downlink:{is_snapshot:!0},network_rtt:{is_snapshot:!0},network_speed_effective_type:{available_values:["slow-2g","2g","3g","4g"],is_snapshot:!0},region:{available_values:["US","VN","JP","SG","BR","ID","FR","GB","PH","CA","DE","TH","MX","ES","PE","RU","AU","CO","DZ","UA","MY","KR","TR","AR","NL","IT","PL","TW","FI","PK","SA","EC","CL","EG","ZA","SE","KZ","RO","AE","BE"],is_snapshot:!0},launch_mode:{available_values:["organic","reflow","direct","referral","referral_embed","msft","webapp_reflow","pwa","twa","referral_creator_embed","push","referral_amp","referral_tiktok_browse","referral_music_embed","referral_hashtag_embed","referral_curated_embed","launch_mode_win_desktop_app","launch_mode_mac_desktop_app"],is_snapshot:!0},landing_page:{available_values:["homepage_hot","video_detail","others_homepage","discover_kw","explore_page","login","personal_homepage","general_search"],is_snapshot:!0},language_system:{available_values:["en-us","vi-vn","es-es","en-gb","zh-cn","pt-br","es-419","ja","ru-ru","fr-fr","de-de","th-th","es","vi","id-id","fr","es-us","ru","tr-tr","en"],is_snapshot:!0},language_app:{available_values:["en","es","vi-VN","pt-BR","zh-Hans","ru-RU","null","ja-JP","id-ID","th-TH","ar","fr","tr-TR","ko-KR","zh-Hant-TW"],is_snapshot:!0},first_active_date:{is_snapshot:!0},timezone:{is_snapshot:!0},time_of_day_landing:{is_snapshot:!0},day_of_week:{is_snapshot:!0},is_new_user:{is_snapshot:!0},is_local_daytime:{is_snapshot:!0},is_login:{is_snapshot:!0},max_touch_points:{is_snapshot:!0}}),{ret_acc:{},session_cnt:{},stay_duration:{},vv:{event_name:"video_play"},vv_finish:{event_name:"video_play_finish"},preview_vv:{event_name:"preview_video_play"},play_duration:{event_name:"play_time",aggregate_field:"duration"},page_view:{event_name:"page_view"},hot_page_view:{event_name:"page_view",page_name:"homepage_hot"},hot_vv:{event_name:"video_play",page_name:"homepage_hot"},hot_vv_finish:{event_name:"video_play_finish",page_name:"homepage_hot"},hot_play_duration:{event_name:"play_time",page_name:"homepage_hot",aggregate_field:"duration"},video_detail_page_view:{event_name:"page_view",page_name:"video_detail"},video_detail_vv:{event_name:"video_play",page_name:"video_detail"},video_detail_vv_finish:{event_name:"video_play_finish",page_name:"video_detail"},video_detail_play_duration:{event_name:"play_time",page_name:"video_detail",aggregate_field:"duration"},others_profile_page_view:{event_name:"page_view",page_name:"others_homepage"},others_profile_vv:{event_name:"video_play",page_name:"others_homepage"},others_profile_preview_vv:{event_name:"preview_video_play",page_name:"others_homepage"},others_profile_vv_finish:{event_name:"video_play_finish",page_name:"others_homepage"},others_profile_play_duration:{event_name:"play_time",page_name:"others_homepage",aggregate_field:"duration"},explore_page_view:{event_name:"page_view",page_name:"explore_page"},explore_page_preview_vv:{event_name:"preview_video_play",page_name:"explore_page"},explore_page_vv:{event_name:"video_play",page_name:"explore_page"},explore_page_vv_finish:{event_name:"video_play_finish",page_name:"explore_page"},explore_page_play_duration:{event_name:"play_time",page_name:"explore_page",aggregate_field:"duration"},self_profile_page_view:{event_name:"page_view",page_name:"personal_homepage"},self_profile_vv:{event_name:"video_play",page_name:"personal_homepage"},song_detail_page_view:{event_name:"page_view",page_name:"single_song"},song_detail_vv:{event_name:"video_play",page_name:"single_song"},song_detail_vv_finish:{event_name:"video_play_finish",page_name:"single_song"},song_detail_play_duration:{event_name:"play_time",page_name:"single_song",aggregate_field:"duration"},challenge_page_view:{event_name:"page_view",page_name:"challenge"},challenge_vv:{event_name:"video_play",page_name:"challenge"},challenge_vv_finish:{event_name:"video_play_finish",page_name:"challenge"},challenge_play_duration:{event_name:"play_time",page_name:"challenge",aggregate_field:"duration"},discover_kw_page_view:{event_name:"page_view",page_name:"discover_kw"},discover_kw_vv:{event_name:"video_play",page_name:"discover_kw"},discover_kw_vv_finish:{event_name:"video_play_finish",page_name:"discover_kw"},discover_kw_play_duration:{event_name:"play_time",page_name:"discover_kw",aggregate_field:"duration"},follow_vv:{event_name:"video_play",page_name:"homepage_follow"},live_recharge_page_view:{event_name:"page_view",page_name:"live_recharge"},business_suite_page_view:{event_name:"enter_business_suite"},slardar_perf_lcp_acc:{event_name:"slardar_perf_lcp",aggregate_field:"metric_duration",count_field_name:"slardar_perf_lcp_cnt",is_avg:!0},slardar_perf_lcp_cnt:{event_name:"slardar_perf_lcp",should_skip_sending:!0},slardar_perf_fcp_acc:{event_name:"slardar_perf_fcp",aggregate_field:"metric_duration",count_field_name:"slardar_perf_fcp_cnt",is_avg:!0},slardar_perf_fcp_cnt:{event_name:"slardar_perf_fcp",should_skip_sending:!0},login_page_view:{event_name:"page_view",page_name:"login"},general_search_page_view:{event_name:"page_view",page_name:"general_search"},messages_page_view:{event_name:"page_view",page_name:"messages"},upload_page_view:{event_name:"page_view",page_name:"upload"},live_detail_page_view:{event_name:"page_view",page_name:"live_detail"}}),{search_cnt:{event_name:"search"},app_download_cnt:{event_name:"click_get_app_for_pc"},auto_scroll_cnt:{event_name:"autoscroll_on"},muted_cnt:{event_name:"switch_sound"},floating_player_cnt:{event_name:"enter_mini_player"},report_cnt:{event_name:"click_report"},not_interested_cnt:{event_name:"dislike"},publish_cnt:{event_name:"click_upload_entrance"},push_cnt:{event_name:"browser_push_notifications_show"},update_profile_cnt:{event_name:"save_profile"},livesdk_studio_download_cnt:{event_name:"livesdk_web_livestudio_download"},send_message_cnt:{event_name:"send_message"},share_to_friends_cnt:{event_name:"share_video",platform:"message"},like_cnt:{event_name:"like"},comment_cnt:{event_name:"post_comment"},follow_cnt:{event_name:"follow"},favourite_cnt:{event_name:"favourite_video"},browser_mode_vv:{event_name:"video_play",play_mode:"browser_mode"},playlist_vv:{event_name:"video_play",popup_type:"playlist"},repost_cnt:{event_name:"repost_success"},share_cnt:{event_name:"share_video"},video_download_cnt:{event_name:"click_download"},left_navigation_suggested_account_visit_cnt:{event_name:"enter_personal_detail",enter_method:["click_navigation"]},creator_tab_show_cnt:{event_name:"from_this_creator_tab_show"},login_notify_cnt_periodic:{event_name:"login_notify",enter_method:["periodic_popup"]},login_notify_cnt_non_periodic:{event_name:"login_notify",enter_method:["click_like","click_comment","click_follow","click_top_bar","click_navigation","click_favorite"]},login_days_cnt:{},login_submit_cnt:{event_name:"login_submit"},login_button_clicked_cnt:{event_name:"login_notify",enter_method:["click_top_bar","click_navigation"]},login_popup_duration:{event_name:"login_notify_close",start_event_name:"login_notify_time_stamp",count_field_name:"login_notify_close_cnt",is_time_stamp:!0},login_notify_time_stamp:{event_name:"login_notify",enter_method:["click_like","click_comment","click_follow","click_top_bar","click_navigation","click_favorite"],aggregate_field:"time_stamp",should_skip_sending:!0},login_notify_close_cnt:{event_name:"login_notify_close",should_skip_sending:!0},toggle_dark_mode_cnt:{event_name:"dark_mode_click"},video_pause_by_switch_tab_cnt:{event_name:"video_pause",enter_method:["switch_tab"]},like_cnt_non_login:{event_name:"login_notify",enter_method:["click_like"]},comment_cnt_non_login:{event_name:"login_notify",enter_method:["click_comment"]},follow_cnt_non_login:{event_name:"login_notify",enter_method:["click_follow"]},favorite_cnt_non_login:{event_name:"login_notify",enter_method:["click_favorite"]}}),{item_avg_freshness:{event_name:"video_play",aggregate_field:"video_freshness",count_field_name:"vv",is_avg:!0},item_avg_duration:{event_name:"video_play",aggregate_field:"video_duration",count_field_name:"vv",is_avg:!0},item_avg_like_history:{event_name:"video_play",aggregate_field:"video_like_history",count_field_name:"vv",is_avg:!0},item_avg_vv_history:{event_name:"video_play",aggregate_field:"video_vv_history",count_field_name:"vv",is_avg:!0},item_avg_share_history:{event_name:"video_play",aggregate_field:"video_share_history",count_field_name:"vv",is_avg:!0},item_avg_comment_history:{event_name:"video_play",aggregate_field:"video_comment_history",count_field_name:"vv",is_avg:!0},item_avg_favorite_history:{event_name:"video_play",aggregate_field:"video_favorite_history",count_field_name:"vv",is_avg:!0},item_avg_resolution:{event_name:"video_play",aggregate_field:"video_resolution",count_field_name:"vv",is_avg:!0},item_portrait:{event_name:"video_play",aggregate_field:"video_is_portrait",count_field_name:"vv",is_avg:!0},item_100k_vv_vv:{event_name:"video_play",aggregate_field:"video_100k_vv"},creator_bluev_vv:{event_name:"video_play",aggregate_field:"video_creator_bluev"},creator_1k_follower_vv:{event_name:"video_play",aggregate_field:"video_creator_1k_follower"},creator_10k_follower_vv:{event_name:"video_play",aggregate_field:"video_creator_10k_follower"},creator_100k_follower_vv:{event_name:"video_play",aggregate_field:"video_creator_100k_follower"}}),{hot_like_cnt:{event_name:"like",page_name:"homepage_hot"},hot_comment_cnt:{event_name:"post_comment",page_name:"homepage_hot"},hot_follow_cnt:{event_name:"follow",page_name:"homepage_hot"},hot_favourite_cnt:{event_name:"favourite_video",page_name:"homepage_hot"},hot_browser_mode_vv:{event_name:"video_play",play_mode:"browser_mode",page_name:"homepage_hot"},hot_share_cnt:{event_name:"share_video",page_name:"homepage_hot"},hot_item_avg_freshness:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_freshness",count_field_name:"hot_vv",is_avg:!0},hot_item_avg_duration:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_duration",count_field_name:"hot_vv",is_avg:!0},hot_item_avg_like_history:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_like_history",count_field_name:"hot_vv",is_avg:!0},hot_item_avg_vv_history:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_vv_history",count_field_name:"hot_vv",is_avg:!0},hot_item_avg_share_history:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_share_history",count_field_name:"hot_vv",is_avg:!0},hot_item_avg_comment_history:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_comment_history",count_field_name:"hot_vv",is_avg:!0},hot_item_avg_favorite_history:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_favorite_history",count_field_name:"hot_vv",is_avg:!0},hot_item_avg_resolution:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_resolution",count_field_name:"hot_vv",is_avg:!0},hot_item_portrait:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_is_portrait",count_field_name:"hot_vv",is_avg:!0},hot_item_100k_vv_vv:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_100k_vv"},hot_creator_bluev_vv:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_creator_bluev"},hot_creator_1k_follower_vv:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_creator_1k_follower"},hot_creator_10k_follower_vv:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_creator_10k_follower"},hot_creator_100k_follower_vv:{event_name:"video_play",page_name:"homepage_hot",aggregate_field:"video_creator_100k_follower"},hot_to_video_detail_page_view:{event_name:"page_view",page_name:"video_detail",previous_page:"homepage_hot"},hot_to_explore_page_view:{event_name:"enter_explore_page",enter_from:"homepage_hot"},hot_to_follow_page_view:{event_name:"enter_homepage_follow",enter_from:"homepage_hot"},hot_to_other_profile_view:{event_name:"enter_personal_detail",enter_from:"homepage_hot"},hot_slardar_perf_lcp_acc:{event_name:"slardar_perf_lcp",page_name:"homepage_hot",aggregate_field:"metric_duration",count_field_name:"hot_slardar_perf_lcp_cnt",is_avg:!0},hot_slardar_perf_lcp_cnt:{event_name:"slardar_perf_lcp",page_name:"homepage_hot",should_skip_sending:!0}}),{explore_like_cnt:{event_name:"like",page_name:"explore_page"},explore_comment_cnt:{event_name:"post_comment",page_name:"explore_page"},explore_follow_cnt:{event_name:"follow",page_name:"explore_page"},explore_favourite_cnt:{event_name:"favourite_video",page_name:"explore_page"},explore_browser_mode_vv:{event_name:"video_play",play_mode:"browser_mode",page_name:"explore_page"},explore_share_cnt:{event_name:"share_video",page_name:"explore_page"},explore_item_avg_freshness:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_freshness",count_field_name:"explore_page_vv",is_avg:!0},explore_item_avg_duration:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_duration",count_field_name:"explore_page_vv",is_avg:!0},explore_item_avg_like_history:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_like_history",count_field_name:"explore_page_vv",is_avg:!0},explore_item_avg_vv_history:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_vv_history",count_field_name:"explore_page_vv",is_avg:!0},explore_item_avg_share_history:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_share_history",count_field_name:"explore_page_vv",is_avg:!0},explore_item_avg_comment_history:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_comment_history",count_field_name:"explore_page_vv",is_avg:!0},explore_item_avg_favorite_history:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_favorite_history",count_field_name:"explore_page_vv",is_avg:!0},explore_item_avg_resolution:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_resolution",count_field_name:"explore_page_vv",is_avg:!0},explore_item_portrait:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_is_portrait",count_field_name:"explore_page_vv",is_avg:!0},explore_item_100k_vv_vv:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_100k_vv"},explore_creator_bluev_vv:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_creator_bluev"},explore_creator_1k_follower_vv:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_creator_1k_follower"},explore_creator_10k_follower_vv:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_creator_10k_follower"},explore_creator_100k_follower_vv:{event_name:"video_play",page_name:"explore_page",aggregate_field:"video_creator_100k_follower"},explore_to_video_detail_page_view:{event_name:"page_view",page_name:"video_detail",previous_page:"explore_page"},explore_to_hot_page_view:{event_name:"enter_homepage_hot",enter_from:"explore_page"},explore_to_follow_page_view:{event_name:"enter_homepage_follow",enter_from:"explore_page"},explore_to_other_profile_view:{event_name:"enter_personal_detail",enter_from:"explore_page"},explore_slardar_perf_lcp_acc:{event_name:"slardar_perf_lcp",page_name:"explore_page",aggregate_field:"metric_duration",count_field_name:"explore_slardar_perf_lcp_cnt",is_avg:!0},explore_slardar_perf_lcp_cnt:{event_name:"slardar_perf_lcp",page_name:"explore_page",should_skip_sending:!0}}),{follow_like_cnt:{event_name:"like",page_name:"homepage_follow"},follow_comment_cnt:{event_name:"post_comment",page_name:"homepage_follow"},follow_follow_cnt:{event_name:"follow",page_name:"homepage_follow"},follow_favourite_cnt:{event_name:"favourite_video",page_name:"homepage_follow"},follow_browser_mode_vv:{event_name:"video_play",play_mode:"browser_mode",page_name:"homepage_follow"},follow_share_cnt:{event_name:"share_video",page_name:"homepage_follow"},follow_item_avg_freshness:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_freshness",count_field_name:"follow_vv",is_avg:!0},follow_item_avg_duration:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_duration",count_field_name:"follow_vv",is_avg:!0},follow_item_avg_like_history:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_like_history",count_field_name:"follow_vv",is_avg:!0},follow_item_avg_vv_history:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_vv_history",count_field_name:"follow_vv",is_avg:!0},follow_item_avg_share_history:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_share_history",count_field_name:"follow_vv",is_avg:!0},follow_item_avg_comment_history:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_comment_history",count_field_name:"follow_vv",is_avg:!0},follow_item_avg_favorite_history:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_favorite_history",count_field_name:"follow_vv",is_avg:!0},follow_item_avg_resolution:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_resolution",count_field_name:"follow_vv",is_avg:!0},follow_item_portrait:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_is_portrait",count_field_name:"follow_vv",is_avg:!0},follow_item_100k_vv_vv:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_100k_vv"},follow_creator_bluev_vv:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_creator_bluev"},follow_creator_1k_follower_vv:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_creator_1k_follower"},follow_creator_10k_follower_vv:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_creator_10k_follower"},follow_creator_100k_follower_vv:{event_name:"video_play",page_name:"homepage_follow",aggregate_field:"video_creator_100k_follower"},follow_to_video_detail_page_view:{event_name:"page_view",page_name:"video_detail",previous_page:"homepage_follow"},follow_to_explore_page_view:{event_name:"enter_explore_page",enter_from:"homepage_follow"},follow_to_hot_page_view:{event_name:"enter_homepage_hot",enter_from:"homepage_follow"},follow_to_other_profile_view:{event_name:"enter_personal_detail",enter_from:"homepage_follow"},follow_slardar_perf_lcp_acc:{event_name:"slardar_perf_lcp",page_name:"homepage_follow",aggregate_field:"metric_duration",count_field_name:"follow_slardar_perf_lcp_cnt",is_avg:!0},follow_slardar_perf_lcp_cnt:{event_name:"slardar_perf_lcp",page_name:"homepage_follow",should_skip_sending:!0}}),{video_detail_like_cnt:{event_name:"like",page_name:"video_detail"},video_detail_comment_cnt:{event_name:"post_comment",page_name:"video_detail"},video_detail_follow_cnt:{event_name:"follow",page_name:"video_detail"},video_detail_favourite_cnt:{event_name:"favourite_video",page_name:"video_detail"},video_detail_share_cnt:{event_name:"share_video",page_name:"video_detail"},video_detail_item_avg_freshness:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_freshness",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_avg_duration:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_duration",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_avg_like_history:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_like_history",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_avg_vv_history:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_vv_history",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_avg_share_history:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_share_history",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_avg_comment_history:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_comment_history",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_avg_favorite_history:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_favorite_history",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_avg_resolution:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_resolution",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_portrait:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_is_portrait",count_field_name:"video_detail_vv",is_avg:!0},video_detail_item_100k_vv_vv:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_100k_vv"},video_detail_creator_bluev_vv:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_creator_bluev"},video_detail_creator_1k_follower_vv:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_creator_1k_follower"},video_detail_creator_10k_follower_vv:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_creator_10k_follower"},video_detail_creator_100k_follower_vv:{event_name:"video_play",page_name:"video_detail",aggregate_field:"video_creator_100k_follower"},video_detail_to_hot_page_view:{event_name:"enter_homepage_hot",enter_from:"video_detail"},video_detail_to_explore_page_view:{event_name:"enter_explore_page",enter_from:"video_detail"},video_detail_to_follow_page_view:{event_name:"enter_homepage_follow",enter_from:"video_detail"},video_detail_to_other_profile_view:{event_name:"enter_personal_detail",enter_from:"video_detail"},video_detail_yml_cover_clicks_cnt:{event_name:"video_cover_click"},video_detail_slardar_perf_lcp_acc:{event_name:"slardar_perf_lcp",page_name:"video_detail",aggregate_field:"metric_duration",count_field_name:"video_detail_slardar_perf_lcp_cnt",is_avg:!0},video_detail_slardar_perf_lcp_cnt:{event_name:"slardar_perf_lcp",page_name:"video_detail",should_skip_sending:!0}}),{other_profile_creator_bluev_vv:{event_name:"video_play",page_name:"others_homepage",aggregate_field:"video_creator_bluev"},other_profile_creator_1k_follower_vv:{event_name:"video_play",page_name:"others_homepage",aggregate_field:"video_creator_1k_follower"},other_profile_creator_10k_follower_vv:{event_name:"video_play",page_name:"others_homepage",aggregate_field:"video_creator_10k_follower"},other_profile_creator_100k_follower_vv:{event_name:"video_play",page_name:"others_homepage",aggregate_field:"video_creator_100k_follower"},other_profile_to_video_detail_page_view:{event_name:"page_view",page_name:"video_detail",previous_page:"others_homepage"},other_profile_to_hot_page_view:{event_name:"enter_homepage_hot",enter_from:"others_homepage"},other_profile_to_follow_view:{event_name:"enter_homepage_follow",enter_from:"others_homepage"},other_profile_to_explore_page_view:{event_name:"enter_explore_page",enter_from:"others_homepage"},other_profile_playlist_vv:{event_name:"video_play",popup_type:"playlist",page_name:"others_homepage"},other_profile_follow_cnt:{event_name:"follow",page_name:"others_homepage"},other_profile_send_message_cnt:{event_name:"send_message",page_name:"others_homepage"},other_profile_sort_cnt:{event_name:"click_sort_option"},other_profile_share_user_profile_cnt:{event_name:"share",page_name:"others_homepage",type:"profile"},other_profile_slardar_perf_lcp_acc:{event_name:"slardar_perf_lcp",page_name:"others_homepage",aggregate_field:"metric_duration",count_field_name:"other_profile_slardar_perf_lcp_cnt",is_avg:!0},other_profile_slardar_perf_lcp_cnt:{event_name:"slardar_perf_lcp",page_name:"others_homepage",should_skip_sending:!0}}),{ret_acc_3:{is_retention:!0,retention_count:3},ret_acc_7:{is_retention:!0,retention_count:7},total_score:{is_snapshot:!0},hardware_score:{is_snapshot:!0}})},80054:(e,t,o)=>{"use strict";o.d(t,{U:()=>l,y:()=>s});var n=o(13392),i=o(32877),r=o.n(i),a=o(21807);function s(){return(0,n.Ph)(a.$)}function l(e,t){return(0,n.Ph)(a.$,{selector:t=>{const{bizContext:o}=t;return o?r()(o,...e()):o},dependencies:t})}},80337:(e,t,o)=>{"use strict";o.d(t,{Gz:()=>i,Hd:()=>r,J2:()=>a});const n=()=>{};function i(e=n,t=n){let o,i;function r(){o&&document[o]?e():t()}return"hidden"in document?(o="hidden",i="visibilitychange"):"msHidden"in document?(o="msHidden",i="msvisibilitychange"):"webkitHidden"in document&&(o="webkitHidden",i="webkitvisibilitychange"),"addEventListener"in document&&o&&i?(document.addEventListener(i,r,!1),document.removeEventListener.bind(document,i,r,!1)):n}function r(e,t=""){var o;try{return null!==(o=sessionStorage.getItem(e))&&void 0!==o?o:t}catch(e){return t}}function a(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}},81085:(e,t,o)=>{"use strict";o.d(t,{$9:()=>s,DA:()=>i,LH:()=>r,cc:()=>a,xD:()=>n});const n="__UNIVERSAL_DATA_FOR_REHYDRATION__",i="__$UNIVERSAL_DATA$__",r="__DEFAULT_SCOPE__",a=Symbol("i"),s=Symbol("s")},81259:(e,t,o)=>{"use strict";o.d(t,{Dt:()=>a,XP:()=>u,g9:()=>s,iU:()=>c,jq:()=>r,k0:()=>l,lv:()=>n,qo:()=>i,wW:()=>d});var n=function(e){return e.TWITTER="twitter",e.GOOGLE="google",e.FACEBOOK="facebook",e.INSTAGRAM="instagram",e.VK="vk",e.KAKAOTALK="kakaotalk",e.LINE="line",e.APPLE="apple",e.TIKTOK="tiktok",e}({});const i="7a1c81ed488cc755a03f05f091162f38",r="1862952583919182",a="1569196861",s="6961453",l={1233:692,1180:747},c={google:395,twitter:396,facebook:397,instagram:398,line:529,vk:528,kakaotalk:2246},d="socialOauth";var u=function(e){return e[e.Login=0]="Login",e[e.Signup=1]="Signup",e[e.Verify=2]="Verify",e}({})},85224:(e,t,o)=>{"use strict";o.d(t,{p:()=>a});var n=o(71111),i=o(99857),r=o(46118);function a(e,...t){return(0,i.U)(e,()=>{const o=(0,n.atom)(...t),i=(0,r.Lr)(e);return o.debugLabel=i.id,o})}},86149:(e,t,o)=>{"use strict";o.d(t,{K:()=>u});var n=o(72516),i=o(24643),r=o(40099),a=o(37597),s=o(57363);const l=({theme:e,buttonTheme:t})=>{switch(t){case"default":return{borderWidth:"1px",borderStyle:"solid",borderRadius:"2px",color:e.colors.TextPrimary,borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGTertiary2,":disabled":{borderColor:"rgb(227, 227, 229)",backgroundColor:e.colors.BGPrimary2,color:e.colors.TextQuaternary}};case"primary":return{borderRadius:"2px",border:"none",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,":disabled":{border:"none",color:e.colors.TextQuaternary,backgroundColor:e.colors.BGInput2}};default:return{":disabled":{}}}},c={large:{minWidth:"248px",minHeight:"44px",fontSize:"15px",lineHeight:"18px",fontWeight:700},medium:{minWidth:"144px",height:"35px",fontSize:"14px",lineHeight:"17px",fontWeight:700},small:{minWidth:"88px",height:"28px",fontSize:"14px",lineHeight:"17px",fontWeight:700},tiny:{minWidth:"74px",minHeight:"24px",fontSize:"13px",lineHeight:"17px",fontWeight:600}},d=(0,s.A)("button",{target:"e5u1qxo0"})(({buttonTheme:e="default",size:t="medium",theme:o,loading:n=!1})=>[l({theme:o,buttonTheme:e}),c[t],{display:"flex",position:"relative",alignItems:"center",justifyContent:"center",padding:"6px 8px",userSelect:"none",cursor:"pointer",boxSizing:"border-box",fontFamily:"TikTokFont, PingFangSC, sans-serif",":focus":{outline:"none"}},Object.assign({},n?{color:"transparent",pointerEvents:"none"}:{})],"label:Button;"),u=(0,r.memo)(function(e){var{buttonTheme:t,size:o,type:r="button",loading:s=!1,loadingTheme:l="primary",loadingSize:c="medium",children:u}=e,p=(0,n.Tt)(e,["buttonTheme","size","type","loading","loadingTheme","loadingSize","children"]);return(0,i.jsxs)(d,Object.assign({type:r,buttonTheme:t,loading:s,size:o},p,{children:[u,s&&(0,i.jsx)(a.h,{style:{position:"absolute"},theme:l,size:c})]}))})},87102:(e,t,o)=>{"use strict";function n(){return!(!navigator.vendor||-1===navigator.vendor.indexOf("Apple")||!navigator.userAgent||-1!==navigator.userAgent.indexOf("CriOS")||-1!==navigator.userAgent.indexOf("FxiOS"))}function i(){return window.innerHeight<document.body.offsetHeight&&"hidden"!==document.body.style.overflow}function r(){return window.innerWidth-document.body.offsetWidth}function a(e,t=""){var o;try{return null!==(o=localStorage.getItem(e))&&void 0!==o?o:t}catch(e){return t}}function s(e,t){try{localStorage.setItem(e,t)}catch(e){}}function l(e){try{localStorage.removeItem(e)}catch(e){}}function c(e,t=""){var o;try{return null!==(o=sessionStorage.getItem(e))&&void 0!==o?o:t}catch(e){return t}}function d(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}function u(e){try{sessionStorage.removeItem(e)}catch(e){}}function p(e){const t=c(e);return u(e),t}o.d(t,{AP:()=>s,Hd:()=>c,J2:()=>d,Lm:()=>i,Qy:()=>p,X:()=>u,_S:()=>a,aP:()=>r,nr:()=>n,sc:()=>l}),o(57432)},87240:(e,t,o)=>{"use strict";o.d(t,{N:()=>n});var n=function(e){return e.Pwa="pwa",e.Paid="paid",e.Embed="referral_embed",e.CreateEmbed="referral_creator_embed",e.MusicEmbed="referral_music_embed",e.HashtagEmbed="referral_hashtag_embed",e.CuratedEmbed="referral_curated_embed",e.TrendingEmbed="referral_trending_embed",e.Browse="referral_tiktok_browse",e.Amp="referral_amp",e.Reflow="reflow",e.WebApp="webapp_reflow",e.MSFT="msft",e.TWA="twa",e.Push="push",e.Organic="organic",e.Refer="referral",e.Direct="direct",e.MacDesktopApp="mac_desktop_app",e.WinDesktopApp="win_desktop_app",e.Email="email",e.SamsungQuickAccess="samsung_quick_access",e}({})},87342:(e,t,o)=>{"use strict";o.d(t,{D:()=>n});var n=function(e){return e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.F=70]="F",e[e.Two=50]="Two",e[e.L=76]="L",e[e.M=77]="M",e[e.Clear=144]="Clear",e[e.T=84]="T",e[e.R=82]="R",e[e.C=67]="C",e}({})},87682:(e,t,o)=>{"use strict";o.d(t,{Mh:()=>u,VU:()=>p,le:()=>g});var n=o(41353),i=o(17592),r=o(340),a=o(58933),s=o(14118);function l(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t){return function(o,n){t(o,n,e)}}const u=(0,a.Yr)("@tiktok/login");class p{sendLoginClickToNotifyDurationPerfMetric(e){this.service.sendCustomPerfMetric(s.Pl.LoginClickToNotifyDuration,e)}emitEvent(e,t={}){this.service.emitEvent(e,this.defaultMetrics,t)}getFunctionType(e,t){switch(e){case"sendPhoneCode":case"smsLogin":case"passwordLogin":case"thirdLogin":case"getQrCodeUrl":case"checkQrconnect":case"getOauthConfig":case"cancelDeleteAccount":case"thirdGetToken":return"login";case"notLoginSendCode":case"smsVerify":case"verifyPwdWithoutLogin":case"thirdVerify":return"verify";case"validateMobileCodeForLogin":case"validateEmailCodeForLogin":case"validateMobileCodeForReset":case"verifySendEmailCode":case"sendEmailCodeForLogin":case"emailCodeLogin":return"twostep";case"sendPhoneCodeWithType":return String(t.type).match(/13|12/)?"twostep":"reset";case"sendPhoneCodeForResetPwd":case"sendEmailCodeForResetPwd":case"resetPwdLoginByEmail":case"changePwdByMobile":return"reset";case"sendEmailCodeForForceResetPwd":case"sendPhoneCodeForForceResetPwd":case"validatePhoneCodeForForceReset":case"validateEmailCodeForForceReset":case"forceResetPwdByMobileTicket":case"forceResetPwdByEmailTicket":return"forcereset";case"sendEmailCodeForSignup":case"smsLoginContinue":case"usernameRegister":case"setAccount":case"emailRegister":return"signup";case"oidcPrepare":case"oidcLogin":case"checkOneTapState":case"getOneTapToken":return"onetap";default:return"ttp"}}constructor(e){this.service=e,this.defaultMetrics={count:1},this.currentMethod=null,this.setCurrentRequestMethod=e=>{this.currentMethod=e},this.handleRequestResultReport=e=>{if(!this.currentMethod)return;const{error_code:t=0,function_type:o}=e,n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(e,["error_code","function_type"]);this.service.emitEvent(this.currentMethod,this.defaultMetrics,Object.assign(Object.assign({error_code:String(t)},n),{function_type:o||this.getFunctionType(this.currentMethod,e)}))},this.handleThirdGetToken=e=>{this.setCurrentRequestMethod("thirdGetToken"),this.handleRequestResultReport(e)},this.qrCodeShow=()=>{this.emitEvent("qrcode_show")},this.scanQrCode=()=>{this.emitEvent("scan_qrcode")},this.qrCodeShortenFailed=e=>{this.service.emitEvent("qrcode_shorten_fail",this.defaultMetrics,e)},this.handleUserRegionEscape=e=>{this.service.emitEvent("userRegionEscape",this.defaultMetrics,e)},this.oneTapBtnShow=()=>{this.emitEvent("oneTapLoginBtnShow")},this.oneTapFailToOpenApp=e=>{this.emitEvent("oneTapFailToOpenApp",e)},this.oneTapLoginPollingPopupShow=e=>{this.emitEvent("oneTapLoginPollingPopupShow",e)},this.oneTapLoginFailurePopupShow=e=>{this.emitEvent("oneTapLoginFailurePopupShow",e)},this.oneTapLoginSuccessPopupShow=e=>{this.emitEvent("oneTapLoginSuccessPopupShow",e)},this.oneTapLoginSuccessPopupClick=e=>{this.emitEvent("oneTapLoginSuccessPopupClick",{type:e})}}}p=l([(0,i._q)({name:"LoginSlardar@tiktok/login"}),d(0,(0,r.y)(u.INJECTION_TOKEN)),c("design:type",Function),c("design:paramtypes",[void 0===a.V$?Object:a.V$])],p);class g{setPlatform(e){this.platform=e}setEnterMethod(e){this.enterMethod=e}setEnterFrom(e){const t=(0,n.parse)(location.search);this.enterFrom=e||t.enter_from||"unknown"}loginNotify(){this.emitEvent("login_notify")}clickLoginOption(e={}){const{isSignUp:t,one_tap_token_source:o}=e;this.emitEvent("click_login_button",{tags:{platform:this.platform,is_register:this.getIsRegisterParam(t),one_tap_token_source:o||""}})}loginSubmit(e={}){const{signUp:t,forgetPwd:o,one_tap_token_source:n}=e;this.emitEvent("login_submit",{tags:{platform:this.platform,is_register:this.getIsRegisterParam(t),is_forget_password:this.getIsForgetPasswordParam(o),one_tap_token_source:n||""}})}loginSuccess(e={}){const{signUp:t,forgetPwd:o,one_tap_token_source:n}=e;this.emitEvent("login_success",{tags:{platform:this.platform,is_register:this.getIsRegisterParam(t),is_forget_password:this.getIsForgetPasswordParam(o),one_tap_token_source:n||""}})}loginFailure(e){const{signUp:t,errorCode:o,errorMsg:n,forgetPwd:i,platform:r=this.platform,one_tap_token_source:a}=e;this.emitEvent("login_failure",{tags:{platform:r,is_register:this.getIsRegisterParam(t),error_code:String(o),is_forget_password:this.getIsForgetPasswordParam(i),error_message:null!=n?n:"",one_tap_token_source:a||""}})}logout(e){var t;this.emitEvent("monitor_logout",{tags:{status:String(e.status),error_code:String(e.error_code),error_desc:null!==(t=e.error_desc)&&void 0!==t?t:""}})}logoutSubmit(e={}){this.emitEvent("logout_submit",{tags:e})}logoutCancel(e={}){this.emitEvent("logout_cancel",{tags:e})}signUpNotify(){this.emitEvent("signup_notify")}emitEvent(e,{metrics:t,tags:o}={}){this.service.emitEvent(e,Object.assign(Object.assign({},this.defaultMetrics),t),Object.assign({ui_style:this.uiStyle,enter_method:this.enterMethod,enter_from:this.enterFrom},o))}getIsRegisterParam(e){return e?"1":"0"}getIsForgetPasswordParam(e){return e?"1":"0"}constructor(e){this.service=e,this.defaultMetrics={count:1},this.uiStyle="full_screen",this.enterMethod="login",this.enterFrom="login",this.platform="unknown",this.setUiStyle=e=>{this.uiStyle=e}}}g=l([(0,i._q)({name:"SLOSlardarReports@tiktok/login"}),d(0,(0,r.y)(u.INJECTION_TOKEN)),c("design:type",Function),c("design:paramtypes",[void 0===a.V$?Object:a.V$])],g)},87752:(e,t,o)=>{"use strict";o.d(t,{aF:()=>Y});var n=o(2787),i=o(57432),r=o.n(i),a=o(40099),s=o(18499),l=o(67977),c=o(17784),d=o(99242),u=o(18835),p=o(13839),g=o(94913),m=o(85224);const h=(0,p._)((0,m.p)("commentPanelAtom@tiktok/webapp-atoms",{isActive:!1,showSkeleton:!1}),{rehydrationKey:"webapp.comment.panel"}),{useAtomService:v,useServiceState:_,useServiceDispatchers:f,getStaticApi:b}=(0,g.i)(h,(e,t)=>({setItemId(e){t(h,t=>Object.assign(Object.assign({},t),{isActive:!0,itemId:e}))},setShowSkeleton(e){t(h,t=>Object.assign(Object.assign({},t),{showSkeleton:e}))},removeActiveItem(){t(h,{isActive:!1,showSkeleton:!1})},setCloseMethod(e){t(h,t=>Object.assign(Object.assign({},t),{closeMethod:null!=e?e:void 0}))},closeCommentPanel(e){t(h,t=>Object.assign(Object.assign({},t),{isActive:!1,showSkeleton:!1,closeMethod:e}))}}));var y=o(9059),w=o(60361),k=o(87342),S=o(42184),C=o(71518),x=function(e){return e[e.Icon=0]="Icon",e[e.Esc=1]="Esc",e[e.Update=2]="Update",e[e.Mask=3]="Mask",e}({}),P=o(57363),T=o(73635);var O=o(69644),A=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o},E=function(e){return e[e.None=0]="None",e[e.Outer=1]="Outer",e[e.Inner=2]="Inner",e[e.InnerLarge=3]="InnerLarge",e[e.InnerSmall=4]="InnerSmall",e[e.Mobile=5]="Mobile",e[e.Revamp=6]="Revamp",e[e.LargeSelector=7]="LargeSelector",e}({});const L=(0,P.A)("div",{target:"e1gjoq3k0"})({position:"fixed",left:0,top:0,bottom:0,right:0,zIndex:u.s.Modal,overflow:"auto",outline:"0px",transition:"all 500ms cubic-bezier(.075, .82, .165, 1)"},({status:e,isShow:t})=>({display:t||e===c.ze?"flex":"none",opacity:Number(e!==c.ze&&e!==c.kp)}),"label:DivModalContainer;"),j=(0,P.A)("div",{target:"e1gjoq3k1"})(({top:e,isBottomRightQRPopup:t,theme:{direction:o}})=>[Object.assign({position:"fixed",top:e?`${e}px`:"90px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",zIndex:u.s.LoginPopup,overflow:"auto",outline:"1px",transition:t?"none":"all 500ms cubic-bezier(.075, .82, .165, 1)",borderRadius:"8px"},(0,O.mp)({direction:o,end:"28px"})),(0,O.jJ)({max:768,style:{display:"none !important"}}),({status:e,isShow:o,isQRPopup:n})=>({display:o||e===c.ze?"flex":"none",opacity:Number(e!==c.ze&&e!==c.kp),width:t?"164px":"360px",height:n?"387px":t?"175px":"309px"})],"label:DivPopupModalContainer;"),I=(0,P.A)("div",{target:"e1gjoq3k2"})(({theme:{colors:e}})=>({background:e.SDSecondary,position:"fixed",left:0,right:0,top:0,bottom:0}),"label:DivModalMask;"),R=(0,P.A)("div",{target:"e1gjoq3k3"})({position:"relative",borderRadius:"8px",margin:"auto",transition:"all 300ms cubic-bezier(.075, .82, .165, 1)"},e=>{var{status:t,theme:{colors:o}}=e,n=e.contentStyle,{transform:i}=n,r=A(n,["transform"]);return[{transform:t===c.kp||t===c.ze?i||"scale(0.1, 0.1)":"none",backgroundColor:o.BGPrimary},r]},"label:DivContentContainer;"),M=(0,P.A)("div",{target:"e1gjoq3k4"})({position:"relative",borderRadius:"8px",margin:"auto",transition:"all 300ms cubic-bezier(.075, .82, .165, 1)"},e=>{var{status:t,theme:{colors:o}}=e,n=e.contentStyle,{transform:i}=n,r=A(n,["transform"]),{isBottomRightQRPopup:a}=e;return[{transform:t===c.kp||t===c.ze?i||"scale(0.1, 0.1)":"none",backgroundColor:o.BGPrimary,width:a?"164px":"360px",height:"100% !important"},r]},"label:DivPopupContentContainer;"),D=(0,P.A)(T.A,{target:"e1gjoq3k5"})("label:StyledIcon;");function F(e){const{closeStyle:t,theme:{colors:o,direction:n}}=e,i=[(0,O.mp)({direction:n,end:6===t?"16px":"24px"})];switch(t){case 2:i.push({width:"24px",height:"24px",background:o.BGView,[`${D}`]:{width:"15px",height:"15px"}});break;case 3:i.push({width:"24px",height:"24px",[`${D}`]:{width:"24px",height:"24px",fill:o.TextPrimary}});break;case 4:i.push({width:"20px",height:"20px",[`${D}`]:{width:"20px",height:"20px",fill:o.TextPrimary}});break;case 5:i.push({width:"19px",height:"19px",[`${D}`]:{width:"19px",height:"19px",fill:o.TextPrimary}});break;case 1:i.push({width:"40px",height:"40px",background:o.BGPrimary,[`${D}`]:{width:"24px",height:"24px"}});break;case 6:i.push({width:"32px",height:"32px",background:o.BGView,[`${D}`]:{width:"24px",height:"24px",fill:o.TextSecondary}});break;case 7:i.push({width:"32px",height:"32px",[`${D}`]:{width:"32px",height:"32px",fill:o.TextSecondary}})}return i}const N=(0,P.A)("div",{target:"e1gjoq3k6"})(({closeStyle:e})=>[{position:"absolute",top:6===e?"16px":"24px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},F],"label:DivCloseWrapper;"),U=(0,P.A)("div",{target:"e1gjoq3k7"})({position:"absolute",top:"12px",right:"12px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},"label:DivCloseWrapperPopup;"),B=(0,P.A)("div",{target:"e1gjoq3k8"})({width:"100vw",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivCenterWrapper;"),H=(0,P.A)("div",{target:"e1gjoq3k9"})({height:"100%",width:"360px",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivPopupCenterWrapper;"),z="login-modal",Y=function({children:e,onClose:t,visible:o,timeout:i,onWheel:p=r(),closeStyle:g=E.None,closeStyles:m={},containerStyle:h={},maskCloseable:v=!0,keyboardCloseable:f=!0,zIndex:b=u.s.Modal,mask:P=!0,fixed:T=!0,contentStyle:O={},maskStyle:A={},e2eData:F="",backgroundColor:Y,parentRef:W,cancelMouseLeaveBubble:V=!1,returnFocus:G=!0,focusTrapDisabled:$=!1,autoFocus:q=!1,onCloseFocusHandler:K,popupType:Z,maskOnClickAction:J}){const Q=(0,a.useRef)(),X=(0,a.useRef)(Boolean(o)),{showModal:ee,hideModal:te}=(0,S.g9)(),[oe,ne]=(0,a.useState)(!1),ie=(0,y.s)(),{isRTL:re}=(0,C.m)(),ae=(0,a.useRef)(!0),[se,le]=(0,a.useState)(0),[ce,de]=(0,a.useState)(0),{isCommentPanelActive:ue}=_(e=>({isCommentPanelActive:e.isActive}),d.bN),pe=(0,a.useCallback)(()=>{var e,t,o,n;const i=null===(n=document.getElementById("close-button-at-bottom-right"))||void 0===n?void 0:n.getBoundingClientRect();i&&(le(re?(null!==(e=i.right)&&void 0!==e?e:0)-36:(null!==(t=i.left)&&void 0!==t?t:0)-130),de((null!==(o=i.top)&&void 0!==o?o:300)-190))},[re]);(0,a.useEffect)(()=>{if(o&&P){const e=Z===w.O.QR_BOTTOM_RIGHT;pe(),ee(ae.current,e),i&&(clearTimeout(Q.current),Q.current=window.setTimeout(()=>{null==t||t(x.Update)},i))}else X.current&&(te(),clearTimeout(Q.current));X.current=Boolean(o),ae.current=!1},[o,P]),(0,a.useEffect)(()=>(ne(!0),()=>{X.current&&te()}),[]),(0,a.useEffect)(()=>{const e=e=>{o&&f&&e.keyCode===k.D.Esc&&(null==t||t(x.Esc))};return o&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[f,t,o]);const ge=(0,a.useCallback)(()=>{v&&(null==t||t(x.Mask)),null==J||J()},[v,J,t]),me=(0,a.useCallback)(()=>{null==t||t(x.Icon)},[t]),he=(0,a.useRef)(null),ve=(0,a.useRef)(null),_e=(0,a.useCallback)(e=>{const t=e.target;(null==t?void 0:t.id)===z&&t.setAttribute("tabindex","-1")},[]),fe=(0,a.useCallback)(e=>{e.keyCode===k.D.Enter&&(null==t||t(x.Icon))},[t]),be=(0,a.useCallback)(e=>{V&&e.stopPropagation()},[V]);return(0,a.useEffect)(()=>{pe(),Z&&window.addEventListener("resize",pe)},[Z,re,pe]),oe?Z?(0,n.Y)(c.Ay,{timeout:300,in:o,nodeRef:he,children:t=>(0,n.Y)(j,{status:t,isShow:o&&!(Z===w.O.QR_BOTTOM_RIGHT&&ue),onWheel:p,onKeyDown:_e,ref:he,style:Object.assign(Object.assign({},h),{position:T?"fixed":"relative"}),isQRPopup:"qr"===Z,isBottomRightQRPopup:Z===w.O.QR_BOTTOM_RIGHT,top:ce,children:(0,n.Y)(c.Ay,{timeout:300,in:o,unmountOnExit:!0,nodeRef:ve,children:t=>(0,n.Y)(H,{isQRPopup:"qr"===Z,children:(0,n.FD)(M,{"data-e2e":F,status:t,ref:ve,contentStyle:O,style:{backgroundColor:Y},tabIndex:0,id:z,isQRPopup:"qr"===Z,isBottomRightQRPopup:Z===w.O.QR_BOTTOM_RIGHT,children:[e,g!==E.None&&g!==E.Outer&&(0,n.Y)(U,{onClick:me,onKeyDown:fe,"data-e2e":"modal-close-inner-button",style:m,role:"button",tabIndex:0,children:(0,n.Y)(D,{})})]})})})})}):(0,s.createPortal)((0,n.Y)(c.Ay,{timeout:300,in:o,nodeRef:he,children:t=>(0,n.FD)(L,{status:t,isShow:o,onWheel:p,onKeyDown:_e,ref:he,style:Object.assign(Object.assign({},h),{zIndex:b,position:T?"fixed":"relative"}),children:[P&&(0,n.Y)(I,{style:A,onClick:ge,onMouseLeave:be,children:g===E.Outer&&(0,n.Y)(N,{closeStyle:g,onClick:me,style:m,children:(0,n.Y)(D,{})})}),(0,n.Y)(c.Ay,{timeout:300,in:o,unmountOnExit:!0,nodeRef:ve,children:t=>(0,n.Y)(l.Ay,{autoFocus:q,returnFocus:G,disabled:$,onDeactivation:K,children:(0,n.Y)(B,{children:(0,n.FD)(R,{"data-e2e":F,status:t,ref:ve,contentStyle:O,style:{backgroundColor:Y},tabIndex:0,id:z,children:[e,g!==E.None&&g!==E.Outer&&(0,n.Y)(N,{closeStyle:g,onClick:me,onKeyDown:fe,"data-e2e":"modal-close-inner-button",style:m,role:"button",tabIndex:0,"aria-label":ie("link_close_popup"),children:(0,n.Y)(D,{})})]})})})})]})}),null!=W?W:document.body):null}},88806:(e,t,o)=>{"use strict";o.d(t,{r:()=>i});var n=o(40099);function i(e){return function(t){var o=t.color,i=t.size,r=t.circleBackground,a={"data-testid":t.testId};if(void 0!==o&&(a.className="text-color-".concat(o)),void 0!==i&&(a.fontSize="".concat(i,"px")),void 0!==r){var s=r.backgroundColor,l=r.circleSize,c="".concat(l,"px"),d={width:c,height:c};return n.createElement("div",{className:"inline-flex items-center justify-center rounded-full background-color-".concat(s),style:d},n.createElement(e,a))}return n.createElement(e,a)}}},89004:(e,t,o)=>{"use strict";o.d(t,{U:()=>h});var n=o(26324),i=o(23999),r=o(8536),a=o(24451),s=o(64162),l=o(4126),c=o(15176),d=o(25948),u=o(99108),p=o(13749);function g(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class h extends s.E{setShowAreaCodeSelector(e,t){e.showAreaCodeSelector=t}setAreaCode(e,t){const{code:o,area:n}=t;e.areaCode=o,e.area=n,this.setMobileInfo(e,{areaCode:o,phone:e.phone})}setPhoneNumber(e,t){e.phone=t,this.setMobileInfo(e,{areaCode:e.areaCode,phone:t})}setErrorMsg(e,t){e.phoneErrorMsg=t}setAreaSearchText(e,t){if(e.searchText=t,!t)return void(e.matchSearchArea=void 0);const o=RegExp(t.replace("+","\\+"),"ig");e.matchSearchArea=d.W.reduce((e,{lists:t})=>e.concat(t),[]).find(({name:e,code:t,shortname:n})=>e.match(o)||`${t}`.match(o)||n.match(o))}setPhoneCode(e,t){e.phoneCode=t}toggleAreaCodeSelector(e){return e.pipe((0,a.E)(this.state$),(0,r.Z)(([,{showAreaCodeSelector:e}])=>(0,i.of)(this.getActions().setShowAreaCodeSelector(!e))))}selectAreaCode(e){return e.pipe((0,r.Z)(({code:e,area:t})=>(0,i.of)(this.getActions().setAreaCode({area:t,code:e}),this.getActions().setShowAreaCodeSelector(!1))))}checkPhoneNumberFormat(e){return e.pipe((0,r.Z)(({phone:e})=>{const t=(0,p.nP)(e);return(0,i.of)(this.getActions().setPhoneNumber(e),this.getActions().setErrorMsg(t?u._o.format:""))}))}setMobileInfo(e,t){const{phone:o,areaCode:n}=t;if(!o||!n)return e.mobile="",void(e.mobileOpenId="");e.mobile=`+${n} ${o}`,e.mobileOpenId=86===n?o:`+${n}${o}`}constructor(...e){super(...e),this.defaultState={area:"",phone:"",phoneCode:"",searchText:"",showAreaCodeSelector:!1,mobile:"",mobileOpenId:""}}}g([(0,l.uk)(),m("design:type",void 0===n.c?Object:n.c)],h.prototype,"dispose$",void 0),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof PhoneNumberModuleState?Object:PhoneNumberModuleState,Boolean]),m("design:returntype",void 0)],h.prototype,"setShowAreaCodeSelector",null),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof PhoneNumberModuleState?Object:PhoneNumberModuleState,Object]),m("design:returntype",void 0)],h.prototype,"setAreaCode",null),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof PhoneNumberModuleState?Object:PhoneNumberModuleState,String]),m("design:returntype",void 0)],h.prototype,"setPhoneNumber",null),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof PhoneNumberModuleState?Object:PhoneNumberModuleState,String]),m("design:returntype",void 0)],h.prototype,"setErrorMsg",null),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof PhoneNumberModuleState?Object:PhoneNumberModuleState,String]),m("design:returntype",void 0)],h.prototype,"setAreaSearchText",null),g([(0,l.h5)(),m("design:type",Function),m("design:paramtypes",["undefined"==typeof PhoneNumberModuleState?Object:PhoneNumberModuleState,String]),m("design:returntype",void 0)],h.prototype,"setPhoneCode",null),g([(0,l.Mj)(),m("design:type",Function),m("design:paramtypes",[void 0===n.c?Object:n.c]),m("design:returntype",void 0)],h.prototype,"toggleAreaCodeSelector",null),g([(0,l.Mj)(),m("design:type",Function),m("design:paramtypes",[void 0===n.c?Object:n.c]),m("design:returntype",void 0)],h.prototype,"selectAreaCode",null),g([(0,l.Mj)(),m("design:type",Function),m("design:paramtypes",[void 0===n.c?Object:n.c]),m("design:returntype",void 0)],h.prototype,"checkPhoneNumberFormat",null),h=g([(0,c.nV)("PhoneNumberModule")],h)},89370:(e,t,o)=>{"use strict";o.d(t,{N:()=>b});var n=o(26324),i=o(23999),r=o(80339),a=o(62564),s=o(8536),l=o(74690),c=o(24451),d=o(64162),u=o(4126),p=o(15176),g=o(75427),m=o(41363),h=o(30573),v=o(13749);function _(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class b extends d.E{setEmail(e,t){e.email=null==t?void 0:t.trim()}setEmailErrorMsg(e,t){e.emailErrorMsg=t}setSuggestEmailSuffixConfig(e,t){var o,n;e.email=(null!==(o=null===(n=e.email)||void 0===n?void 0:n.split("@")[0])&&void 0!==o?o:"")+t,e.emailErrorMsg=void 0}setLoading(e,t){e.checkEmailLoading=t}setEmailInfo(e){return e.pipe((0,s.Z)(({email:e,valid:t})=>(0,i.of)(this.getActions().setEmail(null==e?void 0:e.trim()),this.getActions().setEmailErrorMsg(t||!e?"":"common_registration_email_input_error"))))}checkEmailRegistered(e){return e.pipe((0,c.E)(this.state$),(0,s.Z)(([e,{email:t=""}])=>(0,v.Ro)(t)?this.service.checkEmailRegistered({email:t}).pipe((0,a.T)(e=>{const{error_code:t,description:o,is_registered:n}=e;if(t)return this.getActions().setEmailErrorMsg(o);{const e=n?g.tH.loginWithSignedEmail:g.tH.signupEmailCreatePassword;return this.history.push(e),this.noop()}}),(0,l.Z)(this.getActions().setLoading(!0)),(0,r.q)(this.getActions().setLoading(!1))):(0,i.of)(this.getActions().setEmailErrorMsg("common_registration_email_input_error"))))}constructor(e,t){super(),this.service=e,this.history=t,this.defaultState={}}}_([(0,u.uk)(),f("design:type",void 0===n.c?Object:n.c)],b.prototype,"dispose$",void 0),_([(0,u.h5)(),f("design:type",Function),f("design:paramtypes",["undefined"==typeof EmailModuleState?Object:EmailModuleState,String]),f("design:returntype",void 0)],b.prototype,"setEmail",null),_([(0,u.h5)(),f("design:type",Function),f("design:paramtypes",["undefined"==typeof EmailModuleState?Object:EmailModuleState,String]),f("design:returntype",void 0)],b.prototype,"setEmailErrorMsg",null),_([(0,u.h5)(),f("design:type",Function),f("design:paramtypes",["undefined"==typeof EmailModuleState?Object:EmailModuleState,String]),f("design:returntype",void 0)],b.prototype,"setSuggestEmailSuffixConfig",null),_([(0,u.h5)(),f("design:type",Function),f("design:paramtypes",["undefined"==typeof EmailModuleState?Object:EmailModuleState,Boolean]),f("design:returntype",void 0)],b.prototype,"setLoading",null),_([(0,u.Mj)(),f("design:type",Function),f("design:paramtypes",[void 0===n.c?Object:n.c]),f("design:returntype",void 0)],b.prototype,"setEmailInfo",null),_([(0,u.Mj)(),f("design:type",Function),f("design:paramtypes",[void 0===n.c?Object:n.c]),f("design:returntype",void 0)],b.prototype,"checkEmailRegistered",null),b=_([(0,p.nV)("EmailModule"),f("design:type",Function),f("design:paramtypes",[void 0===m.r?Object:m.r,void 0===h.D?Object:h.D])],b)},91939:(e,t,o)=>{"use strict";o.d(t,{$Z:()=>i,Hd:()=>a,J2:()=>s,_i:()=>r});var n=o(41353);function i(){if("undefined"==typeof document)return{};const e=(0,n.parse)(location.search,{arrayFormat:"bracket"});return Object.keys(e).forEach(t=>{var o,n;"string"!=typeof e[t]&&(e[t]=null!==(o=null==(n=e[t])?void 0:n[0])&&void 0!==o?o:"")}),e}function r(e){["utm_source","utm_medium","utm_campaign","utm_term","utm_content","referer_url","referer_video_id"].forEach(t=>{var o;e[t]&&s(t,null!==(o=e[t])&&void 0!==o?o:"")})}function a(e,t=""){var o;try{return null!==(o=sessionStorage.getItem(e))&&void 0!==o?o:t}catch(e){return t}}function s(e,t){try{sessionStorage.setItem(e,t)}catch(e){}}},92110:(e,t,o)=>{"use strict";o.d(t,{t:()=>y});var n,i=o(26324),r=o(23999),a=o(80339),s=o(35572),l=o(8536),c=o(71111),d=o(68544),u=o(64162),p=o(4126),g=o(15176),m=o(340),h=o(59034),v=o(9850),_=o(42715);function f(e,t,o,n){var i,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,o,a):i(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a}function b(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}class y extends u.E{setContext(e,t){for(const o in t)e[o]=t[o]}setInitialized(e,t){e.initialized=t}setShowAlertMessageType(e,t){e.showAlertMessageType=t}setPreviousModalType(e,t){e.previousModalType=t}setShowFlashingButton(e,t){e.showFlashingButton=t}init(e){return e.pipe((0,l.Z)(e=>{const{url:t,loginModalShow:o,modalType:n}=this.jotaiStore.get(h.JF);let i=o?t:void 0;return(null==e?void 0:e.url)&&(i=e.url),this.service.getLoginContext(i).pipe((0,s.p)(t=>{const{redirectUrl:o}=t,i=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o}(t,["redirectUrl"]),a=(null==e?void 0:e.disableSetRedirectUrl)?i:t;return(0,r.of)(this.getActions().setContext(a),this.getActions().setPreviousModalType(n),this.getActions().setInitialized(!0))}),(0,a.q)(this.terminate()))}))}constructor(e,t){super(),this.service=e,this.jotaiStore=t,this.defaultState={initialized:!1,phoenix:!1,platformConfig:{order:""},emailSuffixConfig:[],previousModalType:"",ttNotInstalledToastShown:!1}}}f([(0,p.uk)(),b("design:type",void 0===i.c?Object:i.c)],y.prototype,"dispose$",void 0),f([(0,p.h5)(),b("design:type",Function),b("design:paramtypes",["undefined"==typeof LoginContextStruct?Object:LoginContextStruct,"undefined"==typeof Partial?Object:Partial]),b("design:returntype",void 0)],y.prototype,"setContext",null),f([(0,p.h5)(),b("design:type",Function),b("design:paramtypes",["undefined"==typeof LoginContextStruct?Object:LoginContextStruct,Boolean]),b("design:returntype",void 0)],y.prototype,"setInitialized",null),f([(0,p.h5)(),b("design:type",Function),b("design:paramtypes",["undefined"==typeof LoginContextStruct?Object:LoginContextStruct,void 0===v.Go?Object:v.Go]),b("design:returntype",void 0)],y.prototype,"setShowAlertMessageType",null),f([(0,p.h5)(),b("design:type",Function),b("design:paramtypes",["undefined"==typeof LoginContextStruct?Object:LoginContextStruct,String]),b("design:returntype",void 0)],y.prototype,"setPreviousModalType",null),f([(0,p.h5)(),b("design:type",Function),b("design:paramtypes",["undefined"==typeof LoginContextStruct?Object:LoginContextStruct,Boolean]),b("design:returntype",void 0)],y.prototype,"setShowFlashingButton",null),f([(0,p.Mj)({ssr:!0}),b("design:type",Function),b("design:paramtypes",[void 0===i.c?Object:i.c]),b("design:returntype",void 0)],y.prototype,"init",null),y=f([(0,g.nV)("LoginContextModule"),(n=(0,m.y)(d.J7),function(e,t){n(e,t,1)}),b("design:type",Function),b("design:paramtypes",[void 0===_.G2?Object:_.G2,void 0===c.JotaiStoreType?Object:c.JotaiStoreType])],y)},92419:(e,t,o)=>{"use strict";var n,i;o.d(t,{E:()=>r,c:()=>i}),function(e){e.ROW="https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/secsdk/secsdk-lastest.umd.js",e.TTP="https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/secsdk/secsdk-lastest.umd.js"}(n||(n={})),function(e){e.Acrawler="acrawler",e.SecSdkSG="secsdk_sg",e.SecSdkVA="secsdk_va",e.SecSdkTTP="secsdk_ttp"}(i||(i={}));const r={acrawler:"https://lf16-tiktok-web.tiktokcdn-us.com/obj/tiktok-web-tx/webmssdk/2.0.0.221/webmssdk.js",secsdk_sg:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/secsdk/secsdk-lastest.umd.js",secsdk_va:"https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/secsdk/secsdk-lastest.umd.js",secsdk_ttp:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/secsdk/secsdk-lastest.umd.js"}},94405:(e,t,o)=>{"use strict";o.d(t,{er:()=>y,Qf:()=>b,ZC:()=>C,Fs:()=>S});var n=o(78618),i=o(848),r=o(20013),a=o(16168),s=o(95169),l=o(67394);class c{load(){if(this.initialized)return Promise.resolve();if(this.promise)return this.promise;const{promise:e,cleanup:t}=function(){let e;return{promise:new Promise(t=>{e=window.setTimeout(()=>{t(null)},1e4)}),cleanup:()=>{clearTimeout(e)}}}();return this.promise=Promise.race([e.then(()=>{this.promise=void 0}),this.loadSDK()]).then(()=>{t()}).catch(()=>{t(),this.promise=void 0}),this.promise}constructor(){this.initialized=!1,this.duration=0,this.startTime=0,this.initTime=0,this.finishTime=0,this.name=""}}class d{get(e){return this.promise||(void 0===this.hasScript&&(this.hasScript=(0,i.yw)(e)),this.hasScript?this.promise=(t=this.keyword,new Promise(e=>{const o=()=>{window.requestAnimationFrame(()=>{window[t]?e(null):o()})};o()})):this.promise=(0,i.$U)(e).catch(e=>{throw this.promise=null,e})),this.promise;var t}constructor(e){this.promise=null,this.keyword=e}}var u=o(75497),p=o(45290);const g=new d("byted_acrawler"),m={"Singapore-Central":"sg-tiktok","US-East":"va-tiktok","US-EastRed":"gcp-tiktok","US-TTP":"ttp","US-TTP2":"ttp2","EU-TTP":"eu-ttp","EU-TTP2":"eu-ttp2"},h="MSSDK_INITIALIZED";var v=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const _=new d("secsdk"),f={"Singapore-Central":"sg","US-East":"va","US-EastRed":"va","US-TTP":"oci","US-TTP2":"oci","EU-TTP":"eu","EU-TTP2":"eu"},b={sdks:[new class extends c{loadSDK(){return this.startTime=performance.now(),Promise.all([this.getContextProps(),g.get({moduleId:(0,i.BJ)()})]).then(([{appId:e,user:t,wid:o,idc:n,vregion:i=""}])=>{var r;if(window[h])return void(this.initialized=!0);window[h]=!0,this.initialized=!0;const a=e===u.zF.MUSICALLY,l=void 0!==n?(0,s.v)(n):i,c=null!==(r=m[l])&&void 0!==r?r:a?"va-tiktok":"sg-tiktok",d="useast2b"===n?"https://mssdk16-normal-useastred.tiktokw.eu":"";this.initTime=performance.now(),this.configs.forEach(e=>{var n;window.byted_acrawler.init({aid:e.aid,dfp:e.dfp,boe:e.boe,intercept:e.intercept,enablePathList:e.enablePathList,region:c,apiHost:d,mode:(0,p.n)({isVA:a,isLogin:Boolean(t),isFTC:null!==(n=null==t?void 0:t.ftcUser)&&void 0!==n&&n,isHighRisk:e.isHighRisk}),isSDK:e.isSDK,custom:{ttwid:o}})}),this.finishTime=performance.now(),this.duration=this.finishTime-this.startTime})}constructor(e,t){super(),this.name="acrawlersdk",this.getContextProps=e,this.configs=t}}(()=>Promise.all([(0,r.zI)((0,n.qm)()),(0,l.h)()]).then(([{appId:e,user:t,wid:o},{idc:n,vregion:i}])=>({appId:e,user:t,idc:n,wid:o,vregion:i})),a.TA),new class extends c{loadSDK(){return this.startTime=performance.now(),this.getContextProps().then(({clusterRegion:e})=>{const t=(0,i.D9)(e);return _.get({moduleId:t})}).then(()=>{this.initialized||(window._FETCH_SDK_INIT_SECSDK?this.initialized=!0:(window._FETCH_SDK_INIT_SECSDK=!0,this.initialized=!0,this.initTime=performance.now(),window.secsdk.csrf.setProtectedHost(a.sh),this.finishTime=performance.now(),this.duration=this.finishTime-this.startTime))})}constructor(e){super(),this.name="secsdk",this.getContextProps=e}}(()=>(0,r.zI)((0,n.qm)()))],load:()=>Promise.all(b.sdks.map(e=>e.load())),get loaded(){return this.sdks.reduce((e,{initialized:t})=>e&&t,!0)},get time(){if(this.loaded)return this.sdks.map(({duration:e,name:t,initTime:o,finishTime:n,startTime:i})=>({duration:e,name:t,initTime:o,startTime:i,finishTime:n}))}},y={sdks:[new class extends c{constructor(e){super(),this.loadSDK=()=>v(this,void 0,void 0,function*(){if(this.startTime=performance.now(),this.initialized)return;if(window._FETCH_SDK_INIT_CTHULHU)return void(this.initialized=!0);const{csrf:e}=yield o.e(832).then(o.t.bind(o,78746,23));this.initTime=performance.now(),e.setProtectedHost(this.config),this.finishTime=performance.now(),this.duration=this.finishTime-this.startTime,window._FETCH_SDK_INIT_CTHULHU=!0,this.initialized=!0}),this.name="cthulhusdk",this.config=e}}(a.kM)],load:()=>Promise.all(y.sdks.map(e=>e.load())),get loaded(){return this.sdks.every(({initialized:e})=>e)},get time(){if(this.loaded)return this.sdks.map(({duration:e,name:t,initTime:o,finishTime:n,startTime:i})=>({duration:e,name:t,initTime:o,startTime:i,finishTime:n}))}},w=["/passport/web/"],k=["/v1/message/send","/api/update/profile","/api/v1/item/create/bulk","/api/v1/web/project/post","/api/commit/follow/user","/api/commit/item/digg","/api/comment/publish","/api/comment/digg","/api/item/collect","/api/aweme/delete","/tiktok/region/change/precheck/get/v1","/webcast/room/chat","/webcast/room/share","/webcast/gift/send","/webcast/sub/contract/create","/webcast/wallet_api/diamond_buy_external","/webcast/wallet_api_tiktok/withdraw/v2","/webcast/wallet_api/diamond_exchange/","/webcast/user/relation/update","/passport/web/"],S=w.concat(k),C={sdks:[new class extends c{loadSDK(){return this.startTime=performance.now(),this.getContextProps().then(({appId:e,user:t,wid:n,vregion:i="",idc:r})=>v(this,void 0,void 0,function*(){var a;if(this.initialized)return;if(window._FETCH_SDK_INIT_ZTI)return void(this.initialized=!0);const l=void 0!==r?(0,s.v)(r):i,c=null!==(a=f[l])&&void 0!==a?a:"va",{SecureSDK:d}=yield Promise.all([o.e(978),o.e(647),o.e(586),o.e(871)]).then(o.bind(o,27935));try{this.initTime=performance.now(),yield d.init(c,!1),d.setRegion(c),d.setConfig(Object.assign({aid:e,scene:"tt_fetch",certType:"header",signVersion:2},this.configs)),d.setLoginStatus(Boolean(t)),d.setWebId(n,e),d.setDisableCrossStorage(!0),d.setDisableStorageSignData(!1),d.setType({initType:"pubKey",signType:"pubKey"}),d.setStorageType("local"),d.start(),this.finishTime=performance.now(),this.duration=this.finishTime-this.startTime,window._FETCH_SDK_INIT_ZTI=!0,this.initialized=!0,d.sendEvent({name:"tt_ticket_guard_sdk_start",categories:{success:"success"},metrics:{duration:this.duration}})}catch(e){d.sendEvent({name:"tt_ticket_guard_sdk_start",categories:{success:"fail",error:e instanceof Error?e.message:"Unknown error"}})}}))}constructor(e,t){super(),this.getContextProps=e,this.name="ztisdk",this.configs=t}}(()=>Promise.all([(0,r.zI)((0,n.qm)()),(0,l.h)()]).then(([{appId:e,user:t,wid:o,abTestVersion:n},{vregion:i,idc:r}])=>({appId:e,user:t,wid:o,vregion:i,abTestVersion:n,idc:r})),{providerPathList:w,consumerPathList:k})],load:()=>Promise.all(C.sdks.map(e=>e.load())),get loaded(){return this.sdks.every(({initialized:e})=>e)},get time(){if(this.loaded)return this.sdks.map(({duration:e,name:t,initTime:o,finishTime:n,startTime:i})=>({duration:e,name:t,initTime:o,startTime:i,finishTime:n}))}}},94913:(e,t,o)=>{"use strict";o.d(t,{i:()=>u});var n=o(99857),i=o(98767),r=o(71111),a=o(40099),s=o(68544),l=o(80475),c=o(99242);const d=(0,n.U)("internalAtomToServiceCache@webapp-vendors",()=>new WeakMap);function u(e,t){const o=(t,...o)=>{var n;if("__SIGI_MODULE__"in e&&"init"in e){const r=(0,i.L)(),{store:a}=null!==(n=r.getInstance(e.__SIGI_MODULE__))&&void 0!==n?n:{};if(a){let n=o[0];"function"==typeof n&&(n=n(t.get(e))),a.state$.next(n)}}},n=(t,o)=>{const{equalityFn:n=Object.is}="function"==typeof o?{equalityFn:o}:null!=o?o:{},i=function(e,t){const o=(0,r.useStore)(t),{equalityFn:n=Object.is,selector:i}=null!=t?t:{},a=null!=i?i:e=>e,s=()=>o.get(e),d=(0,l.useSyncExternalStoreWithSelector)(t=>o.sub(e,t),s,s,a,n);return(0,c.$X)(d)?(0,c.Yx)(d):d}(e,{selector:t,equalityFn:n});return i},u=()=>{const n=(0,r.useStore)(),i=(0,a.useCallback)((t,...i)=>{if(!("write"in e))throw new Error("not writable atom");return o(n,...i),n.set(t,...i)},[n]),s=(0,a.useCallback)(e=>n.get(e),[n]);return(0,a.useMemo)(()=>{const e={},o=t(s,i);for(const t of Object.keys(o))e[t]=o[t].bind(o);return e},[s,i])},p=new WeakMap;return g=e,m={useServiceState:n,useServiceDispatchers:u,useAtomService:(e,t)=>[n(e,t),u()],getStaticApi:n=>{const i=null!=n?n:(0,s.LM)();let r=p.get(i);if(r)return r;const{get:a,set:l,sub:c}=i,d=t(a,(e,...t)=>(o(i,...t),l(e,...t)));return r=Object.assign({},d,{get:a,set:l,sub:t=>c(e,t)}),p.set(i,r),r}},d.has(g)?d.get(g):(d.set(g,m),m);var g,m}},94997:(e,t,o)=>{"use strict";o.d(t,{y:()=>c});var n=o(98767),i=o(71111),r=o(57432),a=o.n(r),s=o(1475),l=o(68544);function c(e){const t=Symbol("null"),o=(0,i.atom)(t),r=(0,i.atom)(i=>{const s=i(o);if(r.__IS_SUBSCRIBED__||(r.__IS_SUBSCRIBED__=!0,(0,l.LM)().sub(r,a())),s===t){const t=(0,n.L)().getInstance(e),{store:o}=t;return o.state}return s},(e,t,n)=>{t(o,n)});return r.onMount=t=>{const o=(0,n.L)().getInstance(e),{store:i}=o,r=()=>{t(i.state)},a=i.state$.pipe((0,s.i)(1)).subscribe(r);return r(),()=>a.unsubscribe()},(0,i.atom)(e=>e(r),(t,o,i,...r)=>{(0,n.L)().getInstance(e).dispatchers[i](...r)})}},95169:(e,t,o)=>{"use strict";o.d(t,{v:()=>i});const n={useast1a:"US-East",useast2a:"US-EastRed",useast5:"US-TTP",useast8:"US-TTP2",sg1:"Singapore-Central",my:"Singapore-Central",my2:"Singapore-Central",ie:"EU-TTP",no1a:"EU-TTP2"};function i(e){var t;return void 0!==e&&null!==(t=n[e])&&void 0!==t?t:"UNKNOWN"}},95254:(e,t,o)=>{"use strict";o.d(t,{H:()=>i,_:()=>n});const n=e=>e.replace(/\+/g,"-").replace(/\//g,"_"),i=e=>e.replace(/-/g,"+").replace(/_/g,"/")},98767:(e,t,o)=>{"use strict";o.d(t,{L:()=>i});var n=o(94999);const i=()=>n.l},99108:(e,t,o)=>{"use strict";o.d(t,{$X:()=>r,AX:()=>g,Ci:()=>m,Dj:()=>a,Kq:()=>v,NV:()=>h,SH:()=>c,_j:()=>p,_o:()=>n,j9:()=>s,nC:()=>i,rS:()=>l,uI:()=>u,v1:()=>d});const n={format:"common_registration_phone_input_error"},i={1011:"common_login_email_error",1009:"common_login_password_error"},r={1002:"common_registration_phone_input_error",1003:"common_registration_phone_input_error",1054:"common_login_reset_phone_input_error"},a={1011:"common_login_reset_email_input_error",1202:"common_registration_phone_sms_error"},s={1039:"login_risk_SMS_1",1091:"passport_uid_banned",1203:"mus_error_code",1054:"common_login_reset_phone_input_error",1051:"common_registration_password_error",1382:"createpw_error_1",8:"login_expired",2027:"login_page_lock",2028:"login_page_lock"},l={1016:"incorrect_code"},c=[1203];var d=function(e){return e[e.NeedTwoStep=2046]="NeedTwoStep",e[e.NeedForceResetPassword=1381]="NeedForceResetPassword",e[e.TwoStepBlockResetPassword=1356]="TwoStepBlockResetPassword",e[e.TwoStepBlockLogin=1053]="TwoStepBlockLogin",e[e.NeedSignup=1011]="NeedSignup",e[e.AuthorizationError=1045]="AuthorizationError",e[e.ReactiveAccountError=4]="ReactiveAccountError",e[e.MissingTicketCookie=17006]="MissingTicketCookie",e[e.BannedUser=1091]="BannedUser",e[e.NeedM2Bind=20001]="NeedM2Bind",e[e.M2LogoutBindRequired=20003]="M2LogoutBindRequired",e[e.M2LogoutAppleIdBind1POnly=20004]="M2LogoutAppleIdBind1POnly",e[e.M2LogoutAppleIdBindWillLoose=20005]="M2LogoutAppleIdBindWillLoose",e}({});const u=[1023,1031,1044],p=[1016],g=1430,m=[1075,g];var h=function(e){return e[e.InitUnknownError=-100]="InitUnknownError",e[e.InitLoadFailed=-101]="InitLoadFailed",e[e.LoginSDKFailed=-102]="LoginSDKFailed",e[e.LoginUnknownError=-103]="LoginUnknownError",e}({}),v=function(e){return e[e.RegionServiceUnknownError=-200]="RegionServiceUnknownError",e[e.RegionServiceDuplicateCount=-201]="RegionServiceDuplicateCount",e[e.RegionServiceNoResponseError=-202]="RegionServiceNoResponseError",e[e.AccountSdkUnknownError=-210]="AccountSdkUnknownError",e[e.AccountSdkImportError=-211]="AccountSdkImportError",e[e.AccountSdkInitError=-212]="AccountSdkInitError",e[e.AccountSdkCloseCaptcha=-213]="AccountSdkCloseCaptcha",e[e.AccountSdkRequestError=-214]="AccountSdkRequestError",e[e.UnknownPasskeyError=-220]="UnknownPasskeyError",e}({})},99242:(e,t,o)=>{"use strict";o.d(t,{$X:()=>r,Yx:()=>a,bN:()=>i});var n=o(40099);function i(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[o,n]of e)if(!Object.is(n,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;for(let n=0;n<o.length;n++)if(!Object.prototype.hasOwnProperty.call(t,o[n])||!Object.is(e[o[n]],t[o[n]]))return!1;return!0}const r=e=>"function"==typeof(null==e?void 0:e.then),a=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)})},99857:(e,t,o)=>{"use strict";o.d(t,{U:()=>a});var n=o(50269),i=o(46118);const r=new Map;function a(e,t){const o="function"==typeof t?t:()=>t;return(0,n.Sr)()?function(e,t){const{scope:o,id:n}=e;let i;if(r.has(o)?i=r.get(o):(i=new Map,r.set(o,i)),i.has(n))return i.get(n);{const e=t();return i.set(n,e),e}}((0,i.Lr)(e),o):o()}}},e=>{e.O(0,[837,844,939,824,332,534,166,751,476,502],()=>e(e.s=44636)),e.O()}]);